#include "proto.h"

BYTE *npc_array;

//----- (0044CCA0) --------------------------------------------------------
int sub_44CCA0()
{
  int result; // eax

  result = 0;
  memset(&byte_5D4594[830616], 0, 0x6Cu);
  memset(&byte_5D4594[830724], 0, 0x6Cu);
  memset(&byte_5D4594[830296], 0, 0x6Cu);
  return result;
}

//----- (0044CCD0) --------------------------------------------------------
size_t sub_44CCD0()
{
  int i; // esi
  size_t result; // eax

  for ( i = 0; i < 108; i += 4 )
  {
    result = *(_DWORD *)&byte_5D4594[i + 830616];
    if ( result )
    {
      result = (size_t)calloc(1u, 8 * result);
      *(_DWORD *)&byte_5D4594[i + 830296] = result;
    }
    else
    {
      *(_DWORD *)&byte_5D4594[i + 830296] = 0;
    }
    *(_DWORD *)&byte_5D4594[i + 830724] = 0;
  }
  return result;
}

//----- (0044CD10) --------------------------------------------------------
CHAR *__cdecl sub_44CD10(CHAR *a1)
{
  CHAR *result; // eax

  result = a1;
  if ( a1 )
  {
    result = (CHAR *)sub_44CD30(a1);
    if ( (int)result >= 0 )
      ++*(_DWORD *)&byte_5D4594[4 * (_DWORD)result + 830616];
  }
  return result;
}

//----- (0044CD30) --------------------------------------------------------
int __cdecl sub_44CD30(CHAR *a1)
{
  int result; // eax
  int v2; // eax

  if ( !a1 )
    return -1;
  v2 = toupper(*a1);
  if ( v2 < 65 || v2 > 90 )
    result = 26;
  else
    result = v2 - 65;
  return result;
}

//----- (0044CD60) --------------------------------------------------------
void __cdecl sub_44CD60(CHAR **a1, int a2)
{
  int v2; // eax
  int v3; // esi
  int v4; // ecx

  if ( a1 )
  {
    v2 = sub_44CD30(*a1);
    if ( v2 >= 0 )
    {
      v3 = *(_DWORD *)&byte_5D4594[4 * v2 + 830296];
      if ( v3 )
      {
        v4 = *(_DWORD *)&byte_5D4594[4 * v2 + 830724];
        *(_DWORD *)(v3 + 8 * v4) = a1;
        *(_DWORD *)(*(_DWORD *)&byte_5D4594[4 * v2 + 830296] + 8 * v4 + 4) = a2;
        ++*(_DWORD *)&byte_5D4594[4 * v2 + 830724];
      }
    }
  }
}

//----- (0044CDB0) --------------------------------------------------------
void sub_44CDB0()
{
  int i; // esi
  signed int v1; // eax

  for ( i = 0; i < 108; i += 4 )
  {
    v1 = *(_DWORD *)&byte_5D4594[i + 830616];
    if ( v1 > 1 )
      qsort(*(void **)&byte_5D4594[i + 830296], v1, 8u, sub_44CDE0);
  }
}

//----- (0044CDE0) --------------------------------------------------------
int __cdecl sub_44CDE0(const void *a1, const void *a2)
{
  return _strcmpi(**(const char ***)a1, **(const char ***)a2);
}

//----- (0044CE00) --------------------------------------------------------
int __cdecl sub_44CE00(int a1, char *a2, int a3)
{
  char *v3; // ebx
  unsigned __int8 *v4; // eax
  char *v5; // edi
  unsigned __int8 *v6; // ebp
  int v7; // eax
  char *v8; // eax
  unsigned __int8 v10; // [esp+18h] [ebp+8h]

  v3 = a2;
LABEL_2:
  while ( 1 )
  {
    v4 = *(unsigned __int8 **)(a1 + 8);
    v10 = *v4;
    *(_DWORD *)(a1 + 8) = v4 + 1;
    if ( !v10 )
      return 1;
    sub_40ACC0(v3, 1u, v10, a1);
    v3[v10] = 0;
    v5 = strtok(v3, (const char *)&byte_587000[122836]);
    v6 = &byte_587000[122104];
    if ( *(_DWORD *)&byte_587000[122108] )
    {
      while ( strcmp(v5, *(const char **)v6) )
      {
        v7 = *((_DWORD *)v6 + 3);
        v6 += 8;
        if ( !v7 )
          goto LABEL_2;
      }
      v8 = strtok(0, (const char *)&byte_587000[122844]);
      if ( v8 )
        memmove(v3, v8 + 1, strlen(v8 + 1) + 1);
      (*((void (__cdecl **)(int, int, char *))v6 + 1))(a3, a1, v3);
    }
  }
}

//----- (0044CEF0) --------------------------------------------------------
int __cdecl sub_44CEF0(int a1)
{
  int result; // eax

  if ( a1 < 1 || a1 >= *(int *)&byte_5D4594[830612] )
    result = 0;
  else
    result = **(_DWORD **)(*(_DWORD *)&byte_5D4594[830608] + 4 * a1);
  return result;
}

//----- (0044CF10) --------------------------------------------------------
int __cdecl sub_44CF10(int a1)
{
  int result; // eax

  if ( a1 < 1 || a1 >= *(int *)&byte_5D4594[830612] )
    result = 0;
  else
    result = *(_DWORD *)(*(_DWORD *)&byte_5D4594[830608] + 4 * a1);
  return result;
}

//----- (0044CF30) --------------------------------------------------------
int __cdecl sub_44CF30(int a1)
{
  int result; // eax

  if ( a1 < 1 || a1 >= *(int *)&byte_5D4594[830612] )
    result = 0;
  else
    result = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[830608] + 4 * a1) + 4);
  return result;
}

//----- (0044CF60) --------------------------------------------------------
int __cdecl sub_44CF60(int a1)
{
  int result; // eax

  if ( a1 < 1 || a1 >= *(int *)&byte_5D4594[830612] )
    result = 0;
  else
    result = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[830608] + 4 * a1) + 8);
  return result;
}

//----- (0044CF90) --------------------------------------------------------
int __cdecl sub_44CF90(int a1)
{
  int result; // eax

  if ( a1 < 1 || a1 >= *(int *)&byte_5D4594[830612] )
    result = 0;
  else
    result = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[830608] + 4 * a1) + 112);
  return result;
}

//----- (0044CFC0) --------------------------------------------------------
int __cdecl sub_44CFC0(CHAR *a1)
{
  return sub_44CFD0(a1);
}

//----- (0044CFD0) --------------------------------------------------------
int __cdecl sub_44CFD0(CHAR *a1)
{
  int v1; // eax
  signed int v2; // ecx
  const void *v3; // eax
  _DWORD *v4; // eax
  int result; // eax

  if ( a1
    && (v1 = sub_44CD30(a1), v1 >= 0)
    && (v2 = *(_DWORD *)&byte_5D4594[4 * v1 + 830616], v2 >= 0)
    && (v3 = *(const void **)&byte_5D4594[4 * v1 + 830296]) != 0
    && (v4 = bsearch(a1, v3, v2, 8u, sub_44D020)) != 0 )
  {
    result = v4[1];
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0044D020) --------------------------------------------------------
int __cdecl sub_44D020(const void *a1, const void *a2)
{
  return _strcmpi((const char *)a1, **(const char ***)a2);
}

//----- (0044D040) --------------------------------------------------------
int __cdecl sub_44D040(int a1)
{
  int result; // eax

  result = sub_44CF10(a1);
  if ( result )
    result = (*(_DWORD *)(result + 32) >> 22) & 1;
  return result;
}

//----- (0044D060) --------------------------------------------------------
BOOL __cdecl sub_44D060(int a1)
{
  int v1; // eax

  v1 = sub_44CF10(a1);
  return v1 && *(_DWORD *)(v1 + 32) & 0x400000 && *(_BYTE *)(v1 + 36) & 0x18;
}

//----- (0044D090) --------------------------------------------------------
int __cdecl sub_44D090(int a1)
{
  int result; // eax

  result = sub_44CF10(a1);
  if ( result )
    result = (*(_DWORD *)(result + 32) & 0x20400000) != 0;
  return result;
}

//----- (0044D0C0) --------------------------------------------------------
int __cdecl sub_44D0C0(float a1, int a2)
{
  float v2; // esi
  _DWORD *v3; // ebx
  _DWORD *v4; // ebp
  int v5; // edi
  int v6; // ecx
  int v7; // edx
  float v9; // [esp+4h] [ebp+4h]

  if ( a2 < 1 || a2 >= *(int *)&byte_5D4594[830612] )
    return 0;
  v2 = a1;
  memset((void *)LODWORD(a1), 0, 0x200u);
  *(_DWORD *)(LODWORD(a1) + 108) = a2;
  v3 = (_DWORD *)(LODWORD(a1) + 136);
  v4 = (_DWORD *)(LODWORD(a1) + 152);
  v5 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[830608] + 4 * a2) + 12;
  *(_BYTE *)LODWORD(a1) = *(_BYTE *)v5;
  *(_BYTE *)(LODWORD(a1) + 1) = *(_BYTE *)(v5 + 1);
  *(_WORD *)(LODWORD(a1) + 106) = *(_WORD *)(v5 + 10);
  *(_DWORD *)(LODWORD(a1) + 112) = *(_DWORD *)(v5 + 20);
  *(_DWORD *)(LODWORD(a1) + 116) = *(_DWORD *)(v5 + 24);
  *(_DWORD *)(LODWORD(a1) + 120) = *(_DWORD *)(v5 + 28);
  *(_DWORD *)(LODWORD(a1) + 280) = *(_DWORD *)(v5 + 72);
  *(_BYTE *)(LODWORD(a1) + 298) = *(_BYTE *)(v5 + 2);
  *(_DWORD *)(LODWORD(a1) + 300) = *(_DWORD *)(v5 + 76);
  *(_DWORD *)(LODWORD(a1) + 304) = *(_DWORD *)(v5 + 80);
  *(_DWORD *)(LODWORD(a1) + 308) = *(_DWORD *)(v5 + 84);
  *(_DWORD *)(LODWORD(a1) + 464) = *(_DWORD *)(v5 + 88);
  *(_DWORD *)(LODWORD(a1) + 492) = *(_DWORD *)(v5 + 92);
  *(_DWORD *)(LODWORD(a1) + 136) = *(unsigned __int8 *)(v5 + 3);
  *(_DWORD *)(LODWORD(a1) + 168) = *(_DWORD *)(v5 + 4);
  *(_DWORD *)(LODWORD(a1) + 152) = *(_DWORD *)(v5 + 36);
  *(_DWORD *)(LODWORD(a1) + 156) = *(_DWORD *)(v5 + 40);
  *(_DWORD *)(LODWORD(a1) + 160) = *(_DWORD *)(v5 + 44);
  *(_WORD *)(LODWORD(a1) + 164) = *(_WORD *)(v5 + 12);
  *(_WORD *)(LODWORD(a1) + 166) = *(_WORD *)(v5 + 14);
  *(_DWORD *)(LODWORD(a1) + 44) = *(unsigned __int8 *)(v5 + 8);
  *(_DWORD *)(LODWORD(a1) + 48) = *(_DWORD *)(v5 + 52);
  *(float *)(LODWORD(a1) + 52) = *(float *)(v5 + 52) * *(float *)(v5 + 52);
  *(_DWORD *)(LODWORD(a1) + 56) = *(_DWORD *)(v5 + 64);
  *(_DWORD *)(LODWORD(a1) + 60) = *(_DWORD *)(v5 + 68);
  *(_DWORD *)(LODWORD(a1) + 96) = *(_DWORD *)(v5 + 56);
  v6 = *(_DWORD *)(LODWORD(a1) + 44);
  *(_DWORD *)(LODWORD(a1) + 100) = *(_DWORD *)(v5 + 60);
  if ( v6 == 3 )
    sub_428270((shape *)(LODWORD(a1) + 44));
  v9 = *(float *)(v5 + 32);
  if ( v9 >= *(double *)&byte_581450[9568] )
  {
    *(_DWORD *)(LODWORD(v2) + 172) = 0;
  }
  else
  {
    v9 = -v9;
    *(_DWORD *)(LODWORD(v2) + 172) = 1;
  }
  *(float *)(LODWORD(v2) + 140) = v9;
  if ( v9 != 0.0 )
  {
    sub_484D70(LODWORD(v2) + 136, v9);
    if ( !*v3 )
    {
      *v3 = 1;
      *v4 = 255;
      *(_DWORD *)(LODWORD(v2) + 156) = 255;
      *(_DWORD *)(LODWORD(v2) + 160) = 255;
    }
  }
  if ( *(_DWORD *)(LODWORD(v2) + 112) & 0x13001000 )
  {
    *(_DWORD *)(LODWORD(v2) + 432) = 0;
    *(_DWORD *)(LODWORD(v2) + 436) = 0;
    *(_DWORD *)(LODWORD(v2) + 440) = 0;
    *(_DWORD *)(LODWORD(v2) + 444) = 0;
    *(_WORD *)(LODWORD(v2) + 448) = -1;
    *(_WORD *)(LODWORD(v2) + 450) = -1;
  }
  v7 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[830608] + 4 * a2);
  if ( *(_DWORD *)(v7 + 120) )
    sub_49B950((_DWORD *)LODWORD(v2), *(_DWORD *)(v7 + 120));
  return 1;
}

//----- (0044D2C0) --------------------------------------------------------
void sub_44D2C0()
{
  int i; // esi
  double v1; // st7
  float v2; // eax
  shape v3; // [esp+4h] [ebp-3Ch]

  for ( i = *(_DWORD *)&byte_5D4594[830604]; i; i = *(_DWORD *)(i + 108) )
  {
    if ( *(_BYTE *)(i + 20) == 3 )
    {
      v1 = *(float *)(i + 64);
      v2 = *(float *)(i + 64);
      v3.field_0 = 3;
      v3.field_4 = v2;
      v3.field_8 = v1 * v1;
      sub_428270(&v3);
    }
  }
}

//----- (0044D310) --------------------------------------------------------
LPVOID sub_44D310()
{
  return *(LPVOID *)&byte_5D4594[830604];
}

//----- (0044D320) --------------------------------------------------------
int __cdecl sub_44D320(int a1)
{
  int result; // eax

  if ( a1 )
    result = *(_DWORD *)(a1 + 108);
  else
    result = 0;
  return result;
}

//----- (0044D330) --------------------------------------------------------
int __cdecl sub_44D330(CHAR *a1)
{
  return sub_44D340(a1);
}

//----- (0044D340) --------------------------------------------------------
int __cdecl sub_44D340(CHAR *a1)
{
  int v1; // eax
  signed int v2; // ecx
  int *v3; // eax
  int result; // eax

  if ( a1
    && (v1 = sub_44CD30(a1), v1 >= 0)
    && (v2 = *(_DWORD *)&byte_5D4594[4 * v1 + 830616], v2 >= 0)
    && (v3 = (int *)bsearch(a1, *(const void **)&byte_5D4594[4 * v1 + 830296], v2, 8u, sub_44D020)) != 0 )
  {
    result = *v3;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (0044D390) --------------------------------------------------------
int sub_44D390()
{
  return *(_DWORD *)&byte_5D4594[830612];
}

//----- (0044D3A0) --------------------------------------------------------
void sub_44D3A0()
{
  if ( *(_DWORD *)&byte_5D4594[831076] )
  {
    switch ( *(_DWORD *)&byte_5D4594[830864] )
    {
      case 0:
        if ( *(_DWORD *)&byte_5D4594[830872] && *(_DWORD *)&byte_587000[122848] )
        {
          if ( !sub_44D660(*(const char **)&byte_5D4594[830872]) )
            goto LABEL_29;
          if ( !*(_DWORD *)&byte_587000[122856] || !*(_DWORD *)&byte_587000[93160] || *(_DWORD *)&byte_5D4594[831084] )
            goto LABEL_16;
          *(_DWORD *)&byte_5D4594[831084] = 1;
          sub_43DBD0();
          *(_DWORD *)&byte_5D4594[830864] = 1;
        }
        else if ( *(_DWORD *)&byte_5D4594[831084] )
        {
          sub_43DBE0();
          *(_DWORD *)&byte_5D4594[831084] = 0;
        }
        break;
      case 1:
        if ( !sub_43DC40() )
LABEL_16:
          *(_DWORD *)&byte_5D4594[830864] = 2;
        break;
      case 2:
        sub_486320(&byte_5D4594[830876], 0x4000);
        if ( !sub_44D7E0(*(int *)&byte_5D4594[830868]) )
        {
          *(_DWORD *)&byte_5D4594[830864] = 0;
          goto LABEL_29;
        }
        *(_DWORD *)&byte_5D4594[830864] = 3;
        *(_DWORD *)&byte_5D4594[830972] = *(_DWORD *)&byte_5D4594[830872];
        *(_DWORD *)&byte_5D4594[830860] = *(_DWORD *)&byte_5D4594[830868];
        break;
      case 3:
        if ( !*(_DWORD *)&byte_587000[122848]
          || !*(_DWORD *)&byte_5D4594[830972]
          || *(_DWORD *)&byte_5D4594[830872] != *(_DWORD *)&byte_5D4594[830972]
          || !*(_DWORD *)&byte_5D4594[831088]
          || AIL_stream_status(*(_DWORD *)&byte_5D4594[831088]) == 2 )
        {
          *(_DWORD *)&byte_5D4594[830864] = 4;
          sub_486350((int)&byte_5D4594[830876], 0);
        }
        break;
      case 4:
        if ( !*(_DWORD *)&byte_5D4594[831088]
          || AIL_stream_status(*(_DWORD *)&byte_5D4594[831088]) == 2
          || !(*(_DWORD *)&byte_5D4594[830880] & 0xFFFF0000) )
        {
          sub_44D640();
          *(_DWORD *)&byte_5D4594[830864] = 0;
          if ( *(_DWORD *)&byte_5D4594[831084] )
          {
            sub_43DBE0();
            *(_DWORD *)&byte_5D4594[831084] = 0;
          }
          if ( *(_DWORD *)&byte_5D4594[830972] == *(_DWORD *)&byte_5D4594[830872] )
LABEL_29:
            *(_DWORD *)&byte_5D4594[830872] = 0;
        }
        break;
      default:
        break;
    }
    sub_486520((unsigned int *)&byte_5D4594[830980]);
    sub_486520((unsigned int *)&byte_5D4594[830876]);
    if ( *(_DWORD *)&byte_5D4594[831088]
      && (**(_BYTE **)&byte_587000[81128] & 2 || byte_5D4594[830876] & 2 || byte_5D4594[830980] & 2) )
    {
      sub_44D5C0(*(int *)&byte_5D4594[831088], *(int *)&byte_5D4594[830860]);
    }
  }
}
// 58141C: using guessed type int __stdcall AIL_stream_status(_DWORD);

//----- (0044D5C0) --------------------------------------------------------
void __cdecl sub_44D5C0(int a1, int a2)
{
  unsigned int v2; // eax

  if ( a1 )
  {
    v2 = (*(_DWORD *)(*(_DWORD *)&byte_587000[81128] + 4) >> 16)
       * ((*(unsigned __int16 *)&byte_5D4594[830882]
         * ((a2 * (unsigned int)*(unsigned __int16 *)&byte_5D4594[830986]) >> 14)) >> 14);
    *(_DWORD *)&byte_5D4594[830876] &= 0xFFFFFFFD;
    **(_DWORD **)&byte_587000[122852] &= 0xFFFFFFFD;
    AIL_set_stream_volume(a1, (int)(127 * (v2 >> 14)) / 100);
  }
}
// 581430: using guessed type int __stdcall AIL_set_stream_volume(_DWORD, _DWORD);

//----- (0044D640) --------------------------------------------------------
int sub_44D640()
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[831088];
  if ( *(_DWORD *)&byte_5D4594[831088] )
  {
    AIL_close_stream(*(_DWORD *)&byte_5D4594[831088]);
    *(_DWORD *)&byte_5D4594[831088] = 0;
  }
  return result;
}
// 581418: using guessed type int __stdcall AIL_close_stream(_DWORD);

//----- (0044D660) --------------------------------------------------------
BOOL __cdecl sub_44D660(const char *a1)
{
  unsigned __int8 v1; // dl
  char *v2; // edi
  int v3; // eax
  char *v4; // eax
  unsigned int v5; // kr08_4
  char v7[540]; // [esp+Ch] [ebp-21Ch]

  sub_44D640();
  strcpy(v7, "dialog\\");
  *(_DWORD *)&byte_587000[122856] = 0;
  strcat(v7, a1);
  if ( !strchr(v7, 46) )
  {
    v1 = byte_587000[122872];
    v2 = &v7[strlen(v7)];
    *(_DWORD *)v2 = *(_DWORD *)&byte_587000[122868];
    v2[4] = v1;
  }
  v3 = AIL_open_stream(*(_DWORD *)&byte_5D4594[831092], v7, 51200);
  *(_DWORD *)&byte_5D4594[831088] = v3;
  if ( v3 )
    return v3 != 0;
  v4 = sub_413890();
  if ( !v4 )
  {
    v3 = *(_DWORD *)&byte_5D4594[831088];
    return v3 != 0;
  }
  *(_DWORD *)&byte_587000[122856] = 1;
  strncpy(&v7[40], v4, 0x1F4u);
  v7[539] = 0;
  v5 = strlen(&v7[40]) + 1;
  if ( v5 != 1 && v7[v5 + 38] != 92 )
    *(_WORD *)&v7[strlen(&v7[40]) + 40] = *(_WORD *)&byte_587000[122876];
  strcat(&v7[40], v7);
  *(_DWORD *)&byte_5D4594[831088] = AIL_open_stream(*(_DWORD *)&byte_5D4594[831092], &v7[40], 51200);
  return *(_DWORD *)&byte_5D4594[831088] != 0;
}
// 581408: using guessed type int __stdcall AIL_open_stream(_DWORD, _DWORD, _DWORD);

//----- (0044D7E0) --------------------------------------------------------
int __cdecl sub_44D7E0(int a1)
{
  if ( !*(_DWORD *)&byte_5D4594[831088] )
    return 0;
  sub_44D5C0(*(int *)&byte_5D4594[831088], a1);
  AIL_start_stream(*(_DWORD *)&byte_5D4594[831088]);
  return 1;
}
// 581410: using guessed type int __stdcall AIL_start_stream(_DWORD);

//----- (0044D810) --------------------------------------------------------
int sub_44D810()
{
  int v1; // [esp+4h] [ebp-4h]

  if ( !*(_DWORD *)&byte_5D4594[831076] )
  {
    *(_DWORD *)&byte_5D4594[831092] = sub_43F130();
    *(_DWORD *)&byte_587000[122848] = *(_DWORD *)&byte_5D4594[831092] != 0;
    sub_4864A0(&byte_5D4594[830876]);
    sub_486380(&byte_5D4594[830876], 0x1F4u, 0, 0x4000);
    *(_DWORD *)&byte_5D4594[830864] = 0;
    *(_DWORD *)&byte_5D4594[830972] = 0;
    *(_DWORD *)&byte_5D4594[830872] = 0;
    *(_DWORD *)&byte_5D4594[831080] = 0;
    *(_DWORD *)&byte_5D4594[831084] = 0;
    *(_DWORD *)&byte_5D4594[831076] = 1;
    sub_40F1D0((char *)&byte_587000[122920], &v1, (const char *)&byte_587000[122880], 279);
    if ( v1 )
      sub_44D900(v1, 0);
  }
  return 1;
}

//----- (0044D8C0) --------------------------------------------------------
void sub_44D8C0()
{
  if ( *(_DWORD *)&byte_5D4594[831076] )
  {
    sub_44D8F0();
    sub_44D640();
    sub_44D3A0();
    *(_DWORD *)&byte_5D4594[831076] = 0;
  }
}

//----- (0044D8F0) --------------------------------------------------------
int sub_44D8F0()
{
  int result; // eax

  result = 0;
  *(_DWORD *)&byte_5D4594[830872] = 0;
  *(_DWORD *)&byte_5D4594[830972] = 0;
  return result;
}

//----- (0044D900) --------------------------------------------------------
int __cdecl sub_44D900(int a1, int a2)
{
  int v2; // eax

  if ( *(_DWORD *)&byte_587000[122848] && a1 )
  {
    v2 = a2;
    if ( a2 > 100 )
      v2 = 100;
    *(_DWORD *)&byte_5D4594[830872] = a1;
    *(_DWORD *)&byte_5D4594[830868] = v2;
  }
  return 1;
}

//----- (0044D930) --------------------------------------------------------
int sub_44D930()
{
  if ( !*(_DWORD *)&byte_587000[122848] )
    return 0;
  if ( *(_DWORD *)&byte_5D4594[830872] || *(_DWORD *)&byte_5D4594[831088] )
    return 1;
  return 0;
}

//----- (0044D960) --------------------------------------------------------
void sub_44D960()
{
  *(_DWORD *)&byte_587000[122848] = 0;
}

//----- (0044D970) --------------------------------------------------------
int sub_44D970()
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[831092];
  if ( *(_DWORD *)&byte_5D4594[831092] )
    *(_DWORD *)&byte_587000[122848] = 1;
  return result;
}

//----- (0044D990) --------------------------------------------------------
int sub_44D990()
{
  return *(_DWORD *)&byte_587000[122848];
}

//----- (0044D9A0) --------------------------------------------------------
int sub_44D9A0()
{
  unsigned __int8 *v0; // eax
  int v1; // ecx

  if ( !*(_DWORD *)&byte_5D4594[823772] )
  {
    v0 = &byte_5D4594[831108];
    v1 = 4;
    do
    {
      *(_DWORD *)v0 = 0;
      v0 += 28;
      --v1;
    }
    while ( v1 );
  }
  return 1;
}

//----- (0044D9D0) --------------------------------------------------------
char *sub_44D9D0()
{
  char *result; // eax
  int v1; // ecx

  result = (char *)&byte_5D4594[831108];
  v1 = 4;
  do
  {
    *(_DWORD *)result = 0;
    result += 28;
    --v1;
  }
  while ( v1 );
  return result;
}

//----- (0044D9F0) --------------------------------------------------------
int (*__cdecl sub_44D9F0(int a1))(void)
{
  int v1; // ebx
  unsigned __int8 *v2; // edi
  int v3; // ebp
  unsigned __int8 *v4; // esi
  int (*result)(void); // eax

  v1 = 1;
  if ( a1 )
    v1 = 5;
  *(_DWORD *)&byte_5D4594[831100] = clock();
  v2 = &byte_5D4594[831112];
  v3 = 4;
  do
  {
    v4 = v2 - 4;
    result = (int (*)(void))(*((_DWORD *)v2 - 1) & 5);
    if ( result == (int (*)(void))v1 )
    {
      (*((void (__cdecl **)(unsigned __int8 *))v2 + 5))(v2 - 4);
      result = *(int (**)(void))v2;
      if ( *(int *)v2 <= 0 )
      {
        if ( !(*v4 & 2) )
        {
          result = (int (*)(void))*((_DWORD *)v2 + 4);
          *(_DWORD *)v4 &= ~v1;
          if ( result )
            result = (int (*)(void))result();
        }
      }
      else
      {
        result = (int (*)(void))((char *)result - 1);
        *(_DWORD *)v2 = result;
      }
    }
    v2 += 28;
    --v3;
  }
  while ( v3 );
  return result;
}

//----- (0044DA60) --------------------------------------------------------
int __cdecl sub_44DA60(int a1)
{
  int v1; // esi
  char *v2; // eax

  v1 = 3;
  if ( !sub_44DFD0(sub_44DD70) )
  {
    v2 = sub_44DF50();
    if ( !v2 )
      return 0;
    if ( a1 )
      v1 = 7;
    *(_DWORD *)v2 = v1;
    *((_DWORD *)v2 + 1) = 0;
    *((_DWORD *)v2 + 2) = 0;
    *((_DWORD *)v2 + 3) = 0;
    *((_DWORD *)v2 + 5) = 0;
    *((_DWORD *)v2 + 6) = sub_44DDC0;
  }
  return 1;
}

//----- (0044DAB0) --------------------------------------------------------
int __cdecl sub_44DAB0(int a1, int a2, void (*a3)(void))
{
  int v3; // esi
  int result; // eax

  v3 = 1;
  if ( *(_DWORD *)&byte_5D4594[2650672] == 1 )
  {
    if ( a3 )
    {
      a3();
      return 1;
    }
  }
  else
  {
    sub_44DF90(sub_44DD20);
    result = sub_44DF50();
    if ( !result )
      return result;
    if ( a2 )
      v3 = 5;
    *(_DWORD *)result = v3;
    *(_DWORD *)(result + 8) = 0;
    *(_DWORD *)(result + 4) = a1;
    *(_DWORD *)(result + 24) = sub_44DD20;
    *(_DWORD *)(result + 12) = 16711680 / a1;
    *(_DWORD *)(result + 20) = a3;
  }
  return 1;
}

//----- (0044DB30) --------------------------------------------------------
int __cdecl sub_44DB30(int a1, int a2, int a3)
{
  int v3; // esi
  int result; // eax

  v3 = 1;
  sub_44DF90(sub_44DD70);
  result = sub_44DF50();
  if ( result )
  {
    if ( a2 )
      v3 = 5;
    *(_DWORD *)result = v3;
    *(_DWORD *)(result + 4) = a1;
    *(_DWORD *)(result + 8) = 0;
    *(_DWORD *)(result + 24) = sub_44DD70;
    *(_DWORD *)(result + 12) = 16711680 / a1;
    *(_DWORD *)(result + 20) = a3;
    sub_44DF90(sub_44DDC0);
    result = 1;
  }
  return result;
}

//----- (0044DBA0) --------------------------------------------------------
int __cdecl sub_44DBA0(int a1, int a2, int a3)
{
  int v3; // esi
  int result; // eax

  v3 = 1;
  result = sub_44DF50();
  if ( result )
  {
    if ( a2 )
      v3 = 5;
    *(_DWORD *)result = v3;
    *(_DWORD *)(result + 8) = 0;
    *(_DWORD *)(result + 4) = a1;
    *(_DWORD *)(result + 24) = sub_44DDF0;
    *(_DWORD *)(result + 12) = 16711680 / a1;
    *(_DWORD *)(result + 20) = a3;
    result = 1;
  }
  return result;
}

//----- (0044DBF0) --------------------------------------------------------
int __cdecl sub_44DBF0(int a1, int a2, int a3)
{
  int v3; // esi
  int result; // eax

  v3 = 1;
  result = sub_44DF50();
  if ( result )
  {
    if ( a2 )
      v3 = 5;
    *(_DWORD *)result = v3;
    *(_DWORD *)(result + 8) = 0;
    *(_DWORD *)(result + 4) = a1;
    *(_DWORD *)(result + 24) = sub_44DE30;
    *(_DWORD *)(result + 12) = 16711680 / a1;
    *(_DWORD *)(result + 20) = a3;
    result = 1;
  }
  return result;
}

//----- (0044DC40) --------------------------------------------------------
int __cdecl sub_44DC40(int a1, int a2)
{
  int result; // eax
  _DWORD *v3; // ecx
  int v4; // eax

  result = sub_44DF50();
  v3 = (_DWORD *)result;
  if ( result )
  {
    v4 = a1 * *(_DWORD *)&byte_5D4594[3801788] / 100;
    v3[1] = a2;
    *v3 = 3;
    v3[2] = 0;
    v3[5] = 0;
    v3[6] = sub_44DE80;
    v3[3] = (v4 << 16) / a2;
    result = 1;
  }
  return result;
}

//----- (0044DCA0) --------------------------------------------------------
int __cdecl sub_44DCA0(int a1, int a2)
{
  int result; // eax
  _DWORD *v3; // ecx
  int v4; // eax

  result = sub_44DF50();
  v3 = (_DWORD *)result;
  if ( result )
  {
    v4 = a1 * *(_DWORD *)&byte_5D4594[3801788] / 100;
    v3[1] = a2;
    v4 <<= 16;
    v3[2] = v4;
    *v3 = 1;
    v3[4] = 0;
    v3[5] = 0;
    v3[6] = sub_44DEE0;
    v3[3] = v4 / a2;
    result = 1;
  }
  return result;
}

//----- (0044DD00) --------------------------------------------------------
BOOL sub_44DD00()
{
  return sub_44DFD0(sub_44DE80) != 0;
}

//----- (0044DD20) --------------------------------------------------------
int __cdecl sub_44DD20(int a1)
{
  int result; // eax

  sub_433F10(*(int *)(a1 + 8) >> 16, *(int *)(a1 + 8) >> 16, *(int *)(a1 + 8) >> 16);
  sub_49D0F0(0, 0, *(int *)&byte_5D4594[3801784], *(int *)&byte_5D4594[3801788]);
  result = *(_DWORD *)(a1 + 12);
  *(_DWORD *)(a1 + 8) += result;
  return result;
}

//----- (0044DD70) --------------------------------------------------------
int __cdecl sub_44DD70(int a1)
{
  int v1; // esi
  int result; // eax
  unsigned __int8 v3; // [esp+8h] [ebp+4h]

  v1 = a1;
  v3 = -1 - (*(int *)(a1 + 8) >> 16);
  sub_433F10(v3, v3, v3);
  sub_49D0F0(0, 0, *(int *)&byte_5D4594[3801784], *(int *)&byte_5D4594[3801788]);
  result = *(_DWORD *)(v1 + 12) + *(_DWORD *)(v1 + 8);
  *(_DWORD *)(v1 + 8) = result;
  return result;
}

//----- (0044DDC0) --------------------------------------------------------
void sub_44DDC0()
{
  sub_434460(*(int *)&byte_5D4594[2650656]);
  sub_49CE30(0, 0, *(int *)&byte_5D4594[3801784], *(int *)&byte_5D4594[3801788]);
}

//----- (0044DDF0) --------------------------------------------------------
int4 *__cdecl sub_44DDF0(int a1)
{
  int v1; // edx

  v1 = *(_DWORD *)(a1 + 12) + *(_DWORD *)(a1 + 8);
  *(_DWORD *)(a1 + 8) = v1;
  sub_433F10(BYTE2(v1), BYTE2(v1), BYTE2(v1));
  return sub_49D050(0, 0, *(int *)&byte_5D4594[3801784], *(int *)&byte_5D4594[3801788]);
}

//----- (0044DE30) --------------------------------------------------------
int4 *__cdecl sub_44DE30(int a1)
{
  int v1; // edx

  v1 = *(_DWORD *)(a1 + 12) + *(_DWORD *)(a1 + 8);
  *(_DWORD *)(a1 + 8) = v1;
  sub_433F10(-1 - BYTE2(v1), -1 - BYTE2(v1), -1 - BYTE2(v1));
  return sub_49D050(0, 0, *(int *)&byte_5D4594[3801784], *(int *)&byte_5D4594[3801788]);
}

//----- (0044DE80) --------------------------------------------------------
void __cdecl sub_44DE80(_DWORD *a1)
{
  int v1; // esi

  if ( a1[1] )
    a1[2] += a1[3];
  v1 = a1[2] >> 16;
  sub_434430(0, 0, 0);
  sub_49CE30(0, 0, *(int *)&byte_5D4594[3801784], v1);
  sub_49CE30(0, *(_DWORD *)&byte_5D4594[3801788] - v1, *(int *)&byte_5D4594[3801784], v1);
}

//----- (0044DEE0) --------------------------------------------------------
void __cdecl sub_44DEE0(_DWORD *a1)
{
  int v1; // ecx
  int v2; // esi

  if ( !a1[4] )
  {
    sub_44DF90(sub_44DE80);
    a1[4] = 1;
  }
  v1 = a1[2] - a1[3];
  a1[2] = v1;
  v2 = v1 >> 16;
  sub_434430(0, 0, 0);
  sub_49CE30(0, 0, *(int *)&byte_5D4594[3801784], v2);
  sub_49CE30(0, *(_DWORD *)&byte_5D4594[3801788] - v2, *(int *)&byte_5D4594[3801784], v2);
}

//----- (0044DF50) --------------------------------------------------------
char *sub_44DF50()
{
  char *result; // eax
  int v1; // ecx

  result = (char *)&byte_5D4594[831108];
  v1 = 0;
  while ( *result & 1 )
  {
    result += 28;
    if ( ++v1 >= 4 )
      return 0;
  }
  return result;
}

//----- (0044DF70) --------------------------------------------------------
char *sub_44DF70()
{
  char *result; // eax
  int v1; // ecx
  int v2; // edx

  result = (char *)&byte_5D4594[831108];
  v1 = 4;
  do
  {
    v2 = *(_DWORD *)result;
    result += 28;
    --v1;
    *((_DWORD *)result - 7) = v2 & 0xFFFFFFFE;
  }
  while ( v1 );
  return result;
}

//----- (0044DF90) --------------------------------------------------------
int __cdecl sub_44DF90(int a1)
{
  int result; // eax
  unsigned __int8 *v2; // esi
  int v3; // edi
  void (*v4)(void); // eax

  result = 0;
  v2 = &byte_5D4594[831108];
  v3 = 4;
  do
  {
    if ( *v2 & 1 && *((_DWORD *)v2 + 6) == a1 )
    {
      v4 = (void (*)(void))*((_DWORD *)v2 + 5);
      *(_DWORD *)v2 &= 0xFFFFFFFE;
      if ( v4 )
        v4();
      result = 1;
    }
    v2 += 28;
    --v3;
  }
  while ( v3 );
  return result;
}

//----- (0044DFD0) --------------------------------------------------------
char *__cdecl sub_44DFD0(int a1)
{
  char *result; // eax
  int v2; // ecx

  result = (char *)&byte_5D4594[831108];
  v2 = 0;
  while ( !(*result & 1) || *((_DWORD *)result + 6) != a1 )
  {
    result += 28;
    if ( ++v2 >= 4 )
      return 0;
  }
  return result;
}

//----- (0044E000) --------------------------------------------------------
char *sub_44E000()
{
  char *result; // eax

  result = sub_44DFD0(sub_44DD70);
  if ( !result )
    *(_DWORD *)&byte_5D4594[2650672] = 1;
  return result;
}

//----- (0044E020) --------------------------------------------------------
char *sub_44E020()
{
  char *result; // eax

  result = sub_44DFD0(sub_44DD20);
  if ( !result )
    result = (char *)sub_413A00(0);
  return result;
}

//----- (0044E040) --------------------------------------------------------
int sub_44E040()
{
  sub_44E070();
  sub_44E090();
  sub_44DF90(sub_44DDC0);
  *(_DWORD *)&byte_5D4594[2650672] = 0;
  return sub_413A00(0);
}

//----- (0044E070) --------------------------------------------------------
int sub_44E070()
{
  sub_44DF90(sub_44DD70);
  return sub_44DF90(sub_44DE30);
}

//----- (0044E090) --------------------------------------------------------
int sub_44E090()
{
  sub_44DF90(sub_44DD20);
  return sub_44DF90(sub_44DDF0);
}

//----- (0044E0B0) --------------------------------------------------------
int __cdecl sub_44E0B0(int a1)
{
  sub_44E070();
  sub_44E090();
  *(_DWORD *)&byte_5D4594[2650672] = 1;
  return sub_44DA60(a1);
}

//----- (0044E0D0) --------------------------------------------------------
BOOL sub_44E0D0()
{
  if ( sub_44DFD0(sub_44DD70) )
    return 1;
  if ( sub_44DFD0(sub_44DD20) )
    return 1;
  return *(_DWORD *)&byte_5D4594[2650672] != 0;
}

//----- (0044E110) --------------------------------------------------------
_DWORD *sub_44E110()
{
  _DWORD *v0; // eax
  int v1; // eax
  _DWORD *v2; // eax
  int v3; // eax
  _DWORD *v4; // eax
  int v5; // eax
  _DWORD *v6; // eax
  int v7; // eax
  _DWORD *v8; // eax
  int v9; // eax
  _DWORD *v10; // eax
  int v11; // eax
  _DWORD *v12; // eax
  int v13; // eax
  _DWORD *v14; // eax
  int v15; // eax
  _DWORD *v16; // eax
  int v17; // eax
  _DWORD *v18; // eax
  int v19; // eax
  _DWORD *v20; // eax
  int v21; // eax
  _DWORD *result; // eax
  int v23; // eax

  if ( !*(_DWORD *)&byte_5D4594[832484] )
    *(_DWORD *)&byte_5D4594[832484] = sub_43F360((char *)&byte_587000[123044]);
  v0 = *(_DWORD **)&byte_5D4594[832496];
  if ( !*(_DWORD *)&byte_5D4594[832496] )
  {
    v1 = sub_44CFC0((CHAR *)&byte_587000[123052]);
    v0 = sub_45A240(v1);
    *(_DWORD *)&byte_5D4594[832496] = v0;
  }
  v0[30] |= 0x1000000u;
  v2 = *(_DWORD **)&byte_5D4594[832492];
  if ( !*(_DWORD *)&byte_5D4594[832492] )
  {
    v3 = sub_44CFC0((CHAR *)&byte_587000[123068]);
    v2 = sub_45A240(v3);
    *(_DWORD *)&byte_5D4594[832492] = v2;
  }
  v2[30] |= 0x1000000u;
  v4 = *(_DWORD **)&byte_5D4594[832500];
  if ( !*(_DWORD *)&byte_5D4594[832500] )
  {
    v5 = sub_44CFC0((CHAR *)&byte_587000[123088]);
    v4 = sub_45A240(v5);
    *(_DWORD *)&byte_5D4594[832500] = v4;
  }
  v4[30] |= 0x1000000u;
  v6 = *(_DWORD **)&byte_5D4594[832504];
  if ( !*(_DWORD *)&byte_5D4594[832504] )
  {
    v7 = sub_44CFC0((CHAR *)&byte_587000[123096]);
    v6 = sub_45A240(v7);
    *(_DWORD *)&byte_5D4594[832504] = v6;
  }
  v6[30] |= 0x1000000u;
  v8 = *(_DWORD **)&byte_5D4594[832508];
  if ( !*(_DWORD *)&byte_5D4594[832508] )
  {
    v9 = sub_44CFC0((CHAR *)&byte_587000[123108]);
    v8 = sub_45A240(v9);
    *(_DWORD *)&byte_5D4594[832508] = v8;
  }
  v8[30] |= 0x1000000u;
  v10 = *(_DWORD **)&byte_5D4594[832512];
  if ( !*(_DWORD *)&byte_5D4594[832512] )
  {
    v11 = sub_44CFC0((CHAR *)&byte_587000[123120]);
    v10 = sub_45A240(v11);
    *(_DWORD *)&byte_5D4594[832512] = v10;
  }
  v10[30] |= 0x1000000u;
  v12 = *(_DWORD **)&byte_5D4594[832516];
  if ( !*(_DWORD *)&byte_5D4594[832516] )
  {
    v13 = sub_44CFC0((CHAR *)&byte_587000[123128]);
    v12 = sub_45A240(v13);
    *(_DWORD *)&byte_5D4594[832516] = v12;
  }
  v12[30] |= 0x1000000u;
  v14 = *(_DWORD **)&byte_5D4594[832520];
  if ( !*(_DWORD *)&byte_5D4594[832520] )
  {
    v15 = sub_44CFC0((CHAR *)&byte_587000[123144]);
    v14 = sub_45A240(v15);
    *(_DWORD *)&byte_5D4594[832520] = v14;
  }
  v14[30] |= 0x1000000u;
  v16 = *(_DWORD **)&byte_5D4594[832524];
  if ( !*(_DWORD *)&byte_5D4594[832524] )
  {
    v17 = sub_44CFC0((CHAR *)&byte_587000[123160]);
    v16 = sub_45A240(v17);
    *(_DWORD *)&byte_5D4594[832524] = v16;
  }
  v16[30] |= 0x1000000u;
  v18 = *(_DWORD **)&byte_5D4594[832528];
  if ( !*(_DWORD *)&byte_5D4594[832528] )
  {
    v19 = sub_44CFC0((CHAR *)&byte_587000[123176]);
    v18 = sub_45A240(v19);
    *(_DWORD *)&byte_5D4594[832528] = v18;
  }
  v18[30] |= 0x1000000u;
  v20 = *(_DWORD **)&byte_5D4594[832532];
  if ( !*(_DWORD *)&byte_5D4594[832532] )
  {
    v21 = sub_44CFC0((CHAR *)&byte_587000[123188]);
    v20 = sub_45A240(v21);
    *(_DWORD *)&byte_5D4594[832532] = v20;
  }
  v20[30] |= 0x1000000u;
  result = *(_DWORD **)&byte_5D4594[832536];
  if ( !*(_DWORD *)&byte_5D4594[832536] )
  {
    v23 = sub_44CFC0((CHAR *)&byte_587000[123200]);
    result = sub_45A240(v23);
    *(_DWORD *)&byte_5D4594[832536] = result;
  }
  result[30] |= 0x1000000u;
  return result;
}

//----- (0044E320) --------------------------------------------------------
int sub_44E320()
{
  int v0; // eax

  sub_46ADE0(*(int *)&byte_5D4594[831236]);
  sub_46B500(0);
  sub_46AC00(*(int *)&byte_5D4594[831236], 1);
  sub_450580();
  sub_43DDA0();
  *(_DWORD *)&byte_5D4594[2650672] = 0;
  if ( *(_DWORD *)&byte_5D4594[831220] == 255 )
  {
    if ( *(_DWORD *)&byte_5D4594[815132] == 1 )
    {
      sub_4505E0();
      sub_4A2500();
      sub_578E00();
    }
    goto LABEL_4;
  }
  if ( !(byte_5D4594[832472] & 5) )
  {
LABEL_4:
    v0 = sub_44E3B0();
    return sub_44DB30(v0, 1, sub_44E3C0);
  }
  return sub_450160(254, 1, 2);
}

//----- (0044E3B0) --------------------------------------------------------
int sub_44E3B0()
{
  return 25;
}

//----- (0044E3C0) --------------------------------------------------------
int sub_44E3C0()
{
  sub_450580();
  *(_DWORD *)&byte_5D4594[831260] = 0;
  return sub_413A00(0);
}

//----- (0044E3E0) --------------------------------------------------------
int sub_44E3E0()
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[831224];
  *(_DWORD *)&byte_5D4594[831248] = 1;
  if ( *(_DWORD *)&byte_5D4594[831224] )
  {
    result = sub_44D900(*(int *)&byte_5D4594[831240], 100);
    *(_DWORD *)&byte_5D4594[831244] = 1;
  }
  return result;
}

//----- (0044E410) --------------------------------------------------------
wchar_t *sub_44E410()
{
  int v0; // esi
  int v1; // edi
  int i; // ebp
  int v3; // ebx
  int v4; // esi
  wchar_t *result; // eax
  int v6; // [esp-2Ch] [ebp-80h]
  int v7; // [esp+10h] [ebp-44h]
  char v8[64]; // [esp+14h] [ebp-40h]

  v0 = 0;
  v7 = 0;
  v1 = 0;
  for ( i = 1; ; ++i )
  {
    while ( 1 )
    {
      if ( v0 )
      {
        if ( v0 == 1 )
          v3 = v1 ? (v1 != 1) + 2 : 4;
        else
          v3 = v0 + 3;
      }
      else
      {
        v3 = 1;
      }
      nox_sprintf(v8, (const char *)&byte_587000[123220], *(_DWORD *)&byte_587000[4 * v1 + 122944], i);
      v4 = 32 * (v1 + v0 + 10 * v1);
      *(_DWORD *)&byte_5D4594[v4 + 831300] = sub_42F970(&v8[9]);
      *(_DWORD *)&byte_5D4594[v4 + 831304] = sub_40F1D0(
                                               v8,
                                               &byte_5D4594[v4 + 831308],
                                               (const char *)&byte_587000[123248],
                                               1221);
      v6 = *(_DWORD *)&byte_587000[4 * v1 + 122944];
      *(_DWORD *)&byte_5D4594[v4 + 831312] = v3;
      nox_sprintf(v8, (const char *)&byte_587000[123288], v6, i);
      *(_DWORD *)&byte_5D4594[v4 + 831316] = sub_42F970(&v8[9]);
      ++v1;
      *(_DWORD *)&byte_5D4594[v4 + 831320] = sub_40F1D0(
                                               v8,
                                               &byte_5D4594[v4 + 831324],
                                               (const char *)&byte_587000[123316],
                                               1227);
      *(_DWORD *)&byte_5D4594[v4 + 831328] = v3;
      if ( v1 >= 3 )
        break;
      v0 = v7;
    }
    v7 = i;
    if ( i >= 11 )
      break;
    v0 = i;
    v1 = 0;
  }
  *(_DWORD *)&byte_5D4594[831264] = sub_42F970((const char *)&byte_587000[123356]);
  result = sub_40F1D0((char *)&byte_587000[123412], &byte_5D4594[831272], (const char *)&byte_587000[123372], 1233);
  *(_DWORD *)&byte_5D4594[831268] = result;
  return result;
}

//----- (0044E560) --------------------------------------------------------
_DWORD *sub_44E560()
{
  _DWORD *result; // eax
  _DWORD *v1; // eax

  *(_DWORD *)&byte_5D4594[831284] = (*(int *)&byte_5D4594[3805496] - 640) / 2;
  *(_DWORD *)&byte_5D4594[831288] = (*(int *)&byte_5D4594[3807120] - 480) / 2;
  result = sub_46C3E0(0, 56, 0, 0, *(int *)&byte_5D4594[3805496], *(int *)&byte_5D4594[3807120], sub_44E6E0);
  *(_DWORD *)&byte_5D4594[831236] = result;
  if ( result )
  {
    sub_46B300((int)result, sub_44E630);
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[831236] + 56) = *(_DWORD *)&byte_5D4594[2650656];
    result = sub_4A0AD0((const char *)&byte_587000[123424], 0);
    *(_DWORD *)&byte_5D4594[831232] = result;
    if ( result )
    {
      sub_46B120(result, *(int *)&byte_5D4594[831236]);
      sub_46A9B0(*(_DWORD **)&byte_5D4594[831232], *(int *)&byte_5D4594[831284], *(int *)&byte_5D4594[831288]);
      v1 = sub_46B0C0(*(_DWORD **)&byte_5D4594[831232], 1010);
      sub_46B340((int)v1, sub_44E6F0);
      sub_44E410();
      result = *(_DWORD **)&byte_5D4594[831236];
    }
  }
  return result;
}

//----- (0044E630) --------------------------------------------------------
int __cdecl sub_44E630(int a1, int a2, int a3, int a4)
{
  int v2; // eax

  if ( *(_DWORD *)&byte_5D4594[831248] && a2 != 18 && a2 != 17 && sub_41D1B0() != 1 )
  {
    sub_450580();
    if ( *(_DWORD *)&byte_5D4594[831220] )
    {
      if ( *(_DWORD *)&byte_5D4594[831220] == 255 )
      {
        *(_DWORD *)&byte_5D4594[2650672] = 0;
        v2 = sub_44E3B0();
        sub_44DAB0(v2, 1, (void (*)(void))sub_44E320);
        *(_DWORD *)&byte_5D4594[2650672] = 1;
      }
    }
    else
    {
      sub_46ADE0(*(int *)&byte_5D4594[831236]);
      sub_46B500(0);
      *(_DWORD *)&byte_5D4594[831256] = 1;
      sub_46D580();
    }
    sub_46B300(*(int *)&byte_5D4594[831236], 0);
  }
  return 1;
}

//----- (0044E6E0) --------------------------------------------------------
BOOL __cdecl sub_44E6E0(int a1, int a2, int a3, int a4)
{
  return a2 == 23;
}

//----- (0044E6F0) --------------------------------------------------------
int __cdecl sub_44E6F0(_DWORD *a1, int xLeft)
{
  int v2; // eax
  int v3; // eax

  *(float *)&byte_5D4594[831276] = *(float *)&byte_5D4594[831276] - sub_44E8B0();
  v2 = sub_419A70(*(float *)&byte_5D4594[831276]);
  sub_46A9B0(a1, 0, v2);
  sub_49F6F0(*(int *)&byte_5D4594[831284], *(int *)&byte_5D4594[831288], 640, 480);
  if ( byte_5D4594[832472] & 1 )
  {
    sub_44E8E0((int)a1, xLeft);
  }
  else if ( byte_5D4594[832472] & 2 )
  {
    sub_44F0F0((int)a1, xLeft);
  }
  else if ( byte_5D4594[832472] & 4 )
  {
    sub_44F300((int)a1, xLeft);
  }
  else
  {
    sub_488D00((int)a1, xLeft);
  }
  sub_49F6F0(0, 0, *(int *)&byte_5D4594[3801784], *(int *)&byte_5D4594[3801788]);
  if ( (__int64)*(float *)&byte_5D4594[831276] <= *(int *)&byte_5D4594[831280]
    && *(_DWORD *)&byte_5D4594[831244] == 1
    && !sub_44D930()
    && (unsigned __int64)(sub_416BB0() - *(_QWORD *)&byte_5D4594[831292]) > 0x3A98
    && (*(_DWORD *)&byte_5D4594[832488] == 1 || !(byte_5D4594[832472] & 5)) )
  {
    if ( byte_5D4594[832472] & 2 && *(_DWORD *)&byte_5D4594[832480] )
      sub_452D80(582, 100);
    sub_450580();
    if ( *(_DWORD *)&byte_5D4594[831220] )
    {
      *(_DWORD *)&byte_5D4594[2650672] = 0;
      v3 = sub_44E3B0();
      sub_44DAB0(v3, 1, (void (*)(void))sub_44E320);
      *(_DWORD *)&byte_5D4594[2650672] = 1;
    }
    else if ( !*(_DWORD *)&byte_5D4594[831256] )
    {
      sub_46ADE0(*(int *)&byte_5D4594[831236]);
      *(_DWORD *)&byte_5D4594[831256] = 1;
      sub_46D580();
      sub_46B300(*(int *)&byte_5D4594[831236], 0);
    }
    sub_46B340((int)a1, sub_44E8D0);
  }
  return 1;
}

//----- (0044E8B0) --------------------------------------------------------
double sub_44E8B0()
{
  double result; // st7

  if ( *(_DWORD *)&byte_5D4594[831220] == 255 )
    result = 1.0;
  else
    result = 0.0;
  return result;
}

//----- (0044E8D0) --------------------------------------------------------
int sub_44E8D0()
{
  return 1;
}

//----- (0044E8E0) --------------------------------------------------------
int __cdecl sub_44E8E0(int a1, int a2)
{
  int v2; // ebx
  int v3; // esi
  wchar_t *v4; // eax
  wchar_t *v5; // eax
  unsigned __int8 *v6; // eax
  unsigned __int8 *v7; // ebp
  int v8; // esi
  int v9; // ecx
  int v10; // ebx
  int v11; // eax
  signed int v12; // eax
  int v13; // esi
  wchar_t *v14; // eax
  int v15; // esi
  wchar_t *v16; // eax
  int v17; // esi
  wchar_t *v18; // eax
  int v19; // esi
  wchar_t *v20; // eax
  wchar_t *v21; // eax
  int v22; // ebx
  int v23; // esi
  int v24; // ebp
  wchar_t *v25; // eax
  wchar_t *v26; // eax
  int v27; // esi
  wchar_t *v28; // eax
  wchar_t *v29; // eax
  int v30; // esi
  int v31; // ebp
  int result; // eax
  int v33; // ebp
  unsigned __int16 *v34; // esi
  int v35; // ebx
  float v36; // [esp+0h] [ebp-674h]
  int v37; // [esp+0h] [ebp-674h]
  int v38; // [esp+14h] [ebp-660h]
  int v39; // [esp+18h] [ebp-65Ch]
  int v40; // [esp+1Ch] [ebp-658h]
  int v41; // [esp+20h] [ebp-654h]
  int v42; // [esp+24h] [ebp-650h]
  int v43; // [esp+28h] [ebp-64Ch]
  int v44; // [esp+2Ch] [ebp-648h]
  int v45; // [esp+30h] [ebp-644h]
  int v46; // [esp+34h] [ebp-640h]
  int v47; // [esp+38h] [ebp-63Ch]
  unsigned __int8 *v48; // [esp+3Ch] [ebp-638h]
  int v49; // [esp+40h] [ebp-634h]
  int v50; // [esp+44h] [ebp-630h]
  int v51; // [esp+48h] [ebp-62Ch]
  int v52; // [esp+4Ch] [ebp-628h]
  char v53; // [esp+50h] [ebp-624h]
  WCHAR WideCharStr[11]; // [esp+54h] [ebp-620h]
  wchar_t v55[257]; // [esp+72h] [ebp-602h]
  wchar_t v56[256]; // [esp+274h] [ebp-400h]
  wchar_t v57[256]; // [esp+474h] [ebp-200h]

  v49 = (*(int *)&byte_5D4594[3805496] - 640) / 2;
  v47 = 0;
  v45 = 0;
  v50 = (*(int *)&byte_5D4594[3807120] - 480) / 2;
  sub_434390(*(int *)&byte_5D4594[2523948]);
  v2 = *(int *)&byte_5D4594[3805496] / 2;
  v3 = *(int *)&byte_5D4594[3807120] / 2;
  v51 = *(int *)&byte_5D4594[3805496] / 2;
  v52 = *(int *)&byte_5D4594[3807120] / 2;
  v4 = sub_40F1D0((char *)&byte_587000[123480], 0, (const char *)&byte_587000[123440], 449);
  nox_wcscpy(&v55[1], v4);
  v5 = sub_40F1D0((char *)&byte_587000[123552], 0, (const char *)&byte_587000[123512], 451);
  nox_wcscpy(v56, v5);
  nox_wcscat(v56, (const wchar_t *)&byte_587000[123572]);
  _itow(*(int *)&byte_5D4594[831228], WideCharStr, 10);
  nox_wcscat(v56, WideCharStr);
  nox_swprintf(v57, (const wchar_t *)&byte_587000[123576], &v55[1], v56);
  sub_43F840(*(_DWORD *)(a2 + 200), v57, &v39, &v38, 0);
  sub_434390(*(int *)&byte_5D4594[2523948]);
  sub_43F6E0(*(_DWORD *)(a2 + 200), (__int16 *)v57, v2 - v39 / 2, v38 + v3 - 240);
  v40 = *(_DWORD *)&byte_587000[122968] - *(_DWORD *)&byte_587000[122964];
  v36 = (double)v38 * 1.5;
  v41 = sub_419A70(v36);
  v6 = &byte_587000[122964];
  v43 = 0;
  v42 = 0;
  v7 = &byte_5D4594[832364];
  v48 = &byte_587000[122964];
  while ( 1 )
  {
    v8 = *(_DWORD *)v6 + v3 - 240;
    v9 = *(_DWORD *)v7;
    v10 = *((_DWORD *)v6 - 1) + v2 - 320;
    if ( *(_DWORD *)v7 )
    {
      ++v43;
      if ( v9 == *(_DWORD *)&byte_5D4594[2618908] )
        v47 = *((unsigned __int16 *)v7 + 5);
      else
        v45 += *((unsigned __int16 *)v7 + 5);
      sub_434390(*(int *)&byte_5D4594[2614256]);
      nox_swprintf(&v55[1], (const wchar_t *)&byte_587000[123592], v42 + 1, *(_DWORD *)v7 + 4704);
      v11 = *(_DWORD *)(a2 + 200);
      v46 = *(_DWORD *)&byte_587000[122968] - *(_DWORD *)&byte_587000[122960] + v10 - 16;
      sub_43F840(v11, &v55[1], &v44, &v53, 0);
      while ( v10 + v44 >= v46 )
      {
        v12 = nox_wcslen(&v55[1]);
        if ( v12 <= 5 )
          break;
        v55[v12] = 0;
        sub_43F840(*(_DWORD *)(a2 + 200), &v55[1], &v44, &v53, 0);
      }
      sub_43FAF0(*(_DWORD *)(a2 + 200), &v55[1], v10, v8, v40 - 8, v38);
      v13 = v41 + v41 / 2 + v8;
      sub_434390(*(int *)&byte_5D4594[2523948]);
      v14 = sub_40F1D0((char *)&byte_587000[123648], 0, (const char *)&byte_587000[123608], 529);
      sub_43FAF0(*(_DWORD *)(a2 + 200), v14, v10, v13, *(int *)&byte_5D4594[832476], v38);
      nox_swprintf(&v55[1], (const wchar_t *)&byte_587000[123680], *((unsigned __int16 *)v7 + 3));
      sub_434390(*(int *)&byte_5D4594[2614268]);
      sub_43FAF0(
        *(_DWORD *)(a2 + 200),
        &v55[1],
        v10 + *(_DWORD *)&byte_5D4594[832476],
        v13,
        v40 - *(_DWORD *)&byte_5D4594[832476] - 8,
        v38);
      v15 = v41 + v13;
      sub_434390(*(int *)&byte_5D4594[2523948]);
      v16 = sub_40F1D0((char *)&byte_587000[123728], 0, (const char *)&byte_587000[123688], 541);
      sub_43FAF0(*(_DWORD *)(a2 + 200), v16, v10, v15, *(int *)&byte_5D4594[832476], v38);
      nox_swprintf(&v55[1], (const wchar_t *)&byte_587000[123756], *((unsigned __int16 *)v7 + 4));
      sub_434390(*(int *)&byte_5D4594[2614268]);
      sub_43FAF0(
        *(_DWORD *)(a2 + 200),
        &v55[1],
        v10 + *(_DWORD *)&byte_5D4594[832476],
        v15,
        v40 - *(_DWORD *)&byte_5D4594[832476] - 8,
        v38);
      v17 = v41 + v15;
      sub_434390(*(int *)&byte_5D4594[2523948]);
      v18 = sub_40F1D0((char *)&byte_587000[123804], 0, (const char *)&byte_587000[123764], 553);
      sub_43FAF0(*(_DWORD *)(a2 + 200), v18, v10, v17, *(int *)&byte_5D4594[832476], v38);
      nox_swprintf(&v55[1], (const wchar_t *)&byte_587000[123824], *((unsigned __int16 *)v7 + 2));
      sub_434390(*(int *)&byte_5D4594[2614268]);
      sub_43FAF0(
        *(_DWORD *)(a2 + 200),
        &v55[1],
        v10 + *(_DWORD *)&byte_5D4594[832476],
        v17,
        v40 - *(_DWORD *)&byte_5D4594[832476] - 8,
        v38);
      v19 = v41 + v17;
      sub_434390(*(int *)&byte_5D4594[2523948]);
      v20 = sub_40F1D0((char *)&byte_587000[123872], 0, (const char *)&byte_587000[123832], 565);
      sub_43FAF0(*(_DWORD *)(a2 + 200), v20, v10, v19, *(int *)&byte_5D4594[832476], v38);
      nox_swprintf(&v55[1], (const wchar_t *)&byte_587000[123896], *((_DWORD *)v7 + 3));
      sub_434390(*(int *)&byte_5D4594[2650684]);
      sub_43FAF0(
        *(_DWORD *)(a2 + 200),
        &v55[1],
        v10 + *(_DWORD *)&byte_5D4594[832476],
        v19,
        v40 - *(_DWORD *)&byte_5D4594[832476] - 8,
        v38);
      v6 = v48;
    }
    v6 += 8;
    v7 += 16;
    ++v42;
    v48 = v6;
    if ( (int)v6 >= (int)&byte_587000[123012] )
      break;
    v2 = v51;
    v3 = v52;
  }
  v21 = sub_40F1D0((char *)&byte_587000[123944], 0, (const char *)&byte_587000[123904], 583);
  nox_swprintf(&v55[1], v21, *(_DWORD *)&byte_5D4594[832356]);
  sub_43F840(*(_DWORD *)(a2 + 200), &v55[1], &v39, &v38, 0);
  v22 = v49;
  v23 = v49 - v39 / 2 + 320;
  v24 = v50 + 2 * (150 - v38) + 150 - v38;
  sub_434390(*(int *)&byte_5D4594[2614256]);
  sub_43F6E0(*(_DWORD *)(a2 + 200), (__int16 *)&v55[1], v23, v24);
  if ( v47 )
  {
    v37 = v47;
    v25 = sub_40F1D0((char *)&byte_587000[124012], 0, (const char *)&byte_587000[123972], 593);
    nox_swprintf(&v55[1], v25, v37);
  }
  else
  {
    v26 = sub_40F1D0((char *)&byte_587000[124080], 0, (const char *)&byte_587000[124040], 596);
    nox_swprintf(&v55[1], v26);
  }
  if ( v43 <= 1 )
  {
    nox_wcscpy(v57, &v55[1]);
  }
  else
  {
    v27 = v45;
    if ( v45 )
    {
      v28 = sub_40F1D0((char *)&byte_587000[124152], 0, (const char *)&byte_587000[124112], 606);
      if ( v28 )
        nox_swprintf(v56, v28, v27);
    }
    else
    {
      v29 = sub_40F1D0((char *)&byte_587000[124228], 0, (const char *)&byte_587000[124188], 612);
      nox_wcscpy(v56, v29);
    }
    nox_swprintf(v57, (const wchar_t *)&byte_587000[124268], &v55[1], v56);
  }
  sub_43F840(*(_DWORD *)(a2 + 200), v57, &v39, &v38, 0);
  v30 = v22 - v39 / 2 + 320;
  v31 = v50 + 2 * (225 - v38);
  sub_434390(*(int *)&byte_5D4594[2614256]);
  sub_43F6E0(*(_DWORD *)(a2 + 200), (__int16 *)v57, v30, v31);
  result = *(_DWORD *)&byte_5D4594[2598000] / 0x1Eu;
  if ( *(_DWORD *)&byte_5D4594[2598000] % 0x1Eu )
  {
    if ( *(_DWORD *)&byte_587000[122956] != 1 )
      return result;
  }
  else
  {
    result = 1;
    if ( *(_DWORD *)&byte_587000[122956] == 1 )
    {
      *(_DWORD *)&byte_587000[122956] = *(_DWORD *)&byte_5D4594[2598000] % 0x1Eu;
      return result;
    }
    *(_DWORD *)&byte_587000[122956] = 1;
  }
  v33 = *(_DWORD *)&byte_5D4594[2523948];
  v34 = sub_40F1D0((char *)&byte_587000[124324], 0, (const char *)&byte_587000[124284], 642);
  sub_43F840(*(_DWORD *)(a2 + 200), v34, &v39, 0, 0);
  v35 = v22 - v39 / 2 + 320;
  sub_434390(v33);
  return sub_43F6E0(*(_DWORD *)(a2 + 200), (__int16 *)v34, v35, v50 + 450);
}

//----- (0044F0F0) --------------------------------------------------------
int __cdecl sub_44F0F0(int a1, int a2)
{
  int v2; // esi
  int v3; // ebx
  wchar_t *v4; // eax
  int result; // eax
  int v6; // esi
  int v7; // ebx
  unsigned __int16 *v8; // ebp
  int v9; // esi
  int v10; // [esp+10h] [ebp-40Ch]
  int v11; // [esp+14h] [ebp-408h]
  int v12; // [esp+18h] [ebp-404h]
  wchar_t v13[256]; // [esp+1Ch] [ebp-400h]
  wchar_t v14[256]; // [esp+21Ch] [ebp-200h]

  v2 = *(int *)&byte_5D4594[3805496] / 2;
  v3 = *(int *)&byte_5D4594[3807120] / 2;
  sub_434390(*(int *)&byte_5D4594[2523948]);
  v4 = sub_40F1D0((char *)&byte_587000[124392], 0, (const char *)&byte_587000[124352], 668);
  nox_wcscpy(v13, v4);
  nox_wcscat(v13, (const wchar_t *)&byte_587000[124412]);
  nox_swprintf(v14, v13, *(_DWORD *)&byte_5D4594[832468]);
  sub_43F840(*(_DWORD *)(a2 + 200), v14, &v10, &v11, 0);
  sub_43F6E0(*(_DWORD *)(a2 + 200), (__int16 *)v14, v2 - v10 / 2, v3 + 2 * (v11 - 80) + v11 - 80);
  if ( *(_DWORD *)&byte_5D4594[832464] )
  {
    sub_43F840(*(_DWORD *)(a2 + 200), *(unsigned __int16 **)&byte_5D4594[832464], &v10, &v11, 0);
    sub_43F6E0(*(_DWORD *)(a2 + 200), *(__int16 **)&byte_5D4594[832464], v2 - v10 / 2, v3 + 2 * (80 - v11) + 80 - v11);
  }
  result = *(_DWORD *)&byte_5D4594[2598000] / 0x1Eu;
  if ( *(_DWORD *)&byte_5D4594[2598000] % 0x1Eu )
  {
    if ( *(_DWORD *)&byte_587000[123008] != 1 )
      return result;
  }
  else
  {
    result = 1;
    if ( *(_DWORD *)&byte_587000[123008] == 1 )
    {
      *(_DWORD *)&byte_587000[123008] = *(_DWORD *)&byte_5D4594[2598000] % 0x1Eu;
      return result;
    }
    *(_DWORD *)&byte_587000[123008] = 1;
  }
  v12 = *(_DWORD *)&byte_5D4594[2523948];
  v6 = (*(int *)&byte_5D4594[3805496] - 640) / 2;
  v7 = (*(int *)&byte_5D4594[3807120] - 480) / 2;
  v8 = sub_40F1D0((char *)&byte_587000[124460], 0, (const char *)&byte_587000[124420], 714);
  sub_43F840(*(_DWORD *)(a2 + 200), v8, &v10, 0, 0);
  v9 = v6 - v10 / 2 + 320;
  sub_434390(v12);
  return sub_43F6E0(*(_DWORD *)(a2 + 200), (__int16 *)v8, v9, v7 + 462);
}

//----- (0044F300) --------------------------------------------------------
int __cdecl sub_44F300(int a1, int a2)
{
  char *v2; // ebx
  int v3; // esi
  int v4; // edi
  unsigned __int16 *v5; // ebp
  __int16 *v6; // ebp
  wchar_t *v7; // eax
  int v8; // ebp
  __int16 *v9; // ebp
  wchar_t *v10; // eax
  int v11; // ebp
  __int16 *v12; // ebp
  wchar_t *v13; // eax
  int v14; // ebp
  __int16 *v15; // ebx
  wchar_t *v16; // eax
  unsigned __int16 *v17; // ebx
  unsigned __int16 *v18; // ebp
  unsigned __int16 *v19; // ebx
  unsigned __int16 *v20; // ebp
  unsigned __int16 *v21; // ebx
  unsigned __int16 *v22; // ebp
  int result; // eax
  int v24; // ebp
  unsigned __int16 *v25; // ebx
  int v26; // [esp-3Ch] [ebp-70h]
  int v27; // [esp+10h] [ebp-24h]
  int v28; // [esp+14h] [ebp-20h]
  unsigned __int16 *v29; // [esp+18h] [ebp-1Ch]
  unsigned __int16 *v30; // [esp+1Ch] [ebp-18h]
  int v31; // [esp+20h] [ebp-14h]
  unsigned __int16 *v32; // [esp+24h] [ebp-10h]
  unsigned __int16 *v33; // [esp+28h] [ebp-Ch]
  int2 v34; // [esp+2Ch] [ebp-8h]

  v2 = sub_437250();
  sub_44E110();
  sub_431510();
  sub_45ACA0(1);
  sub_446780();
  v3 = (*(int *)&byte_5D4594[3805496] - 640) / 2;
  v4 = (*(int *)&byte_5D4594[3807120] - 480) / 2;
  v5 = sub_40F1D0((char *)&byte_587000[124528], 0, (const char *)&byte_587000[124488], 765);
  sub_43F840(*(_DWORD *)(a2 + 200), v5, &v31, 0, 0);
  v29 = (unsigned __int16 *)(v3 - v31 / 2 + 320);
  v30 = (unsigned __int16 *)(v4 + 20);
  sub_434390(*(int *)&byte_5D4594[2650656]);
  v26 = *(_DWORD *)(a2 + 200);
  v32 = (unsigned __int16 *)((char *)v29 - 1);
  sub_43F6E0(v26, (__int16 *)v5, (int)v29 - 1, v4 + 19);
  v33 = (unsigned __int16 *)((char *)v29 + 1);
  sub_43F6E0(*(_DWORD *)(a2 + 200), (__int16 *)v5, (int)v29 + 1, v4 + 19);
  sub_43F6E0(*(_DWORD *)(a2 + 200), (__int16 *)v5, (int)v32, v4 + 21);
  sub_43F6E0(*(_DWORD *)(a2 + 200), (__int16 *)v5, (int)v33, v4 + 21);
  sub_434390(*(int *)&byte_5D4594[2614256]);
  sub_43F6E0(*(_DWORD *)(a2 + 200), (__int16 *)v5, (int)v29, v4 + 20);
  v34.field_0 = v3 + 73;
  v34.field_4 = v4 + 123;
  sub_473A10(v2, &v34, (_DWORD *)(*(_DWORD *)&byte_5D4594[832492] + 12));
  (*(void (__cdecl **)(char *, _DWORD))(*(_DWORD *)&byte_5D4594[832492] + 300))(v2, *(_DWORD *)&byte_5D4594[832492]);
  v34.field_0 = v3 + 109;
  v34.field_4 = v4 + 76;
  v6 = (__int16 *)sub_40F1D0((char *)&byte_587000[124596], 0, (const char *)&byte_587000[124556], 792);
  sub_434390(*(int *)&byte_5D4594[2614256]);
  sub_43F6E0(*(int *)&byte_5D4594[832484], v6, v34.field_0, v34.field_4);
  sub_43F840(*(int *)&byte_5D4594[832484], (unsigned __int16 *)v6, &v27, 0, 0);
  v34.field_0 += v27 + 4;
  sub_434390(*(int *)&byte_5D4594[2523948]);
  v7 = sub_40F1D0((char *)&byte_587000[124664], 0, (const char *)&byte_587000[124624], 799);
  sub_43FAF0(*(int *)&byte_5D4594[832484], v7, v34.field_0, v34.field_4, v3 - v34.field_0 + 520, 0);
  v34.field_0 = v3 + 565;
  v34.field_4 = v4 + 117;
  sub_473A10(v2, &v34, (_DWORD *)(*(_DWORD *)&byte_5D4594[832496] + 12));
  (*(void (__cdecl **)(char *, _DWORD))(*(_DWORD *)&byte_5D4594[832496] + 300))(v2, *(_DWORD *)&byte_5D4594[832496]);
  v29 = sub_40F1D0((char *)&byte_587000[124732], 0, (const char *)&byte_587000[124692], 809);
  sub_43F840(*(int *)&byte_5D4594[832484], v29, &v27, 0, 0);
  v30 = sub_40F1D0((char *)&byte_587000[124800], 0, (const char *)&byte_587000[124760], 811);
  sub_43F840(*(int *)&byte_5D4594[832484], v30, &v28, 0, 0);
  v8 = v3 + 520;
  if ( v28 + v27 <= 390 )
  {
    v34.field_4 = v4 + 115;
    v34.field_0 = v8 - v28 - v27 - 4;
    sub_434390(*(int *)&byte_5D4594[2614256]);
    sub_43F6E0(*(int *)&byte_5D4594[832484], (__int16 *)v29, v34.field_0, v34.field_4);
    v34.field_0 = v8 - v28;
    v34.field_4 = v4 + 115;
    sub_434390(*(int *)&byte_5D4594[2523948]);
    sub_43F6E0(*(int *)&byte_5D4594[832484], (__int16 *)v30, v34.field_0, v34.field_4);
  }
  else
  {
    v34.field_0 = v3 + 199;
    v34.field_4 = v4 + 115;
    sub_434390(*(int *)&byte_5D4594[2614256]);
    sub_43F6E0(*(int *)&byte_5D4594[832484], (__int16 *)v29, v34.field_0, v34.field_4);
    v34.field_0 += v27 + 4;
    sub_434390(*(int *)&byte_5D4594[2523948]);
    sub_43FAF0(*(int *)&byte_5D4594[832484], v30, v34.field_0, v34.field_4, v8 - v34.field_0, 0);
  }
  v34.field_0 = v3 + 133;
  v34.field_4 = v4 + 192;
  sub_473A10(v2, &v34, (_DWORD *)(*(_DWORD *)&byte_5D4594[832504] + 12));
  (*(void (__cdecl **)(char *, _DWORD))(*(_DWORD *)&byte_5D4594[832504] + 300))(v2, *(_DWORD *)&byte_5D4594[832504]);
  v34.field_0 = v3 + 157;
  v34.field_4 = v4 + 156;
  v9 = (__int16 *)sub_40F1D0((char *)&byte_587000[124868], 0, (const char *)&byte_587000[124828], 862);
  sub_434390(*(int *)&byte_5D4594[2614256]);
  sub_43F6E0(*(int *)&byte_5D4594[832484], v9, v34.field_0, v34.field_4);
  sub_43F840(*(int *)&byte_5D4594[832484], (unsigned __int16 *)v9, &v27, 0, 0);
  v34.field_0 += v27 + 4;
  sub_434390(*(int *)&byte_5D4594[2523948]);
  v10 = sub_40F1D0((char *)&byte_587000[124936], 0, (const char *)&byte_587000[124896], 869);
  sub_43FAF0(*(int *)&byte_5D4594[832484], v10, v34.field_0, v34.field_4, v4 - v34.field_0 + 630, 0);
  v34.field_0 = v3 + 525;
  v34.field_4 = v4 + 222;
  sub_473A10(v2, &v34, (_DWORD *)(*(_DWORD *)&byte_5D4594[832500] + 12));
  (*(void (__cdecl **)(char *, _DWORD))(*(_DWORD *)&byte_5D4594[832500] + 300))(v2, *(_DWORD *)&byte_5D4594[832500]);
  v29 = sub_40F1D0((char *)&byte_587000[125004], 0, (const char *)&byte_587000[124964], 879);
  sub_43F840(*(int *)&byte_5D4594[832484], v29, &v27, 0, 0);
  v30 = sub_40F1D0((char *)&byte_587000[125072], 0, (const char *)&byte_587000[125032], 881);
  sub_43F840(*(int *)&byte_5D4594[832484], v30, &v28, 0, 0);
  v11 = v3 + 500;
  if ( v28 + v27 <= 215 )
  {
    v34.field_4 = v4 + 198;
    v34.field_0 = v11 - v28 - v27 - 4;
    sub_434390(*(int *)&byte_5D4594[2614256]);
    sub_43F6E0(*(int *)&byte_5D4594[832484], (__int16 *)v29, v34.field_0, v34.field_4);
    v34.field_0 = v11 - v28;
    v34.field_4 = v4 + 198;
    sub_434390(*(int *)&byte_5D4594[2523948]);
    sub_43F6E0(*(int *)&byte_5D4594[832484], (__int16 *)v30, v34.field_0, v34.field_4);
  }
  else
  {
    v34.field_0 = v3 + 250;
    v34.field_4 = v4 + 198;
    sub_434390(*(int *)&byte_5D4594[2614256]);
    sub_43F6E0(*(int *)&byte_5D4594[832484], (__int16 *)v29, v34.field_0, v34.field_4);
    v34.field_0 += v27 + 4;
    sub_434390(*(int *)&byte_5D4594[2523948]);
    sub_43FAF0(*(int *)&byte_5D4594[832484], v30, v34.field_0, v34.field_4, v11 - v34.field_0, 0);
  }
  v34.field_0 = v3 + 182;
  v34.field_4 = v4 + 262;
  sub_473A10(v2, &v34, (_DWORD *)(*(_DWORD *)&byte_5D4594[832528] + 12));
  (*(void (__cdecl **)(char *, _DWORD))(*(_DWORD *)&byte_5D4594[832528] + 300))(v2, *(_DWORD *)&byte_5D4594[832528]);
  v34.field_0 = v3 + 201;
  v34.field_4 = v4 + 251;
  sub_473A10(v2, &v34, (_DWORD *)(*(_DWORD *)&byte_5D4594[832536] + 12));
  (*(void (__cdecl **)(char *, _DWORD))(*(_DWORD *)&byte_5D4594[832536] + 300))(v2, *(_DWORD *)&byte_5D4594[832536]);
  v34.field_0 = v3 + 185;
  v34.field_4 = v4 + 234;
  sub_473A10(v2, &v34, (_DWORD *)(*(_DWORD *)&byte_5D4594[832532] + 12));
  (*(void (__cdecl **)(char *, _DWORD))(*(_DWORD *)&byte_5D4594[832532] + 300))(v2, *(_DWORD *)&byte_5D4594[832532]);
  v34.field_0 = v3 + 221;
  v34.field_4 = v4 + 240;
  v12 = (__int16 *)sub_40F1D0((char *)&byte_587000[125140], 0, (const char *)&byte_587000[125100], 942);
  sub_434390(*(int *)&byte_5D4594[2614256]);
  sub_43F6E0(*(int *)&byte_5D4594[832484], v12, v34.field_0, v34.field_4);
  sub_43F840(*(int *)&byte_5D4594[832484], (unsigned __int16 *)v12, &v27, 0, 0);
  v34.field_0 += v27 + 4;
  sub_434390(*(int *)&byte_5D4594[2523948]);
  v13 = sub_40F1D0((char *)&byte_587000[125208], 0, (const char *)&byte_587000[125168], 949);
  sub_43FAF0(*(int *)&byte_5D4594[832484], v13, v34.field_0, v34.field_4, v3 - v34.field_0 + 470, 0);
  v34.field_0 = v3 + 484;
  v34.field_4 = v4 + 278;
  sub_473A10(v2, &v34, (_DWORD *)(*(_DWORD *)&byte_5D4594[832516] + 12));
  (*(void (__cdecl **)(char *, _DWORD))(*(_DWORD *)&byte_5D4594[832516] + 300))(v2, *(_DWORD *)&byte_5D4594[832516]);
  v34.field_0 = v3 + 503;
  v34.field_4 = v4 + 303;
  sub_473A10(v2, &v34, (_DWORD *)(*(_DWORD *)&byte_5D4594[832520] + 12));
  (*(void (__cdecl **)(char *, _DWORD))(*(_DWORD *)&byte_5D4594[832520] + 300))(v2, *(_DWORD *)&byte_5D4594[832520]);
  v29 = sub_40F1D0((char *)&byte_587000[125276], 0, (const char *)&byte_587000[125236], 964);
  sub_43F840(*(int *)&byte_5D4594[832484], v29, &v27, 0, 0);
  v30 = sub_40F1D0((char *)&byte_587000[125344], 0, (const char *)&byte_587000[125304], 966);
  sub_43F840(*(int *)&byte_5D4594[832484], v30, &v28, 0, 0);
  v14 = v3 + 462;
  if ( v28 + v27 <= 350 )
  {
    v34.field_4 = v4 + 286;
    v34.field_0 = v14 - v28 - v27 - 4;
    sub_434390(*(int *)&byte_5D4594[2614256]);
    sub_43F6E0(*(int *)&byte_5D4594[832484], (__int16 *)v29, v34.field_0, v34.field_4);
    v34.field_0 = v14 - v28;
    v34.field_4 = v4 + 286;
    sub_434390(*(int *)&byte_5D4594[2523948]);
    sub_43F6E0(*(int *)&byte_5D4594[832484], (__int16 *)v30, v34.field_0, v34.field_4);
  }
  else
  {
    v34.field_0 = v3 + 113;
    v34.field_4 = v4 + 286;
    sub_434390(*(int *)&byte_5D4594[2614256]);
    sub_43F6E0(*(int *)&byte_5D4594[832484], (__int16 *)v29, v34.field_0, v34.field_4);
    v34.field_0 += v27 + 4;
    sub_434390(*(int *)&byte_5D4594[2523948]);
    sub_43FAF0(*(int *)&byte_5D4594[832484], v30, v34.field_0, v34.field_4, v14 - v34.field_0, 0);
  }
  v34.field_0 = v3 + 186;
  v34.field_4 = v4 + 333;
  sub_473A10(v2, &v34, (_DWORD *)(*(_DWORD *)&byte_5D4594[832512] + 12));
  (*(void (__cdecl **)(char *, _DWORD))(*(_DWORD *)&byte_5D4594[832512] + 300))(v2, *(_DWORD *)&byte_5D4594[832512]);
  v34.field_0 = v3 + 219;
  v34.field_4 = v4 + 345;
  sub_473A10(v2, &v34, (_DWORD *)(*(_DWORD *)&byte_5D4594[832508] + 12));
  (*(void (__cdecl **)(char *, _DWORD))(*(_DWORD *)&byte_5D4594[832508] + 300))(v2, *(_DWORD *)&byte_5D4594[832508]);
  v34.field_0 = v3 + 220;
  v34.field_4 = v4 + 322;
  sub_473A10(v2, &v34, (_DWORD *)(*(_DWORD *)&byte_5D4594[832524] + 12));
  (*(void (__cdecl **)(char *, _DWORD))(*(_DWORD *)&byte_5D4594[832524] + 300))(v2, *(_DWORD *)&byte_5D4594[832524]);
  v34.field_0 = v3 + 241;
  v34.field_4 = v4 + 330;
  v15 = (__int16 *)sub_40F1D0((char *)&byte_587000[125412], 0, (const char *)&byte_587000[125372], 1027);
  sub_434390(*(int *)&byte_5D4594[2614256]);
  sub_43F6E0(*(int *)&byte_5D4594[832484], v15, v34.field_0, v34.field_4);
  sub_43F840(*(int *)&byte_5D4594[832484], (unsigned __int16 *)v15, &v27, 0, 0);
  v34.field_0 += v27 + 4;
  sub_434390(*(int *)&byte_5D4594[2523948]);
  v16 = sub_40F1D0((char *)&byte_587000[125480], 0, (const char *)&byte_587000[125440], 1034);
  sub_43FAF0(*(int *)&byte_5D4594[832484], v16, v34.field_0, v34.field_4, v3 - v34.field_0 + 550, 0);
  v17 = sub_40F1D0((char *)&byte_587000[125548], 0, (const char *)&byte_587000[125508], 1040);
  v18 = sub_40F1D0((char *)&byte_587000[125616], 0, (const char *)&byte_587000[125576], 1041);
  sub_43F840(*(int *)&byte_5D4594[832484], v17, &v27, 0, 0);
  sub_43F840(*(int *)&byte_5D4594[832484], v18, &v28, 0, 0);
  v34.field_0 = v3 - (v27 + v28) / 2 + 320;
  v34.field_4 = v4 + 370;
  sub_434390(*(int *)&byte_5D4594[2614256]);
  sub_43F6E0(*(int *)&byte_5D4594[832484], (__int16 *)v17, v34.field_0, v34.field_4);
  v34.field_0 += v27 + 4;
  sub_434390(*(int *)&byte_5D4594[2523948]);
  sub_43F6E0(*(int *)&byte_5D4594[832484], (__int16 *)v18, v34.field_0, v34.field_4);
  v19 = sub_40F1D0((char *)&byte_587000[125684], 0, (const char *)&byte_587000[125644], 1055);
  v20 = sub_40F1D0((char *)&byte_587000[125752], 0, (const char *)&byte_587000[125712], 1056);
  sub_43F840(*(int *)&byte_5D4594[832484], v19, &v27, 0, 0);
  sub_43F840(*(int *)&byte_5D4594[832484], v20, &v28, 0, 0);
  v34.field_0 = v3 - (v28 + v27) / 2 + 320;
  v34.field_4 = v4 + 395;
  sub_434390(*(int *)&byte_5D4594[2614256]);
  sub_43F6E0(*(int *)&byte_5D4594[832484], (__int16 *)v19, v34.field_0, v34.field_4);
  v34.field_0 += v27 + 4;
  sub_434390(*(int *)&byte_5D4594[2523948]);
  sub_43F6E0(*(int *)&byte_5D4594[832484], (__int16 *)v20, v34.field_0, v34.field_4);
  v21 = sub_40F1D0((char *)&byte_587000[125820], 0, (const char *)&byte_587000[125780], 1070);
  v22 = sub_40F1D0((char *)&byte_587000[125888], 0, (const char *)&byte_587000[125848], 1071);
  sub_43F840(*(int *)&byte_5D4594[832484], v21, &v27, 0, 0);
  sub_43F840(*(int *)&byte_5D4594[832484], v22, &v28, 0, 0);
  v34.field_0 = v3 - (v28 + v27) / 2 + 320;
  v34.field_4 = v4 + 420;
  sub_434390(*(int *)&byte_5D4594[2614256]);
  sub_43F6E0(*(int *)&byte_5D4594[832484], (__int16 *)v21, v34.field_0, v34.field_4);
  v34.field_0 += v27 + 4;
  sub_434390(*(int *)&byte_5D4594[2523948]);
  sub_43F6E0(*(int *)&byte_5D4594[832484], (__int16 *)v22, v34.field_0, v34.field_4);
  result = *(_DWORD *)&byte_5D4594[2598000] / 0x1Eu;
  if ( *(_DWORD *)&byte_5D4594[2598000] % 0x1Eu )
  {
    if ( *(_DWORD *)&byte_587000[123012] != 1 )
      return result;
  }
  else
  {
    result = 1;
    if ( *(_DWORD *)&byte_587000[123012] == 1 )
    {
      *(_DWORD *)&byte_587000[123012] = *(_DWORD *)&byte_5D4594[2598000] % 0x1Eu;
      return result;
    }
    *(_DWORD *)&byte_587000[123012] = 1;
  }
  v24 = *(_DWORD *)&byte_5D4594[2523948];
  v25 = sub_40F1D0((char *)&byte_587000[125956], 0, (const char *)&byte_587000[125916], 1097);
  sub_43F840(*(int *)&byte_5D4594[832484], v25, &v27, 0, 0);
  v34.field_4 = v4 + 450;
  v34.field_0 = v3 - v27 / 2 + 320;
  sub_434390(v24);
  return sub_43F6E0(*(_DWORD *)(a2 + 200), (__int16 *)v25, v34.field_0, v34.field_4);
}

//----- (00450160) --------------------------------------------------------
int __cdecl sub_450160(int a1, int a2, char a3)
{
  int v3; // ebx
  int v4; // edi
  _DWORD *v5; // esi
  int v6; // edi
  char *v7; // eax
  char *v8; // eax
  char *v9; // eax
  int v10; // edi
  int v11; // eax
  int v12; // eax
  int result; // eax
  int v14; // [esp+Ch] [ebp-4h]
  unsigned __int16 **v15; // [esp+14h] [ebp+4h]

  v3 = a1;
  *(_DWORD *)&byte_5D4594[831260] = 1;
  *(_DWORD *)&byte_5D4594[831244] = 1;
  v14 = *(_DWORD *)&byte_5D4594[2618908];
  *(_DWORD *)&byte_5D4594[832488] = 0;
  *(_DWORD *)&byte_5D4594[832472] = 0;
  *(_DWORD *)&byte_5D4594[831256] = 0;
  byte_5D4594[831252] = a1 + 1;
  if ( *(_DWORD *)&byte_5D4594[2618908] )
    v4 = *(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[2618908] + 2251);
  else
    v4 = a2;
  sub_46A8C0(*(int *)&byte_5D4594[831236]);
  sub_46ADC0(*(int *)&byte_5D4594[831236]);
  sub_46B500(*(int *)&byte_5D4594[831236]);
  sub_46B300(*(int *)&byte_5D4594[831236], sub_44E630);
  v5 = sub_46B0C0(*(_DWORD **)&byte_5D4594[831232], 1010);
  sub_46B340((int)v5, sub_44E6F0);
  *(_DWORD *)&byte_5D4594[831220] = a2;
  v15 = (unsigned __int16 **)v5[8];
  if ( v3 == 255 )
  {
    sub_46AE60(*(int *)&byte_5D4594[831232], 0);
    sub_46B490((int)v5, 16385, *(int *)&byte_5D4594[831268], 0);
    sub_46AD80((int)v5, 0x2000);
    *(_DWORD *)&byte_5D4594[831240] = sub_578D80();
    v6 = 24;
    *(_DWORD *)&byte_5D4594[831220] = 255;
  }
  else if ( v3 == 254 )
  {
    sub_409B30();
    v7 = sub_42F970((const char *)&byte_587000[125984]);
    sub_46AE60(*(int *)&byte_5D4594[831232], (int)v7);
    sub_46B490((int)v5, 16385, (int)&byte_5D4594[832540], 0);
    v6 = 0;
    if ( a3 & 1 )
    {
      *(_DWORD *)&byte_5D4594[832472] = 1;
      v8 = sub_42F970((const char *)&byte_587000[126004]);
      sub_46AE60(*(int *)&byte_5D4594[831232], (int)v8);
      sub_431510();
      sub_45ACA0(1);
    }
    else if ( a3 & 4 )
    {
      *(_DWORD *)&byte_5D4594[832472] = 4;
      v9 = sub_42F970((const char *)&byte_587000[126020]);
      sub_46AE60(*(int *)&byte_5D4594[831232], (int)v9);
      sub_431510();
      sub_45ACA0(1);
    }
    else
    {
      *(_DWORD *)&byte_5D4594[832472] = 2;
      sub_46AE60(*(int *)&byte_5D4594[831232], *(int *)&byte_5D4594[832460]);
      if ( *(_DWORD *)&byte_5D4594[832464] )
        sub_46B490((int)v5, 16385, *(int *)&byte_5D4594[832464], 0);
      sub_431510();
      sub_45ACA0(1);
    }
    sub_446780();
    *(_DWORD *)&byte_5D4594[831240] = 0;
    *(_DWORD *)&byte_5D4594[831244] = 1;
    *(_DWORD *)&byte_5D4594[831224] = 0;
  }
  else
  {
    v10 = 32 * (v3 + v4 + 10 * v4);
    if ( a2 )
    {
      sub_46AE60(*(int *)&byte_5D4594[831232], *(_DWORD *)&byte_5D4594[v10 + 831300]);
      sub_46B490((int)v5, 16385, *(_DWORD *)&byte_5D4594[v10 + 831304], 0);
      v11 = *(_DWORD *)&byte_5D4594[v10 + 831308];
      v6 = *(_DWORD *)&byte_5D4594[v10 + 831312];
    }
    else
    {
      sub_46AE60(*(int *)&byte_5D4594[831232], *(_DWORD *)&byte_5D4594[v10 + 831316]);
      sub_46B490((int)v5, 16385, *(_DWORD *)&byte_5D4594[v10 + 831320], 0);
      v11 = *(_DWORD *)&byte_5D4594[v10 + 831324];
      v6 = *(_DWORD *)&byte_5D4594[v10 + 831328];
    }
    *(_DWORD *)&byte_5D4594[831240] = v11;
  }
  sub_43F840(v5[59], *v15, 0, &byte_5D4594[831280], 480);
  sub_46AB20(v5, 640, *(int *)&byte_5D4594[831280]);
  if ( v3 == 255 )
  {
    *(_DWORD *)&byte_5D4594[831276] = 1140457472;
    *(_DWORD *)&byte_5D4594[831280] = -20 - *(_DWORD *)&byte_5D4594[831280];
  }
  else
  {
    *(_DWORD *)&byte_5D4594[831280] = (480 - *(_DWORD *)(v5[59] + 8) - *(int *)&byte_5D4594[831280]) / 2;
    *(float *)&byte_5D4594[831276] = (double)*(int *)&byte_5D4594[831280];
  }
  sub_431290();
  *(_DWORD *)&byte_5D4594[831224] = 0;
  if ( a2 || v3 == 255 )
  {
    if ( v3 != 254 )
      *(_DWORD *)&byte_5D4594[831224] = 1;
  }
  else if ( v3 != 254 )
  {
    if ( *(_DWORD *)(v14 + 4 * v3 + 4408) )
    {
      sub_46ADE0(*(int *)&byte_5D4594[831236]);
      *(_DWORD *)&byte_5D4594[831256] = 1;
      sub_46D580();
      sub_46B300(*(int *)&byte_5D4594[831236], 0);
    }
    else
    {
      *(_DWORD *)&byte_5D4594[831224] = 1;
      *(_DWORD *)(v14 + 4 * v3 + 4408) = 1;
    }
  }
  sub_43DD70(v6, 50);
  *(_QWORD *)&byte_5D4594[831292] = sub_416BB0();
  *(_DWORD *)&byte_5D4594[831248] = 0;
  v12 = sub_44E3B0();
  sub_44DB30(v12, 1, sub_44E3E0);
  result = *(_DWORD *)&byte_5D4594[831224];
  if ( *(_DWORD *)&byte_5D4594[831224] )
    *(_DWORD *)&byte_5D4594[831244] = 0;
  return result;
}

//----- (00450560) --------------------------------------------------------
int sub_450560()
{
  return *(_DWORD *)&byte_5D4594[831260];
}

//----- (00450570) --------------------------------------------------------
int sub_450570()
{
  return *(_DWORD *)&byte_5D4594[831220];
}

//----- (00450580) --------------------------------------------------------
int sub_450580()
{
  int result; // eax

  sub_44D8F0();
  result = 0;
  *(_DWORD *)&byte_5D4594[832488] = 1;
  *(_DWORD *)&byte_5D4594[831224] = 0;
  *(_DWORD *)&byte_5D4594[831292] = 0;
  *(_DWORD *)&byte_5D4594[831296] = 0;
  return result;
}

//----- (004505B0) --------------------------------------------------------
int sub_4505B0()
{
  int v0; // eax
  int result; // eax

  sub_450580();
  *(_DWORD *)&byte_5D4594[2650672] = 0;
  v0 = sub_44E3B0();
  result = sub_44DAB0(v0, 1, (void (*)(void))sub_44E320);
  *(_DWORD *)&byte_5D4594[2650672] = 1;
  return result;
}

//----- (004505E0) --------------------------------------------------------
int sub_4505E0()
{
  int result; // eax

  if ( *(_DWORD *)&byte_5D4594[831236] )
  {
    sub_46C4E0(*(_DWORD **)&byte_5D4594[831236]);
    *(_DWORD *)&byte_5D4594[831236] = 0;
    *(_DWORD *)&byte_5D4594[831232] = 0;
  }
  *(_DWORD *)&byte_5D4594[831260] = 0;
  *(_DWORD *)&byte_5D4594[832484] = 0;
  if ( *(_DWORD *)&byte_5D4594[832504] )
    sub_45A4B0(*(_QWORD **)&byte_5D4594[832504]);
  *(_DWORD *)&byte_5D4594[832504] = 0;
  if ( *(_DWORD *)&byte_5D4594[832492] )
    sub_45A4B0(*(_QWORD **)&byte_5D4594[832492]);
  *(_DWORD *)&byte_5D4594[832492] = 0;
  if ( *(_DWORD *)&byte_5D4594[832500] )
    sub_45A4B0(*(_QWORD **)&byte_5D4594[832500]);
  *(_DWORD *)&byte_5D4594[832500] = 0;
  if ( *(_DWORD *)&byte_5D4594[832496] )
    sub_45A4B0(*(_QWORD **)&byte_5D4594[832496]);
  *(_DWORD *)&byte_5D4594[832496] = 0;
  if ( *(_DWORD *)&byte_5D4594[832508] )
    sub_45A4B0(*(_QWORD **)&byte_5D4594[832508]);
  *(_DWORD *)&byte_5D4594[832508] = 0;
  if ( *(_DWORD *)&byte_5D4594[832512] )
    sub_45A4B0(*(_QWORD **)&byte_5D4594[832512]);
  *(_DWORD *)&byte_5D4594[832512] = 0;
  if ( *(_DWORD *)&byte_5D4594[832516] )
    sub_45A4B0(*(_QWORD **)&byte_5D4594[832516]);
  *(_DWORD *)&byte_5D4594[832516] = 0;
  if ( *(_DWORD *)&byte_5D4594[832520] )
    sub_45A4B0(*(_QWORD **)&byte_5D4594[832520]);
  *(_DWORD *)&byte_5D4594[832520] = 0;
  if ( *(_DWORD *)&byte_5D4594[832524] )
    sub_45A4B0(*(_QWORD **)&byte_5D4594[832524]);
  *(_DWORD *)&byte_5D4594[832524] = 0;
  if ( *(_DWORD *)&byte_5D4594[832528] )
    sub_45A4B0(*(_QWORD **)&byte_5D4594[832528]);
  *(_DWORD *)&byte_5D4594[832528] = 0;
  if ( *(_DWORD *)&byte_5D4594[832532] )
    sub_45A4B0(*(_QWORD **)&byte_5D4594[832532]);
  result = *(_DWORD *)&byte_5D4594[832536];
  *(_DWORD *)&byte_5D4594[832532] = 0;
  if ( *(_DWORD *)&byte_5D4594[832536] )
    result = sub_45A4B0(*(_QWORD **)&byte_5D4594[832536]);
  *(_DWORD *)&byte_5D4594[832536] = 0;
  return result;
}

//----- (00450750) --------------------------------------------------------
unsigned __int8 sub_450750()
{
  return byte_5D4594[831252];
}

//----- (00450760) --------------------------------------------------------
char __cdecl sub_450760(char a1)
{
  char result; // al

  result = a1;
  byte_5D4594[831252] = a1;
  return result;
}

//----- (00450770) --------------------------------------------------------
int __cdecl sub_450770(int a1)
{
  size_t v1; // ebx
  unsigned __int8 *v2; // esi
  unsigned __int16 *v3; // edi
  _DWORD *v4; // esi
  unsigned __int16 *v5; // eax
  unsigned __int16 *v6; // eax
  unsigned __int16 *v7; // eax
  unsigned __int16 *v8; // eax
  int v9; // eax

  memset(&byte_5D4594[832364], 0, 0x60u);
  *(_DWORD *)&byte_5D4594[832356] = 0;
  v1 = 0;
  *(_DWORD *)&byte_5D4594[832356] = *(unsigned __int16 *)(a1 + 2);
  *(_DWORD *)&byte_5D4594[831228] = *(unsigned __int16 *)(a1 + 4);
  v2 = &byte_5D4594[832368];
  v3 = (unsigned __int16 *)(a1 + 6);
  do
  {
    if ( *v3 )
    {
      *((_DWORD *)v2 - 1) = sub_417040(*v3);
      *(_WORD *)v2 = v3[4];
      *((_WORD *)v2 + 1) = v3[1];
      *((_WORD *)v2 + 2) = v3[2];
      *((_WORD *)v2 + 3) = v3[3];
      *((_DWORD *)v2 + 2) = *(_DWORD *)(v3 + 5);
      ++v1;
    }
    v2 += 16;
    v3 += 7;
  }
  while ( (int)v2 < (int)&byte_5D4594[832464] );
  qsort(&byte_5D4594[832364], v1, 0x10u, sub_450960);
  if ( !*(_DWORD *)&byte_5D4594[832476] )
  {
    v4 = sub_46B0C0(*(_DWORD **)&byte_5D4594[831232], 1010);
    v5 = sub_40F1D0((char *)&byte_587000[126092], 0, (const char *)&byte_587000[126052], 1656);
    sub_43F840(v4[59], v5, &a1, 0, 0);
    if ( a1 > *(int *)&byte_5D4594[832476] )
      *(_DWORD *)&byte_5D4594[832476] = a1;
    v6 = sub_40F1D0((char *)&byte_587000[126164], 0, (const char *)&byte_587000[126124], 1660);
    sub_43F840(v4[59], v6, &a1, 0, 0);
    if ( a1 > *(int *)&byte_5D4594[832476] )
      *(_DWORD *)&byte_5D4594[832476] = a1;
    v7 = sub_40F1D0((char *)&byte_587000[126224], 0, (const char *)&byte_587000[126184], 1664);
    sub_43F840(v4[59], v7, &a1, 0, 0);
    if ( a1 > *(int *)&byte_5D4594[832476] )
      *(_DWORD *)&byte_5D4594[832476] = a1;
    v8 = sub_40F1D0((char *)&byte_587000[126292], 0, (const char *)&byte_587000[126252], 1668);
    sub_43F840(v4[59], v8, &a1, 0, 0);
    v9 = *(_DWORD *)&byte_5D4594[832476];
    if ( a1 > *(int *)&byte_5D4594[832476] )
    {
      v9 = a1;
      *(_DWORD *)&byte_5D4594[832476] = a1;
    }
    if ( v9 > 85 )
      *(_DWORD *)&byte_5D4594[832476] = 85;
  }
  return sub_450160(254, 1, 1);
}

//----- (00450960) --------------------------------------------------------
int __cdecl sub_450960(const void *a1, const void *a2)
{
  unsigned int v2; // eax
  unsigned int v3; // ecx
  int result; // eax

  v2 = *((_DWORD *)a1 + 3);
  v3 = *((_DWORD *)a2 + 3);
  if ( v2 == v3 )
    result = 0;
  else
    result = v2 < v3 ? 1 : -1;
  return result;
}

//----- (00450980) --------------------------------------------------------
int __cdecl sub_450980(int a1, int a2)
{
  char *v2; // eax
  wchar_t *v3; // eax
  int result; // eax

  *(_DWORD *)&byte_5D4594[832480] = 0;
  sub_431510();
  sub_45ACA0(1);
  sub_446780();
  v2 = sub_42F970((const char *)(a1 + 5));
  sub_450AD0(v2);
  if ( strlen((const char *)(a1 + 37)) )
  {
    v3 = sub_40F1D0((char *)(a1 + 37), 0, (const char *)&byte_587000[126316], 1714);
    sub_450AF0((int)v3);
  }
  else
  {
    sub_450AF0((int)&byte_5D4594[832544]);
  }
  sub_450B00(*(unsigned __int16 *)(a1 + 2));
  if ( *(_BYTE *)(a1 + 4) & 2 )
    *(_DWORD *)&byte_5D4594[832480] = 1;
  result = a2;
  if ( a2 )
    result = sub_450160(254, 1, 2);
  return result;
}

//----- (00450A30) --------------------------------------------------------
int __cdecl sub_450A30(int a1, int a2)
{
  char *v2; // eax
  wchar_t *v3; // eax
  int result; // eax

  *(_DWORD *)&byte_5D4594[832480] = 0;
  sub_431510();
  sub_45ACA0(1);
  sub_446780();
  v2 = sub_42F970((const char *)(a1 + 5));
  sub_450AD0(v2);
  if ( strlen((const char *)(a1 + 37)) )
  {
    v3 = sub_40F1D0((char *)(a1 + 37), 0, (const char *)&byte_587000[126356], 1756);
    sub_450AF0((int)v3);
  }
  else
  {
    sub_450AF0((int)&byte_5D4594[832548]);
  }
  sub_450B00(*(unsigned __int16 *)(a1 + 2));
  result = a2;
  if ( a2 )
    result = sub_450160(254, 1, 4);
  return result;
}

//----- (00450AD0) --------------------------------------------------------
char *__cdecl sub_450AD0(char *a1)
{
  char *result; // eax

  result = a1;
  if ( !a1 )
    result = sub_42F970((const char *)&byte_587000[126396]);
  *(_DWORD *)&byte_5D4594[832460] = result;
  return result;
}

//----- (00450AF0) --------------------------------------------------------
int __cdecl sub_450AF0(int a1)
{
  int result; // eax

  result = a1;
  *(_DWORD *)&byte_5D4594[832464] = a1;
  return result;
}

//----- (00450B00) --------------------------------------------------------
int __cdecl sub_450B00(int a1)
{
  int result; // eax

  result = a1;
  *(_DWORD *)&byte_5D4594[832468] = a1;
  return result;
}

//----- (00450B10) --------------------------------------------------------
int sub_450B10()
{
  return *(_DWORD *)&byte_5D4594[832468];
}

//----- (00450B20) --------------------------------------------------------
wchar_t *__cdecl sub_450B20(wchar_t *a1)
{
  wchar_t *result; // eax

  result = a1;
  if ( a1 )
  {
    if ( *a1 )
    {
      result = nox_wcscpy((wchar_t *)&byte_5D4594[832552], a1);
      *(_DWORD *)&byte_5D4594[833728] = 1;
    }
  }
  return result;
}

//----- (00450B50) --------------------------------------------------------
int sub_450B50()
{
  int result; // eax

  result = 0;
  *(_WORD *)&byte_5D4594[832552] = 0;
  *(_DWORD *)&byte_5D4594[833728] = 0;
  *(_DWORD *)&byte_5D4594[833732] = 0;
  return result;
}

//----- (00450B70) --------------------------------------------------------
int sub_450B70()
{
  return sub_46B490(*(int *)&byte_5D4594[833720], 16399, 0, 0);
}

//----- (00450B90) --------------------------------------------------------
int __cdecl sub_450B90(unsigned __int8 a1, int a2)
{
  if ( *(_DWORD *)&byte_5D4594[833724] )
    sub_46B490(*(int *)&byte_5D4594[833720], 16397, a2, a1);
  if ( sub_579740() )
    sub_579750(a2);
  return 1;
}

//----- (00450BE0) --------------------------------------------------------
void sub_450BE0()
{
  *(_DWORD *)&byte_5D4594[833724] = 1;
}

//----- (00450BF0) --------------------------------------------------------
void sub_450BF0()
{
  *(_DWORD *)&byte_5D4594[833724] = 0;
}

//----- (00450C00) --------------------------------------------------------
int sub_450C00(unsigned __int8 a1, wchar_t *a2, ...)
{
  va_list va; // [esp+Ch] [ebp+Ch]

  va_start(va, a2);
  nox_vswprintf((wchar_t *)&byte_5D4594[832680], a2, va);
  return sub_450B90(a1, (int)&byte_5D4594[832680]);
}

//----- (00450C30) --------------------------------------------------------
wchar_t *__cdecl sub_450C30(unsigned __int8 a1, int a2)
{
  wchar_t *result; // eax

  if ( a2 )
    return (wchar_t *)sub_450B90(a1, a2);
  result = sub_40F1D0((char *)&byte_587000[126456], 0, (const char *)&byte_587000[126420], 97);
  if ( result )
    result = (wchar_t *)sub_450B90(a1, (int)result);
  return result;
}

//----- (00450C70) --------------------------------------------------------
int sub_450C70()
{
  int v0; // esi
  wchar_t *v1; // eax
  int result; // eax
  char v3[56]; // [esp+Ch] [ebp-5A4h]
  char v4[332]; // [esp+44h] [ebp-56Ch]
  unsigned __int8 v5[1056]; // [esp+190h] [ebp-420h]

  v0 = *(_DWORD *)&byte_5D4594[2650660];
  *(_DWORD *)&byte_5D4594[833704] = *(_DWORD *)&byte_5D4594[3805496] - 1;
  *(_DWORD *)&byte_5D4594[833708] = *(int *)&byte_5D4594[3807120] / 2;
  *(_DWORD *)&byte_5D4594[833712] = sub_46C3E0(
                                      0,
                                      56,
                                      0,
                                      0,
                                      *(_DWORD *)&byte_5D4594[3805496] - 1,
                                      *(int *)&byte_5D4594[3807120] / 2,
                                      0);
  sub_46B430(*(_DWORD **)&byte_5D4594[833712], sub_450E80, sub_450E90, 0);
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[833712] + 56) = *(_DWORD *)&byte_5D4594[2650656];
  memset(v4, 0, sizeof(v4));
  *(_DWORD *)&v4[36] = 2147483648;
  *(_DWORD *)&v4[52] = 2147483648;
  *(_DWORD *)&v4[24] = 0;
  memset(v3, 0, sizeof(v3));
  *(_DWORD *)&v4[48] = 0;
  *(_DWORD *)&v4[28] = v0;
  *(_DWORD *)&v4[68] = v0;
  *(_WORD *)&v3[2] = 0x0a;
  *(_WORD *)&v3[0] = 0x80;
  *(_DWORD *)&v3[4] = 1;
  *(_DWORD *)&v3[8] = 1;
  *(_DWORD *)&v3[12] = 1;
  *(_DWORD *)&v3[16] = 0;
  v1 = sub_401020();
  nox_wcsncpy((wchar_t *)&v4[72], v1, 0x40u);
  *(_WORD *)&v4[198] = 0;
  *(_DWORD *)&v4[8] = 32;
  *(_DWORD *)&byte_5D4594[833720] = sub_4A4310(
                                      *(int *)&byte_5D4594[833712],
                                      1152,
                                      0,
                                      0,
                                      *(int *)&byte_5D4594[833704],
                                      *(_DWORD *)&byte_5D4594[833708] - 20,
                                      (int)v4,
                                      (__int16 *)v3);
  *(_DWORD *)&v4[44] = v0;
  *(_DWORD *)&v4[28] = v0;
  *(_DWORD *)&v4[36] = v0;
  *(_DWORD *)&v4[52] = v0;
  *(_DWORD *)&v4[68] = v0;
  *(_WORD *)&v5[1042] = *(_WORD *)&byte_5D4594[833704];
  nox_wcscpy((wchar_t *)v5, (const wchar_t *)&byte_5D4594[833736]);
  *(_WORD *)&v5[1040] = 128;
  *(_DWORD *)&v5[1024] = 0;
  *(_DWORD *)&v5[1028] = 0;
  *(_DWORD *)&v5[1032] = 0;
  *(_DWORD *)&v5[1036] = 0;
  nox_wcscpy((wchar_t *)&v4[72], (const wchar_t *)&byte_5D4594[833740]);
  *(_DWORD *)&v4[8] = 128;
  *(_DWORD *)&byte_5D4594[833716] = sub_488500(
                                      *(int *)&byte_5D4594[833712],
                                      16393,
                                      0,
                                      *(_DWORD *)&byte_5D4594[833708] - 20,
                                      *(int *)&byte_5D4594[833704],
                                      20,
                                      (int)v4,
                                      (wchar_t *)v5);
  sub_46B300(*(int *)&byte_5D4594[833716], sub_450F40);
  result = *(_DWORD *)&byte_5D4594[833712];
  *(_DWORD *)&byte_5D4594[833728] = 0;
  *(_DWORD *)&byte_5D4594[833732] = 0;
  *(_WORD *)&byte_5D4594[832552] = 0;
  return result;
}

//----- (00450E80) --------------------------------------------------------
int sub_450E80()
{
  return 0;
}

//----- (00450E90) --------------------------------------------------------
int __cdecl sub_450E90(int a1, int a2)
{
  int xLeft; // [esp+4h] [ebp-8h]
  int yTop; // [esp+8h] [ebp-4h]

  sub_46AA60((_DWORD *)a1, &xLeft, &yTop);
  if ( *(_BYTE *)(a1 + 4) & 0x80 )
  {
    sub_47D2C0(*(_DWORD *)(a2 + 24), xLeft, yTop);
    return 1;
  }
  if ( *(_DWORD *)(a2 + 20) != 0x80000000 )
  {
    if ( *(_DWORD *)&byte_587000[80824] )
    {
      sub_49CF10(xLeft, yTop, *(_DWORD *)(a1 + 8), *(_DWORD *)(a1 + 12));
      return 1;
    }
    sub_434460(*(_DWORD *)(a2 + 20));
    sub_49CE30(xLeft, yTop, *(_DWORD *)(a1 + 8), *(_DWORD *)(a1 + 12));
  }
  return 1;
}

//----- (00450F40) --------------------------------------------------------
int __cdecl sub_450F40(_DWORD *a1, int a2, int a3, int a4)
{
  _DWORD *v4; // eax

  if ( a2 != 21 )
    return sub_487D70(a1, a2, a3, a4);
  v4 = sub_42CD70();
  if ( v4 )
  {
    while ( v4[9] != 11 || a3 != *v4 )
    {
      v4 = (_DWORD *)v4[19];
      if ( !v4 )
        goto LABEL_6;
    }
    if ( a4 == 2 )
    {
      sub_451350();
      return 1;
    }
    return 1;
  }
LABEL_6:
  if ( a3 == 1 )
  {
    if ( a4 == 2 )
      sub_49B7A0();
  }
  else
  {
    if ( a3 != 28 )
      return sub_487D70(a1, a2, a3, a4);
    if ( a4 == 2 )
    {
      sub_450FD0();
      return 1;
    }
  }
  return 1;
}

//----- (00450FD0) --------------------------------------------------------
int sub_450FD0()
{
  wchar_t *v0; // esi
  size_t v1; // eax
  wchar_t *v3; // [esp-14h] [ebp-218h]
  wchar_t *v4; // [esp-14h] [ebp-218h]
  wchar_t v5[256]; // [esp+4h] [ebp-200h]

  if ( !*(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[833716] + 32) + 1044) )
  {
    v0 = (wchar_t *)sub_46B490(*(int *)&byte_5D4594[833716], 16413, 0, 0);
    if ( *(_DWORD *)&byte_5D4594[833732] && *(_WORD *)&byte_5D4594[832552] )
    {
      if ( _nox_wcsicmp(v0, (const wchar_t *)&byte_5D4594[832552]) )
      {
        v4 = sub_40F1D0((char *)&byte_587000[126560], 0, (const char *)&byte_587000[126524], 124);
        sub_450C30(4u, (int)v4);
      }
      else
      {
        *(_DWORD *)&byte_5D4594[833732] = 0;
        v3 = sub_40F1D0((char *)&byte_587000[126508], 0, (const char *)&byte_587000[126472], 121);
        sub_450C30(6u, (int)v3);
      }
      sub_46B490(*(int *)&byte_5D4594[833716], 16414, (int)&byte_5D4594[833744], 0);
    }
    else
    {
      nox_wcscpy(v5, (const wchar_t *)&byte_587000[126576]);
      nox_wcscat(v5, v0);
      sub_450B90(4u, (int)v5);
      if ( v0 )
      {
        if ( *(_DWORD *)&byte_5D4594[2650636] & 0x200000 )
        {
          v1 = nox_wcslen(v0);
          sub_4D33E0(v0, v1 + 1);
        }
        sub_443C80(v0, 0);
      }
      sub_46B490(*(int *)&byte_5D4594[833716], 16414, (int)&byte_5D4594[833748], 0);
    }
  }
  return 1;
}

//----- (00451100) --------------------------------------------------------
int sub_451100()
{
  int v0; // ecx
  _DWORD *v1; // eax
  int v2; // edx
  int v3; // edx
  int v4; // edx
  int v5; // edx
  int result; // eax

  v0 = *(_DWORD *)&byte_5D4594[2650660];
  if ( *(_DWORD *)&byte_5D4594[833712] )
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[833712] + 56) = *(_DWORD *)&byte_5D4594[2650656];
  if ( *(_DWORD *)&byte_5D4594[833720] )
  {
    v1 = *(_DWORD **)(*(_DWORD *)&byte_5D4594[833720] + 32);
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[833720] + 56) = 2147483648;
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[833720] + 80) = 2147483648;
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[833720] + 64) = v0;
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[833720] + 72) = v0;
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[833720] + 88) = 2147483648;
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[833720] + 104) = v0;
    v2 = v1[9];
    if ( v2 )
    {
      *(_DWORD *)(v2 + 56) = *(_DWORD *)&byte_5D4594[2650656];
      *(_DWORD *)(v1[9] + 80) = *(_DWORD *)&byte_5D4594[2650656];
      *(_DWORD *)(v1[9] + 64) = v0;
      *(_DWORD *)(v1[9] + 72) = *(_DWORD *)&byte_5D4594[2650656];
      *(_DWORD *)(v1[9] + 88) = v0;
      v3 = *(_DWORD *)(v1[9] + 400);
      if ( v3 )
      {
        *(_DWORD *)(v3 + 56) = *(_DWORD *)&byte_5D4594[2650656];
        *(_DWORD *)(*(_DWORD *)(v1[9] + 400) + 80) = *(_DWORD *)&byte_5D4594[2650656];
        *(_DWORD *)(*(_DWORD *)(v1[9] + 400) + 64) = v0;
        *(_DWORD *)(*(_DWORD *)(v1[9] + 400) + 72) = *(_DWORD *)&byte_5D4594[2650656];
        *(_DWORD *)(*(_DWORD *)(v1[9] + 400) + 88) = *(_DWORD *)&byte_5D4594[2650656];
      }
    }
    v4 = v1[7];
    if ( v4 )
    {
      *(_DWORD *)(v4 + 56) = *(_DWORD *)&byte_5D4594[2650656];
      *(_DWORD *)(v1[7] + 80) = *(_DWORD *)&byte_5D4594[2650656];
      *(_DWORD *)(v1[7] + 64) = v0;
      *(_DWORD *)(v1[7] + 72) = *(_DWORD *)&byte_5D4594[2523948];
      *(_DWORD *)(v1[7] + 88) = v0;
      *(_DWORD *)(v1[7] + 104) = v0;
    }
    v5 = v1[8];
    if ( v5 )
    {
      *(_DWORD *)(v5 + 56) = *(_DWORD *)&byte_5D4594[2650656];
      *(_DWORD *)(v1[8] + 80) = *(_DWORD *)&byte_5D4594[2650656];
      *(_DWORD *)(v1[8] + 64) = v0;
      *(_DWORD *)(v1[8] + 72) = *(_DWORD *)&byte_5D4594[2523948];
      *(_DWORD *)(v1[8] + 88) = v0;
      *(_DWORD *)(v1[8] + 104) = v0;
    }
  }
  result = *(_DWORD *)&byte_5D4594[833716];
  if ( *(_DWORD *)&byte_5D4594[833716] )
  {
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[833716] + 56) = *(_DWORD *)&byte_5D4594[2650656];
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[833716] + 80) = v0;
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[833716] + 64) = v0;
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[833716] + 72) = v0;
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[833716] + 88) = v0;
    result = *(_DWORD *)&byte_5D4594[833716];
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[833716] + 104) = v0;
  }
  return result;
}

//----- (004512B0) --------------------------------------------------------
int sub_4512B0()
{
  if ( sub_46ACC0(*(int *)&byte_5D4594[833712]) )
    return 0;
  if ( sub_46B4F0() == *(_DWORD *)&byte_5D4594[833716] )
    sub_46B500(0);
  sub_46AC00(*(int *)&byte_5D4594[833712], 1);
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[833712] + 4) &= 0xFFFFFFF7;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[833716] + 4) &= 0xFFFFFFF7;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[833720] + 4) &= 0xFFFFFFF7;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[833716] + 36) &= 0xFFFFFFFB;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[833716] + 36) &= 0xFFFFFFFD;
  *(_DWORD *)&byte_5D4594[3799524] = 1;
  return 1;
}

//----- (00451350) --------------------------------------------------------
int sub_451350()
{
  int result; // eax
  wchar_t *v1; // eax

  if ( !(sub_46ADA0(*(int *)&byte_5D4594[833712]) & 0x10) )
    return sub_4512B0();
  result = sub_446360();
  if ( !result )
  {
    sub_46A8C0(*(int *)&byte_5D4594[833712]);
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[833712] + 4) |= 8u;
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[833720] + 4) |= 8u;
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[833716] + 4) |= 8u;
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[833716] + 4) |= 1u;
    sub_46B500(*(int *)&byte_5D4594[833716]);
    result = *(_DWORD *)&byte_5D4594[833728];
    if ( *(_DWORD *)&byte_5D4594[833728] )
    {
      sub_450B70();
      v1 = sub_40F1D0((char *)&byte_587000[126620], 0, (const char *)&byte_587000[126584], 459);
      result = sub_450C00(4u, v1);
      *(_DWORD *)&byte_5D4594[833732] = 1;
    }
  }
  return result;
}

//----- (00451410) --------------------------------------------------------
int sub_451410()
{
  return ((unsigned __int8)~sub_46ADA0(*(int *)&byte_5D4594[833712]) >> 4) & 1;
}

//----- (00451430) --------------------------------------------------------
void sub_451430()
{
  int v0; // eax

  if ( *(_DWORD *)&byte_5D4594[3807120] == 480 || *(_DWORD *)&byte_5D4594[3805496] == 640 )
  {
    v0 = sub_43F320(0);
    if ( *(_DWORD *)&byte_5D4594[839884] )
    {
      if ( *(_DWORD *)&byte_5D4594[839888] )
      {
        *(_DWORD *)&byte_5D4594[839884] = 0;
        *(_DWORD *)&byte_5D4594[839888] = 0;
      }
      else
      {
        *(_DWORD *)&byte_5D4594[839884] = 320;
        *(_DWORD *)&byte_5D4594[839888] = *(_DWORD *)&byte_5D4594[3807120] - 21 * v0;
      }
    }
    else if ( *(_DWORD *)&byte_5D4594[839888] )
    {
      *(_DWORD *)&byte_5D4594[839884] = 320;
      *(_DWORD *)&byte_5D4594[839888] = 0;
    }
    else
    {
      *(_DWORD *)&byte_5D4594[839888] = *(_DWORD *)&byte_5D4594[3807120] - 21 * v0;
    }
  }
}

//----- (004514F0) --------------------------------------------------------
int sub_4514F0()
{
  int result; // eax
  int v1; // edi
  int v2; // esi
  unsigned __int8 *v3; // ebx

  result = *(_DWORD *)&byte_5D4594[823776];
  if ( *(_DWORD *)&byte_5D4594[823776] )
  {
    v1 = sub_43F320(0);
    sub_434460(*(int *)&byte_5D4594[2650656]);
    sub_49CE30(*(int *)&byte_5D4594[839884], *(int *)&byte_5D4594[839888], 320, 21 * v1);
    sub_434460(1);
    sub_49CC70(*(int *)&byte_5D4594[839884], *(int *)&byte_5D4594[839888], 320, 21 * v1);
    sub_434390(1);
    result = *(_DWORD *)&byte_5D4594[839888];
    v2 = *(_DWORD *)&byte_5D4594[839888] + 20 * v1;
    if ( v2 > 0 )
    {
      v3 = &byte_5D4594[835800];
      do
      {
        if ( (int)v3 >= (int)&byte_5D4594[835880] )
          break;
        result = sub_43FAF0(0, *(_WORD **)v3, *(_DWORD *)&byte_5D4594[839884] + 4, v2, 316, 0);
        v2 -= v1;
        v3 += 4;
      }
      while ( v2 > 0 );
    }
  }
  return result;
}

//----- (004515B0) --------------------------------------------------------
wchar_t *sub_4515B0(wchar_t *a1, ...)
{
  wchar_t *v1; // esi
  va_list va; // [esp+8h] [ebp+8h]

  va_start(va, a1);
  if ( !*(_DWORD *)&byte_5D4594[839880] )
    sub_451630();
  v1 = (wchar_t *)sub_451610();
  nox_swprintf((wchar_t *)&byte_5D4594[833752], a1, va);
  fprintf(*(FILE **)&byte_5D4594[839880], (const char *)&byte_587000[126660], &byte_5D4594[833752]);
  fflush(*(FILE **)&byte_5D4594[839880]);
  return nox_wcsncpy(v1, (const wchar_t *)&byte_5D4594[833752], 0x63u);
}

//----- (00451610) --------------------------------------------------------
int sub_451610()
{
  int result; // eax
  unsigned __int8 *v1; // ecx

  result = *(_DWORD *)&byte_5D4594[835876];
  v1 = &byte_5D4594[835876];
  do
  {
    *(_DWORD *)v1 = *((_DWORD *)v1 - 1);
    v1 -= 4;
  }
  while ( (int)v1 > (int)&byte_5D4594[835800] );
  *(_DWORD *)&byte_5D4594[835800] = result;
  return result;
}

//----- (00451630) --------------------------------------------------------
unsigned __int8 *sub_451630()
{
  unsigned __int8 *v1; // ecx
  unsigned __int8 *result; // eax
  wchar_t *v3; // [esp-Ch] [ebp-Ch]
  wchar_t *v4; // [esp-8h] [ebp-8h]

  *(_DWORD *)&byte_5D4594[839880] = fopen("log", "w");
  if ( !*(_DWORD *)&byte_5D4594[839880] )
  {
    v4 = sub_40F1D0((char *)&byte_587000[126708], 0, (const char *)&byte_587000[126672], 272);
    v3 = sub_40F1D0((char *)&byte_587000[126756], 0, (const char *)&byte_587000[126720], 271);
    nullsub_4(sub_401FD0(), v3, v4, 0);
    exit(0);
  }
  v1 = &byte_5D4594[835880];
  result = &byte_5D4594[835800];
  do
  {
    *(_DWORD *)result = v1;
    *(_WORD *)v1 = 0;
    result += 4;
    v1 += 200;
  }
  while ( (int)result < (int)&byte_5D4594[835880] );
  return result;
}
// 4514E0: using guessed type void __cdecl nullsub_4(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (004517A0) --------------------------------------------------------
wchar_t *sub_4517A0(wchar_t *a1, ...)
{
  wchar_t *v1; // esi
  wchar_t *v2; // eax
  wchar_t *v5; // [esp-Ch] [ebp-Ch]
  va_list va; // [esp+8h] [ebp+8h]

  va_start(va, a1);
  if ( !*(_DWORD *)&byte_5D4594[839880] )
    sub_451630();
  v1 = (wchar_t *)sub_451610();
  v2 = sub_40F1D0((char *)&byte_587000[126924], 0, (const char *)&byte_587000[126888], 355);
  nox_swprintf((wchar_t *)&byte_5D4594[833752], v2);
  nox_vswprintf((wchar_t *)&byte_5D4594[833770], a1, va);
  fprintf(*(FILE **)&byte_5D4594[839880], (const char *)&byte_587000[126940], &byte_5D4594[833752]);
  fflush(*(FILE **)&byte_5D4594[839880]);
  v5 = sub_40F1D0((char *)&byte_587000[126980], 0, (const char *)&byte_587000[126944], 365);
  nullsub_4(sub_401FD0(), &byte_5D4594[833752], v5, 0);
  return nox_wcsncpy(v1, (const wchar_t *)&byte_5D4594[833752], 0x63u);
}
// 4514E0: using guessed type void __cdecl nullsub_4(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (00451850) --------------------------------------------------------
int __cdecl sub_451850(int a2, int a3)
{
  int v2; // edi
  unsigned __int8 *v3; // esi
  int result; // eax

  v2 = 0;
  v3 = &byte_5D4594[840712];
  do
  {
    sub_451920((_DWORD *)v3 - 21);
    *(_DWORD *)v3 = sub_40AF80(v2);
    v3 += 200;
    ++v2;
  }
  while ( (int)v3 < (int)&byte_5D4594[1045312] );
  *(_DWORD *)&byte_5D4594[1045420] = a3;
  *(_DWORD *)&byte_5D4594[1045428] = a2;
  if ( a3 )
  {
    *(_DWORD *)&byte_5D4594[1045424] = sub_4BD340(a3, 0x100000, 200, 0x2000);
    *(_DWORD *)&byte_5D4594[1045436] = sub_4BD280(200, 576);
  }
  if ( !*(_DWORD *)&byte_5D4594[1045424]
    || !*(_DWORD *)&byte_5D4594[1045420]
    || !*(_DWORD *)&byte_5D4594[1045428]
    || !*(_DWORD *)&byte_5D4594[1045436] )
  {
    return 0;
  }
  sub_425760(&byte_5D4594[840612]);
  sub_4864A0(&byte_5D4594[1045228]);
  result = 1;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045428] + 184) = &byte_5D4594[1045228];
  *(_DWORD *)&byte_5D4594[1045432] = 1;
  return result;
}

//----- (00451920) --------------------------------------------------------
int __cdecl sub_451920(_DWORD *a2)
{
  *a2 = 0;
  a2[1] = 0;
  a2[2] = 0;
  a2[14] = 0;
  a2[15] = 0;
  a2[19] = 0;
  a2[20] = 0;
  a2[12] = 1;
  a2[48] = 0;
  a2[18] = 0;
  a2[17] = 0;
  a2[25] = 0;
  a2[26] = 0;
  a2[16] = 600;
  return sub_4862E0((int)(a2 + 4), 0x4000);
}

//----- (00451970) --------------------------------------------------------
void sub_451970()
{
  sub_4521F0();
  sub_452230();
  if ( *(_DWORD *)&byte_5D4594[1045424] )
  {
    sub_4BD3C0(*(LPVOID *)&byte_5D4594[1045424]);
    *(_DWORD *)&byte_5D4594[1045424] = 0;
  }
  if ( *(_DWORD *)&byte_5D4594[1045436] )
  {
    sub_4BD2D0(*(LPVOID *)&byte_5D4594[1045436]);
    *(_DWORD *)&byte_5D4594[1045436] = 0;
  }
  *(_DWORD *)&byte_5D4594[1045432] = 0;
}

//----- (004519C0) --------------------------------------------------------
int sub_4519C0()
{
  int result; // eax
  int v1; // esi
  int v2; // eax
  int v3; // ebp
  int v4; // eax
  unsigned __int8 *v5; // edi
  unsigned __int8 *v6; // esi
  unsigned __int8 *v7; // edi
  int v8; // eax
  int v9; // eax
  int v10; // eax

  result = *(_DWORD *)&byte_5D4594[1045432];
  if ( *(_DWORD *)&byte_5D4594[1045432] )
  {
    result = *(_DWORD *)&byte_5D4594[1045448];
    if ( !*(_DWORD *)&byte_5D4594[1045448] )
    {
      *(_DWORD *)&byte_5D4594[1045448] = 1;
      sub_486520(*(unsigned int **)&byte_587000[127004]);
      v1 = *(_DWORD *)&byte_5D4594[840612];
      ++*(_DWORD *)&byte_5D4594[1045440];
      if ( *(unsigned __int8 **)&byte_5D4594[840612] != &byte_5D4594[840612] )
      {
        do
        {
          v2 = *(_DWORD *)(v1 + 36);
          if ( *(_DWORD *)(v2 + 100) != *(_DWORD *)&byte_5D4594[1045440] )
          {
            sub_425760((_DWORD *)(v2 + 88));
            *(_DWORD *)(*(_DWORD *)(v1 + 36) + 52) = 0;
            *(_DWORD *)(*(_DWORD *)(v1 + 36) + 100) = *(_DWORD *)&byte_5D4594[1045440];
          }
          sub_486520((unsigned int *)(v1 + 184));
          if ( *(_DWORD *)(v1 + 28) != 4 )
            sub_451BE0(v1);
          v1 = *(_DWORD *)v1;
        }
        while ( (unsigned __int8 *)v1 != &byte_5D4594[840612] );
        v1 = *(_DWORD *)&byte_5D4594[840612];
        if ( *(unsigned __int8 **)&byte_5D4594[840612] != &byte_5D4594[840612] )
        {
          do
          {
            sub_452510(v1);
            v1 = *(_DWORD *)v1;
          }
          while ( (unsigned __int8 *)v1 != &byte_5D4594[840612] );
          v1 = *(_DWORD *)&byte_5D4594[840612];
        }
      }
      v3 = 0;
      sub_452010();
      if ( (unsigned __int8 *)v1 == &byte_5D4594[840612] )
        goto LABEL_35;
      do
      {
        v4 = *(_DWORD *)(v1 + 176);
        v5 = *(unsigned __int8 **)v1;
        if ( !v4 || v1 != *(_DWORD *)(v4 + 152) )
          sub_4523D0((_DWORD *)v1);
        if ( *(_BYTE *)(v1 + 24) & 1 )
        {
          sub_451FE0(v1);
        }
        else
        {
          v3 += (unsigned int)(33 * (*(_DWORD *)(*(_DWORD *)(v1 + 36) + 20) >> 16)) >> 14;
          sub_452050((_DWORD *)v1);
        }
        v1 = (int)v5;
      }
      while ( v5 != &byte_5D4594[840612] );
      if ( v3 <= 100 )
LABEL_35:
        sub_486350((int)&byte_5D4594[1045228], 0x4000);
      else
        sub_486350((int)&byte_5D4594[1045228], 0x190000u / v3);
      result = sub_486520((unsigned int *)&byte_5D4594[1045228]);
      v6 = *(unsigned __int8 **)&byte_5D4594[840612];
      if ( *(unsigned __int8 **)&byte_5D4594[840612] != &byte_5D4594[840612] )
      {
        do
        {
          v7 = *(unsigned __int8 **)v6;
          result = *((_DWORD *)v6 + 7);
          if ( result == 1 )
          {
            sub_451DC0((int)v6);
            v8 = sub_451CA0(v6);
            *((_DWORD *)v6 + 74) = v8;
            if ( !v8 )
            {
              do
              {
                if ( !sub_452120((int)v6) )
                  break;
                v7 = *(unsigned __int8 **)v6;
                sub_451DC0((int)v6);
                v9 = sub_451CA0(v6);
                *((_DWORD *)v6 + 74) = v9;
              }
              while ( !v9 );
            }
            v10 = sub_451CA0(v6);
            *((_DWORD *)v6 + 74) = v10;
            if ( !v10 || (result = sub_452490(v6)) == 0 )
            {
              sub_4523D0(v6);
              result = sub_451FE0((int)v6);
            }
          }
          v6 = v7;
        }
        while ( v7 != &byte_5D4594[840612] );
      }
      *(_DWORD *)&byte_5D4594[1045448] = 0;
    }
  }
  return result;
}

//----- (00451BE0) --------------------------------------------------------
int __cdecl sub_451BE0(int a1)
{
  int v1; // eax
  int v2; // edi
  unsigned int v3; // ebx
  _DWORD *v4; // esi
  int v5; // eax
  int v6; // eax
  _DWORD *v7; // ebx
  int result; // eax
  int v9; // esi
  _DWORD *v10; // esi

  v1 = a1;
  v2 = *(_DWORD *)(a1 + 36);
  v3 = *(_DWORD *)(a1 + 188) >> 16;
  v4 = *(_DWORD **)(v2 + 88);
  if ( v4 != (_DWORD *)(v2 + 88) )
  {
    do
    {
      v5 = (v4[44] >> 16) - v3;
      if ( v5 < 0 )
        v5 = v3 - (v4[44] >> 16);
      if ( v5 >= (*(_DWORD *)(v2 + 20) >> 16) / 10 )
      {
        if ( v4[44] >> 16 < v3 )
          break;
      }
      else
      {
        v6 = v4[4];
        if ( *(_BYTE *)(v2 + 4) & 0x10 )
        {
          if ( v6 )
            break;
        }
        else if ( !v6 )
        {
          break;
        }
      }
      v4 = (_DWORD *)*v4;
    }
    while ( v4 != (_DWORD *)(v2 + 88) );
    v1 = a1;
  }
  v7 = (_DWORD *)(v1 + 12);
  sub_425770((_DWORD *)(v1 + 12));
  sub_4258E0((int)v4, v7);
  result = *(_DWORD *)(v2 + 56);
  v9 = *(_DWORD *)(v2 + 52) + 1;
  *(_DWORD *)(v2 + 52) = v9;
  if ( result )
  {
    if ( v9 > result )
    {
      v10 = (_DWORD *)(*(_DWORD *)(v2 + 92) - 12);
      sub_425920(*(_DWORD ***)(v2 + 92));
      sub_4523D0(v10);
      result = *(_DWORD *)(v2 + 52) - 1;
      *(_DWORD *)(v2 + 52) = result;
    }
  }
  return result;
}

//----- (00451CA0) --------------------------------------------------------
int __cdecl sub_451CA0(_DWORD *a1)
{
  int v1; // ecx
  int v3; // eax
  _DWORD *v4; // ecx

  v1 = a1[42];
  a1[108] = v1;
  if ( !v1 )
    return 0;
  v3 = 0;
  if ( v1 > 0 )
  {
    v4 = a1 + 76;
    do
    {
      *v4 = v3++;
      ++v4;
    }
    while ( v3 < a1[108] );
  }
  a1[43] = -1;
  return sub_451CF0(a1);
}

//----- (00451CF0) --------------------------------------------------------
int __cdecl sub_451CF0(_DWORD *a1)
{
  int v1; // ecx
  int result; // eax
  int v3; // edx
  int v4; // edi
  int v5; // eax
  int v6; // edi
  int v7; // ecx
  _DWORD *v8; // eax
  int v9; // eax

  v1 = a1[9];
  result = a1[108];
  v3 = *(_DWORD *)(v1 + 4);
  if ( result )
  {
    if ( v3 & 2 )
    {
      v5 = sub_415FF0(0, result - 1, (const char *)&byte_587000[127008], 376);
      v6 = a1[108] - 1;
      a1[43] = a1[v5 + 76];
      v7 = v5;
      if ( v5 < v6 )
      {
        v8 = &a1[v5 + 76];
        do
        {
          ++v7;
          *v8 = v8[1];
          ++v8;
        }
        while ( v7 < a1[108] - 1 );
      }
    }
    else
    {
      ++a1[43];
    }
    v9 = a1[43];
    --a1[108];
    result = sub_4BD710(a1[v9 + 10]);
  }
  else if ( v3 & 1 )
  {
    if ( *(_DWORD *)(v1 + 60) && (v4 = a1[109] + 1, a1[109] = v4, v4 >= *(int *)(v1 + 60)) )
      result = 0;
    else
      result = sub_451CA0(a1);
  }
  return result;
}

//----- (00451DC0) --------------------------------------------------------
int __cdecl sub_451DC0(int a1)
{
  _DWORD *v1; // esi
  int result; // eax
  int v3; // ebx
  int i; // edi
  int v5; // eax
  int v6; // eax

  v1 = *(_DWORD **)(a1 + 36);
  result = *(_DWORD *)(a1 + 168);
  v3 = v1[1];
  if ( result )
  {
    if ( v1[17] < 0x21u )
      return result;
    sub_451F90(a1);
  }
  if ( v3 & 4 )
  {
    if ( v1[17] >= 0x21u )
    {
      v5 = sub_451E80(a1);
      result = sub_451F30(a1, v5);
    }
    else
    {
      result = v1[48];
      for ( i = 0; i < result; ++i )
      {
        sub_451F30(a1, i);
        result = v1[48];
      }
    }
  }
  else if ( v3 & 2 )
  {
    v6 = sub_415FF0(0, v1[48] - 1, (const char *)&byte_587000[127048], 536);
    result = sub_451F30(a1, v6);
  }
  else
  {
    result = sub_451F30(a1, 0);
  }
  return result;
}

//----- (00451E80) --------------------------------------------------------
int __cdecl sub_451E80(int a1)
{
  int v1; // eax
  int v2; // ebx
  int v3; // eax
  int v4; // ecx
  int v5; // edx
  int v6; // eax
  int v7; // edx
  int v8; // eax
  int v9; // edi
  int v10; // ecx
  _DWORD *v11; // eax

  v1 = *(_DWORD *)(a1 + 36);
  v2 = *(_DWORD *)(v1 + 4);
  if ( *(int *)(a1 + 568) <= 0 )
  {
    v3 = *(_DWORD *)(v1 + 192);
    v4 = 0;
    *(_DWORD *)(a1 + 568) = v3;
    if ( v3 > 0 )
    {
      v5 = a1 + 440;
      do
      {
        v5 += 4;
        v6 = v3 - v4++ - 1;
        *(_DWORD *)(v5 - 4) = v6;
        v3 = *(_DWORD *)(a1 + 568);
      }
      while ( v4 < v3 );
    }
  }
  v7 = *(_DWORD *)(a1 + 568) - 1;
  *(_DWORD *)(a1 + 568) = v7;
  if ( !(v2 & 2) )
    return *(_DWORD *)(a1 + 4 * v7 + 440);
  v8 = sub_415FF0(0, v7, (const char *)&byte_587000[127088], 431);
  v9 = *(_DWORD *)(a1 + 4 * v8 + 440);
  v10 = v8;
  if ( v8 < *(int *)(a1 + 568) )
  {
    v11 = (_DWORD *)(a1 + 4 * v8 + 440);
    do
    {
      ++v10;
      *v11 = v11[1];
      ++v11;
    }
    while ( v10 < *(int *)(a1 + 568) );
  }
  return v9;
}

//----- (00451F30) --------------------------------------------------------
int __cdecl sub_451F30(int a1, int a2)
{
  int v2; // edx
  int result; // eax

  *(_DWORD *)(a1 + 4 * *(_DWORD *)(a1 + 168) + 40) = sub_4BD470(
                                                       *(_DWORD ***)&byte_5D4594[1045424],
                                                       *(__int16 *)(*(_DWORD *)(a1 + 36) + 2 * a2 + 128));
  v2 = *(_DWORD *)(a1 + 168);
  result = *(_DWORD *)(a1 + 4 * v2 + 40);
  if ( result )
  {
    sub_4BD650(*(_DWORD *)(a1 + 4 * v2 + 40));
    result = *(_DWORD *)(a1 + 168) + 1;
    *(_DWORD *)(a1 + 168) = result;
  }
  return result;
}

//----- (00451F90) --------------------------------------------------------
int __cdecl sub_451F90(int a1)
{
  int v1; // edi
  int result; // eax
  int *v3; // esi

  v1 = 0;
  result = *(_DWORD *)(a1 + 168);
  if ( result <= 0 )
  {
    *(_DWORD *)(a1 + 168) = 0;
  }
  else
  {
    v3 = (int *)(a1 + 40);
    do
    {
      sub_4BD660(*v3);
      *v3 = 0;
      result = *(_DWORD *)(a1 + 168);
      ++v1;
      ++v3;
    }
    while ( v1 < result );
    *(_DWORD *)(a1 + 168) = 0;
  }
  return result;
}

//----- (00451FE0) --------------------------------------------------------
int __cdecl sub_451FE0(int a1)
{
  sub_425920((_DWORD **)a1);
  *(_DWORD *)(a1 + 280) = 0;
  return sub_4BD300(*(_DWORD **)&byte_5D4594[1045436], a1);
}

//----- (00452010) --------------------------------------------------------
int sub_452010()
{
  unsigned __int8 *v0; // esi
  int v1; // ebx
  int v2; // edi

  v0 = &byte_5D4594[839892];
  v1 = 6;
  do
  {
    v2 = 10;
    do
    {
      sub_425760(v0);
      v0 += 12;
      --v2;
    }
    while ( v2 );
    --v1;
  }
  while ( v1 );
  return ++*(_DWORD *)&byte_5D4594[1045444];
}

//----- (00452050) --------------------------------------------------------
_DWORD *__cdecl sub_452050(_DWORD *a1)
{
  _DWORD *v1; // esi
  int v2; // edi
  unsigned int v3; // ebx
  unsigned __int8 *v4; // ebp
  _DWORD *result; // eax
  _DWORD **v6; // esi
  _DWORD **v7; // esi
  _DWORD *v8; // esi

  v1 = (_DWORD *)a1[9];
  v2 = v1[12] + a1[75];
  v3 = (a1[47] >> 16) / 0x666u;
  v4 = &byte_5D4594[120 * v2 + 839892];
  if ( v1[26] == *(_DWORD *)&byte_5D4594[1045444] )
  {
    result = (_DWORD *)v1[27];
    if ( v2 <= (int)result )
    {
      if ( (_DWORD *)v2 == result && v3 > v1[31] )
      {
        v1[31] = v3;
        v7 = (_DWORD **)(v1 + 28);
        sub_425920(v7);
        result = sub_4258E0((int)&v4[12 * v3], v7);
      }
    }
    else
    {
      v1[27] = v2;
      v1[31] = v3;
      v6 = (_DWORD **)(v1 + 28);
      sub_425920(v6);
      result = sub_4258E0((int)&v4[12 * v3], v6);
    }
  }
  else
  {
    v1[26] = *(_DWORD *)&byte_5D4594[1045444];
    v1[27] = v2;
    v1[31] = v3;
    v8 = v1 + 28;
    sub_425770(v8);
    result = sub_4258E0((int)&v4[12 * v3], v8);
  }
  return result;
}

//----- (00452120) --------------------------------------------------------
int *__cdecl sub_452120(int a1)
{
  int v1; // ebp
  int *result; // eax
  int *v3; // ebx
  unsigned __int8 *v4; // esi
  unsigned __int8 *v5; // edi

  v1 = 0;
  result = sub_4521A0(*(_DWORD *)(a1 + 300) + *(_DWORD *)(*(_DWORD *)(a1 + 36) + 48));
  v3 = result;
  if ( result )
  {
    sub_452190((int)result);
    v4 = *(unsigned __int8 **)&byte_5D4594[840612];
    if ( *(unsigned __int8 **)&byte_5D4594[840612] != &byte_5D4594[840612] )
    {
      do
      {
        v5 = *(unsigned __int8 **)v4;
        if ( *((int **)v4 + 9) == v3 )
        {
          sub_4523D0(v4);
          sub_451FE0((int)v4);
          v1 = 1;
        }
        v4 = v5;
      }
      while ( v5 != &byte_5D4594[840612] );
    }
    result = (int *)v1;
  }
  return result;
}

//----- (00452190) --------------------------------------------------------
_DWORD **__cdecl sub_452190(int a1)
{
  return sub_425920((_DWORD **)(a1 + 112));
}

//----- (004521A0) --------------------------------------------------------
int *__cdecl sub_4521A0(int a1)
{
  int v1; // ebp
  unsigned __int8 *v2; // ebx
  int v3; // edi
  int *v4; // esi
  int *v5; // eax

  v1 = 0;
  v2 = &byte_5D4594[839892];
  if ( a1 > 0 )
  {
    while ( 2 )
    {
      v3 = 0;
      v4 = (int *)v2;
      do
      {
        v5 = sub_425890(v4);
        if ( v5 )
          return v5 - 28;
        ++v3;
        v4 += 3;
      }
      while ( v3 < 10 );
      ++v1;
      v2 += 120;
      if ( v1 < a1 )
        continue;
      break;
    }
  }
  return 0;
}

//----- (004521F0) --------------------------------------------------------
int sub_4521F0()
{
  int result; // eax
  unsigned __int8 *v1; // esi
  unsigned __int8 *v2; // edi

  result = *(_DWORD *)&byte_5D4594[1045432];
  if ( *(_DWORD *)&byte_5D4594[1045432] )
  {
    v1 = *(unsigned __int8 **)&byte_5D4594[840612];
    if ( *(unsigned __int8 **)&byte_5D4594[840612] != &byte_5D4594[840612] )
    {
      do
      {
        v2 = *(unsigned __int8 **)v1;
        sub_4523D0(v1);
        result = sub_451FE0((int)v1);
        v1 = v2;
      }
      while ( v2 != &byte_5D4594[840612] );
    }
  }
  return result;
}

//----- (00452230) --------------------------------------------------------
int *****sub_452230()
{
  int *****result; // eax
  int ****v1; // esi

  result = *(int ******)&byte_5D4594[1045432];
  if ( *(_DWORD *)&byte_5D4594[1045432] )
  {
    result = *(int ******)&byte_5D4594[840612];
    if ( *(unsigned __int8 **)&byte_5D4594[840612] != &byte_5D4594[840612] )
    {
      do
      {
        v1 = *result;
        if ( (_BYTE)result[6] & 1 )
          sub_451FE0((int)result);
        result = (int *****)v1;
      }
      while ( v1 != (int ****)&byte_5D4594[840612] );
    }
  }
  return result;
}

//----- (00452270) --------------------------------------------------------
char *__cdecl sub_452270(int a1)
{
  char *result; // eax

  if ( *(_DWORD *)&byte_5D4594[1045432] && a1 >= 0 && a1 < 1023 )
    result = (char *)&byte_5D4594[200 * a1 + 840628];
  else
    result = 0;
  return result;
}

//----- (004522A0) --------------------------------------------------------
int __cdecl sub_4522A0(int a1)
{
  int result; // eax

  if ( *(_DWORD *)&byte_5D4594[1045432] )
    result = *(_DWORD *)(a1 + 64);
  else
    result = 0;
  return result;
}

//----- (004522C0) --------------------------------------------------------
int __cdecl sub_4522C0(int a1)
{
  int result; // eax

  if ( *(_DWORD *)&byte_5D4594[1045432] )
    result = *(_DWORD *)(a1 + 8);
  else
    result = 0;
  return result;
}

//----- (004522E0) --------------------------------------------------------
char *__cdecl sub_4522E0(int a1)
{
  char *result; // eax

  if ( *(_DWORD *)&byte_5D4594[1045432] )
    result = *(char **)(a1 + 84);
  else
    result = (char *)&byte_587000[127128];
  return result;
}

//----- (00452300) --------------------------------------------------------
_DWORD *__cdecl sub_452300(_DWORD *a1)
{
  _DWORD *v1; // esi

  if ( !*(_DWORD *)&byte_5D4594[1045432] )
    return 0;
  if ( !*(_DWORD *)&byte_587000[126996] )
    return 0;
  if ( !*a1 )
    return 0;
  v1 = sub_4BD2E0(*(_DWORD ***)&byte_5D4594[1045436]);
  if ( !v1 )
  {
    sub_452230();
    v1 = sub_4BD2E0(*(_DWORD ***)&byte_5D4594[1045436]);
    if ( !v1 )
      return 0;
  }
  memset(v1, 0, 0x240u);
  v1[9] = a1;
  sub_425770(v1);
  v1[7] = 0;
  v1[75] = 0;
  v1[142] = 0;
  v1[108] = 0;
  v1[42] = 0;
  sub_4864A0(v1 + 46);
  sub_4258E0((int)&byte_5D4594[840612], v1);
  v1[70] = (*(_DWORD *)&byte_587000[127000])++;
  return v1;
}

//----- (004523D0) --------------------------------------------------------
int __cdecl sub_4523D0(_DWORD *a1)
{
  int result; // eax

  if ( !(a1[6] & 1) )
  {
    sub_452410((int)a1);
    sub_451F90((int)a1);
    a1[7] = 4;
    a1[70] = 0;
    result = a1[6];
    LOBYTE(result) = result | 1;
    a1[6] = result;
  }
  return result;
}

//----- (00452410) --------------------------------------------------------
int __cdecl sub_452410(int a1)
{
  int result; // eax

  result = *(_DWORD *)(a1 + 176);
  if ( result && a1 == *(_DWORD *)(result + 152) )
  {
    if ( *(_BYTE *)(a1 + 24) & 2 )
      sub_4BDA80(*(_DWORD *)(a1 + 176));
    sub_4BDB30(*(_DWORD *)(a1 + 176));
    *(_DWORD *)(*(_DWORD *)(a1 + 176) + 152) = 0;
    *(_DWORD *)(*(_DWORD *)(a1 + 176) + 148) = 0;
    result = *(_DWORD *)(a1 + 176);
    *(_DWORD *)(result + 140) = 0;
    *(_DWORD *)(*(_DWORD *)(a1 + 176) + 144) = 0;
    *(_DWORD *)(*(_DWORD *)(a1 + 176) + 112) = 0;
    *(_DWORD *)(a1 + 176) = 0;
  }
  return result;
}

//----- (00452490) --------------------------------------------------------
int __cdecl sub_452490(_DWORD *a1)
{
  int v1; // eax
  int v3; // edi
  int v4; // eax

  v1 = a1[44];
  if ( a1 != *(_DWORD **)(v1 + 152) )
    return 0;
  v3 = a1[74];
  sub_4BDB90((_DWORD *)v1, (_DWORD *)a1[74]);
  a1[7] = 3;
  v4 = a1[6];
  LOBYTE(v4) = v4 | 2;
  a1[6] = v4;
  a1[74] = 0;
  if ( !sub_4BDB40(a1[44]) )
    return 1;
  a1[7] = 1;
  a1[74] = v3;
  a1[6] &= 0xFFFFFFFD;
  return 0;
}

//----- (00452510) --------------------------------------------------------
int __cdecl sub_452510(int a3)
{
  int v1; // eax
  int v2; // eax
  unsigned __int64 v3; // rax

  if ( !*(_DWORD *)&byte_587000[126996] )
    *(_DWORD *)(a3 + 28) = 4;
  while ( 1 )
  {
    v1 = *(_DWORD *)(a3 + 28);
    if ( !v1 )
      break;
    v2 = v1 - 2;
    if ( v2 )
    {
      LODWORD(v3) = v2 - 2;
      if ( !(_DWORD)v3 )
        LODWORD(v3) = sub_4523D0((_DWORD *)a3);
      return v3;
    }
    v3 = sub_416BB0();
    if ( v3 <= *(_QWORD *)(a3 + 288) )
      return v3;
    *(_DWORD *)(a3 + 28) = *(_DWORD *)(a3 + 32);
  }
  LODWORD(v3) = sub_452580((_DWORD *)a3);
  if ( !(_DWORD)v3 )
    LODWORD(v3) = sub_4523D0((_DWORD *)a3);
  return v3;
}

//----- (00452580) --------------------------------------------------------
int __cdecl sub_452580(_DWORD *a1)
{
  int v1; // edi
  int result; // eax
  int v3; // eax
  int v4; // eax
  int v5; // eax

  v1 = a1[9];
  if ( !*(_DWORD *)(v1 + 192) )
    return 0;
  v3 = a1[75];
  a1[109] = 0;
  result = sub_452810(*(_DWORD *)(v1 + 48) + v3, 0);
  a1[44] = result;
  if ( result )
  {
    v4 = sub_415FF0(*(_DWORD *)(v1 + 76), *(_DWORD *)(v1 + 80), (const char *)&byte_587000[127140], 1482);
    sub_486320((_DWORD *)(a1[44] + 48), v4 + 100);
    sub_4BDB20(a1[44]);
    *(_DWORD *)(a1[44] + 152) = a1;
    *(_DWORD *)(a1[44] + 140) = sub_452770;
    *(_DWORD *)(a1[44] + 144) = sub_4526F0;
    *(_DWORD *)(a1[44] + 148) = sub_4526D0;
    a1[7] = 1;
    *(_DWORD *)(a1[44] + 112) = a1 + 46;
    if ( *(_BYTE *)(v1 + 4) & 8 )
    {
      v5 = sub_415FF0(*(_DWORD *)(v1 + 68), *(_DWORD *)(v1 + 72), (const char *)&byte_587000[127180], 1497);
      if ( v5 > 33 )
        sub_452690((int)a1, v5, 1);
    }
    result = 1;
  }
  return result;
}

//----- (00452690) --------------------------------------------------------
__int64 __cdecl sub_452690(int a3, __int64 a4, int a5)
{
  __int64 result; // rax

  *(_DWORD *)(a3 + 32) = a5;
  result = a4 + sub_416BB0();
  *(_QWORD *)(a3 + 288) = result;
  *(_DWORD *)(a3 + 28) = 2;
  return result;
}

//----- (004526D0) --------------------------------------------------------
int __cdecl sub_4526D0(int a1)
{
  *(_DWORD *)(*(_DWORD *)(a1 + 152) + 28) = 4;
  return 0;
}

//----- (004526F0) --------------------------------------------------------
int __cdecl sub_4526F0(int a1)
{
  _DWORD *v1; // esi
  int v2; // eax

  v1 = *(_DWORD **)(a1 + 152);
  v1[6] &= 0xFFFFFFFD;
  v2 = 4;
  if ( v1[7] != 4 )
  {
    if ( v1[74] || v1[142] )
      v2 = 1;
    else
      v1[71] = 0;
    if ( v1[71] )
    {
      sub_452690((int)v1, (unsigned int)v1[71], v2);
      v1[71] = 0;
      return 0;
    }
    v1[7] = v2;
  }
  return 0;
}

//----- (00452770) --------------------------------------------------------
int __cdecl sub_452770(_DWORD *a1)
{
  _DWORD *v1; // esi
  _DWORD *v2; // ebx
  int v4; // eax
  unsigned int v5; // eax

  v1 = (_DWORD *)a1[38];
  v2 = (_DWORD *)sub_451CF0((_DWORD *)a1[38]);
  if ( *(_DWORD *)(v1[9] + 72) < 0x21u )
  {
    sub_4BDB90(a1, v2);
    return 0;
  }
  sub_4BDB90(a1, 0);
  v4 = v1[9];
  if ( !(*(_BYTE *)(v4 + 4) & 8) || v2 || v1[142] )
  {
    v5 = sub_415FF0(*(_DWORD *)(v4 + 68), *(_DWORD *)(v4 + 72), (const char *)&byte_587000[127220], 706);
    if ( v5 < 0x21 )
    {
      sub_4BDB90(a1, v2);
      return 0;
    }
    v1[71] = v5;
    v1[74] = v2;
  }
  return 0;
}

//----- (00452810) --------------------------------------------------------
int *__cdecl sub_452810(int a1, char a2)
{
  int *v2; // esi
  int *v3; // eax

  v2 = 0;
  if ( *(_DWORD *)&byte_5D4594[1045428] )
  {
    v3 = sub_487810(*(int *)&byte_5D4594[1045428], 1);
    v2 = v3;
    if ( v3 )
    {
      if ( v3[31] & 0x15 && v3[30] > a1 )
        return 0;
      sub_4BDA80((int)v3);
      v2[29] = *(_DWORD *)&byte_587000[127004];
      v2[30] = a1;
      if ( a2 & 1 )
        v2[32] = -1;
      else
        v2[32] = 0;
      sub_486320(v2 + 4, 0x4000);
    }
  }
  return v2;
}

//----- (00452890) --------------------------------------------------------
BOOL __cdecl sub_452890(int a1, void *a2)
{
  int v2; // esi
  unsigned __int8 *v3; // eax
  int v4; // eax
  char *v5; // ebx
  char *v6; // eax
  char v7; // dl
  char *v8; // eax
  int v9; // ebp
  unsigned __int8 *v10; // eax
  __int16 v11; // ax
  int v12; // ecx
  int *v13; // eax
  int v14; // ecx
  __int16 v15; // cx
  __int16 v16; // cx
  int v17; // edx
  char *v18; // eax
  char v19; // cl
  BOOL result; // eax
  int v21; // [esp-4h] [ebp-30h]
  _WORD *v22; // [esp+10h] [ebp-1Ch]
  unsigned __int8 v23; // [esp+18h] [ebp-14h]
  unsigned __int8 v24; // [esp+1Ch] [ebp-10h]
  unsigned __int8 v25; // [esp+20h] [ebp-Ch]
  unsigned __int8 v26; // [esp+24h] [ebp-8h]
  unsigned __int8 v27; // [esp+28h] [ebp-4h]
  unsigned __int8 v28; // [esp+30h] [ebp+4h]
  unsigned __int8 v29; // [esp+30h] [ebp+4h]

  v2 = a1;
  v3 = *(unsigned __int8 **)(a1 + 8);
  v21 = a1;
  v28 = *v3;
  *(_DWORD *)(v21 + 8) = v3 + 1;
  sub_40ACC0(a2, 1u, v28, v21);
  *((_BYTE *)a2 + v28) = 0;
  v4 = sub_40AF50(a2);
  if ( v4 && (v5 = sub_452270(v4)) != 0 )
  {
    while ( 2 )
    {
      v6 = *(char **)(v2 + 8);
      v7 = *v6;
      v8 = v6 + 1;
      *(_DWORD *)(v2 + 8) = v8;
      switch ( v7 )
      {
        case 0:
          *(_DWORD *)v5 = 1;
          result = v7 == 0;
          break;
        case 1:
          v23 = *v8;
          *(_DWORD *)(v2 + 8) = v8 + 1;
          *((_DWORD *)v5 + 12) = v23;
          continue;
        case 2:
          v26 = *v8;
          *(_DWORD *)(v2 + 8) = v8 + 1;
          *((_DWORD *)v5 + 1) = v26;
          continue;
        case 3:
          v27 = *v8;
          *(_DWORD *)(v2 + 8) = v8 + 1;
          sub_4862E0((int)(v5 + 16), 163 * v27);
          continue;
        case 4:
          v24 = *v8;
          *(_DWORD *)(v2 + 8) = v8 + 1;
          *((_DWORD *)v5 + 14) = v24;
          continue;
        case 5:
          v25 = *v8;
          *(_DWORD *)(v2 + 8) = v8 + 1;
          *((_DWORD *)v5 + 15) = v25;
          continue;
        case 6:
          v17 = *v8;
          *(_DWORD *)(v2 + 8) = v8 + 1;
          *((_DWORD *)v5 + 19) = v17;
          v18 = *(char **)(v2 + 8);
          v19 = *v18;
          *(_DWORD *)(v2 + 8) = v18 + 1;
          *((_DWORD *)v5 + 20) = v19;
          continue;
        case 7:
          v9 = 0;
          v22 = v5 + 128;
          while ( 1 )
          {
            v10 = *(unsigned __int8 **)(v2 + 8);
            v29 = *v10;
            *(_DWORD *)(v2 + 8) = v10 + 1;
            if ( !v29 )
              break;
            sub_40ACC0(a2, 1u, v29, v2);
            *((_BYTE *)a2 + v29) = 0;
            if ( v9 < 32 )
            {
              v11 = sub_486A10(*(int *)&byte_5D4594[1045420], a2);
              *v22 = v11;
              if ( v11 != -1 )
              {
                ++v9;
                ++v22;
              }
            }
          }
          *((_DWORD *)v5 + 48) = v9;
          continue;
        case 8:
          v12 = *(_DWORD *)v8;
          *(_DWORD *)(v2 + 8) = v8 + 4;
          *((_DWORD *)v5 + 17) = v12;
          v13 = *(int **)(v2 + 8);
          v14 = *v13;
          *(_DWORD *)(v2 + 8) = v13 + 1;
          *((_DWORD *)v5 + 18) = v14;
          continue;
        case 9:
          v15 = *(_WORD *)v8;
          *(_DWORD *)(v2 + 8) = v8 + 2;
          if ( v15 > 0 )
            *((_DWORD *)v5 + 16) = 15 * v15;
          continue;
        case 0xA:
          v16 = *(_WORD *)v8;
          *(_DWORD *)(v2 + 8) = v8 + 2;
          *((_DWORD *)v5 + 2) = v16;
          continue;
        default:
          result = 0;
          break;
      }
      break;
    }
  }
  else
  {
    sub_452B30(v2);
    result = 1;
  }
  return result;
}

//----- (00452B00) --------------------------------------------------------
BOOL __cdecl sub_452B00(int a1)
{
  *(_DWORD *)(a1 + 8) += **(unsigned __int8 **)(a1 + 8) + 1;
  return sub_452B30(a1);
}

//----- (00452B30) --------------------------------------------------------
BOOL __cdecl sub_452B30(int a1)
{
  int v1; // eax
  char *v2; // ecx
  char v3; // bl
  unsigned __int8 *v4; // ecx
  unsigned __int8 v5; // dl
  int v6; // ecx
  BOOL result; // eax
  char v8; // [esp+Ch] [ebp+4h]

  v1 = a1;
  while ( 2 )
  {
    v2 = *(char **)(v1 + 8);
    v3 = *v2;
    v8 = *v2;
    *(_DWORD *)(v1 + 8) = v2 + 1;
    switch ( v8 )
    {
      case 0:
        result = v3 == 0;
        break;
      case 1:
      case 2:
      case 3:
      case 4:
      case 5:
        *(_DWORD *)(v1 + 8) = v2 + 2;
        continue;
      case 6:
      case 9:
      case 0xA:
        *(_DWORD *)(v1 + 8) = v2 + 3;
        continue;
      case 7:
        while ( 1 )
        {
          v4 = *(unsigned __int8 **)(v1 + 8);
          v5 = *v4;
          v6 = (int)(v4 + 1);
          *(_DWORD *)(v1 + 8) = v6;
          if ( !v5 )
            break;
          *(_DWORD *)(v1 + 8) = v6 + v5;
        }
        continue;
      case 8:
        *(_DWORD *)(v1 + 8) = v2 + 9;
        continue;
      default:
        result = 0;
        break;
    }
    break;
  }
  return result;
}

//----- (00452BD0) --------------------------------------------------------
int __cdecl sub_452BD0(int a1, char *a2)
{
  int v2; // esi
  char *v3; // ebx
  char *v4; // eax
  int v5; // edi
  int v6; // eax
  char *v7; // edi
  __int16 *v8; // eax
  __int16 v9; // cx
  unsigned __int8 *v10; // eax
  __int16 *v11; // eax
  __int16 v12; // cx
  char *v13; // eax
  char v14; // cl
  char *v15; // eax
  char v16; // cl
  char *v17; // eax
  int v18; // edx
  char *v19; // eax
  char v20; // cl
  int result; // eax
  char *v22; // ecx
  char v23; // al
  int v24; // ebp
  char *v25; // eax
  __int16 v26; // ax
  char *v27; // eax
  char v28; // cl
  int v29; // eax
  unsigned __int8 v30; // [esp+10h] [ebp+4h]
  _WORD *v31; // [esp+10h] [ebp+4h]
  char *v32; // [esp+14h] [ebp+8h]

  v2 = a1;
  v3 = a2;
  v4 = *(char **)(a1 + 8);
  v5 = *v4;
  *(_DWORD *)(a1 + 8) = v4 + 1;
  sub_40ACC0(a2, 1u, v5, a1);
  a2[v5] = 0;
  v6 = sub_40AF50(a2);
  if ( v6 && (v7 = sub_452270(v6)) != 0 )
  {
    v8 = *(__int16 **)(a1 + 8);
    v9 = *v8;
    *(_DWORD *)(a1 + 8) = v8 + 1;
    *((_DWORD *)v7 + 1) = 2;
    *((_DWORD *)v7 + 2) = v9;
    v10 = *(unsigned __int8 **)(a1 + 8);
    v30 = *v10;
    *(_DWORD *)(v2 + 8) = v10 + 1;
    sub_4862E0((int)(v7 + 16), 163 * v30);
    v11 = *(__int16 **)(v2 + 8);
    v12 = *v11;
    *(_DWORD *)(v2 + 8) = v11 + 1;
    if ( v12 > 0 )
      *((_DWORD *)v7 + 16) = 15 * v12;
    v13 = *(char **)(v2 + 8);
    v14 = *v13;
    *(_DWORD *)(v2 + 8) = v13 + 1;
    *((_DWORD *)v7 + 14) = v14;
    v15 = *(char **)(v2 + 8);
    v16 = *v15;
    *(_DWORD *)(v2 + 8) = v15 + 1;
    *((_DWORD *)v7 + 19) = v16;
    v17 = *(char **)(v2 + 8);
    v18 = *v17;
    *(_DWORD *)(v2 + 8) = v17 + 1;
    *((_DWORD *)v7 + 20) = v18;
    v19 = *(char **)(v2 + 8);
    v20 = *v19;
    *(_DWORD *)(v2 + 8) = v19 + 1;
    *((_DWORD *)v7 + 12) = v20;
    if ( v20 < 3 )
    {
      v32 = 0;
      v31 = v7 + 128;
      while ( 1 )
      {
        v22 = *(char **)(v2 + 8);
        v23 = *v22;
        *(_DWORD *)(v2 + 8) = v22 + 1;
        if ( !v23 )
          break;
        v24 = v23;
        sub_40ACC0(v3, 1u, v23, v2);
        v3[v24] = 0;
        v25 = strrchr(v3, 46);
        if ( v25 )
          *v25 = 0;
        v26 = sub_486A10(*(int *)&byte_5D4594[1045420], v3);
        *v31 = v26;
        if ( v26 != -1 )
        {
          ++v32;
          ++v31;
        }
      }
      *(_DWORD *)v7 = 1;
      *((_DWORD *)v7 + 48) = v32;
      result = 1;
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    for ( *(_DWORD *)(a1 + 8) += 9; ; *(_DWORD *)(a1 + 8) = v29 + v28 )
    {
      v27 = *(char **)(a1 + 8);
      v28 = *v27;
      v29 = (int)(v27 + 1);
      *(_DWORD *)(a1 + 8) = v29;
      if ( !v28 )
        break;
    }
    result = 1;
  }
  return result;
}

//----- (00452D80) --------------------------------------------------------
_DWORD *__cdecl sub_452D80(int a1, int a2)
{
  _DWORD *result; // eax
  _DWORD *v3; // esi

  result = sub_452270(a1);
  if ( result )
  {
    result = sub_452300(result);
    v3 = result;
    if ( result )
    {
      sub_452EE0((int)result, a2);
      result = (_DWORD *)sub_452510((int)v3);
    }
  }
  return result;
}

//----- (00452DC0) --------------------------------------------------------
_DWORD *__cdecl sub_452DC0(int a1, int a2, int a3)
{
  _DWORD *result; // eax
  _DWORD *v4; // esi

  result = sub_452270(a1);
  if ( result )
  {
    result = sub_452300(result);
    v4 = result;
    if ( result )
    {
      sub_452EE0((int)result, a2);
      sub_452F80((int)v4, a3);
      result = (_DWORD *)sub_452510((int)v4);
    }
  }
  return result;
}

//----- (00452E10) --------------------------------------------------------
_DWORD *__cdecl sub_452E10(int a1, int a2, int a3)
{
  _DWORD *result; // eax
  _DWORD *v4; // esi

  result = sub_452270(a1);
  if ( result )
  {
    result = sub_452300(result);
    v4 = result;
    if ( result )
    {
      sub_452EE0((int)result, a2);
      sub_452F80((int)v4, a3);
      v4[75] = 2;
      result = (_DWORD *)sub_452510((int)v4);
    }
  }
  return result;
}

//----- (00452E60) --------------------------------------------------------
_DWORD *__cdecl sub_452E60(_DWORD *a1)
{
  _DWORD *result; // eax

  result = a1;
  *a1 = 0;
  a1[1] = 0;
  return result;
}

//----- (00452E80) --------------------------------------------------------
_DWORD *__cdecl sub_452E80(_DWORD *a1)
{
  _DWORD *result; // eax

  result = a1;
  *a1 = 0;
  return result;
}

//----- (00452E90) --------------------------------------------------------
int __cdecl sub_452E90(_DWORD *a1, int a2)
{
  int result; // eax

  result = a2;
  *a1 = a2;
  if ( a2 )
  {
    a1[1] = *(_DWORD *)(a2 + 280);
    result = *(_DWORD *)(a2 + 36);
    a1[2] = result;
  }
  return result;
}

//----- (00452EB0) --------------------------------------------------------
int __cdecl sub_452EB0(int *a1)
{
  int result; // eax

  result = *a1;
  if ( *a1 && (a1[2] != *(_DWORD *)(result + 36) || a1[1] != *(_DWORD *)(result + 280)) )
  {
    result = 0;
    *a1 = 0;
  }
  return result;
}

//----- (00452EE0) --------------------------------------------------------
int __cdecl sub_452EE0(int a1, int a2)
{
  int v2; // eax

  v2 = sub_452F10(a1, a2);
  sub_486320((_DWORD *)(a1 + 184), v2);
  return sub_4863B0((unsigned int *)(a1 + 184));
}

//----- (00452F10) --------------------------------------------------------
unsigned int __cdecl sub_452F10(int a1, int a2)
{
  int v2; // ecx

  v2 = a2;
  if ( a2 <= 100 )
  {
    if ( a2 < 0 )
      v2 = 0;
  }
  else
  {
    v2 = 100;
  }
  return (unsigned int)(163 * v2 * (*(_DWORD *)(*(_DWORD *)(a1 + 36) + 20) >> 16)) >> 14;
}

//----- (00452F50) --------------------------------------------------------
int __cdecl sub_452F50(int a1, int a2)
{
  int v2; // eax

  v2 = sub_452F10(a1, a2);
  return sub_486350(a1 + 184, v2);
}

//----- (00452F80) --------------------------------------------------------
_DWORD *__cdecl sub_452F80(int a1, int a2)
{
  int v2; // eax

  v2 = sub_452FA0(a2);
  return sub_486320((_DWORD *)(a1 + 248), v2);
}

//----- (00452FA0) --------------------------------------------------------
int __cdecl sub_452FA0(int a1)
{
  int v1; // eax
  unsigned int v2; // edx

  v1 = a1;
  if ( a1 <= 50 )
  {
    if ( a1 < -50 )
      v1 = -50;
  }
  else
  {
    v1 = 50;
  }
  return (v1 * 8192) / 50 + 8192;
}

//----- (00452FE0) --------------------------------------------------------
int __cdecl sub_452FE0(int a1, int a2)
{
  int v2; // eax

  v2 = sub_452FA0(a2);
  return sub_486350(a1 + 248, v2);
}

//----- (00453000) --------------------------------------------------------
int __cdecl sub_453000(_DWORD *a1, unsigned int a2, int a3)
{
  sub_486380(a1 + 46, a2, a3, 0x4000);
  sub_486380(a1 + 54, a2, a3, 0x4000);
  return sub_486380(a1 + 62, a2, a3, 0x4000);
}

//----- (00453050) --------------------------------------------------------
void sub_453050()
{
  *(_DWORD *)&byte_587000[126996] = 0;
}

//----- (00453060) --------------------------------------------------------
void sub_453060()
{
  *(_DWORD *)&byte_587000[126996] = 1;
}

//----- (00453070) --------------------------------------------------------
int sub_453070()
{
  return *(_DWORD *)&byte_587000[126996];
}

//----- (00453080) --------------------------------------------------------
BOOL __cdecl sub_453080(char a1)
{
  BOOL result; // eax

  if ( *(_DWORD *)&byte_5D4594[1045460] )
    result = sub_453690(1 << a1);
  else
    result = sub_453660(1 << a1);
  return result;
}

//----- (004530C0) --------------------------------------------------------
int __cdecl sub_4530C0(int a1, int a2)
{
  int v2; // edi
  wchar_t *v3; // eax
  int v4; // esi
  int v5; // ebx
  int v6; // eax
  wchar_t *v7; // eax
  int v8; // esi
  int v9; // ebx
  int v10; // eax
  _DWORD *v11; // eax
  _DWORD *v12; // eax
  wchar_t v14[66]; // [esp+Ch] [ebp-84h]

  v2 = 0;
  *(_DWORD *)&byte_5D4594[1045468] = sub_4A0AD0((const char *)&byte_587000[127260], sub_4533D0);
  sub_46B340(*(int *)&byte_5D4594[1045468], sub_453350);
  sub_46B120(*(_DWORD **)&byte_5D4594[1045468], a1);
  sub_46B280(*(int *)&byte_5D4594[1045468], a1);
  *(_DWORD *)&byte_5D4594[1045464] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045468], 1510);
  sub_4532E0();
  sub_46B490(*(int *)&byte_5D4594[1045464], 16399, 0, 0);
  if ( a2 == 0x1000000 )
  {
    *(_DWORD *)&byte_5D4594[1045460] = 0;
    v7 = sub_40F1D0((char *)&byte_587000[127380], 0, (const char *)&byte_587000[127336], 321);
    nox_wcscpy(v14, v7);
    v8 = 4;
    v9 = 25;
    do
    {
      v10 = sub_4159F0(v8);
      if ( v10 )
      {
        sub_46B490(*(int *)&byte_5D4594[1045464], 16397, v10, -1);
        ++v2;
      }
      v8 *= 2;
      --v9;
    }
    while ( v9 );
  }
  else if ( a2 == 0x2000000 )
  {
    *(_DWORD *)&byte_5D4594[1045460] = 1;
    v3 = sub_40F1D0((char *)&byte_587000[127316], 0, (const char *)&byte_587000[127272], 308);
    nox_wcscpy(v14, v3);
    v4 = 1;
    v5 = 26;
    do
    {
      v6 = sub_415E80(v4);
      if ( v6 )
      {
        sub_46B490(*(int *)&byte_5D4594[1045464], 16397, v6, -1);
        ++v2;
      }
      v4 *= 2;
      --v5;
    }
    while ( v5 );
  }
  sub_46B490(*(int *)&byte_5D4594[1045464], 16385, (int)v14, 0);
  v11 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045468], 1513);
  sub_46B490(*(int *)&byte_5D4594[1045464], 16408, (int)v11, 0);
  v12 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045468], 1514);
  sub_46B490(*(int *)&byte_5D4594[1045464], 16409, (int)v12, 0);
  *(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1045460] + 1045472] = v2;
  sub_453750();
  if ( !sub_40A5C0(1) || sub_40A5C0(49152) )
    sub_46AD20(*(_DWORD **)&byte_5D4594[1045468], 1515, 1533, 0);
  return *(_DWORD *)&byte_5D4594[1045468];
}

//----- (004532E0) --------------------------------------------------------
_DWORD *sub_4532E0()
{
  int v0; // esi
  int v1; // edi
  int v2; // ebx
  _DWORD *result; // eax

  v0 = sub_43F320(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1045464] + 236)) + 1;
  sub_46AB20(*(_DWORD **)&byte_5D4594[1045464], *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045464] + 8), 15 * v0 + 2);
  v1 = 1520;
  v2 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045464] + 20) + v0 + 2;
  do
  {
    result = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045468], v1);
    result[5] = v2;
    v2 += v0;
    ++v1;
  }
  while ( v1 < 1534 );
  return result;
}

//----- (00453350) --------------------------------------------------------
int __cdecl sub_453350(int a1, int a2)
{
  int result; // eax
  int xLeft; // [esp+4h] [ebp-8h]
  int yTop; // [esp+8h] [ebp-4h]

  sub_46AA60((_DWORD *)a1, &xLeft, &yTop);
  if ( (signed char)*(_BYTE *)(a1 + 4) >= 0 )
  {
    if ( *(_DWORD *)(a2 + 20) != 0x80000000 )
      sub_49CF10(xLeft, yTop, *(_DWORD *)(a1 + 8), *(_DWORD *)(a1 + 12));
    result = 1;
  }
  else
  {
    sub_47D2C0(*(_DWORD *)(a2 + 24), xLeft, yTop);
    result = 1;
  }
  return result;
}

//----- (004533D0) --------------------------------------------------------
int __cdecl sub_4533D0(int a1, int a2, int a3, int a4)
{
  int v3; // esi
  int v5; // eax
  int v6; // eax
  int v7; // edx
  int v8; // ecx
  int v9; // edx
  int v10; // ecx
  wchar_t *v11; // [esp-4h] [ebp-Ch]

  if ( a2 == 0x4000 )
  {
    if ( (_DWORD *)a3 == sub_46B0C0(*(_DWORD **)&byte_5D4594[1045468], 1513)
      || (_DWORD *)a3 == sub_46B0C0(*(_DWORD **)&byte_5D4594[1045468], 1514) )
    {
      sub_46B490(*(int *)&byte_5D4594[1045464], 0x4000, a3, 0);
LABEL_35:
      sub_453750();
    }
    return 0;
  }
  if ( a2 != 16391 )
    return 0;
  v3 = sub_46B0A0((int *)a3);
  switch ( v3 )
  {
    case 1513:
    case 1514:
      sub_46B490(*(int *)&byte_5D4594[1045464], 0x4000, a3, 0);
      goto LABEL_35;
    case 1515:
      if ( *(_DWORD *)&byte_5D4594[1045460] )
        *(_DWORD *)&byte_5D4594[1045456] = -1;
      else
        *(_DWORD *)&byte_5D4594[1045452] = -1;
      goto LABEL_6;
    case 1516:
      if ( *(_DWORD *)&byte_5D4594[1045460] )
        *(_DWORD *)&byte_5D4594[1045456] = 0;
      else
        *(_DWORD *)&byte_5D4594[1045452] = 0;
LABEL_6:
      sub_453750();
      goto LABEL_7;
    case 1520:
    case 1521:
    case 1522:
    case 1523:
    case 1524:
    case 1525:
    case 1526:
    case 1527:
    case 1528:
    case 1529:
    case 1530:
    case 1531:
    case 1532:
    case 1533:
      v5 = sub_4A4800(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1045464] + 32));
      v11 = (wchar_t *)sub_46B490(*(int *)&byte_5D4594[1045464], 16406, v5 + v3 - 1520, 0);
      if ( *(_DWORD *)&byte_5D4594[1045460] )
        v6 = sub_415DA0(v11);
      else
        v6 = sub_415960(v11);
      if ( *(_BYTE *)(a3 + 36) & 4 )
      {
        if ( *(_DWORD *)&byte_5D4594[1045460] )
        {
          sub_453640(&byte_5D4594[1045456], v6, 0);
        }
        else
        {
          v7 = 0;
          if ( v6 > 0 )
          {
            do
            {
              v8 = v6 >> 8;
              if ( v6 >> 8 > 0 )
                v6 >>= 8;
              ++v7;
            }
            while ( v8 > 0 );
          }
          sub_453620(&byte_5D4594[v7 + 1045451], v6, 0);
        }
      }
      else if ( *(_DWORD *)&byte_5D4594[1045460] )
      {
        sub_453640(&byte_5D4594[1045456], v6, 1);
      }
      else
      {
        v9 = 0;
        if ( v6 > 0 )
        {
          do
          {
            v10 = v6 >> 8;
            if ( v6 >> 8 > 0 )
              v6 >>= 8;
            ++v9;
          }
          while ( v10 > 0 );
        }
        sub_453620(&byte_5D4594[v9 + 1045451], v6, 1);
      }
LABEL_7:
      sub_459D50(1);
      break;
    default:
      break;
  }
  sub_452D80(766, 100);
  return 0;
}

//----- (004535E0) --------------------------------------------------------
int *__cdecl sub_4535E0(int *a1)
{
  int *result; // eax

  result = a1;
  *(_DWORD *)&byte_5D4594[1045452] = *a1;
  return result;
}

//----- (004535F0) --------------------------------------------------------
int __cdecl sub_4535F0(int a1)
{
  int result; // eax

  result = a1;
  *(_DWORD *)&byte_5D4594[1045456] = a1;
  return result;
}

//----- (00453600) --------------------------------------------------------
char *sub_453600()
{
  return (char *)&byte_5D4594[1045452];
}

//----- (00453610) --------------------------------------------------------
int sub_453610()
{
  return *(_DWORD *)&byte_5D4594[1045456];
}

//----- (00453620) --------------------------------------------------------
_BYTE *__cdecl sub_453620(_BYTE *a1, char a2, int a3)
{
  _BYTE *result; // eax

  result = a1;
  if ( a3 )
    *a1 |= a2;
  else
    *a1 &= ~a2;
  return result;
}

//----- (00453640) --------------------------------------------------------
_DWORD *__cdecl sub_453640(_DWORD *a1, int a2, int a3)
{
  _DWORD *result; // eax

  result = a1;
  if ( a3 )
    *a1 |= a2;
  else
    *a1 &= ~a2;
  return result;
}

//----- (00453660) --------------------------------------------------------
BOOL __cdecl sub_453660(int a1)
{
  int v1; // ecx
  int v2; // edx
  int v3; // eax

  v1 = a1;
  v2 = 0;
  if ( a1 > 0 )
  {
    do
    {
      v3 = v1 >> 8;
      if ( v1 >> 8 > 0 )
        v1 >>= 8;
      ++v2;
    }
    while ( v3 > 0 );
  }
  return ((unsigned __int8)v1 & byte_5D4594[v2 + 1045451]) != 0;
}

//----- (00453690) --------------------------------------------------------
BOOL __cdecl sub_453690(int a1)
{
  return (a1 & *(_DWORD *)&byte_5D4594[1045456]) != 0;
}

//----- (004536B0) --------------------------------------------------------
int __cdecl sub_4536B0(_DWORD *a1)
{
  int v1; // ebx
  int v2; // edi
  _DWORD *v3; // esi
  int v4; // ebp
  int result; // eax

  v1 = 1;
  *a1 = -1;
  v2 = 1;
  v3 = a1;
  v4 = 27;
  do
  {
    result = sub_415840((char *)v2);
    if ( result )
    {
      result = sub_4E3BA0(result);
      if ( !result )
      {
        result = (unsigned __int8)~(_BYTE)v1;
        *(_BYTE *)v3 &= ~(_BYTE)v1;
      }
    }
    if ( v1 == 128 )
    {
      v1 = 1;
      v3 = (_DWORD *)((char *)v3 + 1);
    }
    else
    {
      v1 *= 2;
    }
    v2 *= 2;
    --v4;
  }
  while ( v4 );
  return result;
}

//----- (00453710) --------------------------------------------------------
int sub_453710()
{
  int v0; // edi
  int v1; // esi
  int v2; // ebx
  int v3; // eax

  v0 = -1;
  v1 = 1;
  v2 = 26;
  do
  {
    v3 = sub_415CD0((char *)v1);
    if ( v3 && !sub_4E3BA0(v3) )
      v0 &= ~v1;
    v1 *= 2;
    --v2;
  }
  while ( v2 );
  return v0;
}

//----- (00453750) --------------------------------------------------------
char sub_453750()
{
  int v0; // esi
  int i; // ebx
  _DWORD *j; // edi
  bool v3; // zf
  int v4; // eax

  v0 = sub_4A4800(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1045464] + 32));
  for ( i = 1520; i <= 1533; ++i )
  {
    for ( j = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045468], i); (1 << v0) & 0x33; ++v0 )
      ;
    if ( v0 >= *(int *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1045460] + 1045472] )
    {
      LOBYTE(v4) = sub_46AC00((int)j, 1);
    }
    else
    {
      sub_46AC00((int)j, 0);
      v3 = !sub_453080(v0);
      v4 = j[9];
      if ( v3 )
        LOBYTE(v4) = v4 & 0xFB;
      else
        LOBYTE(v4) = v4 | 4;
      j[9] = v4;
    }
    ++v0;
  }
  return v4;
}

//----- (004537F0) --------------------------------------------------------
int sub_4537F0()
{
  int v0; // esi
  int v1; // edi
  int v2; // eax
  int v3; // eax
  int v4; // esi
  int v5; // edi
  int result; // eax
  int v7; // eax

  v0 = 1;
  v1 = 26;
  do
  {
    v2 = sub_415CD0((char *)v0);
    if ( v2 )
    {
      v3 = sub_4E3B70(v2);
      sub_4E3BF0(v3);
    }
    v0 *= 2;
    --v1;
  }
  while ( v1 );
  v4 = 1;
  v5 = 27;
  do
  {
    result = sub_415840((char *)v4);
    if ( result )
    {
      v7 = sub_4E3B70(result);
      result = sub_4E3BF0(v7);
    }
    v4 *= 2;
    --v5;
  }
  while ( v5 );
  return result;
}

//----- (00453850) --------------------------------------------------------
int __cdecl sub_453850(int a1)
{
  int v1; // ebx
  int v2; // eax
  int v3; // esi
  int v4; // edi
  wchar_t *v5; // eax
  wchar_t *v6; // eax
  wchar_t *v7; // eax
  const wchar_t *v8; // eax
  _DWORD *v9; // esi
  _DWORD *v10; // esi
  wchar_t v12[64]; // [esp+Ch] [ebp-80h]

  *(_DWORD *)&byte_5D4594[1045484] = sub_4A0AD0((const char *)&byte_587000[127388], sub_453C00);
  sub_46B340(*(int *)&byte_5D4594[1045484], sub_453B80);
  sub_46B120(*(_DWORD **)&byte_5D4594[1045484], a1);
  sub_46B280(*(int *)&byte_5D4594[1045484], a1);
  *(_DWORD *)&byte_5D4594[1045480] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045484], 1110);
  *(_DWORD *)&byte_5D4594[1045508] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045484], 1112);
  sub_453B00();
  sub_46B490(*(int *)&byte_5D4594[1045480], 16399, 0, 0);
  sub_46B490(*(int *)&byte_5D4594[1045508], 16399, 0, 0);
  v1 = 1;
  do
  {
    if ( sub_424B50(v1) )
    {
      v2 = sub_424A70(v1);
      v3 = v2;
      if ( !(v2 & 0x15000) )
      {
        if ( v2 & 0x1000000 || (v4 = v2 & 0x2000000) != 0 && v2 & 0x4000000 )
        {
          v7 = sub_40F1D0((char *)&byte_587000[127452], 0, (const char *)&byte_587000[127404], 307);
          nox_wcscpy(v12, v7);
        }
        else
        {
          if ( !(v2 & 0x6000000) )
            goto LABEL_14;
          nox_wcscpy(v12, (const wchar_t *)&byte_5D4594[1045512]);
          if ( v4 )
          {
            v5 = sub_40F1D0((char *)&byte_587000[127508], 0, (const char *)&byte_587000[127460], 314);
            nox_wcscat(v12, v5);
          }
          if ( v3 & 0x4000000 )
          {
            v6 = sub_40F1D0((char *)&byte_587000[127568], 0, (const char *)&byte_587000[127520], 318);
            nox_wcscat(v12, v6);
          }
        }
        sub_46B490(*(int *)&byte_5D4594[1045508], 16397, (int)v12, -1);
        v8 = (const wchar_t *)sub_424930(v1);
        nox_wcsncpy(v12, v8, 0x3Fu);
        sub_46B490(*(int *)&byte_5D4594[1045480], 16397, (int)v12, -1);
      }
    }
LABEL_14:
    ++v1;
  }
  while ( v1 < 137 );
  v9 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045484], 1113);
  sub_46B490(*(int *)&byte_5D4594[1045480], 16408, (int)v9, 0);
  sub_46B490(*(int *)&byte_5D4594[1045508], 16408, (int)v9, 0);
  v10 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045484], 1114);
  sub_46B490(*(int *)&byte_5D4594[1045480], 16409, (int)v10, 0);
  sub_46B490(*(int *)&byte_5D4594[1045508], 16409, (int)v10, 0);
  sub_454040(&byte_5D4594[1045488]);
  sub_454120();
  if ( !sub_40A5C0(1) || sub_40A5C0(49152) )
    sub_46AD20(*(_DWORD **)&byte_5D4594[1045484], 1115, 1133, 0);
  return *(_DWORD *)&byte_5D4594[1045484];
}

//----- (00453B00) --------------------------------------------------------
_DWORD *sub_453B00()
{
  int v0; // esi
  int v1; // edi
  int v2; // ebx
  _DWORD *result; // eax

  v0 = sub_43F320(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1045480] + 236)) + 1;
  sub_46AB20(*(_DWORD **)&byte_5D4594[1045480], *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045480] + 8), 15 * v0 + 2);
  sub_46AB20(*(_DWORD **)&byte_5D4594[1045508], *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045508] + 8), 15 * v0 + 2);
  v1 = 1120;
  v2 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045480] + 20) + v0 + 2;
  do
  {
    result = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045484], v1);
    result[5] = v2;
    v2 += v0;
    ++v1;
  }
  while ( v1 < 1134 );
  return result;
}

//----- (00453B80) --------------------------------------------------------
int __cdecl sub_453B80(int a1, int a2)
{
  int result; // eax
  int xLeft; // [esp+4h] [ebp-8h]
  int yTop; // [esp+8h] [ebp-4h]

  sub_46AA60((_DWORD *)a1, &xLeft, &yTop);
  if ( (signed char)*(_BYTE *)(a1 + 4) >= 0 )
  {
    if ( *(_DWORD *)(a2 + 20) != 0x80000000 )
      sub_49CF10(xLeft, yTop, *(_DWORD *)(a1 + 8), *(_DWORD *)(a1 + 12));
    result = 1;
  }
  else
  {
    sub_47D2C0(*(_DWORD *)(a2 + 24), xLeft, yTop);
    result = 1;
  }
  return result;
}

//----- (00453C00) --------------------------------------------------------
int __cdecl sub_453C00(int a1, int a2, int *a3, int a4)
{
  int *v3; // edi
  int v4; // ebx
  __int16 *v5; // edi
  int v6; // ebp
  int v7; // ebx
  int v8; // esi
  int i; // eax
  int result; // eax
  int v11; // esi
  wchar_t *v12; // eax
  int v13; // esi
  wchar_t *v14; // eax
  char *v15; // ebp
  wchar_t *v16; // eax
  wchar_t *v17; // [esp-10h] [ebp-5Ch]
  wchar_t *v18; // [esp-10h] [ebp-5Ch]
  int v19[15]; // [esp+10h] [ebp-3Ch]
  char *v20; // [esp+54h] [ebp+8h]
  int v21; // [esp+58h] [ebp+Ch]

  if ( a2 == 0x4000 )
  {
    if ( a3 == sub_46B0C0(*(_DWORD **)&byte_5D4594[1045484], 1113)
      || a3 == sub_46B0C0(*(_DWORD **)&byte_5D4594[1045484], 1114) )
    {
      sub_46B490(*(int *)&byte_5D4594[1045480], 0x4000, (int)a3, 0);
      sub_46B490(*(int *)&byte_5D4594[1045508], 0x4000, (int)a3, 0);
LABEL_37:
      sub_454120();
    }
    return 0;
  }
  if ( a2 != 16391 )
    return 0;
  v3 = a3;
  v4 = sub_46B0A0(a3);
  v21 = v4;
  switch ( v4 )
  {
    case 1113:
    case 1114:
      sub_46B490(*(int *)&byte_5D4594[1045480], 0x4000, (int)v3, 0);
      sub_46B490(*(int *)&byte_5D4594[1045508], 0x4000, (int)v3, 0);
      goto LABEL_37;
    case 1115:
    case 1116:
      v5 = *(__int16 **)(*(_DWORD *)&byte_5D4594[1045480] + 32);
      v6 = 0;
      v20 = sub_4165B0();
      if ( *v5 > 0 )
      {
        v7 = 0;
        do
        {
          if ( *((_DWORD *)v5 + 6) + v7 != -4 )
          {
            v8 = sub_424960((wchar_t *)(*((_DWORD *)v5 + 6) + v7 + 4));
            if ( v8 )
            {
              if ( v21 == 1115 )
              {
                if ( !sub_40A5C0(64) && !(v20[52] & 0x40) || v8 != 132 )
                  sub_453FA0((int)&byte_5D4594[1045488], v8, 1);
              }
              else
              {
                sub_453FA0((int)&byte_5D4594[1045488], v8, 0);
              }
            }
          }
          ++v6;
          v7 += 524;
        }
        while ( v6 < *v5 );
      }
      if ( *(_DWORD *)&byte_5D4594[2650652] )
      {
        sub_57A1E0(v19, 0, 0, 4, 6128);
        for ( i = 0; i < 5; ++i )
          *(_DWORD *)&byte_5D4594[i * 4 + 1045488] &= v19[i + 6];
      }
      sub_454120();
      goto LABEL_19;
    case 1120:
    case 1121:
    case 1122:
    case 1123:
    case 1124:
    case 1125:
    case 1126:
    case 1127:
    case 1128:
    case 1129:
    case 1130:
    case 1131:
    case 1132:
    case 1133:
      v11 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045480] + 32);
      v12 = (wchar_t *)(*(_DWORD *)(v11 + 24)
                      + 524 * (sub_4A4800(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1045480] + 32)) + v4 - 1120)
                      + 4);
      if ( !v12 )
        goto LABEL_19;
      v13 = sub_424960(v12);
      if ( !v13 )
        goto LABEL_19;
      if ( !*(_DWORD *)&byte_5D4594[2650652] || (sub_57A1E0(v19, 0, 0, 4, 6128), sub_454000((int)&v19[6], v13)) )
      {
        v15 = sub_4165B0();
        if ( (sub_40A5C0(64) || v15[52] & 0x40) && v13 == 132 )
        {
          v3[9] ^= 4u;
          v18 = sub_40F1D0((char *)&byte_587000[127748], 0, (const char *)&byte_587000[127700], 226);
          v16 = sub_40F1D0((char *)&byte_587000[127816], 0, (const char *)&byte_587000[127768], 225);
          sub_449A10(*(int *)&byte_5D4594[1045484], (int)v16, (int)v18, 33, 0, 0);
          sub_44A360(1);
        }
        else
        {
          if ( v3[9] & 4 )
            sub_453FA0((int)&byte_5D4594[1045488], v13, 0);
          else
            sub_453FA0((int)&byte_5D4594[1045488], v13, 1);
LABEL_19:
          sub_459D50(1);
        }
      }
      else
      {
        v3[9] ^= 4u;
        v17 = sub_40F1D0((char *)&byte_587000[127632], 0, (const char *)&byte_587000[127584], 211);
        v14 = sub_40F1D0((char *)&byte_587000[127692], 0, (const char *)&byte_587000[127644], 210);
        sub_449A10(*(int *)&byte_5D4594[1045484], (int)v14, (int)v17, 33, 0, 0);
        sub_44A360(1);
      }
LABEL_20:
      sub_452D80(766, 100);
      result = 0;
      break;
    default:
      goto LABEL_20;
  }
  return result;
}

//----- (00453F70) --------------------------------------------------------
void __cdecl sub_453F70(const void *a1)
{
  qmemcpy(&byte_5D4594[1045488], a1, 0x14u);
}

//----- (00453F90) --------------------------------------------------------
char *sub_453F90()
{
  return (char *)&byte_5D4594[1045488];
}

//----- (00453FA0) --------------------------------------------------------
int __cdecl sub_453FA0(int a1, int a2, int a3)
{
  bool v3; // sf
  char v4; // cl
  int result; // eax
  unsigned __int8 v6; // [esp+8h] [ebp+8h]

  v4 = a2 & 0x1F;
  v3 = (a2 & 0x8000001F & 0x80000000) != 0;
  v6 = a2 / 32;
  if ( v3 )
    v4 = ((v4 - 1) | 0xE0) + 1;
  result = 1 << v4;
  if ( a3 )
  {
    *(_DWORD *)(a1 + 4 * v6) |= result;
  }
  else
  {
    result = ~result;
    *(_DWORD *)(a1 + 4 * v6) &= result;
  }
  return result;
}

//----- (00454000) --------------------------------------------------------
BOOL __cdecl sub_454000(int a1, int a2)
{
  return (*(_DWORD *)(a1 + 4 * ((a2 / 32) & 0xFF)) & (1 << (a2 % 32))) != 0;
}

//----- (00454040) --------------------------------------------------------
int __cdecl sub_454040(_DWORD *a1)
{
  int v1; // esi
  int v2; // edi
  int result; // eax
  unsigned __int8 v4; // [esp+Ch] [ebp-4h]

  v1 = 1;
  *a1 = -1;
  v4 = 0;
  v2 = 1;
  a1[1] = -1;
  a1[2] = -1;
  a1[3] = -1;
  a1[4] = -1;
  do
  {
    if ( v1 == 0x80000000 )
    {
      v1 = 1;
      ++v4;
    }
    else
    {
      v1 *= 2;
    }
    result = sub_424B50(v2);
    if ( result )
    {
      result = sub_424A70(v2);
      if ( result & 0x7000000 )
      {
        result = sub_424B70(v2);
        if ( !result )
        {
          result = (int)&a1[v4];
          *(_DWORD *)result = ~v1 & a1[v4];
        }
      }
    }
    ++v2;
  }
  while ( v2 < 137 );
  return result;
}

//----- (004540E0) --------------------------------------------------------
int __cdecl sub_4540E0(int a1)
{
  int v1; // esi
  int result; // eax

  v1 = 1;
  do
  {
    if ( sub_454000(a1, v1) )
      result = sub_424B90(v1);
    else
      result = sub_424BB0(v1);
    ++v1;
  }
  while ( v1 < 137 );
  return result;
}

//----- (00454120) --------------------------------------------------------
char sub_454120()
{
  int v0; // ebp
  int v1; // ebx
  _DWORD *v2; // esi
  int v3; // edi
  int v4; // ecx
  bool v5; // zf
  int v6; // eax
  int v8; // [esp+10h] [ebp-4h]

  v8 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045480] + 32);
  v0 = 1120;
  v1 = 524 * sub_4A4800(v8);
  do
  {
    v2 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045484], v0);
    v3 = 0;
    v4 = *(_DWORD *)(v8 + 24);
    if ( v4 + v1 != -4 && *(_WORD *)(v4 + v1 + 4) )
    {
      v3 = sub_424960((wchar_t *)(v4 + v1 + 4));
      sub_46AC00((int)v2, 0);
    }
    else
    {
      sub_46AC00((int)v2, 1);
    }
    v1 += 524;
    if ( v3 )
    {
      v5 = !sub_454000((int)&byte_5D4594[1045488], v3);
      v6 = v2[9];
      if ( !v5 )
      {
        LOBYTE(v6) = v6 | 4;
        goto LABEL_11;
      }
    }
    else
    {
      v6 = v2[9];
    }
    LOBYTE(v6) = v6 & 0xFB;
LABEL_11:
    ++v0;
    v2[9] = v6;
  }
  while ( v0 <= 1133 );
  return v6;
}

//----- (004541D0) --------------------------------------------------------
int __cdecl sub_4541D0(int a1)
{
  int v2; // esi
  _DWORD *v3; // ebx
  char *v4; // ebp
  char *v5; // esi
  _DWORD *v6; // edi
  _DWORD *v7; // ebx
  _DWORD *v8; // edi
  _DWORD *v9; // ebx
  _DWORD *v10; // edi
  _DWORD *v11; // eax
  _DWORD *v12; // [esp+0h] [ebp-4h]
  _DWORD *v13; // [esp+0h] [ebp-4h]
  int v14; // [esp+0h] [ebp-4h]
  _DWORD *v15; // [esp+8h] [ebp+4h]
  _DWORD *v16; // [esp+8h] [ebp+4h]
  _DWORD *v17; // [esp+8h] [ebp+4h]

  if ( *(_DWORD *)&byte_5D4594[1045516] )
    return 0;
  v2 = *(_DWORD *)&byte_587000[26048];
  if ( sub_43F320(0) > 10 )
    v2 = 2;
  *(_DWORD *)&byte_5D4594[1045516] = sub_4A0AD0(*(const char **)&byte_587000[4 * v2 + 127824], sub_454BA0);
  sub_43FE20(100);
  sub_416640();
  sub_46B120(*(_DWORD **)&byte_5D4594[1045516], a1);
  *(_DWORD *)&byte_5D4594[1045520] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10102);
  *(_DWORD *)&byte_5D4594[1045524] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10103);
  *(_DWORD *)&byte_5D4594[1045532] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10109);
  *(_DWORD *)&byte_5D4594[1045528] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10105);
  *(_DWORD *)&byte_5D4594[1045536] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10200);
  *(_DWORD *)&byte_5D4594[1045540] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10111);
  *(_DWORD *)&byte_5D4594[1045544] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10112);
  *(_DWORD *)&byte_5D4594[1045548] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10113);
  *(_DWORD *)&byte_5D4594[1045556] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10104);
  *(_DWORD *)&byte_5D4594[1045560] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10125);
  *(_DWORD *)&byte_5D4594[1045564] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10127);
  *(_DWORD *)&byte_5D4594[1045568] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10129);
  *(_DWORD *)&byte_5D4594[1045572] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10131);
  *(_DWORD *)&byte_5D4594[1045576] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10126);
  *(_DWORD *)&byte_5D4594[1045580] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10128);
  *(_DWORD *)&byte_5D4594[1045584] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10130);
  *(_DWORD *)&byte_5D4594[1045588] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10132);
  *(_DWORD *)&byte_5D4594[1045552] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10123);
  *(_DWORD *)&byte_5D4594[1045592] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10133);
  v3 = *(_DWORD **)(*(_DWORD *)&byte_5D4594[1045532] + 32);
  v4 = sub_42F970((const char *)&byte_587000[127972]);
  v5 = sub_42F970((const char *)&byte_587000[127984]);
  v6 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10190);
  v15 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10188);
  v12 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10189);
  *(_DWORD *)(v6[100] + 8) = 16;
  *(_DWORD *)(v6[100] + 12) = 10;
  sub_4B5700((int)v6, 0, 0, (int)v4, (int)v5, (int)v5);
  sub_46B280((int)v6, *(int *)&byte_5D4594[1045532]);
  sub_46B280((int)v15, *(int *)&byte_5D4594[1045532]);
  sub_46B280((int)v12, *(int *)&byte_5D4594[1045532]);
  v3[9] = v6;
  v3[7] = v15;
  v3[8] = v12;
  v7 = *(_DWORD **)(*(_DWORD *)&byte_5D4594[1045528] + 32);
  v8 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10187);
  v16 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10185);
  v13 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10186);
  *(_DWORD *)(v8[100] + 8) = 16;
  *(_DWORD *)(v8[100] + 12) = 10;
  sub_4B5700((int)v8, 0, 0, (int)v4, (int)v5, (int)v5);
  sub_46B280((int)v8, *(int *)&byte_5D4594[1045528]);
  sub_46B280((int)v16, *(int *)&byte_5D4594[1045528]);
  sub_46B280((int)v13, *(int *)&byte_5D4594[1045528]);
  v7[9] = v8;
  v7[7] = v16;
  v7[8] = v13;
  v9 = *(_DWORD **)(*(_DWORD *)&byte_5D4594[1045536] + 32);
  v10 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10203);
  v17 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10201);
  v11 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10202);
  *(_DWORD *)(v10[100] + 8) = 16;
  v14 = (int)v11;
  *(_DWORD *)(v10[100] + 12) = 10;
  sub_4B5700((int)v10, 0, 0, (int)v4, (int)v5, (int)v5);
  sub_46B280((int)v10, *(int *)&byte_5D4594[1045536]);
  sub_46B280((int)v17, *(int *)&byte_5D4594[1045536]);
  sub_46B280(v14, *(int *)&byte_5D4594[1045536]);
  v9[9] = v10;
  v9[7] = v17;
  v9[8] = v14;
  sub_454740();
  sub_454640();
  if ( sub_40A5C0(1) )
    sub_46B340(*(int *)&byte_5D4594[1045516], sub_454A90);
  sub_46A8A0();
  return *(_DWORD *)&byte_5D4594[1045516];
}

//----- (00454640) --------------------------------------------------------
int sub_454640()
{
  _DWORD *v0; // eax
  _DWORD *v1; // esi
  int v2; // eax
  unsigned __int16 *v3; // eax
  unsigned __int16 *v4; // eax
  unsigned __int16 *v5; // eax
  int v6; // eax
  int v7; // eax
  int result; // eax
  int v9; // [esp+4h] [ebp-8h]
  int v10; // [esp+8h] [ebp-4h]

  v0 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10123);
  v1 = v0;
  v2 = sub_43F320(v0[59]) + 1;
  v1[7] = v1[5] + 4 * v2 + 2;
  v1[3] = 4 * v2 + 2;
  v3 = sub_40F1D0((char *)&byte_587000[128040], 0, (const char *)&byte_587000[127996], 88);
  sub_43F840(v1[59], v3, &v9, 0, 0);
  v4 = sub_40F1D0((char *)&byte_587000[128092], 0, (const char *)&byte_587000[128048], 89);
  sub_43F840(v1[59], v4, &v10, 0, 0);
  if ( v10 > v9 )
    v9 = v10;
  v5 = sub_40F1D0((char *)&byte_587000[128144], 0, (const char *)&byte_587000[128100], 94);
  sub_43F840(v1[59], v5, &v10, 0, 0);
  v6 = v9;
  if ( v10 > v9 )
    v6 = v10;
  v7 = v6 + 7;
  v9 = v7;
  v1[2] = v7;
  result = v9 + v1[4];
  v1[6] = result;
  return result;
}

//----- (00454740) --------------------------------------------------------
int *sub_454740()
{
  char *v0; // esi
  _DWORD *v1; // edi
  wchar_t *v2; // eax
  _DWORD *v3; // eax
  _DWORD *v4; // eax
  _DWORD *v5; // eax
  wchar_t *v6; // eax
  wchar_t *v7; // eax
  wchar_t *v8; // eax
  char v9; // dl
  int v10; // ecx
  int v11; // eax
  char *i; // esi
  WCHAR WideCharStr[18]; // [esp+Ch] [ebp-24h]

  v0 = sub_416640();
  v1 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10136);
  v2 = sub_40A630();
  sub_46B490((int)v1, 16414, (int)v2, 0);
  if ( *(short *)(v0 + 105) != -1 )
  {
    sub_46ABB0(*(int *)&byte_5D4594[1045584], 1);
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045568] + 36) |= 4u;
    _itow(*(unsigned __int16 *)(v0 + 105), WideCharStr, 10);
    sub_46B490(*(int *)&byte_5D4594[1045584], 16414, (int)WideCharStr, 0);
  }
  if ( *(short *)(v0 + 107) != -1 )
  {
    sub_46ABB0(*(int *)&byte_5D4594[1045588], 1);
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045572] + 36) |= 4u;
    _itow(*(unsigned __int16 *)(v0 + 107), WideCharStr, 10);
    sub_46B490(*(int *)&byte_5D4594[1045588], 16414, (int)WideCharStr, 0);
  }
  v3 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10124);
  if ( (int)v0[102] < 0 )
    v3[9] |= 4u;
  if ( v0[100] & 0x20 )
  {
    sub_46ABB0(*(int *)&byte_5D4594[1045556], 1);
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045524] + 36) |= 4u;
  }
  sub_46B490(*(int *)&byte_5D4594[1045556], 16414, (int)(v0 + 78), 0);
  if ( sub_4D6F30() )
  {
    sub_46ABB0(*(int *)&byte_5D4594[1045520], 0);
  }
  else
  {
    sub_46ABB0(*(int *)&byte_5D4594[1045520], 1);
    if ( v0[100] & 0x10 )
    {
      *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045520] + 36) = 4;
    }
    else
    {
      v4 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10206);
      sub_46ABB0((int)v4, 0);
    }
  }
  v5 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10207);
  v5[9] |= 4u;
  *(_DWORD *)&byte_5D4594[1045596] = *(_DWORD *)&byte_5D4594[1045528];
  v6 = sub_40F1D0((char *)&byte_587000[128200], 0, (const char *)&byte_587000[128156], 242);
  sub_46B490(*(int *)&byte_5D4594[1045552], 16397, (int)v6, -1);
  v7 = sub_40F1D0((char *)&byte_587000[128252], 0, (const char *)&byte_587000[128208], 243);
  sub_46B490(*(int *)&byte_5D4594[1045552], 16397, (int)v7, -1);
  v8 = sub_40F1D0((char *)&byte_587000[128304], 0, (const char *)&byte_587000[128260], 244);
  sub_46B490(*(int *)&byte_5D4594[1045552], 16397, (int)v8, -1);
  if ( v0[100] & 0x10 )
  {
    sub_46AC00(*(int *)&byte_5D4594[1045532], 0);
    sub_46AC00(*(int *)&byte_5D4594[1045528], 1);
  }
  v9 = v0[100];
  if ( v9 )
  {
    v10 = 0;
    v11 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045552] + 32);
    if ( v9 & 1 )
    {
      **(_DWORD **)(v11 + 48) = 0;
      v10 = 1;
      *(_DWORD *)(*(_DWORD *)(v11 + 48) + 4) = -1;
    }
    if ( v0[100] & 2 )
    {
      *(_DWORD *)(*(_DWORD *)(v11 + 48) + 4 * ++v10 - 4) = 1;
      *(_DWORD *)(*(_DWORD *)(v11 + 48) + 4 * v10) = -1;
    }
    if ( v0[100] & 4 )
    {
      *(_DWORD *)(*(_DWORD *)(v11 + 48) + 4 * v10) = 2;
      *(_DWORD *)(*(_DWORD *)(v11 + 48) + 4 * v10 + 4) = -1;
    }
  }
  _itow((unsigned __int8)v0[104], WideCharStr, 10);
  sub_46B490(*(int *)&byte_5D4594[1045592], 16414, (int)WideCharStr, 0);
  for ( i = sub_416EA0(); i; i = sub_416EE0((int)i) )
  {
    if ( i[2064] != 31 || !(*(_DWORD *)&byte_5D4594[2650636] & 0x40000) )
      sub_455920((int)(i + 4704));
  }
  return sub_455800();
}

//----- (00454A90) --------------------------------------------------------
int __cdecl sub_454A90(int a1, int a2)
{
  _WORD *v2; // eax
  int v3; // eax
  char v4; // cl
  int xLeft; // [esp+8h] [ebp-8h]
  int yTop; // [esp+Ch] [ebp-4h]

  sub_46AA60((_DWORD *)a1, &xLeft, &yTop);
  if ( (signed char)*(_BYTE *)(a1 + 4) >= 0 )
  {
    if ( *(_DWORD *)(a2 + 20) != 0x80000000 )
      sub_49CF10(xLeft, yTop, *(_DWORD *)(a1 + 8), *(_DWORD *)(a1 + 12));
  }
  else
  {
    sub_47D2C0(*(_DWORD *)(a2 + 24), xLeft, yTop);
  }
  if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[1045540] + 4) & 8 )
  {
    v2 = (_WORD *)sub_46B490(*(int *)&byte_5D4594[1045540], 16413, 0, 0);
    if ( v2 && *v2 )
    {
      if ( !(*(_BYTE *)(*(_DWORD *)&byte_5D4594[1045544] + 4) & 8) )
        sub_46ABB0(*(int *)&byte_5D4594[1045544], 1);
    }
    else if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[1045544] + 4) & 8 )
    {
      sub_46ABB0(*(int *)&byte_5D4594[1045544], 0);
    }
  }
  v3 = sub_46B490(*(int *)&byte_5D4594[1045596], 16404, 0, 0);
  v4 = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1045548] + 4);
  if ( v3 < 0 )
  {
    if ( v4 & 8 )
      sub_46ABB0(*(int *)&byte_5D4594[1045548], 0);
  }
  else if ( !(v4 & 8) )
  {
    sub_46ABB0(*(int *)&byte_5D4594[1045548], 1);
    return 1;
  }
  return 1;
}

//----- (00454BA0) --------------------------------------------------------
int __cdecl sub_454BA0(int a1, int a2, int *a3, int a4)
{
  int v4; // eax
  int result; // eax
  char *v6; // eax
  int v7; // esi
  char *v8; // esi
  const wchar_t *v9; // eax
  char *v10; // esi
  const wchar_t *v11; // eax
  char *v12; // esi
  const wchar_t *v13; // eax
  char *v14; // esi
  const wchar_t *v15; // eax
  char *v16; // eax
  char v17; // dl
  _DWORD *v18; // esi
  _DWORD *v19; // eax
  _DWORD *v20; // eax
  char *v21; // esi
  wchar_t *v22; // esi
  int v23; // esi
  int v24; // esi
  char *v25; // eax
  int *v26; // eax
  int *v27; // ebp
  int v28; // eax
  wchar_t *v29; // eax
  wchar_t *v30; // edi
  char *v31; // eax
  char *v32; // esi
  int *v33; // eax
  int *v34; // edi
  int v35; // eax
  wchar_t *v36; // eax
  char *v37; // eax
  char *v38; // esi
  char *v39; // ebp
  const wchar_t *v40; // eax
  wchar_t *v41; // esi
  int v42; // ebx
  int v43; // ebp
  _DWORD *v44; // esi
  const wchar_t *v45; // eax
  wchar_t *v46; // edi
  int v47; // ebx
  WCHAR WideCharStr[8]; // [esp+10h] [ebp-10h]
  char *v49; // [esp+28h] [ebp+8h]
  char *v50; // [esp+30h] [ebp+10h]
  char *v51; // [esp+30h] [ebp+10h]

  switch ( a2 )
  {
    case 16387:
      v43 = a4;
      v44 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], a4);
      v51 = sub_416630();
      v49 = sub_416640();
      if ( !v44 || (unsigned __int16)a3 == 1 )
        goto LABEL_101;
      v45 = (const wchar_t *)sub_46B490((int)v44, 16413, 0, 0);
      v46 = (wchar_t *)v45;
      if ( !v45 || !*v45 || (v47 = nox_wcstol(v45, 0, 10), v47 < 0) )
        v47 = 0;
      switch ( v43 )
      {
        case 10104:
          nox_wcscpy((wchar_t *)v49 + 39, v46);
          goto LABEL_101;
        case 10126:
          if ( v47 > 14 )
          {
            LOBYTE(v47) = 14;
            _itow(14, WideCharStr, 10);
            sub_46B490((int)v44, 16414, (int)WideCharStr, -1);
          }
          v51[1] = v47 | v51[1] & 0xF0;
          result = 0;
          break;
        case 10128:
          if ( v47 > 14 )
          {
            LOBYTE(v47) = 14;
            _itow(14, WideCharStr, 10);
            sub_46B490((int)v44, 16414, (int)WideCharStr, -1);
          }
          v51[1] = (16 * v47) | v51[1] & 0xF;
          result = 0;
          break;
        case 10130:
          *(_WORD *)(v51 + 5) = v47;
          result = 0;
          break;
        case 10132:
          *(_WORD *)(v51 + 7) = v47;
          result = 0;
          break;
        case 10133:
          if ( v47 <= 32 )
          {
            if ( v47 < 1 )
            {
              v47 = 1;
              _itow(1, WideCharStr, 10);
              sub_46B490((int)v44, 16414, (int)WideCharStr, -1);
            }
          }
          else
          {
            v47 = 32;
            _itow(32, WideCharStr, 10);
            sub_46B490((int)v44, 16414, (int)WideCharStr, -1);
          }
          sub_409F80(v47);
          result = 0;
          v51[4] = v47;
          break;
        case 10136:
          sub_40A610(v46);
          result = 0;
          break;
        default:
          goto LABEL_101;
      }
      break;
    case 16391:
      v7 = sub_46B0A0(a3);
      sub_452D80(766, 100);
      switch ( v7 )
      {
        case 10102:
          v16 = sub_416630();
          v17 = *v16 ^ 0x10;
          *v16 = v17;
          if ( v17 & 0x10 )
          {
            v20 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10206);
            sub_46ABB0((int)v20, 1);
          }
          else
          {
            v18 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10206);
            sub_46ABB0((int)v18, 0);
            v18[9] &= 0xFFFFFFFB;
            v19 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10207);
            v19[9] |= 4u;
            sub_46AC00(*(int *)&byte_5D4594[1045532], 1);
            sub_46ACE0(*(_DWORD **)&byte_5D4594[1045516], 10188, 10190, 1);
            sub_46AC00(*(int *)&byte_5D4594[1045528], 0);
            sub_46ACE0(*(_DWORD **)&byte_5D4594[1045516], 10185, 10187, 0);
          }
          return 0;
        case 10103:
          v21 = sub_416630();
          sub_46ABB0(
            *(int *)&byte_5D4594[1045556],
            ((unsigned int)~*(_DWORD *)(*(_DWORD *)&byte_5D4594[1045524] + 36) >> 2) & 1);
          *v21 ^= 0x20u;
          return 0;
        case 10112:
          v22 = (wchar_t *)sub_46B490(*(int *)&byte_5D4594[1045540], 16413, 0, 0);
          if ( sub_46ACC0(*(int *)&byte_5D4594[1045528]) )
            sub_4168A0(v22);
          else
            sub_416770(0, v22, 0);
          sub_46B490(*(int *)&byte_5D4594[1045540], 16414, (int)&byte_5D4594[1045600], 0);
          return 0;
        case 10113:
          sub_416640();
          if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[1045520] + 36) & 4 )
          {
            v23 = sub_46B490(*(int *)&byte_5D4594[1045532], 16404, 0, 0);
            sub_46B490(*(int *)&byte_5D4594[1045532], 16398, v23, 0);
            sub_416860(v23);
          }
          else
          {
            v24 = sub_46B490(*(int *)&byte_5D4594[1045528], 16404, 0, 0);
            sub_46B490(*(int *)&byte_5D4594[1045528], 16398, v24, 0);
            sub_416820(v24);
          }
          return 0;
        case 10124:
          v25 = sub_416630();
          v25[2] ^= 0x80u;
          return 0;
        case 10125:
          v8 = sub_416630();
          if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[1045560] + 36) & 4 )
          {
            sub_46ABB0(*(int *)&byte_5D4594[1045576], 0);
            v8[1] |= 0xFu;
            return 0;
          }
          sub_46ABB0(*(int *)&byte_5D4594[1045576], 1);
          v9 = (const wchar_t *)sub_46B490(*(int *)&byte_5D4594[1045576], 16413, 0, 0);
          if ( !*v9 )
            goto LABEL_101;
          v8[1] = v8[1] & 0xF0 | nox_wcstol(v9, 0, 10);
          return 0;
        case 10127:
          v10 = sub_416630();
          if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[1045564] + 36) & 4 )
          {
            sub_46ABB0(*(int *)&byte_5D4594[1045580], 0);
            v10[1] |= 0xF0u;
            return 0;
          }
          sub_46ABB0(*(int *)&byte_5D4594[1045580], 1);
          v11 = (const wchar_t *)sub_46B490(*(int *)&byte_5D4594[1045580], 16413, 0, 0);
          if ( !*v11 )
            goto LABEL_101;
          v10[1] = v10[1] & 0xF | nox_wcstol(v11, 0, 10);
          return 0;
        case 10129:
          v12 = sub_416630();
          if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[1045568] + 36) & 4 )
          {
            sub_46ABB0(*(int *)&byte_5D4594[1045584], 0);
            *(_WORD *)(v12 + 5) = -1;
            return 0;
          }
          sub_46ABB0(*(int *)&byte_5D4594[1045584], 1);
          v13 = (const wchar_t *)sub_46B490(*(int *)&byte_5D4594[1045584], 16413, 0, 0);
          if ( !*v13 )
            goto LABEL_101;
          *(_WORD *)(v12 + 5) = nox_wcstol(v13, 0, 10);
          return 0;
        case 10131:
          v14 = sub_416630();
          if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[1045572] + 36) & 4 )
          {
            sub_46ABB0(*(int *)&byte_5D4594[1045588], 0);
            *(_WORD *)(v14 + 7) = -1;
            return 0;
          }
          sub_46ABB0(*(int *)&byte_5D4594[1045588], 1);
          v15 = (const wchar_t *)sub_46B490(*(int *)&byte_5D4594[1045588], 16413, 0, 0);
          if ( !*v15 )
            goto LABEL_101;
          *(_WORD *)(v14 + 7) = nox_wcstol(v15, 0, 10);
          result = 0;
          break;
        case 10191:
          v33 = (int *)sub_46B490(*(int *)&byte_5D4594[1045536], 16404, 0, 0);
          v34 = v33;
          v35 = *v33;
          if ( v35 < 0 )
            goto LABEL_101;
          do
          {
            v36 = (wchar_t *)sub_46B490(*(int *)&byte_5D4594[1045536], 16406, v35, 0);
            v37 = sub_4170D0(v36);
            v38 = v37;
            if ( v37 && v37[2064] != 31 )
            {
              if ( sub_40A5C0(4096) )
                sub_4DCFB0(*((_DWORD *)v38 + 514));
              else
                sub_4DEAB0((unsigned __int8)v38[2064], 4);
            }
            v35 = v34[1];
            ++v34;
          }
          while ( v35 >= 0 );
          return 0;
        case 10192:
          v26 = (int *)sub_46B490(*(int *)&byte_5D4594[1045536], 16404, 0, 0);
          v27 = v26;
          v28 = *v26;
          if ( v28 < 0 )
            goto LABEL_101;
          do
          {
            v29 = (wchar_t *)sub_46B490(*(int *)&byte_5D4594[1045536], 16406, v28, 0);
            v30 = v29;
            v31 = sub_4170D0(v29);
            v32 = v31;
            if ( v31 && v31[2064] != 31 )
            {
              if ( sub_40A5C0(4096) )
                sub_4DCFB0(*((_DWORD *)v32 + 514));
              else
                sub_4DEB00((unsigned __int8)v32[2064]);
              sub_416770(0, v30, v32 + 2112);
            }
            v28 = v27[1];
            ++v27;
          }
          while ( v28 >= 0 );
          return 0;
        case 10206:
          sub_46AC00(*(int *)&byte_5D4594[1045532], 0);
          sub_46ACE0(*(_DWORD **)&byte_5D4594[1045516], 10188, 10190, 0);
          sub_46AC00(*(int *)&byte_5D4594[1045528], 1);
          sub_46ACE0(*(_DWORD **)&byte_5D4594[1045516], 10185, 10187, 1);
          *(_DWORD *)&byte_5D4594[1045596] = *(_DWORD *)&byte_5D4594[1045532];
          return 0;
        case 10207:
          sub_46AC00(*(int *)&byte_5D4594[1045532], 1);
          sub_46ACE0(*(_DWORD **)&byte_5D4594[1045516], 10188, 10190, 1);
          sub_46AC00(*(int *)&byte_5D4594[1045528], 0);
          sub_46ACE0(*(_DWORD **)&byte_5D4594[1045516], 10185, 10187, 0);
          *(_DWORD *)&byte_5D4594[1045596] = *(_DWORD *)&byte_5D4594[1045528];
          return 0;
        default:
          goto LABEL_101;
      }
      break;
    case 16400:
      v4 = sub_46B0A0(a3) - 10123;
      if ( v4 )
      {
        if ( v4 != 77 )
          goto LABEL_101;
        if ( sub_455770() )
          sub_46AD20(*(_DWORD **)&byte_5D4594[1045516], 10191, 10192, 1);
        else
          sub_46AD20(*(_DWORD **)&byte_5D4594[1045516], 10191, 10192, 0);
        result = 0;
      }
      else
      {
        v6 = sub_416640();
        v6[100] ^= 1 << a4;
        result = 0;
      }
      break;
    case 16415:
      v39 = sub_416630();
      v50 = sub_416640();
      v40 = (const wchar_t *)sub_46B490((int)a3, 16413, 0, 0);
      v41 = (wchar_t *)v40;
      if ( !v40 || !*v40 || (v42 = nox_wcstol(v40, 0, 10), v42 < 0) )
        v42 = 0;
      switch ( sub_46B0A0(a3) )
      {
        case 10104:
          nox_wcscpy((wchar_t *)v50 + 39, v41);
          goto LABEL_101;
        case 10126:
          if ( v42 > 14 )
          {
            LOBYTE(v42) = 14;
            _itow(14, WideCharStr, 10);
            sub_46B490((int)a3, 16414, (int)WideCharStr, -1);
          }
          result = 0;
          v39[1] = v42 | v39[1] & 0xF0;
          break;
        case 10128:
          if ( v42 > 14 )
          {
            LOBYTE(v42) = 14;
            _itow(14, WideCharStr, 10);
            sub_46B490((int)a3, 16414, (int)WideCharStr, -1);
          }
          result = 0;
          v39[1] = (16 * v42) | v39[1] & 0xF;
          break;
        case 10130:
          *(_WORD *)(v39 + 5) = v42;
          result = 0;
          break;
        case 10132:
          *(_WORD *)(v39 + 7) = v42;
          result = 0;
          break;
        case 10133:
          if ( v42 <= 32 )
          {
            if ( v42 < 1 )
            {
              v42 = 1;
              _itow(1, WideCharStr, 10);
              sub_46B490((int)a3, 16414, (int)WideCharStr, -1);
            }
          }
          else
          {
            v42 = 32;
            _itow(32, WideCharStr, 10);
            sub_46B490((int)a3, 16414, (int)WideCharStr, -1);
          }
          sub_409F80(v42);
          v39[4] = v42;
          result = 0;
          break;
        case 10136:
          sub_40A610(v41);
          result = 0;
          break;
        default:
          goto LABEL_101;
      }
      break;
    default:
LABEL_101:
      result = 0;
      break;
  }
  return result;
}

//----- (00455770) --------------------------------------------------------
int sub_455770()
{
  int *v0; // eax
  int *v1; // esi
  int v2; // eax
  wchar_t *v3; // eax
  char *v4; // eax

  v0 = (int *)sub_46B490(*(int *)&byte_5D4594[1045536], 16404, 0, 0);
  v1 = v0;
  v2 = *v0;
  if ( v2 < 0 )
    return 0;
  while ( 1 )
  {
    v3 = (wchar_t *)sub_46B490(*(int *)&byte_5D4594[1045536], 16406, v2, 0);
    v4 = sub_4170D0(v3);
    if ( v4 )
    {
      if ( v4[2064] != 31 )
        break;
    }
    v2 = v1[1];
    ++v1;
    if ( v2 < 0 )
      return 0;
  }
  return 1;
}

//----- (004557D0) --------------------------------------------------------
int __cdecl sub_4557D0(int a1)
{
  int result; // eax

  result = a1;
  if ( a1 )
  {
    result = *(_DWORD *)&byte_5D4594[1045516];
    if ( *(_DWORD *)&byte_5D4594[1045516] )
      result = sub_46C4E0(*(_DWORD **)&byte_5D4594[1045516]);
  }
  *(_DWORD *)&byte_5D4594[1045516] = 0;
  return result;
}

//----- (00455800) --------------------------------------------------------
int *sub_455800()
{
  int *result; // eax
  int v1; // eax
  int *i; // esi
  int *j; // esi
  WCHAR WideCharStr[10]; // [esp+4h] [ebp-48h]
  wchar_t v5[26]; // [esp+18h] [ebp-34h]

  result = *(int **)&byte_5D4594[1045516];
  if ( *(_DWORD *)&byte_5D4594[1045516] )
  {
    v1 = sub_409FA0();
    _itow(v1, WideCharStr, 10);
    sub_46B490(*(int *)&byte_5D4594[1045592], 16414, (int)WideCharStr, 0);
    result = (int *)sub_40A5C0(1);
    if ( result )
    {
      sub_416640();
      sub_46B490(*(int *)&byte_5D4594[1045528], 16399, 0, 0);
      sub_46B490(*(int *)&byte_5D4594[1045532], 16399, 0, 0);
      for ( i = sub_4168E0(); i; i = sub_4168F0(i) )
        sub_46B490(*(int *)&byte_5D4594[1045532], 16397, (int)(i + 3), -1);
      result = sub_416900();
      for ( j = result; result; j = result )
      {
        if ( *((_BYTE *)j + 72) )
        {
          sub_46B490(*(int *)&byte_5D4594[1045528], 16397, (int)(j + 3), -1);
        }
        else
        {
          nox_swprintf(v5, (const wchar_t *)&byte_587000[128316], j + 3);
          sub_46B490(*(int *)&byte_5D4594[1045528], 16397, (int)v5, -1);
        }
        result = sub_416910(j);
      }
    }
  }
  return result;
}

//----- (00455920) --------------------------------------------------------
int __cdecl sub_455920(int a1)
{
  int result; // eax
  _DWORD *v2; // eax

  result = *(_DWORD *)&byte_5D4594[1045516];
  if ( *(_DWORD *)&byte_5D4594[1045516] )
  {
    v2 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045516], 10200);
    result = sub_46B490((int)v2, 16397, a1, 3);
  }
  return result;
}

//----- (00455950) --------------------------------------------------------
void __cdecl sub_455950(wchar_t *a1)
{
  int v1; // eax

  if ( *(_DWORD *)&byte_5D4594[1045516] )
  {
    v1 = sub_4559B0(a1);
    if ( v1 != -1 )
    {
      sub_46B490(*(int *)&byte_5D4594[1045536], 16398, v1, 0);
      if ( !sub_455770() )
        sub_46AD20(*(_DWORD **)&byte_5D4594[1045516], 10191, 10192, 0);
    }
  }
}

//----- (004559B0) --------------------------------------------------------
int __cdecl sub_4559B0(wchar_t *a1)
{
  int v1; // esi
  int v2; // ebx
  const wchar_t *v3; // eax

  v1 = 0;
  v2 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045536] + 32);
  if ( *(short *)(v2 + 44) <= 0 )
    return -1;
  while ( 1 )
  {
    v3 = (const wchar_t *)sub_46B490(*(int *)&byte_5D4594[1045536], 16406, v1, 0);
    if ( !nox_wcscmp(v3, a1) )
      break;
    if ( ++v1 >= *(__int16 *)(v2 + 44) )
      return -1;
  }
  return v1;
}

//----- (00455A00) --------------------------------------------------------
int __cdecl sub_455A00(int a1)
{
  int result; // eax

  if ( a1 && *(_DWORD *)&byte_5D4594[1045608] && sub_46ADA0(*(int *)&byte_5D4594[1045604]) & 0x10 )
    result = sub_46A8C0(*(int *)&byte_5D4594[1045604]);
  else
    result = sub_46AC00(*(int *)&byte_5D4594[1045604], 1);
  return result;
}

//----- (00455A50) --------------------------------------------------------
char __cdecl sub_455A50(char a1)
{
  _DWORD *v1; // edi
  int v2; // eax
  int v3; // esi
  int v4; // edx
  int v6; // [esp+4h] [ebp-14h]
  int v7; // [esp+8h] [ebp-10h]
  int v8; // [esp+Ch] [ebp-Ch]
  int v9; // [esp+10h] [ebp-8h]
  int v10; // [esp+14h] [ebp-4h]

  v1 = 0;
  sub_418C80(*(int *)&byte_5D4594[2616328]);
  if ( *(_DWORD *)&byte_5D4594[1045604] || (v2 = sub_455C30()) != 0 )
  {
    sub_43BEB0(&v7, &v6, &v10);
    sub_430C50(&v8, &v9);
    if ( v7 > v8 )
      v7 = v8;
    if ( v6 > v9 )
      v6 = v9;
    *(_DWORD *)&byte_5D4594[1045612] = 0;
    *(_DWORD *)&byte_5D4594[1045616] = 0;
    *(_DWORD *)&byte_5D4594[1045620] = 0;
    *(_DWORD *)&byte_5D4594[1045608] = 1;
    *(_DWORD *)&byte_5D4594[1045624] = 0;
    sub_46ACE0(*(_DWORD **)&byte_5D4594[1045604], 8811, 8826, 1);
    v3 = 0;
    byte_5D4594[1045628] = a1;
    if ( a1 )
    {
      do
      {
        v1 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045604], v3 + 8811);
        sub_46AC00((int)v1, 0);
        ++v3;
      }
      while ( v3 < byte_5D4594[1045628] );
    }
    if ( byte_5D4594[1045628] <= 4u )
      v4 = v7 - *(_DWORD *)(*(int *)&byte_5D4594[1045604] + 8) / 2;
    else
      v4 = v7 - *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045604] + 8);
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045604] + 16) = v4 - 91;
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045604] + 24) = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045604] + 8)
                                                       + *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045604] + 16);
    LOBYTE(v2) = byte_5D4594[1045628];
    if ( byte_5D4594[1045628] <= 8u )
    {
      if ( byte_5D4594[1045628] <= 4u )
      {
        if ( !v1 )
        {
          *(_DWORD *)&byte_5D4594[1045608] = 0;
          return v2;
        }
        *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045604] + 20) = v6 - 40 * byte_5D4594[1045628];
      }
      else
      {
        *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045604] + 20) = v6 - *(int *)(*(_DWORD *)&byte_5D4594[1045604] + 12) / 2;
      }
    }
    else
    {
      *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045604] + 20) = v6 - *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045604] + 12);
    }
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045604] + 28) = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045604] + 12)
                                                       + *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045604] + 20);
    LOBYTE(v2) = sub_46A8C0(*(int *)&byte_5D4594[1045604]);
  }
  return v2;
}

//----- (00455C10) --------------------------------------------------------
int sub_455C10()
{
  *(_DWORD *)&byte_5D4594[1045608] = 0;
  return sub_455A00(0);
}

//----- (00455C30) --------------------------------------------------------
int sub_455C30()
{
  int result; // eax
  int v1; // edi
  wchar_t *v2; // esi
  wchar_t *v3; // eax

  if ( *(_DWORD *)&byte_5D4594[1045604] )
    return 1;
  result = sub_4A0AD0((const char *)&byte_587000[128324], 0);
  *(_DWORD *)&byte_5D4594[1045604] = result;
  if ( result )
  {
    v1 = 8811;
    while ( 1 )
    {
      v2 = (wchar_t *)sub_46B0C0((_DWORD *)result, v1);
      sub_46B430(v2, 0, sub_455CD0, 0);
      v3 = sub_40F1D0((char *)&byte_587000[128372], 0, (const char *)&byte_587000[128336], 201);
      sub_46B000(v2 + 18, v3);
      if ( ++v1 > 8826 )
        break;
      result = *(_DWORD *)&byte_5D4594[1045604];
    }
    sub_455A00(0);
    *(_DWORD *)&byte_5D4594[1045632] = sub_42F970((const char *)&byte_587000[128384]);
    result = 1;
  }
  return result;
}

//----- (00455CD0) --------------------------------------------------------
int __cdecl sub_455CD0(_BYTE *a1, _DWORD *a2)
{
  _BYTE *v2; // esi
  int v3; // eax
  _BYTE *v5; // [esp-Ch] [ebp-18h]
  int v6; // [esp+4h] [ebp-8h]
  int v7; // [esp+8h] [ebp-4h]
  unsigned __int8 v8; // [esp+10h] [ebp+4h]

  v2 = a1;
  v5 = a1;
  v8 = *a1 - 107;
  sub_46AA60(v5, &v6, &v7);
  if ( byte_5D4594[v8 + 1045612] == 1 )
  {
    v3 = a2[8];
    if ( v3 )
    {
LABEL_8:
      sub_47D2C0(v3, v6, v7);
      goto LABEL_9;
    }
  }
  else if ( byte_5D4594[v8 + 1045612] == 2 )
  {
    v3 = a2[12];
    if ( v3 )
      goto LABEL_8;
  }
  else
  {
    v3 = a2[6];
    if ( v3 )
      goto LABEL_8;
  }
LABEL_9:
  if ( v2[4] & 0x20 && *(_DWORD *)&byte_5D4594[1045632] )
    sub_47D2C0(*(int *)&byte_5D4594[1045632], v6 - 4, v7 - 4);
  return 1;
}

//----- (00455D80) --------------------------------------------------------
wchar_t *__cdecl sub_455D80(unsigned __int8 a1, char a2)
{
  wchar_t *result; // eax
  wchar_t *v3; // esi
  wchar_t *v4; // eax

  byte_5D4594[a1 + 1045611] = a2;
  result = (wchar_t *)sub_46B0C0(*(_DWORD **)&byte_5D4594[1045604], a1 + 8810);
  v3 = result;
  if ( result )
  {
    if ( result[2] & 0x20 )
    {
      if ( a2 )
      {
        if ( a2 == 1 )
        {
          v4 = sub_40F1D0((char *)&byte_587000[128436], 0, (const char *)&byte_587000[128400], 234);
        }
        else
        {
          if ( a2 != 2 )
            return result;
          v4 = sub_40F1D0((char *)&byte_587000[128492], 0, (const char *)&byte_587000[128456], 238);
        }
      }
      else
      {
        v4 = sub_40F1D0((char *)&byte_587000[128540], 0, (const char *)&byte_587000[128504], 242);
      }
    }
    else if ( a2 )
    {
      if ( a2 == 1 )
      {
        v4 = sub_40F1D0((char *)&byte_587000[128588], 0, (const char *)&byte_587000[128552], 252);
      }
      else
      {
        if ( a2 != 2 )
          return result;
        v4 = sub_40F1D0((char *)&byte_587000[128644], 0, (const char *)&byte_587000[128608], 256);
      }
    }
    else
    {
      v4 = sub_40F1D0((char *)&byte_587000[128692], 0, (const char *)&byte_587000[128656], 260);
    }
    result = sub_46B000(v3 + 18, v4);
  }
  return result;
}

//----- (00455E70) --------------------------------------------------------
int __cdecl sub_455E70(unsigned __int8 a1)
{
  int i; // esi
  _DWORD *v2; // eax
  _DWORD *v3; // eax

  for ( i = 8811; i < byte_5D4594[1045628] + 8811; ++i )
  {
    v2 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045604], i);
    sub_46AD80((int)v2, 32);
  }
  v3 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045604], a1 + 8810);
  return sub_46AD60((int)v3, 32);
}

//----- (00455EE0) --------------------------------------------------------
int sub_455EE0()
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[1045604];
  if ( *(_DWORD *)&byte_5D4594[1045604] )
    result = sub_46C4E0(*(_DWORD **)&byte_5D4594[1045604]);
  *(_DWORD *)&byte_5D4594[1045604] = 0;
  *(_DWORD *)&byte_5D4594[1045608] = 0;
  return result;
}

//----- (00455F10) --------------------------------------------------------
int __cdecl sub_455F10(int a1)
{
  int result; // eax

  if ( a1 && *(_DWORD *)&byte_5D4594[1045640] && sub_46ADA0(*(int *)&byte_5D4594[1045636]) & 0x10 )
    result = sub_46A8C0(*(int *)&byte_5D4594[1045636]);
  else
    result = sub_46AC00(*(int *)&byte_5D4594[1045636], 1);
  return result;
}

//----- (00455F60) --------------------------------------------------------
int sub_455F60()
{
  int result; // eax
  int v1; // ecx
  int v2; // [esp+0h] [ebp-14h]
  int v3; // [esp+4h] [ebp-10h]
  int v4; // [esp+8h] [ebp-Ch]
  int v5; // [esp+Ch] [ebp-8h]
  int v6; // [esp+10h] [ebp-4h]

  sub_418C80(*(int *)&byte_5D4594[2616328]);
  if ( *(_DWORD *)&byte_5D4594[1045636] || (result = sub_456070()) != 0 )
  {
    sub_43BEB0(&v3, &v2, &v6);
    sub_430C50(&v4, &v5);
    v1 = v3;
    if ( v3 > v4 )
    {
      v1 = v4;
      v3 = v4;
    }
    if ( v2 > v5 )
      v2 = v5;
    *(_DWORD *)&byte_5D4594[1045640] = 1;
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045636] + 16) = v1 - *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045636] + 8) / 3 - 91;
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045636] + 24) = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045636] + 8)
                                                       + *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045636] + 16);
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045636] + 20) = v2 - 120;
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045636] + 28) = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045636] + 12)
                                                       + *(_DWORD *)(*(_DWORD *)&byte_5D4594[1045636] + 20);
    byte_5D4594[1045644] = 0;
    result = sub_46A8C0(*(int *)&byte_5D4594[1045636]);
  }
  return result;
}

//----- (00456050) --------------------------------------------------------
int sub_456050()
{
  *(_DWORD *)&byte_5D4594[1045640] = 0;
  return sub_455F10(0);
}

//----- (00456070) --------------------------------------------------------
int sub_456070()
{
  if ( !*(_DWORD *)&byte_5D4594[1045636] )
  {
    *(_DWORD *)&byte_5D4594[1045636] = sub_4A0AD0((const char *)&byte_587000[128704], 0);
    sub_46B430(*(_DWORD **)&byte_5D4594[1045636], 0, sub_4560D0, 0);
    if ( !*(_DWORD *)&byte_5D4594[1045636] )
      return 0;
    sub_455F10(0);
    *(_DWORD *)&byte_5D4594[1045648] = sub_42F970((const char *)&byte_587000[128716]);
  }
  return 1;
}

//----- (004560D0) --------------------------------------------------------
int __cdecl sub_4560D0(int a1, int a2)
{
  int v2; // eax
  int v4; // [esp+4h] [ebp-8h]
  int v5; // [esp+8h] [ebp-4h]

  sub_46AA60((_DWORD *)a1, &v4, &v5);
  v2 = *(_DWORD *)(a2 + 24);
  if ( v2 )
    sub_47D2C0(v2, v4, v5);
  if ( *(_BYTE *)(a1 + 4) & 0x20 && *(_DWORD *)&byte_5D4594[1045648] )
    sub_47D2C0(*(int *)&byte_5D4594[1045648], v4 - 4, v5 - 4);
  return 1;
}

//----- (00456140) --------------------------------------------------------
wchar_t *__cdecl sub_456140(unsigned __int8 a1)
{
  wchar_t *result; // eax
  int v2; // esi
  wchar_t *v3; // eax
  wchar_t *v4; // eax
  wchar_t *v5; // eax
  wchar_t *v6; // eax

  byte_5D4594[1045644] = a1;
  result = (wchar_t *)a1;
  v2 = *(_DWORD *)&byte_5D4594[1045636] + 36;
  switch ( a1 )
  {
    case 0u:
      *(_DWORD *)(v2 + 24) = sub_42F970((const char *)&byte_587000[128732]);
      v3 = sub_40F1D0((char *)&byte_587000[128780], 0, (const char *)&byte_587000[128744], 165);
      result = sub_46B000((wchar_t *)v2, v3);
      break;
    case 1u:
      *(_DWORD *)(v2 + 24) = sub_42F970((const char *)&byte_587000[128792]);
      v4 = sub_40F1D0((char *)&byte_587000[128840], 0, (const char *)&byte_587000[128804], 170);
      result = sub_46B000((wchar_t *)v2, v4);
      break;
    case 2u:
      *(_DWORD *)(v2 + 24) = sub_42F970((const char *)&byte_587000[128852]);
      v5 = sub_40F1D0((char *)&byte_587000[128896], 0, (const char *)&byte_587000[128860], 175);
      result = sub_46B000((wchar_t *)v2, v5);
      break;
    case 4u:
      *(_DWORD *)(v2 + 24) = sub_42F970((const char *)&byte_587000[128908]);
      v6 = sub_40F1D0((char *)&byte_587000[128956], 0, (const char *)&byte_587000[128920], 180);
      result = sub_46B000((wchar_t *)v2, v6);
      break;
    default:
      return result;
  }
  return result;
}

//----- (00456240) --------------------------------------------------------
int sub_456240()
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[1045636];
  if ( *(_DWORD *)&byte_5D4594[1045636] )
    result = sub_46C4E0(*(_DWORD **)&byte_5D4594[1045636]);
  *(_DWORD *)&byte_5D4594[1045636] = 0;
  *(_DWORD *)&byte_5D4594[1045640] = 0;
  return result;
}

//----- (00456270) --------------------------------------------------------
int __cdecl sub_456270(int a1)
{
  int v1; // esi
  _DWORD *v3; // edi
  _DWORD *v4; // ebx
  char *v5; // ebp
  _DWORD *v6; // esi
  _DWORD *v7; // edi
  _DWORD *v8; // esi
  _DWORD *v9; // esi
  wchar_t *v10; // eax
  _DWORD *v11; // [esp+4h] [ebp-Ch]
  _DWORD *v12; // [esp+4h] [ebp-Ch]
  char *v13; // [esp+8h] [ebp-8h]
  _DWORD *v14; // [esp+Ch] [ebp-4h]
  _DWORD *v15; // [esp+14h] [ebp+4h]
  _DWORD *v16; // [esp+14h] [ebp+4h]

  v1 = *(_DWORD *)&byte_587000[26048];
  if ( sub_43F320(0) > 10 )
    v1 = 2;
  if ( *(_DWORD *)&byte_5D4594[1045684] )
    return 0;
  *(_DWORD *)&byte_5D4594[1045684] = sub_4A0AD0(*(const char **)&byte_587000[4 * v1 + 129048], sub_4567C0);
  *(_DWORD *)&byte_5D4594[1045688] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045684], 10507);
  *(_DWORD *)&byte_5D4594[1045692] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045684], 10509);
  sub_46B120(*(_DWORD **)&byte_5D4594[1045684], a1);
  sub_46B340(*(int *)&byte_5D4594[1045684], sub_456640);
  sub_46A8A0();
  sub_425760(&byte_5D4594[1045652]);
  sub_425760(&byte_5D4594[1045668]);
  v3 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045684], 10501);
  v4 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045684], 10502);
  v14 = (_DWORD *)v3[8];
  v13 = sub_42F970((const char *)&byte_587000[129208]);
  v5 = sub_42F970((const char *)&byte_587000[129220]);
  v6 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045684], 10517);
  v15 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045684], 10515);
  v11 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045684], 10516);
  *(_DWORD *)(v6[100] + 8) = 16;
  *(_DWORD *)(v6[100] + 12) = 10;
  sub_4B5700((int)v6, 0, 0, (int)v13, (int)v5, (int)v5);
  sub_46B280((int)v6, (int)v3);
  sub_46B280((int)v15, (int)v3);
  sub_46B280((int)v11, (int)v3);
  v14[9] = v6;
  v14[7] = v15;
  v14[8] = v11;
  v7 = (_DWORD *)v4[8];
  v8 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045684], 10520);
  v16 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045684], 10518);
  v12 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045684], 10519);
  *(_DWORD *)(v8[100] + 8) = 16;
  *(_DWORD *)(v8[100] + 12) = 10;
  sub_4B5700((int)v8, 0, 0, (int)v13, (int)v5, (int)v5);
  sub_46B280((int)v8, (int)v4);
  sub_46B280((int)v16, (int)v4);
  sub_46B280((int)v12, (int)v4);
  v7[9] = v8;
  v7[7] = v16;
  v7[8] = v12;
  sub_456500();
  v9 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045684], 10504);
  if ( sub_40A5C0(128) )
  {
    v10 = sub_40F1D0((char *)&byte_587000[129280], 0, (const char *)&byte_587000[129232], 631);
    sub_46B490((int)v9, 16385, (int)v10, -1);
  }
  return *(_DWORD *)&byte_5D4594[1045684];
}

//----- (00456500) --------------------------------------------------------
int sub_456500()
{
  _DWORD *v0; // ebp
  _DWORD *v1; // ebx
  char *i; // esi
  char *j; // esi
  _DWORD *v4; // edi
  int result; // eax

  v0 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045684], 10501);
  v1 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045684], 10502);
  sub_46B490((int)v0, 16399, 0, 0);
  sub_46B490((int)v1, 16399, 0, 0);
  sub_46ABB0(*(int *)&byte_5D4594[1045688], 0);
  sub_46ABB0(*(int *)&byte_5D4594[1045692], 0);
  for ( i = sub_418B10(); i; i = sub_418B60((int)i) )
    sub_457230((wchar_t *)i);
  for ( j = sub_416EA0(); j; j = sub_416EE0((int)j) )
  {
    if ( j[2064] != 31 || !(*(_DWORD *)&byte_5D4594[2650636] & 0x40000) )
    {
      sub_457140(*((_DWORD *)j + 515), (wchar_t *)j + 2352);
      v4 = sub_418C80(*((_DWORD *)j + 515));
      if ( sub_419130((int)v4) )
        sub_4571A0(*((_DWORD *)j + 515), *((unsigned __int8 *)v4 + 4));
    }
  }
  if ( sub_40A5C0(4096) )
  {
    sub_46ABB0((int)v0, 0);
    result = sub_46ABB0((int)v1, 0);
  }
  else
  {
    sub_46ABB0((int)v0, 1);
    result = sub_46ABB0((int)v1, 1);
  }
  return result;
}

//----- (00456640) --------------------------------------------------------
int __cdecl sub_456640(int a1, int a2)
{
  _DWORD *v2; // eax
  _DWORD *v3; // eax
  _DWORD *v4; // esi
  _DWORD *v5; // eax
  _DWORD *v6; // eax
  _DWORD *v7; // eax
  int xLeft; // [esp+4h] [ebp-8h]
  int yTop; // [esp+8h] [ebp-4h]

  sub_418C80(*(int *)&byte_5D4594[2616328]);
  sub_46AA60((_DWORD *)a1, &xLeft, &yTop);
  if ( (signed char)*(_BYTE *)(a1 + 4) >= 0 )
  {
    if ( *(_DWORD *)(a2 + 20) != 0x80000000 )
      sub_49CF10(xLeft, yTop, *(_DWORD *)(a1 + 8), *(_DWORD *)(a1 + 12));
  }
  else
  {
    sub_47D2C0(*(_DWORD *)(a2 + 24), xLeft, yTop);
  }
  if ( sub_40A5C0(1) && !sub_40A5C0(0x8000) && !sub_40A740() )
  {
    v2 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045684], 10502);
    if ( sub_46B490((int)v2, 16404, 0, 0) < 0 )
    {
      v6 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045684], 10503);
      sub_46ABB0((int)v6, 0);
    }
    else
    {
      v3 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045684], 10501);
      v4 = (_DWORD *)sub_46B490((int)v3, 16404, 0, 0);
      v5 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045684], 10503);
      sub_46ABB0((int)v5, *v4 >= 0);
    }
  }
  v7 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045684], 10502);
  if ( sub_46B490((int)v7, 16404, 0, 0) < 0 )
  {
    sub_46ABB0(*(int *)&byte_5D4594[1045688], 0);
    sub_46ABB0(*(int *)&byte_5D4594[1045692], 0);
  }
  return 1;
}

//----- (004567C0) --------------------------------------------------------
int __cdecl sub_4567C0(int a1, int a2, int *a3, int a4)
{
  char *v3; // esi
  int v4; // esi
  _DWORD *v5; // eax
  int v6; // eax
  _DWORD *v7; // eax
  int v8; // ebx
  int *v9; // eax
  int *v10; // ebp
  int i; // eax
  wchar_t *v12; // eax
  char *v13; // eax
  char *v14; // esi
  _DWORD *v15; // eax
  int v16; // edi
  _DWORD *v17; // eax
  _DWORD *v18; // eax
  _DWORD *v20; // eax
  int v21; // eax
  char *v22; // esi
  wchar_t *v23; // edi
  _DWORD *v24; // eax
  int v25; // eax
  char *v26; // eax
  wchar_t *v27; // eax
  wchar_t *v28; // [esp-10h] [ebp-8Ch]
  char *v29; // [esp+8h] [ebp-74h]
  wchar_t v30[56]; // [esp+Ch] [ebp-70h]

  if ( a2 != 16391 )
  {
    if ( a2 != 16400 )
      return 0;
    if ( sub_46B0A0(a3) == 10502 )
    {
      v3 = sub_4165B0();
      if ( sub_46B490((int)a3, 16404, 0, 0) < 0 )
      {
        sub_46ABB0(*(int *)&byte_5D4594[1045688], 0);
        sub_46ABB0(*(int *)&byte_5D4594[1045692], 0);
      }
      else if ( sub_40A5C0(0x8000) || v3[53] < 0 )
      {
        sub_46ABB0(*(int *)&byte_5D4594[1045688], 0);
        sub_46ABB0(*(int *)&byte_5D4594[1045692], 0);
      }
      else
      {
        if ( sub_40A5C0(1) )
          sub_46ABB0(*(int *)&byte_5D4594[1045692], 1);
        if ( sub_40A5C0(128) || !*(_DWORD *)&byte_5D4594[1045696] )
          sub_46ABB0(*(int *)&byte_5D4594[1045688], 1);
        else
          sub_46ABB0(*(int *)&byte_5D4594[1045688], 0);
      }
      if ( sub_40A5C0(1) && *(_DWORD *)&byte_5D4594[2650636] & 0x40000 )
        sub_46ABB0(*(int *)&byte_5D4594[1045688], 0);
    }
  }
  v4 = sub_46B0A0(a3);
  sub_452D80(766, 100);
  if ( v4 > 10507 )
  {
    if ( v4 == 10509 )
    {
      v28 = sub_40F1D0((char *)&byte_587000[129336], 0, (const char *)&byte_587000[129288], 504);
      v27 = sub_40F1D0((char *)&byte_587000[129392], 0, (const char *)&byte_587000[129344], 504);
      sub_449A10(*(int *)&byte_5D4594[1045684], (int)v27, (int)v28, 163, 0, 0);
    }
    return 0;
  }
  if ( v4 == 10507 )
  {
    v24 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045684], 10502);
    v25 = sub_46B490((int)v24, 16404, 0, 0);
    sub_456D00(v25, v30);
    v26 = sub_418A40(v30);
    if ( v26 )
    {
      sub_456BB0((int)v26);
      return 0;
    }
    return 0;
  }
  if ( v4 == 4001 )
  {
    v20 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045684], 10502);
    v21 = sub_46B490((int)v20, 16404, 0, 0);
    sub_456D00(v21, v30);
    v22 = sub_418A40(v30);
    if ( v22 )
    {
      v23 = (wchar_t *)sub_449E60(168);
      if ( !sub_4190F0(v23) )
      {
        sub_418CD0((wchar_t *)v22, v23);
        return 0;
      }
    }
    return 0;
  }
  if ( v4 != 10503 )
    return 0;
  v5 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045684], 10502);
  v6 = sub_46B490((int)v5, 16404, 0, 0);
  if ( v6 >= 0 )
  {
    sub_456D00(v6, v30);
    v29 = sub_418A40(v30);
    if ( v29 )
    {
      v7 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045684], 10501);
      v8 = (int)v7;
      v9 = (int *)sub_46B490((int)v7, 16404, 0, 0);
      v10 = v9;
      for ( i = *v9; i >= 0; ++v10 )
      {
        v12 = (wchar_t *)sub_46B490(v8, 16406, i, 0);
        v13 = sub_4170D0(v12);
        v14 = v13;
        if ( v13 )
        {
          if ( !(v13[3680] & 1) && !(v13[4] & 1) )
          {
            v15 = sub_418C80(*((_DWORD *)v13 + 515));
            v16 = (int)v15;
            if ( v15 )
            {
              if ( sub_419130((int)v15) )
                sub_4196D0(v16, (int)v29, *((_DWORD *)v14 + 515), 1);
              else
                sub_4191D0(v29[57], v16, 1, *((_DWORD *)v14 + 515), 1);
            }
          }
        }
        i = v10[1];
      }
    }
  }
  v17 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045684], 10502);
  sub_46B490((int)v17, 16403, -1, 0);
  v18 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045684], 10501);
  sub_46B490((int)v18, 16403, -1, 0);
  return 0;
}

//----- (00456BB0) --------------------------------------------------------
char __cdecl sub_456BB0(int a1)
{
  _DWORD *v1; // eax
  int v2; // esi
  int v3; // edi
  _DWORD *v4; // esi
  float2 v6; // [esp+8h] [ebp-8h]

  LOBYTE(v1) = byte_5D4594[2618908];
  if ( !*(_DWORD *)&byte_5D4594[2618908]
    || !(*(_BYTE *)(*(_DWORD *)&byte_5D4594[2618908] + 4) & 1)
    && !(*(_BYTE *)(*(_DWORD *)&byte_5D4594[2618908] + 3680) & 1) )
  {
    v2 = sub_40A5C0(1);
    v1 = sub_418C80(*(int *)&byte_5D4594[2616328]);
    v3 = (int)v1;
    if ( v1 )
    {
      if ( sub_419130((int)v1) )
      {
        if ( !v2 )
        {
          sub_419960(a1, v3, *(__int16 *)&byte_5D4594[2616328]);
          LOBYTE(v1) = byte_5D4594[1045696] + 1;
          ++*(_DWORD *)&byte_5D4594[1045696];
          return (char)v1;
        }
        sub_4196D0(v3, a1, *(int *)&byte_5D4594[2616328], 1);
        v1 = (_DWORD *)sub_40A5C0(128);
        if ( !v1 )
        {
          v1 = sub_417040(*(int *)&byte_5D4594[2616328]);
          v4 = v1;
          if ( v1 )
          {
            sub_4F7AB0(&v6, v1[514]);
            sub_4E7010(v4[514], &v6);
            LOBYTE(v1) = byte_5D4594[1045696] + 1;
            ++*(_DWORD *)&byte_5D4594[1045696];
            return (char)v1;
          }
        }
      }
      else
      {
        if ( v2 )
        {
          sub_4191D0(*(_BYTE *)(a1 + 57), v3, v2, *(int *)&byte_5D4594[2616328], 1);
          LOBYTE(v1) = byte_5D4594[1045696] + 1;
          ++*(_DWORD *)&byte_5D4594[1045696];
          return (char)v1;
        }
        LOBYTE(v1) = sub_419900(a1, v3, *(__int16 *)&byte_5D4594[2616328]);
      }
      ++*(_DWORD *)&byte_5D4594[1045696];
      return (char)v1;
    }
  }
  return (char)v1;
}

//----- (00456D00) --------------------------------------------------------
wchar_t *__cdecl sub_456D00(int a1, wchar_t *a2)
{
  _DWORD *v2; // eax
  const wchar_t *v3; // eax
  wchar_t *v4; // eax
  wchar_t v6[56]; // [esp+0h] [ebp-70h]

  v2 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045684], 10502);
  v3 = (const wchar_t *)sub_46B490((int)v2, 16406, a1, 0);
  nox_wcscpy(v6, v3);
  v4 = nox_wcstok(v6, (const wchar_t *)&byte_587000[129400]);
  return nox_wcscpy(a2, v4);
}

//----- (00456D60) --------------------------------------------------------
int *__cdecl sub_456D60(int a1)
{
  int *v1; // esi
  int *v2; // edi
  int *result; // eax
  int *v4; // esi
  int *v5; // edi

  if ( a1 && *(_DWORD *)&byte_5D4594[1045684] )
    sub_46C4E0(*(_DWORD **)&byte_5D4594[1045684]);
  v1 = sub_425890((int *)&byte_5D4594[1045652]);
  if ( v1 )
  {
    do
    {
      v2 = sub_4258A0(v1);
      sub_425920((_DWORD **)v1);
      free(v1);
      v1 = v2;
    }
    while ( v2 );
  }
  result = sub_425890((int *)&byte_5D4594[1045668]);
  v4 = result;
  if ( result )
  {
    do
    {
      v5 = sub_4258A0(v4);
      sub_425920((_DWORD **)v4);
      free(v4);
      v4 = v5;
    }
    while ( v5 );
  }
  *(_DWORD *)&byte_5D4594[1045684] = 0;
  return result;
}

//----- (00456DF0) --------------------------------------------------------
int __cdecl sub_456DF0(int a1)
{
  int result; // eax
  int v2; // esi
  _DWORD *v3; // eax

  result = *(_DWORD *)&byte_5D4594[1045684];
  if ( *(_DWORD *)&byte_5D4594[1045684] )
  {
    result = sub_456E40(a1, 1);
    v2 = result;
    if ( result != -1 )
    {
      v3 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045684], 10501);
      result = sub_46B490((int)v3, 16398, v2, 0);
    }
  }
  return result;
}

//----- (00456E40) --------------------------------------------------------
int __cdecl sub_456E40(int a1, int a2)
{
  int *v2; // esi
  int v3; // edi

  v2 = sub_425890((int *)&byte_5D4594[1045652]);
  v3 = 0;
  if ( !v2 )
    return -1;
  while ( v2[15] != a1 )
  {
    v2 = sub_4258A0(v2);
    ++v3;
    if ( !v2 )
      return -1;
  }
  if ( a2 )
  {
    sub_425920((_DWORD **)v2);
    free(v2);
  }
  return v3;
}

//----- (00456EA0) --------------------------------------------------------
int __cdecl sub_456EA0(wchar_t *a1)
{
  int result; // eax
  _DWORD *v2; // edi
  int v3; // eax
  int v4; // esi

  result = *(_DWORD *)&byte_5D4594[1045684];
  if ( *(_DWORD *)&byte_5D4594[1045684] )
  {
    v2 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045684], 10502);
    v3 = sub_456F10(a1, 1);
    v4 = v3;
    if ( v3 != -1 )
    {
      sub_4258C0((_DWORD **)&byte_5D4594[1045668], v3);
      sub_46B490((int)v2, 16404, 0, 0);
      sub_46B490((int)v2, 16398, v4, 0);
    }
    result = sub_456500();
  }
  return result;
}

//----- (00456F10) --------------------------------------------------------
int __cdecl sub_456F10(wchar_t *a1, int a2)
{
  int *v2; // esi
  int v3; // ebx
  wchar_t *v4; // eax
  wchar_t v6[56]; // [esp+Ch] [ebp-70h]

  v2 = sub_425890((int *)&byte_5D4594[1045668]);
  v3 = 0;
  if ( !v2 )
    return -1;
  while ( 1 )
  {
    nox_wcscpy(v6, (const wchar_t *)v2 + 6);
    v4 = nox_wcstok(v6, (const wchar_t *)&byte_587000[129408]);
    if ( !_nox_wcsicmp(v4, a1) )
      break;
    v2 = sub_4258A0(v2);
    ++v3;
    if ( !v2 )
      return -1;
  }
  if ( a2 )
  {
    sub_425920((_DWORD **)v2);
    free(v2);
  }
  return v3;
}

//----- (00456FA0) --------------------------------------------------------
int sub_456FA0()
{
  int result; // eax
  int *v1; // esi
  int *v2; // edi

  result = *(_DWORD *)&byte_5D4594[1045684];
  if ( *(_DWORD *)&byte_5D4594[1045684] )
  {
    v1 = sub_425890((int *)&byte_5D4594[1045668]);
    if ( v1 )
    {
      do
      {
        v2 = sub_4258A0(v1);
        sub_425920((_DWORD **)v1);
        free(v1);
        v1 = v2;
      }
      while ( v2 );
    }
    sub_46ABB0(*(int *)&byte_5D4594[1045688], 0);
    sub_46ABB0(*(int *)&byte_5D4594[1045692], 0);
    result = sub_456500();
  }
  return result;
}

//----- (00457010) --------------------------------------------------------
int __cdecl sub_457010(int a1, wchar_t *a2)
{
  char *v2; // ebp
  int result; // eax
  _DWORD *v4; // esi
  int v5; // edi
  unsigned __int8 v6; // al
  unsigned __int8 v7; // al
  wchar_t *v8; // [esp-20h] [ebp-94h]
  wchar_t v9[56]; // [esp+4h] [ebp-70h]

  v2 = sub_4165B0();
  result = *(_DWORD *)&byte_5D4594[1045684];
  if ( *(_DWORD *)&byte_5D4594[1045684] )
  {
    v4 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045684], 10502);
    v5 = sub_46B490((int)v4, 16404, 0, 0);
    nox_wcscpy(v9, a2);
    if ( sub_40A5C0(96) || v2[52] & 0x60 )
    {
      v6 = *(_BYTE *)(a1 + 57);
      if ( v6 < 3u )
      {
        if ( v6 == 1 )
          v8 = sub_40F1D0((char *)&byte_587000[129468], 0, (const char *)&byte_587000[129420], 778);
        else
          v8 = sub_40F1D0((char *)&byte_587000[129524], 0, (const char *)&byte_587000[129476], 782);
        nox_wcscat(v9, v8);
      }
    }
    sub_46B490((int)v4, 16398, v5, 0);
    sub_46B490((int)v4, 16402, v5, 0);
    v7 = sub_457120(a1);
    sub_46B490((int)v4, 16397, (int)v9, v7);
    result = sub_46B490((int)v4, 16403, v5, 0);
  }
  return result;
}

//----- (00457120) --------------------------------------------------------
unsigned __int8 __cdecl sub_457120(int a1)
{
  return byte_587000[8 * (*(unsigned __int8 *)(a1 + 56) % 10) + 128968];
}

//----- (00457140) --------------------------------------------------------
int __cdecl sub_457140(int a1, wchar_t *a2)
{
  int result; // eax
  wchar_t *v3; // esi
  _DWORD *v4; // eax

  result = *(_DWORD *)&byte_5D4594[1045684];
  if ( *(_DWORD *)&byte_5D4594[1045684] )
  {
    v3 = (wchar_t *)malloc(0x48u);
    sub_425770(v3);
    sub_4258E0((int)&byte_5D4594[1045652], v3);
    nox_wcscpy(v3 + 6, a2);
    *((_DWORD *)v3 + 15) = a1;
    v4 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045684], 10501);
    result = sub_46B490((int)v4, 16397, (int)a2, 3);
  }
  return result;
}

//----- (004571A0) --------------------------------------------------------
int __cdecl sub_4571A0(int a1, int a2)
{
  int result; // eax
  int v3; // ebp
  int v4; // esi
  int v5; // edi
  int *i; // eax

  result = *(_DWORD *)&byte_5D4594[1045684];
  if ( *(_DWORD *)&byte_5D4594[1045684] )
  {
    v3 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045684], 10501)[8];
    result = sub_456E40(a1, 0);
    v4 = result;
    if ( result != -1 )
    {
      v5 = 3;
      if ( a2 )
      {
        for ( i = sub_425890((int *)&byte_5D4594[1045668]); i; i = sub_4258A0(i) )
        {
          if ( i[15] == a2 )
            v5 = *((unsigned __int8 *)i + 64);
        }
      }
      result = *(_DWORD *)(v3 + 24);
      *(_DWORD *)(result + 524 * v4 + 516) = **(_DWORD **)&byte_5D4594[4 * v5 + 2649836];
    }
  }
  return result;
}

//----- (00457230) --------------------------------------------------------
char *__cdecl sub_457230(wchar_t *a1)
{
  char *v1; // ebp
  char *result; // eax
  _DWORD *v3; // esi
  char *v4; // edi
  char v5; // al
  _DWORD *v6; // eax
  wchar_t *v7; // [esp-14h] [ebp-94h]
  wchar_t v8[56]; // [esp+10h] [ebp-70h]

  v1 = sub_4165B0();
  result = *(char **)&byte_5D4594[1045684];
  if ( *(_DWORD *)&byte_5D4594[1045684] )
  {
    v3 = malloc(0x48u);
    result = sub_418A40(a1);
    v4 = result;
    if ( result )
    {
      v3[15] = (unsigned __int8)result[57];
      v3[17] = (unsigned __int8)result[56];
      *((_BYTE *)v3 + 64) = sub_457120((int)result);
      sub_425770(v3);
      sub_4258E0((int)&byte_5D4594[1045668], v3);
      nox_wcscpy((wchar_t *)v3 + 6, a1);
      nox_wcscpy(v8, a1);
      if ( sub_40A5C0(96) || v1[52] & 0x60 )
      {
        v5 = v4[57];
        if ( (unsigned __int8)v5 < 3u )
        {
          if ( v5 == 1 )
            v7 = sub_40F1D0((char *)&byte_587000[129584], 0, (const char *)&byte_587000[129536], 893);
          else
            v7 = sub_40F1D0((char *)&byte_587000[129640], 0, (const char *)&byte_587000[129592], 897);
          nox_wcscat(v8, v7);
        }
      }
      v6 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1045684], 10502);
      result = (char *)sub_46B490((int)v6, 16397, (int)v8, *((unsigned __int8 *)v3 + 64));
    }
  }
  return result;
}

//----- (00457350) --------------------------------------------------------
int *__cdecl sub_457350(unsigned __int8 a1, unsigned __int8 a2)
{
  int *result; // eax

  for ( result = sub_425890((int *)&byte_5D4594[1045668]); result; result = sub_4258A0(result) )
  {
    if ( result[15] == a1 )
      result[15] = a2;
  }
  return result;
}

//----- (004573A0) --------------------------------------------------------
int sub_4573A0()
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[1045684];
  if ( *(_DWORD *)&byte_5D4594[1045684] )
    result = sub_456500();
  return result;
}

//----- (004573B0) --------------------------------------------------------
void sub_4573B0()
{
  *(_DWORD *)&byte_5D4594[1045696] = 0;
}

//----- (004573C0) --------------------------------------------------------
int __cdecl sub_4573C0(__int16 a1)
{
  int v1; // ecx
  unsigned __int8 *i; // eax
  int v3; // esi

  if ( !*(_DWORD *)&byte_5D4594[1046548] )
    sub_457410();
  v1 = 0;
  if ( !*(_DWORD *)&byte_587000[129668] )
    return *(_DWORD *)&byte_587000[129680];
  for ( i = &byte_587000[129668]; (a1 & 0x17F0) != *((_DWORD *)i + 1); i += 12 )
  {
    v3 = *((_DWORD *)i + 3);
    ++v1;
    if ( !v3 )
      return *(_DWORD *)&byte_587000[129680];
  }
  return *(_DWORD *)&byte_587000[12 * v1 + 129668];
}

//----- (00457410) --------------------------------------------------------
char *sub_457410()
{
  char *result; // eax
  unsigned __int8 *v1; // esi

  result = *(char **)&byte_5D4594[1046548];
  if ( !*(_DWORD *)&byte_5D4594[1046548] )
  {
    result = *(char **)&byte_587000[129664];
    if ( *(_DWORD *)&byte_587000[129664] )
    {
      v1 = &byte_587000[129664];
      do
      {
        *((_DWORD *)v1 + 1) = sub_40F1D0(result, 0, (const char *)&byte_587000[130012], 212);
        result = (char *)*((_DWORD *)v1 + 3);
        v1 += 12;
      }
      while ( result );
    }
    *(_DWORD *)&byte_5D4594[1046548] = 1;
  }
  return result;
}

//----- (00457460) --------------------------------------------------------
int __cdecl sub_457460(int a1)
{
  WCHAR WideCharStr[16]; // [esp+4h] [ebp-20h]

  _itow(*(unsigned __int16 *)(a1 + 54), WideCharStr, 10);
  sub_46B490(*(int *)&byte_5D4594[1046516], 16414, (int)WideCharStr, 0);
  _itow(*(unsigned __int8 *)(a1 + 56), WideCharStr, 10);
  return sub_46B490(*(int *)&byte_5D4594[1046520], 16414, (int)WideCharStr, 0);
}

//----- (004574D0) --------------------------------------------------------
int sub_4574D0()
{
  if ( !*(_DWORD *)&byte_5D4594[1046492] )
    return 0;
  sub_4597E0(0);
  *(_DWORD *)&byte_5D4594[1046492] = 0;
  return 1;
}

//----- (00457500) --------------------------------------------------------
int sub_457500()
{
  int v1; // esi
  _DWORD *v2; // eax
  _DWORD *v3; // eax
  _DWORD *v4; // edi
  char *v5; // ebx
  _DWORD *v6; // esi
  _DWORD *v7; // ebp
  _DWORD *v8; // eax
  char *v9; // esi
  wchar_t *v10; // esi
  wchar_t *v11; // eax
  wchar_t *v12; // eax
  _DWORD *v13; // eax
  char *v14; // [esp+0h] [ebp-8h]
  _DWORD *v15; // [esp+4h] [ebp-4h]

  if ( !sub_446360() )
  {
    if ( *(_DWORD *)&byte_5D4594[1046492] )
    {
      sub_452D80(231, 100);
      sub_4574D0();
      return 1;
    }
    if ( sub_40A5C0(1) )
    {
      sub_459D50(1);
      if ( *(_DWORD *)&byte_587000[129656] )
        sub_425760(&byte_5D4594[1045956]);
    }
    v1 = *(_DWORD *)&byte_587000[26048];
    if ( sub_43F320(0) > 10 )
      v1 = 2;
    *(_DWORD *)&byte_5D4594[1046492] = sub_4A0AD0(*(const char **)&byte_587000[4 * v1 + 129760], sub_4585D0);
    sub_43FE20(100);
    sub_46A9B0(
      *(_DWORD **)&byte_5D4594[1046492],
      *(_DWORD *)&byte_5D4594[3805496] - *(_DWORD *)(*(_DWORD *)&byte_5D4594[1046492] + 8) - 10,
      0);
    sub_46B300(*(int *)&byte_5D4594[1046492], sub_458590);
    sub_46B340(*(int *)&byte_5D4594[1046492], sub_458500);
    *(_DWORD *)&byte_5D4594[1046512] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10101);
    *(_DWORD *)&byte_5D4594[1046496] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10114);
    *(_DWORD *)&byte_5D4594[1046500] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10183);
    *(_DWORD *)&byte_5D4594[1046504] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10197);
    *(_DWORD *)&byte_5D4594[1046508] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10199);
    *(_DWORD *)&byte_5D4594[1046524] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10150);
    *(_DWORD *)&byte_5D4594[1046516] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10134);
    *(_DWORD *)&byte_5D4594[1046520] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10135);
    *(_DWORD *)&byte_5D4594[1046536] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10153);
    v2 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10331);
    sub_46B070((int)v2, sub_457AA0);
    v3 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10333);
    sub_46B070((int)v3, sub_457B00);
    sub_46B280(*(int *)&byte_5D4594[1046524], *(int *)&byte_5D4594[1046492]);
    sub_46B280(*(int *)&byte_5D4594[1046532], *(int *)&byte_5D4594[1046492]);
    sub_46B280(*(int *)&byte_5D4594[1046536], *(int *)&byte_5D4594[1046492]);
    sub_46B280(*(int *)&byte_5D4594[1046500], *(int *)&byte_5D4594[1046492]);
    sub_46B280(*(int *)&byte_5D4594[1046504], *(int *)&byte_5D4594[1046492]);
    sub_46B280(*(int *)&byte_5D4594[1046508], *(int *)&byte_5D4594[1046492]);
    sub_46B2C0(*(int *)&byte_5D4594[1046524], sub_4585D0);
    sub_46B2C0(*(int *)&byte_5D4594[1046532], sub_4585D0);
    sub_46B2C0(*(int *)&byte_5D4594[1046536], sub_4585D0);
    sub_46B2C0(*(int *)&byte_5D4594[1046500], sub_4585D0);
    sub_46B2C0(*(int *)&byte_5D4594[1046504], sub_4585D0);
    sub_46B2C0(*(int *)&byte_5D4594[1046508], sub_4585D0);
    *(_DWORD *)&byte_5D4594[1046352] = sub_42F970((const char *)&byte_587000[130060]);
    *(_DWORD *)&byte_5D4594[1046356] = sub_42F970((const char *)&byte_587000[130068]);
    *(_DWORD *)&byte_5D4594[1046360] = sub_42F970((const char *)&byte_587000[130076]);
    v4 = *(_DWORD **)(*(_DWORD *)&byte_5D4594[1046496] + 32);
    v14 = sub_42F970((const char *)&byte_587000[130084]);
    v5 = sub_42F970((const char *)&byte_587000[130096]);
    v6 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046500], 10182);
    v7 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046500], 10180);
    v15 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046500], 10181);
    *(_DWORD *)(v6[100] + 8) = 16;
    *(_DWORD *)(v6[100] + 12) = 10;
    sub_4B5700((int)v6, 0, 0, (int)v14, (int)v5, (int)v5);
    sub_46B280((int)v6, *(int *)&byte_5D4594[1046496]);
    sub_46B280((int)v7, *(int *)&byte_5D4594[1046496]);
    sub_46B280((int)v15, *(int *)&byte_5D4594[1046496]);
    v4[9] = v6;
    v4[7] = v7;
    v4[8] = v15;
    v8 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10160);
    v8[9] |= 4u;
    v9 = sub_4165D0(0);
    if ( sub_40A5C0(1) )
      sub_4161E0();
    sub_457410();
    sub_457B60((int)v9);
    sub_457A10();
    if ( sub_40A5C0(1) )
    {
      sub_4165F0(0, 1);
      sub_4165D0(1);
    }
    else
    {
      v10 = (wchar_t *)sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10159);
      v11 = sub_40F1D0((char *)&byte_587000[130156], 0, (const char *)&byte_587000[130108], 1811);
      sub_46B490((int)v10, 16385, (int)v11, -1);
      v12 = sub_40F1D0((char *)&byte_587000[130224], 0, (const char *)&byte_587000[130176], 1812);
      sub_46B000(v10 + 18, v12);
      v13 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10149);
      sub_46AC00((int)v13, 0);
      sub_46AC00(*(int *)&byte_5D4594[1046508], 1);
      sub_46ACE0(*(_DWORD **)&byte_5D4594[1046492], 10145, 10146, 1);
    }
    if ( *(_DWORD *)&byte_587000[129656] )
    {
      if ( sub_4D6F30() || sub_4D6F50() )
      {
        sub_443C80((wchar_t *)&byte_587000[130244], 1);
      }
      else if ( *(_DWORD *)&byte_5D4594[2650636] & 0x40000 )
      {
        sub_443C80((wchar_t *)&byte_587000[130284], 1);
      }
    }
    *(_DWORD *)&byte_587000[129656] = 0;
  }
  return 1;
}

//----- (00457A10) --------------------------------------------------------
char *sub_457A10()
{
  _DWORD *v0; // eax
  _DWORD *v1; // esi
  int v2; // edi
  int v3; // eax
  char *result; // eax
  unsigned __int8 *v5; // ebx
  int v6; // edi
  int v7; // edx
  int v8; // [esp+8h] [ebp-4h]

  v0 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10120);
  v1 = v0;
  v2 = 0;
  v3 = 6 * (sub_43F320(v0[59]) + 1);
  v1[7] = v1[5] + v3 + 2;
  v1[3] = v3 + 2;
  result = *(char **)&byte_587000[129664];
  if ( *(_DWORD *)&byte_587000[129664] )
  {
    v5 = &byte_587000[129664];
    do
    {
      sub_43F840(v1[59], *((unsigned __int16 **)v5 + 1), &v8, 0, 0);
      if ( v8 > v2 )
        v2 = v8;
      result = (char *)*((_DWORD *)v5 + 3);
      v5 += 12;
    }
    while ( result );
  }
  v6 = v2 + 7;
  v7 = v1[6] - v6;
  v1[2] = v6;
  v1[4] = v7;
  return result;
}

//----- (00457AA0) --------------------------------------------------------
int __cdecl sub_457AA0(int a1, _BYTE *a2)
{
  wchar_t *v2; // eax

  if ( *a2 & 4 )
    v2 = sub_40F1D0((char *)&byte_587000[130372], 0, (const char *)&byte_587000[130324], 446);
  else
    v2 = sub_40F1D0((char *)&byte_587000[130436], 0, (const char *)&byte_587000[130388], 450);
  sub_4776B0(v2);
  return 1;
}

//----- (00457B00) --------------------------------------------------------
int __cdecl sub_457B00(int a1, _BYTE *a2)
{
  wchar_t *v2; // eax

  if ( *a2 & 4 )
    v2 = sub_40F1D0((char *)&byte_587000[130500], 0, (const char *)&byte_587000[130452], 465);
  else
    v2 = sub_40F1D0((char *)&byte_587000[130564], 0, (const char *)&byte_587000[130516], 469);
  sub_4776B0(v2);
  return 1;
}

//----- (00457B60) --------------------------------------------------------
int __cdecl sub_457B60(int a1)
{
  char *v1; // eax
  _DWORD *v2; // eax
  char *v3; // eax
  unsigned __int16 v4; // di
  char *v5; // esi
  _DWORD *v6; // eax
  unsigned __int16 v7; // ax
  unsigned __int8 v8; // al
  _DWORD *v9; // eax
  _DWORD *v10; // eax
  _DWORD *v11; // edi
  int v12; // eax
  _DWORD *v13; // edi
  int v14; // eax
  _DWORD *v15; // edi
  int v16; // eax
  unsigned int v17; // ecx
  WCHAR WideCharStr[16]; // [esp+0h] [ebp-E8h]
  wchar_t v20[100]; // [esp+20h] [ebp-C8h]

  sub_416640();
  v1 = sub_40A4C0();
  nox_swprintf(v20, (const wchar_t *)&byte_587000[130580], v1);
  sub_46B490(*(int *)&byte_5D4594[1046512], 16414, (int)v20, 0);
  sub_459CD0();
  if ( sub_40A5C0(128) )
    v2 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10122);
  else
    v2 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10119);
  sub_46AC00((int)v2, 1);
  if ( sub_40A5C0(1) )
  {
    sub_46ABB0(*(int *)&byte_5D4594[1046508], 1);
    if ( sub_40A5C0(128) )
    {
      v3 = sub_416590(1);
      v4 = *((_WORD *)v3 + 26) & 0x17F0;
      sub_458230(v4, v3, 1);
      v5 = sub_4165B0();
      *((_WORD *)v5 + 26) = v4 | *((_WORD *)v5 + 26) & 0xE80F;
      if ( sub_40A740() )
      {
        sub_46ABB0(*(int *)&byte_5D4594[1046508], 0);
      }
      else if ( sub_417DA0(4) )
      {
        v6 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046508], 10330);
        v6[9] |= 4u;
      }
      else
      {
        sub_46AD20(*(_DWORD **)&byte_5D4594[1046508], 10331, 10333, 0);
      }
    }
    else
    {
      if ( sub_417DA0(4) )
        sub_46AD20(*(_DWORD **)&byte_5D4594[1046508], 10330, 10331, 0);
      else
        sub_46AD20(*(_DWORD **)&byte_5D4594[1046508], 10330, 10333, 0);
      v5 = (char *)a1;
      sub_458230(*(unsigned __int16 *)(a1 + 52), (char *)a1, 0);
    }
    v7 = sub_40A020(*((_WORD *)v5 + 26));
    _itow(v7, WideCharStr, 10);
    sub_46B490(*(int *)&byte_5D4594[1046516], 16414, (int)WideCharStr, 0);
    v8 = sub_40A180(*((_WORD *)v5 + 26));
    _itow(v8, WideCharStr, 10);
    sub_46B490(*(int *)&byte_5D4594[1046520], 16414, (int)WideCharStr, 0);
    sub_4580E0((int)v5);
  }
  else
  {
    v9 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10161);
    sub_46ABB0((int)v9, 0);
    sub_46ABB0(*(int *)&byte_5D4594[1046536], 0);
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1046536] + 4) |= 8u;
    sub_46ABB0(*(int *)&byte_5D4594[1046504], 1);
    sub_46AD20(*(_DWORD **)&byte_5D4594[1046504], 10134, 10135, 0);
    sub_46ACE0(*(_DWORD **)&byte_5D4594[1046492], 10141, 10141, 1);
    v5 = (char *)a1;
    sub_458230(*(unsigned __int16 *)(a1 + 52), (char *)a1, 0);
    _itow(*(unsigned __int16 *)(a1 + 54), WideCharStr, 10);
    sub_46B490(*(int *)&byte_5D4594[1046516], 16414, (int)WideCharStr, 0);
    _itow(*(unsigned __int8 *)(a1 + 56), WideCharStr, 10);
    sub_46B490(*(int *)&byte_5D4594[1046520], 16414, (int)WideCharStr, 0);
    if ( sub_43AF70() == 1 )
    {
      v10 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10210);
      sub_46AC00((int)v10, 0);
      sub_457FE0();
    }
  }
  v11 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046508], 10331);
  if ( sub_417DA0(2) )
  {
    v12 = v11[9];
    LOBYTE(v12) = v12 | 4;
    v11[9] = v12;
  }
  v13 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046508], 10333);
  if ( sub_417DA0(1) )
  {
    v14 = v13[9];
    LOBYTE(v14) = v14 | 4;
    v13[9] = v14;
  }
  v15 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10119);
  v16 = sub_4573C0(*((_WORD *)v5 + 26));
  sub_46B490((int)v15, 16385, v16, 0);
  sub_459880((int)v5);
  LOWORD(v17) = *((_WORD *)v5 + 26);
  return sub_457F30((v17 >> 12) & 1);
}
// 457F15: variable 'v17' is possibly undefined

//----- (00457F30) --------------------------------------------------------
int __cdecl sub_457F30(int a1)
{
  int v1; // esi
  _DWORD *v2; // eax
  _DWORD *v3; // eax
  _DWORD *v4; // esi
  _DWORD *v5; // eax

  v1 = a1 != 1;
  v2 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046504], 10152);
  sub_46ABB0((int)v2, v1);
  v3 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046504], 10141);
  sub_46ABB0((int)v3, v1);
  sub_46ABB0(*(int *)&byte_5D4594[1046516], v1);
  sub_46ABB0(*(int *)&byte_5D4594[1046520], v1);
  if ( a1 == 1 )
  {
    v4 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10122);
    if ( !sub_46ACC0((int)v4) )
      sub_46AC00((int)v4, 1);
  }
  v5 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10183);
  return sub_46AC00((int)v5, a1);
}

//----- (00457FE0) --------------------------------------------------------
int sub_457FE0()
{
  _DWORD *v0; // esi
  wchar_t *v1; // eax
  wchar_t *v2; // eax
  wchar_t *v3; // eax
  wchar_t *v5; // [esp-4h] [ebp-8h]
  wchar_t *v6; // [esp-4h] [ebp-8h]

  v0 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10210);
  if ( sub_40A5C0(0x4000) )
  {
    v5 = sub_40F1D0((char *)&byte_587000[130636], 0, (const char *)&byte_587000[130588], 380);
    v1 = sub_40F1D0((char *)&byte_587000[130708], 0, (const char *)&byte_587000[130660], 379);
    nox_swprintf((wchar_t *)&byte_5D4594[1045700], (const wchar_t *)&byte_587000[130728], v1, v5);
  }
  else if ( sub_40A5C0(0x8000) )
  {
    v6 = sub_40F1D0((char *)&byte_587000[130788], 0, (const char *)&byte_587000[130740], 385);
    v2 = sub_40F1D0((char *)&byte_587000[130856], 0, (const char *)&byte_587000[130808], 384);
    nox_swprintf((wchar_t *)&byte_5D4594[1045700], (const wchar_t *)&byte_587000[130876], v2, v6);
  }
  else
  {
    v3 = sub_40F1D0((char *)&byte_587000[130936], 0, (const char *)&byte_587000[130888], 389);
    nox_swprintf((wchar_t *)&byte_5D4594[1045700], v3);
  }
  return sub_46B490((int)v0, 16385, (int)&byte_5D4594[1045700], -1);
}

//----- (004580E0) --------------------------------------------------------
int __cdecl sub_4580E0(int a1)
{
  wchar_t *v1; // eax
  wchar_t *v2; // eax
  __int16 v3; // ax
  wchar_t *v4; // eax
  wchar_t *v5; // eax
  _DWORD *v6; // eax
  _DWORD *v7; // eax
  _DWORD *v8; // eax
  int v10; // [esp-4h] [ebp-4h]

  v1 = sub_40F1D0((char *)&byte_587000[131000], 0, (const char *)&byte_587000[130952], 736);
  nox_swprintf((wchar_t *)&byte_5D4594[1045968], v1, a1);
  if ( sub_40A5C0(128) )
  {
    v2 = sub_40F1D0((char *)&byte_587000[131060], 0, (const char *)&byte_587000[131012], 739);
    nox_swprintf((wchar_t *)&byte_5D4594[1046096], v2);
  }
  else
  {
    v3 = sub_40A5B0();
    v10 = sub_4573C0(v3);
    v4 = sub_40F1D0((char *)&byte_587000[131120], 0, (const char *)&byte_587000[0x20000], 743);
    nox_swprintf((wchar_t *)&byte_5D4594[1046096], v4, v10);
  }
  if ( sub_40A5C0(1) )
    v5 = sub_40F1D0((char *)&byte_587000[131180], 0, (const char *)&byte_587000[131132], 748);
  else
    v5 = sub_40F1D0((char *)&byte_587000[131240], 0, (const char *)&byte_587000[131192], 752);
  nox_swprintf((wchar_t *)&byte_5D4594[1046224], v5);
  v6 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10121);
  sub_46B490((int)v6, 16385, (int)&byte_5D4594[1045968], -1);
  v7 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10118);
  sub_46B490((int)v7, 16385, (int)&byte_5D4594[1046096], -1);
  v8 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10117);
  return sub_46B490((int)v8, 16385, (int)&byte_5D4594[1046224], -1);
}

//----- (00458230) --------------------------------------------------------
int __cdecl sub_458230(int a1, char *a2, int a3)
{
  int v3; // ebp
  int *v4; // ebx
  int v5; // eax
  int v6; // esi
  int i; // eax
  int j; // eax
  wchar_t *v9; // eax
  int result; // eax
  char *v11; // ebx
  int v12; // eax
  int v13; // eax
  char *v14; // eax
  int v15; // [esp-8h] [ebp-160h]
  int v16; // [esp-4h] [ebp-15Ch]
  int v17; // [esp+10h] [ebp-148h]
  int v18; // [esp+14h] [ebp-144h]
  char v19[58]; // [esp+18h] [ebp-140h]
  char v20[58]; // [esp+54h] [ebp-104h]
  wchar_t v21[100]; // [esp+90h] [ebp-C8h]

  sub_46B490(*(int *)&byte_5D4594[1046496], 16399, 0, 0);
  v3 = a1;
  v18 = -1;
  *(_DWORD *)&byte_5D4594[1046552] = a1;
  v4 = sub_4D09B0();
  v17 = 0;
  if ( !v4 )
    goto LABEL_30;
  do
  {
    if ( v4[6] )
    {
      v5 = sub_4CFFC0((int)v4);
      if ( v5 & v3 )
      {
        strcpy(v19, (const char *)v4 + 12);
        qmemcpy(v20, v19, 0x38u);
        *(_WORD *)&v20[56] = *(_WORD *)&v19[56];
        sub_57A1E0((int *)v19, 0, 0, 1, a1);
        sub_57A1E0((int *)v20, (const char *)&byte_587000[131252], 0, 3, a1);
        v6 = -1;
        for ( i = 0; i < 20; i += 4 )
        {
          if ( *(_DWORD *)&v19[i + 24] != *(_DWORD *)&v20[i + 24] )
            v6 = 6;
        }
        if ( v6 == -1 )
        {
          for ( j = 0; j < 4; ++j )
          {
            if ( v19[j + 44] != v20[j + 44] )
              v6 = 6;
          }
          if ( v6 == -1 && *(_DWORD *)&v19[48] != *(_DWORD *)&v20[48] )
            v6 = 6;
        }
        v16 = *((unsigned __int8 *)v4 + 33);
        v15 = *((unsigned __int8 *)v4 + 32);
        v9 = sub_40F1D0((char *)&byte_587000[131312], 0, (const char *)&byte_587000[131264], 823);
        nox_swprintf(v21, v9, v4 + 3, v15, v16);
        sub_46B490(*(int *)&byte_5D4594[1046496], 16397, (int)v21, v6);
        if ( !_strcmpi(a2, (const char *)v4 + 12) )
        {
          v18 = v17;
          sub_46B490(*(int *)&byte_5D4594[1046496], 16403, v17, 0);
          sub_46B490(*(int *)&byte_5D4594[1046496], 16412, v17, 0);
        }
        v3 = a1;
        ++v17;
      }
    }
    v4 = sub_4D09C0(v4);
  }
  while ( v4 );
  if ( v18 < 0 )
  {
LABEL_30:
    sub_46B490(*(int *)&byte_5D4594[1046496], 16403, 0, 0);
    sub_46B490(*(int *)&byte_5D4594[1046496], 16412, 0, 0);
  }
  result = a3;
  if ( a3 )
  {
    v11 = sub_4165B0();
    v12 = sub_46B490(*(int *)&byte_5D4594[1046496], 16404, 0, 0);
    if ( v12 >= 0
      && (v13 = sub_46B490(*(int *)&byte_5D4594[1046496], 16406, v12, 0),
          nox_sprintf((char *)v21, (const char *)&byte_587000[131324], v13),
          (v14 = strtok((char *)v21, (const char *)&byte_587000[131328])) != 0) )
    {
      strcpy(v11, v14);
    }
    else
    {
      *v11 = 0;
    }
    sub_57A1E0((int *)v11, (const char *)&byte_587000[131332], 0, 7, v3);
    result = sub_459880((int)v11);
  }
  return result;
}
// 458291: variable 'v5' is possibly undefined

//----- (00458500) --------------------------------------------------------
int __cdecl sub_458500(_DWORD *a1, int a2)
{
  int2 *v1; // edi
  _DWORD *v2; // esi
  int xLeft; // [esp+8h] [ebp-8h]
  int v5; // [esp+Ch] [ebp-4h]

  v1 = sub_4309F0();
  sub_46AA60(a1, &xLeft, &v5);
  sub_49CF10(xLeft, v5 + 25, a1[2], a1[3] - 25);
  v2 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10120);
  if ( !sub_46ACC0((int)v2) && !sub_46AAB0(v2, v1->field_0, v1->field_4) )
  {
    sub_46ADE0((int)v2);
    sub_46AC00((int)v2, 1);
  }
  return 1;
}

//----- (00458590) --------------------------------------------------------
int __cdecl sub_458590(int a1, int a2, int a3, int a4)
{
  if ( a2 == 21 )
  {
    if ( a3 != 1 )
      return 0;
    if ( a4 == 2 )
    {
      sub_452D80(231, 100);
      sub_4597E0(0);
    }
  }
  return 1;
}

//----- (004585D0) --------------------------------------------------------
int __cdecl sub_4585D0(int a1, unsigned int a2, int a3, int a4)
{
  _DWORD *v4; // esi
  char *v5; // ebp
  int result; // eax
  int v7; // eax
  int v8; // ebx
  int v9; // edi
  int *v10; // eax
  int v11; // edi
  _DWORD *v12; // esi
  _DWORD *v13; // eax
  _DWORD *v14; // eax
  _DWORD *v15; // eax
  int v16; // edi
  _DWORD *v17; // eax
  char *v18; // esi
  int v19; // edi
  __int16 v20; // ax
  bool v21; // cc
  wchar_t *v22; // eax
  wchar_t *v23; // eax
  wchar_t *v24; // eax
  char *v25; // esi
  _DWORD *v26; // esi
  int v27; // edi
  int v28; // eax
  char *v29; // esi
  _DWORD *v30; // edi
  int v31; // eax
  wchar_t *v32; // ebp
  int v33; // edi
  unsigned int v34; // ecx
  int v35; // eax
  char *v36; // edi
  char *v37; // ebx
  wchar_t *v38; // [esp-10h] [ebp-F0h]
  wchar_t *v39; // [esp-10h] [ebp-F0h]
  WCHAR WideCharStr[4]; // [esp+10h] [ebp-D0h]
  char v41[100]; // [esp+18h] [ebp-C8h]
  char v42[100]; // [esp+7Ch] [ebp-64h]

  if ( a2 > 0x4007 )
  {
    if ( a2 == 16400 )
    {
      v28 = sub_46B0A0((int *)a3) - 10114;
      if ( v28 )
      {
        if ( v28 == 6 )
        {
          v29 = sub_4165B0();
          v30 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10119);
          v31 = sub_46B490(a3, 16404, 0, 0);
          if ( v31 >= 0 && v31 < *(__int16 *)(*(_DWORD *)(a3 + 32) + 44) )
          {
            v32 = (wchar_t *)sub_46B490(a3, 16406, a4, 0);
            sub_46B490((int)v30, 16385, (int)v32, -1);
            v33 = *((_WORD *)v29 + 26) & 0x17F0;
            *((_WORD *)v29 + 26) &= 0xE80Fu;
            *((_WORD *)v29 + 26) |= sub_459650(v32);
            if ( v33 != (*((_WORD *)v29 + 26) & 0x17F0) )
              sub_458230(*((unsigned __int16 *)v29 + 26), (char *)&byte_5D4594[1046556], 1);
            sub_46AC00(a3, 1);
            sub_46ADE0(a3);
            *((_WORD *)v29 + 27) = sub_40A020(*((_WORD *)v29 + 26));
            v29[56] = sub_40A180(*((_WORD *)v29 + 26));
            sub_457460((int)v29);
            sub_459D50(1);
            if ( v29[53] & 0x10 )
            {
              sub_424BD0();
              sub_4537F0();
              sub_459700();
            }
            LOWORD(v34) = *((_WORD *)v29 + 26);
            sub_457F30((v34 >> 12) & 1);
            return 1;
          }
        }
      }
      else if ( sub_46B490(a3, 16404, 0, 0) >= 0 )
      {
        v35 = sub_46B490(a3, 16406, a4, 0);
        nox_sprintf(v42, (const char *)&byte_587000[131344], v35);
        v36 = strtok(v42, (const char *)&byte_587000[131348]);
        v37 = sub_4165B0();
        strcpy(v37, v36);
        sub_57A1E0((int *)v37, (const char *)&byte_587000[131352], 0, 7, *((_WORD *)v37 + 26));
        sub_459880((int)v37);
        sub_459D50(1);
      }
    }
    return 1;
  }
  if ( a2 == 16391 )
  {
    v9 = sub_46B0A0((int *)a3);
    sub_452D80(766, 100);
    switch ( v9 )
    {
      case 10119:
        v26 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10120);
        sub_46AC00((int)v26, 0);
        sub_46ADC0((int)v26);
        sub_46A8C0((int)v26);
        sub_4596A0();
        return 1;
      case 10122:
        v27 = (*(_BYTE *)(a3 + 36) & 4) != 0;
        if ( !sub_40A5C0(49152) )
        {
          sub_46ABB0(*(int *)&byte_5D4594[1046500], v27);
          sub_46ABB0(*(int *)&byte_5D4594[1046504], v27);
        }
        sub_459D50(1);
        return 1;
      case 10141:
        sub_459700();
        return 1;
      case 10145:
        v18 = sub_416590(1);
        sub_459AA0((int)v18);
        sub_4165F0(1, 0);
        v19 = sub_417DD0();
        if ( sub_40A5C0(128) && (v20 = *((_WORD *)v18 + 26), v20 & 0x60) )
        {
          if ( v20 < 0 )
          {
            v21 = v19 <= 2;
          }
          else
          {
            v21 = v19 <= 2;
            if ( v19 < 2 )
            {
              v22 = sub_40F1D0((char *)&byte_587000[131412], 0, (const char *)&byte_587000[131364], 1363);
              sub_449A10(
                *(int *)&byte_5D4594[1046492],
                (int)&byte_5D4594[1046560],
                (int)v22,
                56,
                (int (*)(void))sub_459150,
                0);
              sub_44A360(1);
              return 1;
            }
          }
          if ( !v21 )
          {
            v38 = sub_40F1D0((char *)&byte_587000[131472], 0, (const char *)&byte_587000[131424], 1371);
            v23 = sub_40F1D0((char *)&byte_587000[131536], 0, (const char *)&byte_587000[131488], 1370);
            sub_449A10(*(int *)&byte_5D4594[1046492], (int)v23, (int)v38, 33, 0, 0);
            sub_44A360(1);
            return 1;
          }
        }
        else if ( sub_40A5C0(128) && sub_40A5C0(16) && sub_417DA0(4) && v19 > 2 )
        {
          v39 = sub_40F1D0((char *)&byte_587000[131592], 0, (const char *)&byte_587000[131544], 1384);
          v24 = sub_40F1D0((char *)&byte_587000[131656], 0, (const char *)&byte_587000[131608], 1383);
          sub_449A10(*(int *)&byte_5D4594[1046492], (int)v24, (int)v39, 33, 0, 0);
          sub_44A360(1);
          return 1;
        }
        sub_459150();
		OnLibraryNotice(261, 0);
        result = 1;
        break;
      case 10146:
        v25 = sub_4165B0();
        if ( sub_40A5C0(128) )
        {
          if ( (int)v25[53] < 0 )
            sub_419030(1);
          *((_WORD *)v25 + 26) &= 0x3FFFu;
        }
        goto LABEL_58;
      case 10149:
LABEL_58:
        sub_4597E0(0);
        return 1;
      case 10152:
        v10 = (int *)sub_416590(1);
        sub_4BDC10(v10);
        return 1;
      case 10159:
        v11 = *(_DWORD *)(a3 + 396);
        sub_46B120((_DWORD *)a3, 0);
        sub_46B120((_DWORD *)a3, v11);
        v12 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10196);
        if ( sub_40A5C0(1) )
        {
          sub_46AC00((int)v12, 0);
          sub_46ACE0(*(_DWORD **)&byte_5D4594[1046492], 10161, 10163, 0);
          sub_46AD20(*(_DWORD **)&byte_5D4594[1046492], 10161, 10163, 1);
          sub_4593B0(0);
          v13 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10163);
          v13[9] |= 4u;
          v14 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10161);
          v14[9] &= 0xFFFFFFFB;
          v15 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10162);
          v15[9] &= 0xFFFFFFFB;
          sub_46ACE0(*(_DWORD **)&byte_5D4594[1046492], 10141, 10141, 1);
        }
        else
        {
          sub_46AC00((int)v12, 1);
          *(_DWORD *)&byte_5D4594[1046532] = sub_456270(*(int *)&byte_5D4594[1046492]);
          sub_46ACE0(*(_DWORD **)&byte_5D4594[1046492], 10141, 10141, 1);
        }
        sub_46AC00(*(int *)&byte_5D4594[1046524], 1);
        return 1;
      case 10160:
        v16 = *(_DWORD *)(a3 + 396);
        sub_46B120((_DWORD *)a3, 0);
        sub_46B120((_DWORD *)a3, v16);
        if ( *(_DWORD *)&byte_5D4594[1046532] )
        {
          sub_456D60(1);
          *(_DWORD *)&byte_5D4594[1046532] = 0;
        }
        if ( *(_DWORD *)&byte_5D4594[1046528] )
        {
          sub_4557D0(1);
          *(_DWORD *)&byte_5D4594[1046528] = 0;
        }
        if ( *(_DWORD *)&byte_5D4594[1046536] )
        {
          sub_4AD820();
          *(_DWORD *)&byte_5D4594[1046540] = 0;
        }
        sub_46ACE0(*(_DWORD **)&byte_5D4594[1046492], 10161, 10163, 1);
        if ( sub_40A5C0(1) )
          sub_46ACE0(*(_DWORD **)&byte_5D4594[1046492], 10141, 10141, 0);
        v17 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10196);
        sub_46AC00((int)v17, 1);
        sub_46AC00(*(int *)&byte_5D4594[1046524], 0);
        return 1;
      case 10161:
        sub_4593B0(1);
        return 1;
      case 10162:
        sub_4593B0(2);
        return 1;
      case 10163:
        sub_4593B0(0);
        return 1;
      case 10330:
        if ( sub_417DA0(4) )
        {
          sub_418690(0);
          sub_419030(1);
          sub_46AD20(*(_DWORD **)&byte_5D4594[1046508], 10331, 10333, 0);
          result = 1;
        }
        else
        {
          sub_4185B0();
          if ( sub_417DA0(2) )
            sub_4181F0(0);
          else
            sub_418690(1);
          sub_46AD20(*(_DWORD **)&byte_5D4594[1046508], 10331, 10333, 1);
          result = 1;
        }
        return result;
      case 10331:
        if ( sub_417DA0(2) )
        {
          sub_417D70(2);
          sub_418690(1);
        }
        else
        {
          sub_418690(0);
          sub_418390();
        }
        return 1;
      case 10332:
        sub_4181F0(1);
        return 1;
      case 10333:
        if ( sub_417DA0(1) )
          sub_417D70(1);
        else
          sub_417D50(1);
        return 1;
      default:
        return 1;
    }
    return result;
  }
  if ( a2 == 23 )
    return 0;
  if ( a2 != 16387 )
    return 1;
  v4 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], a4);
  sub_416630();
  v5 = sub_4165B0();
  if ( !v4 )
    return 0;
  if ( (unsigned __int16)a3 == 1 )
  {
    if ( a4 == 10101 )
    {
      v4[26] = *(_DWORD *)&byte_5D4594[2523948];
      return 1;
    }
    return 1;
  }
  v7 = sub_46B490((int)v4, 16413, 0, 0);
  nox_sprintf(v41, (const char *)&byte_587000[131664], v7);
  if ( !v41 || !v41[0] )
    return 1;
  v8 = atoi(v41);
  if ( v8 < 0 )
    v8 = 0;
  if ( a4 == 10101 )
  {
    v4[26] = sub_4344A0(230, 165, 65);
    strcpy(v5 + 9, v41);
    sub_40A440(v41);
    return 1;
  }
  if ( a4 == 10134 )
  {
    *((_WORD *)v5 + 27) = v8;
    sub_459D50(1);
    return 1;
  }
  if ( a4 != 10135 )
    return 1;
  if ( v8 > 255 )
  {
    LOBYTE(v8) = -1;
    _itow(255, WideCharStr, 10);
    sub_46B490((int)v4, 16414, (int)WideCharStr, -1);
  }
  v5[56] = v8;
  sub_459D50(1);
  return 1;
}
// 458F5A: variable 'v34' is possibly undefined

//----- (00459150) --------------------------------------------------------
char sub_459150()
{
  char *v0; // ebp
  int i; // edi
  char *v2; // esi
  int v3; // ebx
  wchar_t *v4; // eax
  char *v5; // eax
  const char *v6; // edi
  char *v7; // eax
  int v8; // ebx
  char *v9; // esi
  unsigned __int8 v10; // dl
  char *v11; // edi
  char *v12; // eax
  char *v13; // eax
  int *v14; // eax
  int *v16; // [esp-Ch] [ebp-2Ch]
  int *v17; // [esp-4h] [ebp-24h]
  __int16 v18; // [esp-4h] [ebp-24h]
  char v19[16]; // [esp+10h] [ebp-10h]

  v0 = sub_4165B0();
  if ( v0[52] & 0x60 )
  {
    for ( i = sub_417DD0(); i < 2; ++i )
    {
      v2 = sub_4186D0(0);
      v3 = (i != 0) + 1;
      if ( sub_40A740() )
      {
        sub_418800((wchar_t *)v2, (wchar_t *)&byte_5D4594[1046564], 0);
      }
      else
      {
        v4 = sub_418C20(v3);
        sub_418800((wchar_t *)v2, v4, 1);
      }
      v2[56] = v3;
      sub_4184D0((wchar_t *)v2);
    }
    sub_417D50(4);
  }
  LOBYTE(v5) = v0[57];
  if ( (_BYTE)v5 )
  {
    v5 = sub_409B80();
    v6 = v5;
  }
  else
  {
    v6 = v0;
  }
  if ( *v6 )
  {
    v7 = sub_409B40();
    v8 = _strcmpi(v6, v7);
    sub_4165F0(1, 0);
    v9 = sub_4165D0(0);
    sub_40A440(v9 + 9);
    if ( !((*((_WORD *)v9 + 26) >> 8) & 0x10) )
    {
      sub_409FB0(*((_WORD *)v9 + 26), *((_WORD *)v9 + 27));
      sub_40A040(*((_WORD *)v9 + 26), v9[56]);
    }
    if ( v8 && sub_43AF70() == 1 )
    {
      if ( !sub_40A5C0(128) )
      {
        sub_4263C0();
        sub_40DF90();
        sub_4264D0();
        sub_416150(15, 0);
      }
      if ( !v9[57] )
        sub_41D650();
    }
    if ( sub_40A5C0(128) )
    {
      sub_40A540(49152);
      sub_40A4D0(*((_WORD *)v9 + 26) & 0xC000);
    }
    v9[57] = 0;
    if ( v8 )
    {
      v19[0] = 0;
      *(_DWORD *)&v19[1] = 0;
      *(_DWORD *)&v19[5] = 0;
      *(_DWORD *)&v19[9] = 0;
      v10 = byte_587000[131672];
      strcpy(v19, v6);
      v11 = &v19[strlen(v19)];
      *(_DWORD *)v11 = *(_DWORD *)&byte_587000[131668];
      v11[4] = v10;
      sub_4D2450(v19);
      sub_416690();
      sub_4165D0(1);
      LOBYTE(v5) = (unsigned int)sub_4597E0(0);
    }
    else
    {
      sub_424BD0();
      sub_4537F0();
      v17 = (int *)sub_459870();
      v12 = sub_416590(1);
      sub_57AAA0((const char *)&byte_587000[131676], v12, v17);
      v13 = sub_409B30();
      sub_57A950(v13);
      v18 = sub_40A5B0();
      v16 = (int *)sub_459870();
      v14 = (int *)sub_416590(0);
      sub_57A1E0(v14, (const char *)&byte_587000[131688], v16, 3, v18);
      LOBYTE(v5) = (unsigned int)sub_4597E0(0);
    }
  }
  return (char)v5;
}

//----- (004593B0) --------------------------------------------------------
int __cdecl sub_4593B0(int a1)
{
  _DWORD *v1; // esi
  _DWORD *v2; // ebx
  _DWORD *v3; // edi
  int result; // eax

  v1 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10163);
  v2 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10161);
  v3 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10162);
  if ( a1 )
  {
    if ( a1 == 1 )
    {
      v1[15] = *(_DWORD *)&byte_5D4594[1046360];
      v3[15] = *(_DWORD *)&byte_5D4594[1046356];
      if ( *(_DWORD *)&byte_5D4594[1046532] )
      {
        sub_456D60(1);
        *(_DWORD *)&byte_5D4594[1046532] = 0;
      }
      if ( *(_DWORD *)&byte_5D4594[1046540] )
      {
        sub_4AD820();
        *(_DWORD *)&byte_5D4594[1046540] = 0;
      }
      *(_DWORD *)&byte_5D4594[1046528] = sub_4541D0(*(int *)&byte_5D4594[1046492]);
      result = sub_459560(10161);
    }
    else
    {
      result = a1 - 2;
      if ( a1 == 2 )
      {
        v1[15] = *(_DWORD *)&byte_5D4594[1046360];
        if ( sub_40A5C0(1) )
          v2[15] = *(_DWORD *)&byte_5D4594[1046360];
        else
          v2[21] = *(_DWORD *)&byte_5D4594[1046360];
        if ( *(_DWORD *)&byte_5D4594[1046528] )
        {
          sub_4557D0(1);
          *(_DWORD *)&byte_5D4594[1046528] = 0;
        }
        if ( *(_DWORD *)&byte_5D4594[1046540] )
        {
          sub_4AD820();
          *(_DWORD *)&byte_5D4594[1046540] = 0;
        }
        *(_DWORD *)&byte_5D4594[1046532] = sub_456270(*(int *)&byte_5D4594[1046492]);
        result = sub_459560(10162);
      }
    }
  }
  else
  {
    if ( sub_40A5C0(1) )
      v2[15] = *(_DWORD *)&byte_5D4594[1046356];
    else
      v2[21] = *(_DWORD *)&byte_5D4594[1046356];
    v3[15] = *(_DWORD *)&byte_5D4594[1046356];
    if ( *(_DWORD *)&byte_5D4594[1046532] )
    {
      sub_456D60(1);
      *(_DWORD *)&byte_5D4594[1046532] = 0;
    }
    else if ( *(_DWORD *)&byte_5D4594[1046528] )
    {
      sub_4557D0(1);
      *(_DWORD *)&byte_5D4594[1046528] = 0;
    }
    *(_DWORD *)&byte_5D4594[1046540] = sub_4AD320(*(int *)&byte_5D4594[1046492]);
    result = sub_459560(10163);
  }
  return result;
}

//----- (00459560) --------------------------------------------------------
int __cdecl sub_459560(int a1)
{
  _DWORD *v1; // ebx
  int v2; // esi
  _DWORD *v3; // edi
  _DWORD *v4; // eax
  _DWORD *v5; // edi
  _DWORD *v6; // edi
  _DWORD *v7; // edi

  v1 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], a1);
  v2 = v1[99];
  switch ( a1 )
  {
    case 10161:
      v6 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10163);
      sub_46B120(v6, 0);
      sub_46B120(v6, v2);
      v4 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10162);
      goto LABEL_7;
    case 10162:
      v5 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10163);
      sub_46B120(v5, 0);
      sub_46B120(v5, v2);
      v4 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10161);
      goto LABEL_7;
    case 10163:
      v3 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10162);
      sub_46B120(v3, 0);
      sub_46B120(v3, v2);
      v4 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10161);
LABEL_7:
      v7 = v4;
      sub_46B120(v4, 0);
      sub_46B120(v7, v2);
      break;
  }
  sub_46B120(v1, 0);
  return sub_46B120(v1, v2);
}

//----- (00459650) --------------------------------------------------------
int __cdecl sub_459650(wchar_t *a1)
{
  int v1; // edi
  const wchar_t **v2; // eax
  unsigned __int8 *v3; // esi
  int v4; // ecx

  v1 = 0;
  if ( !*(_DWORD *)&byte_587000[129668] )
    return 0;
  v2 = (const wchar_t **)&byte_587000[129668];
  v3 = &byte_587000[129668];
  while ( nox_wcscmp(*v2, a1) )
  {
    v4 = *((_DWORD *)v3 + 3);
    v3 += 12;
    ++v1;
    v2 = (const wchar_t **)v3;
    if ( !v4 )
      return 0;
  }
  return *(_DWORD *)&byte_587000[12 * v1 + 129672];
}

//----- (004596A0) --------------------------------------------------------
int sub_4596A0()
{
  _DWORD *v0; // edi
  int result; // eax
  int *v2; // esi

  v0 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10120);
  sub_46B490((int)v0, 16399, 0, 0);
  result = *(_DWORD *)&byte_587000[129668];
  if ( *(_DWORD *)&byte_587000[129668] )
  {
    v2 = (int *)&byte_587000[129668];
    do
    {
      if ( v2[1] != 4096 )
        sub_46B490((int)v0, 16397, *v2, -1);
      result = v2[3];
      v2 += 3;
    }
    while ( result );
  }
  return result;
}

//----- (00459700) --------------------------------------------------------
int sub_459700()
{
  char *v0; // esi
  int v1; // eax
  int v2; // edi
  const wchar_t *v3; // eax
  wchar_t v5[256]; // [esp+8h] [ebp-200h]

  sub_416580();
  v0 = sub_4165B0();
  v1 = sub_46B490(*(int *)&byte_5D4594[1046496], 16404, 0, 0);
  v2 = v1;
  v3 = (const wchar_t *)sub_46B490(*(int *)&byte_5D4594[1046496], 16406, v1, 0);
  nox_wcscpy(v5, v3);
  sub_46B490(*(int *)&byte_5D4594[1046496], 16398, v2, 0);
  sub_46B490(*(int *)&byte_5D4594[1046496], 16402, v2, 0);
  sub_46B490(*(int *)&byte_5D4594[1046496], 16397, (int)v5, -1);
  sub_46B490(*(int *)&byte_5D4594[1046496], 16403, v2, 0);
  sub_57A9F0(v0, (const char *)&byte_587000[131700]);
  sub_57A1E0((int *)v0, (const char *)&byte_587000[131712], 0, 5, *((_WORD *)v0 + 26));
  sub_459880((int)v0);
  return sub_459D50(1);
}

//----- (004597E0) --------------------------------------------------------
int *__cdecl sub_4597E0(int a1)
{
  int v1; // eax
  int *result; // eax

  if ( *(_DWORD *)&byte_5D4594[1046492] )
  {
    v1 = sub_46B4F0();
    if ( sub_46B250(*(int *)&byte_5D4594[1046492], v1) )
      sub_46B500(0);
    sub_46C4E0(*(_DWORD **)&byte_5D4594[1046492]);
    *(_DWORD *)&byte_5D4594[1046492] = 0;
    sub_456D60(0);
    sub_4BE610();
    *(_DWORD *)&byte_5D4594[1046532] = 0;
    sub_4557D0(0);
    *(_DWORD *)&byte_5D4594[1046528] = 0;
    sub_4AD820();
    *(_DWORD *)&byte_5D4594[1046536] = 0;
  }
  result = (int *)a1;
  if ( a1 )
  {
    result = sub_57ADF0((int *)&byte_5D4594[1045956]);
    *(_DWORD *)&byte_587000[129656] = 1;
  }
  return result;
}

//----- (00459870) --------------------------------------------------------
char *sub_459870()
{
  return (char *)&byte_5D4594[1045956];
}

//----- (00459880) --------------------------------------------------------
int __cdecl sub_459880(int a1)
{
  __int16 v1; // ax
  wchar_t *v2; // eax
  _DWORD *v4; // eax
  int v5; // ecx
  unsigned int v6; // ecx

  sub_416630();
  v1 = *(_WORD *)(a1 + 52);
  if ( v1 & 0x20 )
  {
    if ( !*(_BYTE *)(a1 + 57) && sub_40A5C0(1) )
    {
      sub_46ABB0(*(int *)&byte_5D4594[1046516], 1);
      sub_46ABB0(*(int *)&byte_5D4594[1046520], 1);
    }
    v2 = sub_40F1D0((char *)&byte_587000[131772], 0, (const char *)&byte_587000[131724], 1900);
  }
  else
  {
    LOBYTE(v1) = *(_BYTE *)(a1 + 57);
    if ( v1 & 0x400 )
    {
      if ( !LOBYTE(v1) && sub_40A5C0(1) )
      {
        sub_46ABB0(*(int *)&byte_5D4594[1046516], 1);
        sub_46ABB0(*(int *)&byte_5D4594[1046520], 1);
      }
      v2 = sub_40F1D0((char *)&byte_587000[131848], 0, (const char *)&byte_587000[131800], 1912);
    }
    else
    {
      if ( !LOBYTE(v1) && sub_40A5C0(1) && !sub_40A5C0(49152) )
      {
        sub_46ABB0(*(int *)&byte_5D4594[1046516], 1);
        sub_46ABB0(*(int *)&byte_5D4594[1046520], 1);
      }
      v2 = sub_40F1D0((char *)&byte_587000[131920], 0, (const char *)&byte_587000[131872], 1926);
    }
  }
  nox_wcscpy((wchar_t *)(*(_DWORD *)&byte_5D4594[1046516] + 108), v2);
  sub_4580E0(a1);
  sub_459A40((char *)(a1 + 9));
  if ( sub_40A5C0(1) && !sub_40A5C0(49152) )
  {
    sub_46ABB0(*(int *)&byte_5D4594[1046500], *(_BYTE *)(a1 + 57) == 0);
    sub_46ABB0(*(int *)&byte_5D4594[1046504], *(_BYTE *)(a1 + 57) == 0);
  }
  v4 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10122);
  v5 = v4[9];
  if ( *(_BYTE *)(a1 + 57) )
    v6 = v5 | 4;
  else
    v6 = v5 & 0xFFFFFFFB;
  v4[9] = v6;
  sub_453F70((const void *)(a1 + 24));
  sub_4535E0((int *)(a1 + 44));
  return sub_4535F0(*(_DWORD *)(a1 + 48));
}

//----- (00459A40) --------------------------------------------------------
int __cdecl sub_459A40(char *a1)
{
  char v2[100]; // [esp+0h] [ebp-12Ch]
  wchar_t v3[100]; // [esp+64h] [ebp-C8h]

  strncpy(v2, a1, 0xFu);
  v2[15] = 0;
  nox_swprintf(v3, (const wchar_t *)&byte_587000[131944], v2);
  return sub_46B490(*(int *)&byte_5D4594[1046512], 16414, (int)v3, 0);
}

//----- (00459AA0) --------------------------------------------------------
char *__cdecl sub_459AA0(int a1)
{
  int v1; // eax
  const wchar_t *v2; // eax
  const wchar_t *v3; // eax
  char *result; // eax
  int v5; // eax
  const char *v6; // edi
  char v7[100]; // [esp+Ch] [ebp-64h]

  v1 = sub_46B490(*(int *)&byte_5D4594[1046512], 16413, 0, 0);
  nox_sprintf(v7, (const char *)&byte_587000[131952], v1);
  strncpy((char *)(a1 + 9), v7, 0xFu);
  *(_WORD *)(a1 + 52) = sub_459C10();
  qmemcpy((void *)(a1 + 24), sub_453F90(), 0x14u);
  *(_DWORD *)(a1 + 44) = *(_DWORD *)sub_453600();
  *(_DWORD *)(a1 + 48) = sub_453610();
  v2 = (const wchar_t *)sub_46B490(*(int *)&byte_5D4594[1046516], 16413, 0, 0);
  if ( *v2 )
    *(_WORD *)(a1 + 54) = nox_wcstol(v2, 0, 10);
  v3 = (const wchar_t *)sub_46B490(*(int *)&byte_5D4594[1046520], 16413, 0, 0);
  if ( *v3 )
    *(_BYTE *)(a1 + 56) = nox_wcstol(v3, 0, 10);
  *(_BYTE *)(a1 + 57) = (sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10122)[9] >> 2) & 1;
  result = (char *)sub_46B490(*(int *)&byte_5D4594[1046496], 16404, 0, 0);
  if ( (int)result >= 0
    && (v5 = sub_46B490(*(int *)&byte_5D4594[1046496], 16406, (int)result, 0),
        nox_sprintf(v7, (const char *)&byte_587000[131956], v5),
        (result = strtok(v7, (const char *)&byte_587000[131960])) != 0) )
  {
    v6 = result;
    result = 0;
    strcpy((char *)a1, v6);
  }
  else
  {
    *(_BYTE *)a1 = 0;
  }
  return result;
}

//----- (00459C10) --------------------------------------------------------
int sub_459C10()
{
  wchar_t *v0; // eax

  v0 = (wchar_t *)sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10119);
  return sub_459650(v0 + 54);
}

//----- (00459C30) --------------------------------------------------------
int sub_459C30()
{
  char *v0; // esi
  int result; // eax
  _DWORD *v2; // edi
  int v3; // eax

  v0 = sub_416590(1);
  sub_453F70(v0 + 24);
  sub_4535E0((int *)v0 + 11);
  sub_4535F0(*((_DWORD *)v0 + 12));
  result = *(_DWORD *)&byte_5D4594[1046492];
  if ( *(_DWORD *)&byte_5D4594[1046492] )
  {
    sub_459880((int)v0);
    sub_4BDF70((int *)v0);
    sub_458230(*((unsigned __int16 *)v0 + 26), v0, 0);
    sub_457460((int)v0);
    if ( sub_43AF70() == 1 )
      sub_457FE0();
    v2 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10119);
    v3 = sub_4573C0(*((_WORD *)v0 + 26));
    result = sub_46B490((int)v2, 16385, v3, 0);
  }
  return result;
}

//----- (00459CD0) --------------------------------------------------------
int sub_459CD0()
{
  int result; // eax
  unsigned __int8 v1; // al
  wchar_t *v2; // eax
  _DWORD *v3; // eax
  int v4; // [esp-4h] [ebp-4h]

  result = *(_DWORD *)&byte_5D4594[1046492];
  if ( *(_DWORD *)&byte_5D4594[1046492] )
  {
    if ( sub_40A740() || sub_40A5C0(0x8000) )
      v1 = sub_417DE0();
    else
      v1 = sub_417DD0();
    v4 = v1;
    v2 = sub_40F1D0((char *)&byte_587000[132012], 0, (const char *)&byte_587000[131964], 2071);
    nox_swprintf((wchar_t *)&byte_5D4594[1046364], v2, v4);
    v3 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1046492], 10110);
    result = sub_46B490((int)v3, 16385, (int)&byte_5D4594[1046364], -1);
  }
  return result;
}

//----- (00459D50) --------------------------------------------------------
int __cdecl sub_459D50(int a1)
{
  int result; // eax

  result = a1;
  *(_DWORD *)&byte_5D4594[1046544] = a1;
  return result;
}

//----- (00459D60) --------------------------------------------------------
int sub_459D60()
{
  return *(_DWORD *)&byte_5D4594[1046544];
}

//----- (00459D70) --------------------------------------------------------
int sub_459D70()
{
  int v0; // eax

  v0 = -(*(_DWORD *)&byte_5D4594[1046492] != 0);
  LOBYTE(v0) = v0 & 0xFE;
  return v0 + 2;
}

//----- (00459D80) --------------------------------------------------------
int __cdecl sub_459D80(int a1)
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[1046492];
  if ( *(_DWORD *)&byte_5D4594[1046492] )
    result = sub_46AC00(*(int *)&byte_5D4594[1046492], a1);
  return result;
}

//----- (00459DA0) --------------------------------------------------------
BOOL sub_459DA0()
{
  return *(_DWORD *)&byte_5D4594[1046492] != 0;
}

//----- (00459DB0) --------------------------------------------------------
BOOL __cdecl sub_459DB0(int a1)
{
  return *(_DWORD *)(a1 + 112) & 0x400000 && *(_BYTE *)(a1 + 116) & 8;
}

//----- (00459DD0) --------------------------------------------------------
int __cdecl sub_459DD0(int a1, char a2)
{
  int result; // eax
  int v3; // ecx
  int v4; // ecx

  result = a1;
  v3 = *(_DWORD *)(a1 + 120);
  *(_BYTE *)(a1 + 284) |= a2;
  if ( v3 >= 0 )
  {
    v4 = *(_DWORD *)&byte_5D4594[1046596];
    *(_DWORD *)(a1 + 412) = 0;
    *(_DWORD *)(a1 + 408) = v4;
    if ( *(_DWORD *)&byte_5D4594[1046596] )
      *(_DWORD *)(*(_DWORD *)&byte_5D4594[1046596] + 412) = a1;
    *(_DWORD *)&byte_5D4594[1046596] = a1;
    *(_DWORD *)(a1 + 120) |= 0x80000000;
  }
  return result;
}

//----- (00459E30) --------------------------------------------------------
int __cdecl sub_459E30(int a1, char a2)
{
  int result; // eax
  bool v3; // zf
  int v4; // ecx
  int v5; // ecx

  result = a1;
  if ( *(int *)(a1 + 120) < 0 )
  {
    v3 = ((unsigned __int8)~a2 & *(_BYTE *)(a1 + 284)) == 0;
    *(_BYTE *)(a1 + 284) &= ~a2;
    if ( v3 )
    {
      v4 = *(_DWORD *)(a1 + 408);
      if ( v4 )
        *(_DWORD *)(v4 + 412) = *(_DWORD *)(a1 + 412);
      v5 = *(_DWORD *)(a1 + 412);
      if ( v5 )
        *(_DWORD *)(v5 + 408) = *(_DWORD *)(a1 + 408);
      else
        *(_DWORD *)&byte_5D4594[1046596] = *(_DWORD *)(a1 + 408);
      *(_DWORD *)(a1 + 120) &= 0x7FFFFFFFu;
    }
  }
  return result;
}

//----- (00459EB0) --------------------------------------------------------
int sub_459EB0()
{
  return *(_DWORD *)&byte_5D4594[1046596];
}

//----- (00459EC0) --------------------------------------------------------
int __cdecl sub_459EC0(int a1)
{
  return *(_DWORD *)(a1 + 408);
}

//----- (00459ED0) --------------------------------------------------------
int __cdecl sub_459ED0(int a1)
{
  int result; // eax

  result = a1;
  *(_DWORD *)(a1 + 416) = *(_DWORD *)&byte_5D4594[1046600];
  *(_DWORD *)(a1 + 420) = 0;
  if ( *(_DWORD *)&byte_5D4594[1046600] )
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1046600] + 420) = a1;
  *(_DWORD *)&byte_5D4594[1046600] = a1;
  return result;
}

//----- (00459F00) --------------------------------------------------------
int __cdecl sub_459F00(int a1)
{
  int result; // eax
  int v2; // ecx
  int v3; // ecx

  result = a1;
  v2 = *(_DWORD *)(a1 + 416);
  if ( v2 )
    *(_DWORD *)(v2 + 420) = *(_DWORD *)(a1 + 420);
  v3 = *(_DWORD *)(a1 + 420);
  if ( v3 )
  {
    result = *(_DWORD *)(a1 + 416);
    *(_DWORD *)(v3 + 416) = result;
  }
  else
  {
    *(_DWORD *)&byte_5D4594[1046600] = *(_DWORD *)(a1 + 416);
  }
  return result;
}

//----- (00459F40) --------------------------------------------------------
int __cdecl sub_459F40(int a1)
{
  int result; // eax

  result = a1;
  *(_DWORD *)(a1 + 424) = *(_DWORD *)&byte_5D4594[1046576];
  *(_DWORD *)(a1 + 428) = 0;
  if ( *(_DWORD *)&byte_5D4594[1046576] )
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1046576] + 428) = a1;
  *(_DWORD *)&byte_5D4594[1046576] = a1;
  return result;
}

//----- (00459F70) --------------------------------------------------------
_DWORD *__cdecl sub_459F70(_DWORD *a1)
{
  _DWORD *result; // eax
  int v2; // ecx
  int v3; // ecx

  result = a1;
  v2 = a1[106];
  if ( v2 )
  {
    *(_DWORD *)(v2 + 428) = a1[107];
  }
  else if ( !a1[107] && *(_DWORD **)&byte_5D4594[1046576] != a1 )
  {
    return result;
  }
  v3 = a1[107];
  if ( v3 )
    *(_DWORD *)(v3 + 424) = a1[106];
  else
    *(_DWORD *)&byte_5D4594[1046576] = a1[106];
  a1[106] = 0;
  a1[107] = 0;
  result = (_DWORD *)sub_452EB0(a1 + 124);
  if ( result )
    result = (_DWORD *)sub_4523D0(result);
  return result;
}

//----- (0045A000) --------------------------------------------------------
int sub_45A000()
{
  return *(_DWORD *)&byte_5D4594[1046600];
}

//----- (0045A010) --------------------------------------------------------
int __cdecl sub_45A010(int a1)
{
  return *(_DWORD *)(a1 + 416);
}

//----- (0045A020) --------------------------------------------------------
int sub_45A020()
{
  return *(_DWORD *)&byte_5D4594[1046588];
}

//----- (0045A030) --------------------------------------------------------
int sub_45A030()
{
  return *(_DWORD *)&byte_5D4594[1046568];
}

//----- (0045A040) --------------------------------------------------------
int __cdecl sub_45A040(int a1)
{
  int result; // eax

  if ( a1 )
    result = *(_DWORD *)(a1 + 360);
  else
    result = 0;
  return result;
}

//----- (0045A060) --------------------------------------------------------
int sub_45A060()
{
  return *(_DWORD *)&byte_5D4594[1046572];
}

//----- (0045A070) --------------------------------------------------------
int __cdecl sub_45A070(int a1)
{
  int result; // eax

  if ( a1 )
    result = *(_DWORD *)(a1 + 368);
  else
    result = 0;
  return result;
}

//----- (0045A090) --------------------------------------------------------
int sub_45A090()
{
  return *(_DWORD *)&byte_5D4594[1046576];
}

//----- (0045A0A0) --------------------------------------------------------
int __cdecl sub_45A0A0(int a1)
{
  int result; // eax

  if ( a1 )
    result = *(_DWORD *)(a1 + 424);
  else
    result = 0;
  return result;
}

//----- (0045A0C0) --------------------------------------------------------
int sub_45A0C0()
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[1046572];
  if ( !*(_DWORD *)&byte_5D4594[1046572] )
    return 0;
  while ( !(*(_DWORD *)(result + 120) & 0x2000000) )
  {
    result = *(_DWORD *)(result + 368);
    if ( !result )
      return 0;
  }
  return result;
}

//----- (0045A0E0) --------------------------------------------------------
int __cdecl sub_45A0E0(int a1)
{
  int result; // eax

  result = *(_DWORD *)(a1 + 368);
  if ( !result )
    return 0;
  while ( !(*(_DWORD *)(result + 120) & 0x2000000) )
  {
    result = *(_DWORD *)(result + 368);
    if ( !result )
      return 0;
  }
  return result;
}

//----- (0045A110) --------------------------------------------------------
_DWORD *__cdecl sub_45A110(_DWORD *a1)
{
  _DWORD *result; // eax

  result = a1;
  a1[98] = 0;
  a1[97] = *(_DWORD *)&byte_5D4594[1046580];
  if ( *(_DWORD *)&byte_5D4594[1046580] )
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1046580] + 392) = a1;
  else
    *(_DWORD *)&byte_5D4594[1046584] = a1;
  *(_DWORD *)&byte_5D4594[1046580] = a1;
  a1[30] |= 0x400000u;
  return result;
}

//----- (0045A160) --------------------------------------------------------
_DWORD *__cdecl sub_45A160(_DWORD *a1)
{
  _DWORD *result; // eax
  int v2; // ecx
  int v3; // ecx

  result = a1;
  if ( a1[30] & 0x400000 )
  {
    v2 = a1[98];
    if ( v2 )
      *(_DWORD *)(v2 + 388) = a1[97];
    else
      *(_DWORD *)&byte_5D4594[1046580] = a1[97];
    v3 = a1[97];
    if ( v3 )
      *(_DWORD *)(v3 + 392) = a1[98];
    else
      *(_DWORD *)&byte_5D4594[1046584] = a1[98];
    a1[30] &= 0xFFBFFFFF;
  }
  return result;
}

//----- (0045A1D0) --------------------------------------------------------
BOOL __cdecl sub_45A1D0(int a1)
{
  *(_DWORD *)&byte_5D4594[1046592] = sub_413FE0((const char *)&byte_587000[132024], 512, a1);
  return *(_DWORD *)&byte_5D4594[1046592] != 0;
}

//----- (0045A200) --------------------------------------------------------
int sub_45A200()
{
  sub_414100(*(LPVOID *)&byte_5D4594[1046592]);
  *(_DWORD *)&byte_5D4594[1046592] = 0;
  *(_DWORD *)&byte_5D4594[1046568] = 0;
  *(_DWORD *)&byte_5D4594[1046572] = 0;
  *(_DWORD *)&byte_5D4594[1046580] = 0;
  *(_DWORD *)&byte_5D4594[1046584] = 0;
  *(_DWORD *)&byte_5D4594[1046588] = 0;
  return 1;
}

//----- (0045A240) --------------------------------------------------------
_DWORD *__cdecl sub_45A240(int a1)
{
  _DWORD *v1; // esi
  _DWORD *result; // eax
  int (__cdecl *v3)(_DWORD *, int); // eax
  int v4; // eax

  v1 = sub_4142F0(*(_DWORD **)&byte_5D4594[1046592]);
  if ( v1 || (result = sub_45A330(), (v1 = result) != 0) )
  {
    result = (_DWORD *)sub_44D0C0(*(float *)&v1, a1);
    if ( result )
    {
      v3 = (int (__cdecl *)(_DWORD *, int))v1[75];
      if ( v3 == sub_4BCC60 )
      {
        v4 = sub_415FF0(0, *(unsigned __int8 *)(v1[76] + 8) - 1, (const char *)&byte_587000[132040], 401);
        sub_45AB80((int)v1, v4);
      }
      else if ( v3 == sub_4B6A60 || v3 == sub_4B6A80 || v3 == sub_4B6AE0 || v3 == sub_4B6AC0 || v3 == sub_4B6AA0 )
      {
        *((_WORD *)v1 + 52) = 35;
        *((_BYTE *)v1 + 296) = 2;
      }
      else
      {
        sub_45AB80((int)v1, 0);
      }
      v1[79] = *(_DWORD *)&byte_5D4594[2598000];
      v1[85] = *(_DWORD *)&byte_5D4594[2598000];
      ++*(_DWORD *)&byte_5D4594[1046588];
      v1[120] = 0;
      v1[121] = 0;
      result = v1;
    }
  }
  return result;
}

//----- (0045A330) --------------------------------------------------------
void *sub_45A330()
{
  if ( !*(_DWORD *)&byte_5D4594[1046584] )
    return 0;
  sub_45A4E0(*(int *)&byte_5D4594[1046584]);
  return sub_4142F0(*(_DWORD **)&byte_5D4594[1046592]);
}

//----- (0045A360) --------------------------------------------------------
int __cdecl sub_45A360(int a1, int a2, int a3)
{
  _DWORD *v3; // eax
  int v4; // esi
  int v6; // edx

  v3 = sub_45A240(a1);
  v4 = (int)v3;
  if ( !v3 )
    return 0;
  sub_452E60(v3 + 124);
  if ( *(_DWORD *)(v4 + 464) )
    sub_49BC80((_DWORD *)v4);
  if ( *(_DWORD *)(v4 + 120) & 0x200000 )
    sub_49BAB0((_DWORD *)v4);
  if ( *(_DWORD *)(v4 + 492) )
    sub_459F40(v4);
  *(_DWORD *)(v4 + 12) = a2;
  *(_DWORD *)(v4 + 32) = a2;
  *(_DWORD *)(v4 + 16) = a3;
  *(_DWORD *)(v4 + 36) = a3;
  *(_DWORD *)(v4 + 320) = *(_DWORD *)&byte_5D4594[2598000];
  *(_DWORD *)(v4 + 368) = *(_DWORD *)&byte_5D4594[1046572];
  *(_DWORD *)(v4 + 372) = 0;
  if ( *(_DWORD *)&byte_5D4594[1046572] )
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1046572] + 372) = v4;
  *(_DWORD *)&byte_5D4594[1046572] = v4;
  sub_49AA00((_DWORD *)v4);
  if ( *(_DWORD *)(v4 + 120) & 0x10000 )
  {
    v6 = *(_DWORD *)&byte_5D4594[1046568];
    *(_DWORD *)(v4 + 364) = 0;
    *(_DWORD *)(v4 + 360) = v6;
    if ( *(_DWORD *)&byte_5D4594[1046568] )
      *(_DWORD *)(*(_DWORD *)&byte_5D4594[1046568] + 364) = v4;
    *(_DWORD *)&byte_5D4594[1046568] = v4;
  }
  if ( *(_BYTE *)(v4 + 112) & 4 )
    sub_459ED0(v4);
  *(_DWORD *)(v4 + 120) |= 0x1000000u;
  sub_45A990(v4);
  *(_DWORD *)(v4 + 480) = 0;
  *(_DWORD *)(v4 + 484) = 0;
  sub_45A480(v4);
  return v4;
}

//----- (0045A480) --------------------------------------------------------
void __cdecl sub_45A480(int a1)
{
  int v1; // ecx

  if ( *(_DWORD *)(a1 + 112) & 0x1000000 && *(_BYTE *)(a1 + 116) & 0xC0 )
  {
    v1 = *(_DWORD *)(a1 + 120);
    if ( v1 & 0x4000 )
      sub_495F70(a1);
  }
}

//----- (0045A4B0) --------------------------------------------------------
int __cdecl sub_45A4B0(_QWORD *a1)
{
  sub_495B00((int)a1);
  sub_414330(*(unsigned int **)&byte_5D4594[1046592], a1);
  return --*(_DWORD *)&byte_5D4594[1046588];
}

//----- (0045A4E0) --------------------------------------------------------
int __cdecl sub_45A4E0(int a1)
{
  int v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax

  v1 = *(_DWORD *)(a1 + 372);
  if ( v1 )
    *(_DWORD *)(v1 + 368) = *(_DWORD *)(a1 + 368);
  else
    *(_DWORD *)&byte_5D4594[1046572] = *(_DWORD *)(a1 + 368);
  v2 = *(_DWORD *)(a1 + 368);
  if ( v2 )
    *(_DWORD *)(v2 + 372) = *(_DWORD *)(a1 + 372);
  sub_49A9B0(a1);
  sub_476F10(a1);
  if ( *(_DWORD *)(a1 + 120) & 0x10000 )
  {
    v3 = *(_DWORD *)(a1 + 364);
    if ( v3 )
      *(_DWORD *)(v3 + 360) = *(_DWORD *)(a1 + 360);
    else
      *(_DWORD *)&byte_5D4594[1046568] = *(_DWORD *)(a1 + 360);
    v4 = *(_DWORD *)(a1 + 360);
    if ( v4 )
      *(_DWORD *)(v4 + 364) = *(_DWORD *)(a1 + 364);
  }
  sub_45A160((_DWORD *)a1);
  sub_49BCD0((_DWORD *)a1);
  sub_49BAF0((_DWORD *)a1);
  sub_49BA10((_DWORD *)a1);
  sub_459E30(a1, 3);
  sub_459F70((_DWORD *)a1);
  if ( *(_BYTE *)(a1 + 112) & 4 )
    sub_459F00(a1);
  if ( sub_419130(a1 + 24) )
    sub_419570(a1 + 24, *(_DWORD *)(a1 + 128));
  return sub_45A4B0((_QWORD *)a1);
}

//----- (0045A5E0) --------------------------------------------------------
void __cdecl sub_45A5E0(int a1)
{
  int v1; // esi
  int v2; // edi

  v1 = *(_DWORD *)&byte_5D4594[1046572];
  if ( *(_DWORD *)&byte_5D4594[1046572] )
  {
    do
    {
      v2 = *(_DWORD *)(v1 + 368);
      if ( !(*(_BYTE *)(v1 + 112) & 4) || !a1 || !sub_45A630(v1) )
        sub_45A4E0(v1);
      v1 = v2;
    }
    while ( v2 );
  }
}

//----- (0045A630) --------------------------------------------------------
int __cdecl sub_45A630(int a1)
{
  char *v1; // eax

  v1 = sub_416EA0();
  if ( !v1 )
    return 0;
  while ( *(_DWORD *)(a1 + 128) != *((_DWORD *)v1 + 515) )
  {
    v1 = sub_416EE0((int)v1);
    if ( !v1 )
      return 0;
  }
  return 1;
}

//----- (0045A670) --------------------------------------------------------
int __cdecl sub_45A670(unsigned int a1)
{
  int result; // eax
  _DWORD *v2; // esi
  _DWORD *v3; // edi

  result = *(_DWORD *)&byte_5D4594[1046604];
  if ( !*(_DWORD *)&byte_5D4594[1046604] )
  {
    result = sub_44CFC0((CHAR *)&byte_587000[132084]);
    *(_DWORD *)&byte_5D4594[1046604] = result;
  }
  v2 = *(_DWORD **)&byte_5D4594[1046572];
  if ( *(_DWORD *)&byte_5D4594[1046572] )
  {
    do
    {
      result = v2[28];
      v3 = (_DWORD *)v2[92];
      if ( !(result & 0x20400006) )
      {
        result = sub_49C520((int)v2);
        if ( !result )
        {
          result = v2[27];
          if ( result != *(_DWORD *)&byte_5D4594[1046604] && v2[80] < a1 )
            result = sub_45A4E0((int)v2);
        }
      }
      v2 = v3;
    }
    while ( v3 );
  }
  return result;
}

//----- (0045A6F0) --------------------------------------------------------
_DWORD *__cdecl sub_45A6F0(int a1)
{
  _DWORD *result; // eax

  result = *(_DWORD **)&byte_5D4594[1046572];
  if ( !*(_DWORD *)&byte_5D4594[1046572] )
    return 0;
  while ( result[28] & 0x20400000 || result[32] != a1 )
  {
    result = (_DWORD *)result[92];
    if ( !result )
      return 0;
  }
  return result;
}

//----- (0045A720) --------------------------------------------------------
_DWORD *__cdecl sub_45A720(int a1)
{
  _DWORD *result; // eax

  result = *(_DWORD **)&byte_5D4594[1046572];
  if ( !*(_DWORD *)&byte_5D4594[1046572] )
    return 0;
  while ( !(result[28] & 0x20400000) || result[32] != a1 )
  {
    result = (_DWORD *)result[92];
    if ( !result )
      return 0;
  }
  return result;
}

//----- (0045A750) --------------------------------------------------------
int sub_45A750()
{
  int result; // eax
  _DWORD *v1; // edi
  int v2; // ecx
  int v3; // edx
  int v4; // ebp
  int v5; // edx
  int v6; // esi
  int v7; // ecx
  int v8; // ebx
  int v9; // eax
  int v10; // [esp+4h] [ebp-4h]

  result = *(_DWORD *)&byte_5D4594[2614252];
  v1 = *(_DWORD **)&byte_5D4594[1046572];
  v10 = *(_DWORD *)&byte_5D4594[2614252];
  if ( *(_DWORD *)&byte_5D4594[1046572] )
  {
    do
    {
      if ( v1[28] & 0x300000 )
      {
        v2 = v1[8];
        if ( v2 )
        {
          v4 = v1[3];
          v5 = v1[4];
          v6 = (v1[3] - v2) >> 1;
          v7 = v6;
          if ( v6 < 0 )
            v7 = -v6;
          if ( v7 > 1 )
            v4 = v1[3] + v6;
          v8 = (v1[4] - v1[9]) >> 1;
          v9 = v8;
          if ( v8 < 0 )
            v9 = -v8;
          if ( v9 > 1 )
            v5 = v1[4] + v8;
          result = v6;
          if ( v6 < 0 )
            result = -v6;
          if ( result <= 10 )
          {
            result = (v1[4] - v1[9]) >> 1;
            if ( v8 < 0 )
              result = -v8;
            if ( result <= 10 )
            {
              v1[72] = *(_DWORD *)&byte_5D4594[2598000];
              sub_49AA90(v1, v4, v5);
              result = v10;
              if ( v1 == (_DWORD *)v10 )
              {
                if ( v6 < 0 )
                  v6 = -v6;
                if ( v6 > 1 )
                  goto LABEL_30;
                if ( v8 < 0 )
                  v8 = -v8;
                if ( v8 > 1 )
LABEL_30:
                  result = sub_435600(v1[3], v1[4]);
              }
            }
          }
        }
        else
        {
          v3 = v1[4];
          v1[8] = v1[3];
          v1[9] = v3;
        }
      }
      v1 = (_DWORD *)v1[92];
    }
    while ( v1 );
  }
  return result;
}

//----- (0045A840) --------------------------------------------------------
int __cdecl sub_45A840(_DWORD *a1)
{
  int result; // eax
  int v2; // eax
  int v3; // eax

  if ( sub_4356C0((int)a1, 23) )
  {
    sub_484BE0(a1 + 34, 128, 128, 255);
    sub_484D70((int)(a1 + 34), 300.0);
    result = 1;
  }
  else if ( sub_4356C0((int)a1, 15) || a1 == *(_DWORD **)&byte_5D4594[2614252] && sub_467430() & 8 )
  {
    sub_484BE0(a1 + 34, 255, 255, 255);
    sub_484D70((int)(a1 + 34), 200.0);
    result = 1;
  }
  else
  {
    v2 = a1[28];
    if ( !(v2 & 2) || v2 & 0x80000 )
    {
      result = 0;
    }
    else if ( a1[69] == 10 )
    {
      sub_484D70((int)(a1 + 34), 0.0);
      result = 1;
    }
    else
    {
      sub_484BE0(a1 + 34, 255, 255, 255);
      v3 = a1[29];
      if ( v3 & 1 )
      {
        sub_484D70((int)(a1 + 34), 25.0);
        result = 1;
      }
      else if ( v3 & 2 )
      {
        sub_484D70((int)(a1 + 34), 35.0);
        result = 1;
      }
      else
      {
        if ( v3 & 4 )
          sub_484D70((int)(a1 + 34), 45.0);
        result = 1;
      }
    }
  }
  return result;
}

//----- (0045A990) --------------------------------------------------------
int __cdecl sub_45A990(int a1)
{
  int result; // eax

  result = a1;
  *(_DWORD *)(a1 + 120) |= 4u;
  return result;
}

//----- (0045A9A0) --------------------------------------------------------
int __cdecl sub_45A9A0(int a1)
{
  int result; // eax

  result = a1;
  *(_DWORD *)(a1 + 120) &= 0xFFFFFFFB;
  return result;
}

//----- (0045A9B0) --------------------------------------------------------
int *__cdecl sub_45A9B0(int a1, int a2)
{
  int v2; // esi
  int v3; // ebp
  char *v4; // eax
  char *v5; // edi
  int *result; // eax
  int v7; // edi
  int v8; // ebx
  int v9; // eax
  int v10; // esi
  __int64 v11; // rax
  int v12; // eax
  int *v13; // esi
  int *v14; // edi
  int *v15; // edi
  int v16; // [esp+Ch] [ebp-Ch]
  char *v17; // [esp+10h] [ebp-8h]
  int *v18; // [esp+14h] [ebp-4h]

  v2 = a1;
  v3 = 0;
  v16 = 0;
  v4 = sub_452270(*(_DWORD *)(a1 + 492));
  v5 = v4;
  v17 = v4;
  result = (int *)sub_437250();
  v18 = result;
  if ( v5 && result )
  {
    if ( *(_DWORD *)(a1 + 120) & 0x1000000 && !(*(_BYTE *)(a1 + 280) & 0xC) )
    {
      v7 = *(_DWORD *)(a2 + 12) - *(_DWORD *)(a1 + 12);
      v8 = *(_DWORD *)(a2 + 16) - *(_DWORD *)(a1 + 16);
      v9 = sub_4522A0((int)v17);
      v10 = v9;
      if ( v7 < v9 && v8 < v9 && v9 > 0 )
      {
        v11 = (__int64)sqrt((double)(v8 * v8 + v7 * v7 + 1));
        if ( (int)v11 < v10 )
        {
          v12 = 100 * (v10 - (int)v11) / v10;
          v3 = v12;
          if ( v12 <= 100 )
          {
            if ( v12 < 0 )
              v3 = 0;
          }
          else
          {
            v3 = 100;
          }
          v16 = 50 * (*(int *)(a1 + 12) - v18[6] - *v18) / (*(int *)&byte_5D4594[3805496] / 2);
        }
      }
      v2 = a1;
    }
    v13 = (int *)(v2 + 496);
    result = (int *)sub_452EB0(v13);
    v14 = result;
    if ( v3 )
    {
      if ( result )
      {
        sub_452FE0((int)result, v16);
        result = (int *)sub_452F50((int)v14, v3);
      }
      else
      {
        result = sub_452300(v17);
        v15 = result;
        if ( result )
        {
          sub_452EE0((int)result, v3);
          sub_452F80((int)v15, v16);
          result = (int *)sub_452E90(v13, (int)v15);
        }
      }
    }
    else if ( result )
    {
      result = (int *)sub_4523D0(result);
    }
  }
  return result;
}

//----- (0045AB40) --------------------------------------------------------
int sub_45AB40()
{
  int result; // eax
  int i; // esi

  result = sub_45A090();
  for ( i = result; result; i = result )
  {
    if ( *(_DWORD *)(i + 492) )
      sub_45A9B0(i, *(int *)&byte_5D4594[2614252]);
    result = sub_45A0A0(i);
  }
  return result;
}

//----- (0045AB80) --------------------------------------------------------
int __cdecl sub_45AB80(int a1, int a2)
{
  int result; // eax

  result = a1;
  if ( !(*(_BYTE *)(a1 + 112) & 2) || !(*(_DWORD *)(a1 + 116) & 0x40000) || *(_DWORD *)(a1 + 276) != 8 )
  {
    *(_DWORD *)(a1 + 312) = *(_DWORD *)(a1 + 308);
    *(_DWORD *)(a1 + 308) = a2;
  }
  return result;
}

//----- (0045ABC0) --------------------------------------------------------
int __cdecl sub_45ABC0(const void *a1, const void *a2)
{
  int v2; // edi
  const wchar_t *v3; // esi
  const wchar_t *v4; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-Ch]

  v2 = *(_DWORD *)a2;
  if ( *(_DWORD *)&byte_5D4594[1046868] == 1 )
  {
    v3 = (const wchar_t *)sub_427240(*(_DWORD *)a1);
    v4 = (const wchar_t *)sub_427240(v2);
  }
  else
  {
    v6 = *(_DWORD *)a1;
    if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[1047516] + 2251) )
    {
      v3 = (const wchar_t *)sub_424930(v6);
      v4 = (const wchar_t *)sub_424930(v2);
    }
    else
    {
      v3 = (const wchar_t *)sub_425260(v6);
      v4 = (const wchar_t *)sub_425260(v2);
    }
  }
  if ( v3 && v4 )
    result = _nox_wcsicmp(v3, v4);
  else
    result = 0;
  return result;
}

//----- (0045AC40) --------------------------------------------------------
int sub_45AC40()
{
  int result; // eax

  *(_DWORD *)&byte_5D4594[1046880] = sub_4344A0(15, 15, 15);
  result = sub_4344A0(115, 100, 100);
  *(_DWORD *)&byte_5D4594[1046884] = result;
  return result;
}

//----- (0045AC70) --------------------------------------------------------
unsigned int sub_45AC70()
{
  unsigned int result; // eax

  if ( sub_46ACC0(*(int *)&byte_5D4594[1046860]) )
    result = sub_45AD70(0);
  else
    result = sub_45ACA0(0);
  return result;
}

//----- (0045ACA0) --------------------------------------------------------
int __cdecl sub_45ACA0(int a1)
{
  int v1; // eax
  int v2; // ecx

  if ( sub_46ACC0(*(int *)&byte_5D4594[1046860]) || *(_DWORD *)&byte_5D4594[1047520] == 1 )
    return 0;
  *(_DWORD *)&byte_5D4594[1046864] = 0;
  *(_DWORD *)&byte_5D4594[3799524] = 1;
  *(_DWORD *)&byte_5D4594[1046868] = *(_DWORD *)&byte_5D4594[1046872] != 0;
  v1 = sub_46AE00();
  v2 = *(_DWORD *)&byte_5D4594[1046860];
  if ( v1 == *(_DWORD *)&byte_5D4594[1046860] )
  {
    sub_46ADE0(*(int *)&byte_5D4594[1046860]);
    v2 = *(_DWORD *)&byte_5D4594[1046860];
  }
  sub_46AC00(v2, 1);
  sub_452D80(787, 100);
  if ( a1 )
  {
    *(_DWORD *)&byte_587000[132132] = 1;
    *(_DWORD *)&byte_5D4594[1046936] = 0;
    sub_46AC00(*(int *)&byte_5D4594[1046952], 1);
  }
  if ( sub_477670() == 1 )
    sub_477660();
  return 1;
}

//----- (0045AD70) --------------------------------------------------------
unsigned int __cdecl sub_45AD70(int a1)
{
  unsigned int result; // eax
  wchar_t *v2; // eax

  result = sub_477600();
  if ( !result )
  {
    if ( !sub_4372B0() || (result = sub_40A5C0(2048)) == 0 )
    {
      if ( !*(_DWORD *)&byte_5D4594[2618908]
        || sub_45ADF0(*(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[2618908] + 2251)) )
      {
        result = sub_45B010(a1);
      }
      else
      {
        v2 = sub_40F1D0((char *)&byte_587000[132176], 0, (const char *)&byte_587000[132140], 377);
        sub_445490(v2);
        result = (unsigned int)sub_452D80(925, 100);
      }
    }
  }
  return result;
}

//----- (0045ADF0) --------------------------------------------------------
int __cdecl sub_45ADF0(int a1)
{
  int v1; // edi
  int i; // esi
  int v3; // eax
  int k; // esi
  int v5; // eax
  int j; // esi
  int v7; // eax
  int v9; // [esp+Ch] [ebp-4h]

  v1 = 0;
  *(_DWORD *)&byte_5D4594[1046656] = sub_43F320(0) + 2;
  *(_DWORD *)&byte_5D4594[1047508] = 0;
  *(_DWORD *)&byte_5D4594[1047512] = 0;
  v9 = 2 * (141 / *(_DWORD *)&byte_5D4594[1046656]) - 2;
  if ( *(_DWORD *)&byte_5D4594[1046868] == 1 )
  {
    for ( i = sub_427300(); i; i = sub_427320(i) )
    {
      if ( sub_40A5C0(0x2000) && !sub_40A5C0(4096) || *(_DWORD *)(*(_DWORD *)&byte_5D4594[1047516] + 4 * i + 4244) )
      {
        if ( sub_4D70C0(i) )
        {
          v3 = *(_DWORD *)&byte_5D4594[1047508];
          v1 = 1;
          *(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1047508] + 1046960] = i;
          *(_DWORD *)&byte_5D4594[1047508] = v3 + 1;
        }
      }
    }
  }
  else if ( a1 )
  {
    for ( j = sub_424AD0(); j; j = sub_424AF0(j) )
    {
      if ( j != 34
        && !sub_57AEA0(a1, j)
        && (sub_40A5C0(0x2000) && !sub_40A5C0(4096) || *(_DWORD *)(*(_DWORD *)&byte_5D4594[1047516] + 4 * j + 3696)) )
      {
        if ( sub_424A50(j, 86016) )
          ++*(_DWORD *)&byte_5D4594[1047512];
        if ( !sub_424A50(j, 0x2000) )
        {
          v7 = *(_DWORD *)&byte_5D4594[1047508];
          v1 = 1;
          *(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1047508] + 1046960] = j;
          *(_DWORD *)&byte_5D4594[1047508] = v7 + 1;
        }
      }
    }
  }
  else
  {
    for ( k = sub_425330(); k; k = sub_425350(k) )
    {
      if ( sub_40A5C0(0x2000) && !sub_40A5C0(4096) || *(_DWORD *)(*(_DWORD *)&byte_5D4594[1047516] + 4 * k + 3696) )
      {
        v5 = *(_DWORD *)&byte_5D4594[1047508];
        v1 = 1;
        *(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1047508] + 1046960] = k;
        *(_DWORD *)&byte_5D4594[1047508] = v5 + 1;
      }
    }
  }
  *(_DWORD *)&byte_5D4594[1046940] = (*(_DWORD *)&byte_5D4594[1047508] - *(_DWORD *)&byte_5D4594[1047512]) / v9 + 1;
  qsort(&byte_5D4594[1046960], *(_DWORD *)&byte_5D4594[1047508] - *(_DWORD *)&byte_5D4594[1047512], 4u, sub_45ABC0);
  return v1;
}

//----- (0045B010) --------------------------------------------------------
unsigned int __cdecl sub_45B010(int a1)
{
  unsigned int result; // eax

  result = sub_446360();
  if ( !result )
  {
    result = sub_4AE3D0();
    if ( !result )
    {
      if ( a1 || (result = sub_57AF20()) == 0 )
      {
        *(_DWORD *)&byte_5D4594[1046864] = 1;
        *(_DWORD *)&byte_5D4594[1046868] = *(_DWORD *)&byte_5D4594[1046872] != 0;
        sub_46A8C0(*(int *)&byte_5D4594[1046860]);
        result = (unsigned int)sub_452D80(786, 100);
      }
    }
  }
  return result;
}

//----- (0045B070) --------------------------------------------------------
int __cdecl sub_45B070(int a1, int a2)
{
  if ( *(_DWORD *)&byte_5D4594[1047520] == 1 )
    return 1;
  if ( a2 == 10 )
  {
    sub_45AC70();
    return 1;
  }
  if ( *(_DWORD *)&byte_5D4594[2614252]
    && !sub_478030()
    && !sub_47A260()
    && (*(_BYTE *)(*(_DWORD *)&byte_5D4594[2614252] + 120) & 2) == 2 )
  {
    return 1;
  }
  if ( a2 != 5 )
    return 0;
  sub_46AC00(*(int *)&byte_5D4594[1046944], 0);
  if ( *(_DWORD *)&byte_587000[132132] )
  {
    if ( *(_DWORD *)&byte_5D4594[1046936] + 1 < *(int *)&byte_5D4594[1046940] )
    {
      ++*(_DWORD *)&byte_5D4594[1046936];
    }
    else
    {
      *(_DWORD *)&byte_5D4594[1046932] = 0;
      *(_DWORD *)&byte_587000[132132] = 0;
      sub_46AC00(*(int *)&byte_5D4594[1046952], 0);
    }
    if ( *(_DWORD *)&byte_5D4594[1046872] )
      **(_DWORD **)(*(_DWORD *)&byte_5D4594[1046924] + 96) = sub_45B200;
    else
      **(_DWORD **)(*(_DWORD *)&byte_5D4594[1046924] + 96) = sub_45B1F0;
    *(_DWORD *)&byte_5D4594[1046868] = 2;
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1046924] + 96) + 12) = sub_430B40();
LABEL_23:
    sub_452D80(788, 100);
    return 1;
  }
  if ( *(_DWORD *)&byte_5D4594[1046932] < *(int *)&byte_5D4594[1047508] - *(_DWORD *)&byte_5D4594[1047512] - 1 )
  {
    ++*(_DWORD *)&byte_5D4594[1046932];
    if ( *(_DWORD *)&byte_5D4594[1046872] )
      **(_DWORD **)(*(_DWORD *)&byte_5D4594[1046924] + 96) = sub_45B200;
    else
      **(_DWORD **)(*(_DWORD *)&byte_5D4594[1046924] + 96) = sub_45B1F0;
    *(_DWORD *)&byte_5D4594[1046868] = 2;
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1046924] + 96) + 12) = sub_430B40();
    goto LABEL_23;
  }
  return 1;
}

//----- (0045B1F0) --------------------------------------------------------
int sub_45B1F0()
{
  int result; // eax

  result = 0;
  *(_DWORD *)&byte_5D4594[1046868] = 0;
  *(_DWORD *)&byte_5D4594[1046872] = 0;
  return result;
}

//----- (0045B200) --------------------------------------------------------
int sub_45B200()
{
  int result; // eax

  result = 1;
  *(_DWORD *)&byte_5D4594[1046868] = 1;
  *(_DWORD *)&byte_5D4594[1046872] = 1;
  return result;
}

//----- (0045B210) --------------------------------------------------------
int __cdecl sub_45B210(int a1, int a2)
{
  if ( *(_DWORD *)&byte_5D4594[1047520] == 1 )
    return 1;
  if ( a2 == 10 )
  {
    sub_45AC70();
    return 1;
  }
  if ( *(_DWORD *)&byte_5D4594[2614252]
    && !sub_478030()
    && !sub_47A260()
    && (*(_BYTE *)(*(_DWORD *)&byte_5D4594[2614252] + 120) & 2) == 2 )
  {
    return 1;
  }
  if ( a2 != 5 )
    return 0;
  sub_46AC00(*(int *)&byte_5D4594[1046948], 0);
  if ( !*(_DWORD *)&byte_587000[132132] )
  {
    if ( *(int *)&byte_5D4594[1046932] < *(int *)&byte_5D4594[1047508] - *(int *)&byte_5D4594[1047512] )
    {
      if ( *(int *)&byte_5D4594[1046932] <= 0 )
      {
        *(_DWORD *)&byte_587000[132132] = 1;
        *(_DWORD *)&byte_5D4594[1046936] = *(_DWORD *)&byte_5D4594[1046940] - 1;
        sub_46AC00(*(int *)&byte_5D4594[1046952], 1);
      }
      else
      {
        --*(_DWORD *)&byte_5D4594[1046932];
      }
    }
    else
    {
      *(_DWORD *)&byte_587000[132132] = 1;
      *(_DWORD *)&byte_5D4594[1046936] = 0;
      sub_46AC00(*(int *)&byte_5D4594[1046952], 1);
    }
LABEL_18:
    if ( *(_DWORD *)&byte_5D4594[1046872] )
      **(_DWORD **)(*(_DWORD *)&byte_5D4594[1046928] + 96) = sub_45B200;
    else
      **(_DWORD **)(*(_DWORD *)&byte_5D4594[1046928] + 96) = sub_45B1F0;
    *(_DWORD *)&byte_5D4594[1046868] = 3;
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1046928] + 96) + 12) = sub_430B40();
    sub_452D80(788, 100);
    return 1;
  }
  if ( *(_DWORD *)&byte_5D4594[1046936] )
  {
    --*(_DWORD *)&byte_5D4594[1046936];
    goto LABEL_18;
  }
  return 1;
}

//----- (0045B360) --------------------------------------------------------
int __cdecl sub_45B360(_DWORD *a1, unsigned int a2)
{
  int v2; // esi

  v2 = 0;
  if ( *(_DWORD *)&byte_5D4594[1047520] == 1
    || *(_DWORD *)&byte_5D4594[2614252]
    && !sub_478030()
    && !sub_47A260()
    && (*(_BYTE *)(*(_DWORD *)&byte_5D4594[2614252] + 120) & 2) == 2 )
  {
    return 1;
  }
  if ( a2 != 5 )
  {
    if ( a2 <= 5 || a2 > 7 )
      return 0;
    return 1;
  }
  if ( *a1 == 1310 )
  {
    if ( *(_DWORD *)&byte_5D4594[1046872] )
    {
      *(_DWORD *)&byte_5D4594[1046868] = 0;
      *(_DWORD *)&byte_5D4594[1046872] = 0;
      if ( !sub_45ADF0(*(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1047516] + 2251)) )
      {
        *(_DWORD *)&byte_5D4594[1046868] = 1;
        *(_DWORD *)&byte_5D4594[1046872] = 1;
        sub_45ADF0(*(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1047516] + 2251));
        sub_452D80(925, 100);
        return 1;
      }
      v2 = 1;
    }
    if ( !*(_DWORD *)&byte_587000[132132] || *(_DWORD *)&byte_5D4594[1046936] || v2 == 1 )
    {
      *(_DWORD *)&byte_587000[132132] = 1;
      *(_DWORD *)&byte_5D4594[1046936] = 0;
      sub_452D80(788, 100);
      *(_DWORD *)&byte_5D4594[1046868] = 3;
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1046928] + 96) + 12) = sub_430B40();
      **(_DWORD **)(*(_DWORD *)&byte_5D4594[1046928] + 96) = sub_45B1F0;
      sub_46AC00(*(int *)&byte_5D4594[1046952], 1);
      sub_46AC00(*(int *)&byte_5D4594[1046948], 0);
      sub_46ADE0(*(int *)&byte_5D4594[1046860]);
      sub_477660();
    }
    return 1;
  }
  if ( *a1 != 1320 )
    return 1;
  if ( *(_DWORD *)&byte_5D4594[1046872] != 1 )
  {
    *(_DWORD *)&byte_5D4594[1046868] = 1;
    *(_DWORD *)&byte_5D4594[1046872] = 1;
    if ( !sub_45ADF0(*(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1047516] + 2251)) )
    {
      *(_DWORD *)&byte_5D4594[1046868] = 0;
      *(_DWORD *)&byte_5D4594[1046872] = 0;
      sub_45ADF0(*(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1047516] + 2251));
      sub_452D80(925, 100);
      return 1;
    }
    v2 = 1;
  }
  if ( *(_DWORD *)&byte_587000[132132] && !*(_DWORD *)&byte_5D4594[1046936] && v2 != 1 )
    return 1;
  *(_DWORD *)&byte_587000[132132] = 1;
  *(_DWORD *)&byte_5D4594[1046936] = 0;
  sub_452D80(788, 100);
  if ( v2 == 1 )
  {
    *(_DWORD *)&byte_5D4594[1046868] = 2;
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1046924] + 96) + 12) = sub_430B40();
    **(_DWORD **)(*(_DWORD *)&byte_5D4594[1046924] + 96) = sub_45B200;
  }
  else
  {
    *(_DWORD *)&byte_5D4594[1046868] = 3;
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1046928] + 96) + 12) = sub_430B40();
    **(_DWORD **)(*(_DWORD *)&byte_5D4594[1046928] + 96) = sub_45B200;
  }
  sub_46AC00(*(int *)&byte_5D4594[1046952], 1);
  sub_46AC00(*(int *)&byte_5D4594[1046948], 0);
  sub_46ADE0(*(int *)&byte_5D4594[1046860]);
  sub_477660();
  return 1;
}

//----- (0045B5F0) --------------------------------------------------------
int __cdecl sub_45B5F0(int a1, unsigned int a2, unsigned int a3)
{
  int v3; // ebp
  int v4; // edi
  int v5; // esi
  int result; // eax
  bool v7; // sf
  signed int v8; // ebp
  int v9; // eax
  int v10; // ecx
  char v11; // al
  int v12; // eax
  int v13; // eax
  int v14; // [esp+10h] [ebp-4h]

  v3 = a3 >> 16;
  v4 = (unsigned __int16)a3;
  if ( *(_DWORD *)&byte_5D4594[1047520] == 1
    || *(_DWORD *)&byte_5D4594[2614252]
    && !sub_478030()
    && !sub_47A260()
    && (*(_BYTE *)(*(_DWORD *)&byte_5D4594[2614252] + 120) & 2) == 2 )
  {
    return 1;
  }
  if ( !*(_DWORD *)&byte_587000[132132] )
  {
    if ( a2 >= 5 )
    {
      if ( a2 <= 8 )
        return 1;
      if ( a2 == 11 )
      {
LABEL_47:
        sub_45AC70();
        return 1;
      }
    }
    return 0;
  }
  *(_DWORD *)&byte_5D4594[1046656] = sub_43F320(0) + 2;
  v5 = 141 / *(_DWORD *)&byte_5D4594[1046656] - 1;
  sub_46AA20(a1, &v14, &a3);
  switch ( a2 )
  {
    case 5u:
      if ( *(_DWORD *)&byte_5D4594[2614252] && (*(_BYTE *)(*(_DWORD *)&byte_5D4594[2614252] + 120) & 2) == 2 )
        return 1;
      *(_DWORD *)&byte_5D4594[1047536] = v3;
      v7 = (int)(-19 - a3 + v3) < 0;
      v8 = -19 - a3 + v3;
      *(_DWORD *)&byte_5D4594[1047532] = v4;
      if ( v7 )
      {
        *(_DWORD *)&byte_587000[132136] = -1;
        return 1;
      }
      v9 = v8 / *(int *)&byte_5D4594[1046656];
      if ( v8 / *(int *)&byte_5D4594[1046656] >= v5 )
        goto LABEL_14;
      if ( v4 - v14 > 145 )
        v9 += v5;
      *(_DWORD *)&byte_587000[132136] = 2 * v5 * *(_DWORD *)&byte_5D4594[1046936] + v9;
      sub_46ADC0(a1);
      v10 = *(_DWORD *)&byte_587000[132136];
      if ( *(_DWORD *)&byte_587000[132136] >= *(int *)&byte_5D4594[1047508] - *(_DWORD *)&byte_5D4594[1047512] )
        goto LABEL_14;
      v11 = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1047516] + 2251);
      if ( !v11 && !*(_DWORD *)&byte_5D4594[1046868] )
      {
        *(_DWORD *)&byte_5D4594[1047528] = *(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_587000[132136] + 1046960];
        sub_477640(*(int *)&byte_5D4594[1047528], 1);
        sub_452D80(793, 100);
        return 1;
      }
      if ( v11 != 2 || *(_DWORD *)&byte_5D4594[1046868] != 1 )
      {
        if ( *(_DWORD *)&byte_5D4594[1046868] )
          return 1;
        *(_DWORD *)&byte_5D4594[1047528] = *(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_587000[132136] + 1046960];
        sub_477640(*(int *)&byte_5D4594[1047528], 1);
        sub_452D80(793, 100);
        result = 1;
      }
      else
      {
        if ( !*(_DWORD *)(*(_DWORD *)&byte_5D4594[1047516] + 4232) )
        {
          if ( !sub_40A5C0(0x2000) || sub_40A5C0(4096) )
          {
            sub_46ADE0(a1);
            sub_45B930(*(int *)&byte_587000[132136]);
            *(_DWORD *)&byte_5D4594[1047528] = 0;
LABEL_14:
            *(_DWORD *)&byte_587000[132136] = -1;
            return 1;
          }
          v10 = *(_DWORD *)&byte_587000[132136];
        }
        *(_DWORD *)&byte_5D4594[1047528] = *(_DWORD *)&byte_5D4594[4 * v10 + 1046960] + 74;
        sub_477640(*(int *)&byte_5D4594[1047528], 1);
        sub_452D80(793, 100);
        result = 1;
      }
      break;
    case 6u:
    case 7u:
      if ( (int)*(_DWORD *)&byte_587000[132136] >= 0 )
      {
        v12 = *(_DWORD *)&byte_5D4594[1047532] - v4;
        if ( *(int *)&byte_5D4594[1047532] - v4 < 0 )
          v12 = v4 - *(_DWORD *)&byte_5D4594[1047532];
        if ( v12 >= 5 )
          goto LABEL_52;
        v13 = *(_DWORD *)&byte_5D4594[1047536] - v3;
        if ( *(int *)&byte_5D4594[1047536] - v3 < 0 )
          v13 = v3 - *(_DWORD *)&byte_5D4594[1047536];
        if ( v13 >= 5 )
LABEL_52:
          sub_45DCA0(*(int *)&byte_5D4594[1047528], 0, v4, v3, 0);
        else
          sub_45B930(*(int *)&byte_587000[132136]);
      }
      if ( sub_46AE00() )
        sub_46ADE0(a1);
      sub_477660();
      return 1;
    case 8u:
      return 1;
    case 0xBu:
      goto LABEL_47;
    default:
      return 0;
  }
  return result;
}

//----- (0045B930) --------------------------------------------------------
int __cdecl sub_45B930(int a1)
{
  *(_DWORD *)&byte_587000[132132] = 0;
  *(_DWORD *)&byte_5D4594[1046932] = a1;
  *(_DWORD *)&byte_5D4594[1046936] = 99;
  if ( *(_DWORD *)&byte_5D4594[1046872] )
    **(_DWORD **)(*(_DWORD *)&byte_5D4594[1046924] + 96) = sub_45B200;
  else
    **(_DWORD **)(*(_DWORD *)&byte_5D4594[1046924] + 96) = sub_45B1F0;
  *(_DWORD *)&byte_5D4594[1046868] = 2;
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1046924] + 96) + 12) = sub_430B40();
  sub_452D80(788, 100);
  sub_46AC00(*(int *)&byte_5D4594[1046952], 0);
  sub_46AC00(*(int *)&byte_5D4594[1046944], 0);
  return sub_46AC00(*(int *)&byte_5D4594[1046948], 0);
}

int sub_45BD30()
{
  return 1;
}

//----- (0045B9D0) --------------------------------------------------------
int sub_45B9D0()
{
  int result; // eax
  _DWORD *v1; // esi
  _DWORD *v2; // esi
  char *v3; // eax
  char *v4; // eax

  *(_DWORD *)&byte_5D4594[1047516] = *(_DWORD *)&byte_5D4594[2618908];
  result = sub_42F970((const char *)&byte_587000[132188]);
  *(_DWORD *)&byte_5D4594[1046888] = result;
  if ( result )
  {
    result = sub_42F970((const char *)&byte_587000[132196]);
    *(_DWORD *)&byte_5D4594[1046892] = result;
    if ( result )
    {
      result = sub_42F970((const char *)&byte_587000[132204]);
      *(_DWORD *)&byte_5D4594[1046896] = result;
      if ( result )
      {
        result = sub_42F970((const char *)&byte_587000[132212]);
        *(_DWORD *)&byte_5D4594[1046900] = result;
        if ( result )
        {
          result = sub_42F970((const char *)&byte_587000[132220]);
          *(_DWORD *)&byte_5D4594[1046908] = result;
          if ( result )
          {
            result = sub_42F970((const char *)&byte_587000[132228]);
            *(_DWORD *)&byte_5D4594[1046912] = result;
            if ( result )
            {
              result = sub_42F970((const char *)&byte_587000[132236]);
              *(_DWORD *)&byte_5D4594[1046916] = result;
              if ( result )
              {
                result = sub_42F970((const char *)&byte_587000[132244]);
                *(_DWORD *)&byte_5D4594[1046920] = result;
                if ( result )
                {
                  result = sub_42F970((const char *)&byte_587000[132252]);
                  *(_DWORD *)&byte_5D4594[1046856] = result;
                  if ( result )
                  {
                    result = sub_42F970((const char *)&byte_587000[132268]);
                    *(_DWORD *)&byte_5D4594[1046660] = result;
                    if ( result )
                    {
                      result = sub_42F970((const char *)&byte_587000[132280]);
                      *(_DWORD *)&byte_5D4594[1046644] = result;
                      if ( result )
                      {
                        result = sub_42FA20((const char *)&byte_587000[132292]);
                        *(_DWORD *)&byte_5D4594[1046924] = result;
                        if ( result )
                        {
                          **(_DWORD **)(result + 96) = sub_45B1F0;
                          result = sub_42FA20((const char *)&byte_587000[132308]);
                          *(_DWORD *)&byte_5D4594[1046928] = result;
                          if ( result )
                          {
                            **(_DWORD **)(result + 96) = sub_45B1F0;
                            *(_DWORD *)&byte_5D4594[1046860] = sub_46C3E0(
                                                                 0,
                                                                 1196,
                                                                 5,
                                                                 *(_DWORD *)&byte_5D4594[3807120] - 323,
                                                                 285,
                                                                 168,
                                                                 0);
                            sub_46B430(*(_DWORD **)&byte_5D4594[1046860], sub_45B5F0, sub_45BD40, 0);
                            sub_46AC00(*(int *)&byte_5D4594[1046860], 1);
                            result = sub_46C3E0(*(int *)&byte_5D4594[1046860], 8, 257, 15, 27, 40, 0);
                            v1 = (_DWORD *)result;
                            if ( result )
                            {
                              sub_46B430((_DWORD *)result, sub_45B360, (int)&sub_45BD30, sub_45CF00);
                              *v1 = 1320;
                              result = sub_46C3E0(*(int *)&byte_5D4594[1046860], 8, 253, 61, 27, 40, 0);
                              v2 = (_DWORD *)result;
                              if ( result )
                              {
                                sub_46B430((_DWORD *)result, sub_45B360, (int)&sub_45BD30, sub_45CF00);
                                *v2 = 1310;
                                *(_DWORD *)&byte_5D4594[1046944] = sub_46C3E0(
                                                                     *(int *)&byte_5D4594[1046860],
                                                                     136,
                                                                     24,
                                                                     138,
                                                                     20,
                                                                     20,
                                                                     0);
                                sub_46B430(*(_DWORD **)&byte_5D4594[1046944], sub_45B210, 0, 0);
                                v3 = sub_42F970((const char *)&byte_587000[132328]);
                                sub_46AE60(*(int *)&byte_5D4594[1046944], (int)v3);
                                *(_DWORD *)&byte_5D4594[1046948] = sub_46C3E0(
                                                                     *(int *)&byte_5D4594[1046860],
                                                                     136,
                                                                     233,
                                                                     138,
                                                                     20,
                                                                     20,
                                                                     0);
                                sub_46B430(*(_DWORD **)&byte_5D4594[1046948], sub_45B070, 0, 0);
                                v4 = sub_42F970((const char *)&byte_587000[132336]);
                                sub_46AE60(*(int *)&byte_5D4594[1046948], (int)v4);
                                *(_DWORD *)&byte_5D4594[1046952] = sub_46C3E0(
                                                                     *(int *)&byte_5D4594[1046860],
                                                                     8,
                                                                     63,
                                                                     19,
                                                                     30,
                                                                     30,
                                                                     0);
                                sub_46B430(*(_DWORD **)&byte_5D4594[1046952], sub_45CC10, sub_45CB30, 0);
                                sub_46AC00(*(int *)&byte_5D4594[1046952], 1);
                                *(_DWORD *)&byte_5D4594[1046956] = sub_46C3E0(0, 40, 0, 0, 30, 30, 0);
                                sub_46B430(*(_DWORD **)&byte_5D4594[1046956], 0, sub_45C7D0, 0);
                                sub_46AC00(*(int *)&byte_5D4594[1046956], 1);
                                *(_DWORD *)&byte_5D4594[1046868] = 0;
                                *(_DWORD *)&byte_5D4594[1046872] = 0;
                                *(_DWORD *)&byte_587000[132132] = 1;
                                *(_DWORD *)&byte_5D4594[1046936] = 0;
                                result = 1;
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  return result;
}

//----- (0045BD40) --------------------------------------------------------
int __cdecl sub_45BD40(int a1)
{
  int v1; // esi
  int v2; // ebp
  int v3; // edi
  int v4; // esi
  int v5; // ebx
  int v6; // ebp
  int v7; // edi
  int v8; // esi
  char v9; // cl
  unsigned __int16 *v10; // eax
  __int16 *v11; // eax
  unsigned __int16 *v12; // eax
  unsigned __int16 *v13; // eax
  int v14; // esi
  wchar_t *v15; // eax
  int v16; // eax
  int v17; // eax
  int v18; // ebp
  wchar_t *v19; // eax
  int v20; // ebx
  wchar_t *v21; // eax
  wchar_t *v22; // eax
  int v23; // esi
  unsigned __int16 *v24; // eax
  int v25; // eax
  _WORD *v26; // eax
  int v27; // eax
  unsigned __int16 *v28; // eax
  unsigned __int16 *v29; // esi
  int v30; // edi
  int v31; // edx
  int v32; // ecx
  unsigned __int16 *v33; // eax
  int v34; // ecx
  _WORD *v35; // eax
  unsigned __int16 *v36; // eax
  int v37; // eax
  __int16 v38; // bx
  unsigned __int16 *v39; // eax
  int v40; // eax
  int v41; // esi
  _WORD *v42; // eax
  int v43; // esi
  int v44; // ebp
  wchar_t *v45; // eax
  int v46; // esi
  int v47; // esi
  unsigned __int16 *v48; // ebp
  unsigned __int16 *v49; // ebp
  unsigned __int16 *v50; // ebp
  unsigned __int16 *v51; // ebp
  wchar_t *v52; // eax
  unsigned __int16 *v53; // eax
  int v55; // [esp-10h] [ebp-23Ch]
  int v56; // [esp-10h] [ebp-23Ch]
  int v57; // [esp-10h] [ebp-23Ch]
  int v58; // [esp-Ch] [ebp-238h]
  int v59; // [esp-Ch] [ebp-238h]
  int v60; // [esp-8h] [ebp-234h]
  int v61; // [esp-8h] [ebp-234h]
  int v62; // [esp-4h] [ebp-230h]
  int v63; // [esp-4h] [ebp-230h]
  int v64; // [esp-4h] [ebp-230h]
  int v65; // [esp+10h] [ebp-21Ch]
  int v66; // [esp+14h] [ebp-218h]
  int v67; // [esp+18h] [ebp-214h]
  int v68; // [esp+1Ch] [ebp-210h]
  WCHAR WideCharStr[4]; // [esp+20h] [ebp-20Ch]
  int v70; // [esp+28h] [ebp-204h]
  wchar_t v71[256]; // [esp+2Ch] [ebp-200h]

  sub_46AA20(a1, &v66, &v67);
  v1 = v66 - 24;
  v2 = v67 - 76;
  v3 = sub_43F320(0);
  *(_DWORD *)&byte_5D4594[1046656] = v3 + 2;
  sub_434390(*(int *)&byte_5D4594[1046880]);
  sub_47D2C0(*(int *)&byte_5D4594[1046856], v1, v2);
  if ( *(_DWORD *)&byte_5D4594[1046872] )
    sub_47D2C0(*(int *)&byte_5D4594[1046660], v1, v2);
  else
    sub_47D2C0(*(int *)&byte_5D4594[1046644], v1, v2);
  if ( *(_DWORD *)&byte_5D4594[1046868] == 3 )
  {
    sub_4BE6D0(*(int *)&byte_5D4594[1046928], v1, v2);
    goto LABEL_75;
  }
  if ( *(_DWORD *)&byte_5D4594[1046868] == 2 )
  {
    sub_4BE6D0(*(int *)&byte_5D4594[1046924], v1, v2);
    goto LABEL_75;
  }
  if ( *(_DWORD *)&byte_587000[132132] )
  {
    v4 = *(_DWORD *)&byte_5D4594[1046936];
    *(_DWORD *)WideCharStr = 141 / *(_DWORD *)&byte_5D4594[1046656] - 1;
    if ( !*(_DWORD *)&byte_5D4594[1046936] )
    {
      sub_46AC00(*(int *)&byte_5D4594[1046944], 1);
      v4 = *(_DWORD *)&byte_5D4594[1046936];
    }
    v5 = 0;
    v6 = v66 + 78;
    v7 = v67 + 19;
    if ( 2 * *(_DWORD *)WideCharStr > 0 )
    {
      while ( 1 )
      {
        v8 = v5 + 2 * *(_DWORD *)WideCharStr * v4;
        if ( v8 >= *(int *)&byte_5D4594[1047508] - *(_DWORD *)&byte_5D4594[1047512] )
          break;
        if ( v5 == *(_DWORD *)WideCharStr )
        {
          v6 = v66 + 199;
          v7 = v67 + 19;
        }
        sub_434390(*(int *)&byte_5D4594[1046880]);
        v9 = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1047516] + 2251);
        if ( *(_DWORD *)&byte_5D4594[1046868] == 1 )
        {
          if ( v9 == 2 && !sub_424B70(*(_DWORD *)&byte_5D4594[4 * v8 + 1046960] + 74) )
            sub_434390(*(int *)&byte_5D4594[1046884]);
          v10 = (unsigned __int16 *)sub_427240(*(_DWORD *)&byte_5D4594[4 * v8 + 1046960]);
          sub_43F840(0, v10, &v65, 0, 128);
          v62 = v7;
          v60 = v6 - v65 / 2;
          v11 = (__int16 *)sub_427240(*(_DWORD *)&byte_5D4594[4 * v8 + 1046960]);
        }
        else if ( v9 )
        {
          if ( !sub_424B70(*(_DWORD *)&byte_5D4594[4 * v8 + 1046960]) )
            sub_434390(*(int *)&byte_5D4594[1046884]);
          v13 = (unsigned __int16 *)sub_424930(*(_DWORD *)&byte_5D4594[4 * v8 + 1046960]);
          sub_43F840(0, v13, &v65, 0, 128);
          v62 = v7;
          v60 = v6 - v65 / 2;
          v11 = (__int16 *)sub_424930(*(_DWORD *)&byte_5D4594[4 * v8 + 1046960]);
        }
        else
        {
          v12 = (unsigned __int16 *)sub_425260(*(_DWORD *)&byte_5D4594[4 * v8 + 1046960]);
          sub_43F840(0, v12, &v65, 0, 128);
          v62 = v7;
          v60 = v6 - v65 / 2;
          v11 = (__int16 *)sub_425260(*(_DWORD *)&byte_5D4594[4 * v8 + 1046960]);
        }
        sub_43F6E0(0, v11, v60, v62);
        v7 += *(_DWORD *)&byte_5D4594[1046656];
        if ( ++v5 >= 2 * *(_DWORD *)WideCharStr )
          break;
        v4 = *(_DWORD *)&byte_5D4594[1046936];
      }
    }
    goto LABEL_75;
  }
  if ( *(_DWORD *)&byte_5D4594[1046868] == 1 )
  {
    v14 = v67 + 51;
    v15 = sub_40F1D0((char *)&byte_587000[132380], 0, (const char *)&byte_587000[132344], 978);
    nox_swprintf(v71, (const wchar_t *)&byte_587000[132388], v15);
    v16 = sub_427460(*(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1046932] + 1046960]) - 1;
    if ( v16 )
    {
      v17 = v16 - 1;
      if ( v17 )
      {
        if ( v17 == 2 )
        {
          v18 = 76;
          v19 = sub_40F1D0((char *)&byte_587000[132520], 0, (const char *)&byte_587000[132484], 995);
          nox_wcscat(v71, v19);
          v20 = 0;
        }
        else
        {
          v18 = *(_DWORD *)WideCharStr;
          v20 = *(_DWORD *)WideCharStr;
        }
      }
      else
      {
        v18 = 38;
        v21 = sub_40F1D0((char *)&byte_587000[132476], 0, (const char *)&byte_587000[132440], 989);
        nox_wcscat(v71, v21);
        v20 = 0;
      }
    }
    else
    {
      v18 = 38;
      v22 = sub_40F1D0((char *)&byte_587000[132432], 0, (const char *)&byte_587000[132396], 983);
      nox_wcscat(v71, v22);
      v20 = 19;
    }
    if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[1047516] + 2251) == 2
      && (*(_DWORD *)(*(_DWORD *)&byte_5D4594[1047516] + 4232) || sub_40A5C0(0x2000) && !sub_40A5C0(4096)) )
    {
      sub_43F840(0, v71, &v70, 0, 0);
      sub_43FAF0(0, v71, (108 - v70) / 2 + v66 + 24, v14, 128, 0);
    }
    v23 = v14 + v3 + 2;
    v24 = (unsigned __int16 *)sub_427240(*(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1046932] + 1046960]);
    sub_43FA80(0, v24, &v70, &v68, 108);
    if ( v68 <= v3 )
      v25 = (108 - v70) / 2 + v66 + 24;
    else
      v25 = v66 + 24;
    v55 = v25;
    v26 = (_WORD *)sub_427240(*(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1046932] + 1046960]);
    sub_43FD80(0, v26, v55, v23, 128, 0);
    v63 = v23 + v20 + v68 + 2;
    v61 = (108 - v18) / 2 + v66 + 24;
    v27 = sub_427400(*(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1046932] + 1046960]);
    sub_47D2C0(v27, v61, v63);
    v28 = (unsigned __int16 *)sub_4272E0(*(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1046932] + 1046960]);
    v29 = v28;
    v30 = v67 + 52;
    if ( v28 )
    {
      sub_43F840(0, v28, 0, WideCharStr, 92);
      v31 = *(_DWORD *)WideCharStr;
      v32 = v66 + 153;
      goto LABEL_53;
    }
  }
  else
  {
    if ( !*(_BYTE *)(*(_DWORD *)&byte_5D4594[1047516] + 2251) )
    {
      sub_425450(*(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1046932] + 1046960]);
      v33 = (unsigned __int16 *)sub_425260(*(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1046932] + 1046960]);
      sub_43FA80(0, v33, &v70, &v68, 108);
      if ( v68 <= v3 )
        v34 = (108 - v70) / 2 + v66 + 24;
      else
        v34 = v66 + 24;
      v58 = v67 + 53;
      v56 = v34;
      v35 = (_WORD *)sub_425260(*(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1046932] + 1046960]);
      sub_43FD80(0, v35, v56, v58, 128, 0);
      v36 = (unsigned __int16 *)sub_4252F0(*(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1046932] + 1046960]);
      v29 = v36;
      v30 = v67 + 52;
      if ( !v36 )
        goto LABEL_75;
      sub_43F840(0, v36, 0, WideCharStr, 92);
      v31 = *(_DWORD *)WideCharStr;
      v32 = v66 + 153;
LABEL_53:
      v37 = (141 - v31) / 2 + v67 + 17;
      if ( v37 > v30 )
        goto LABEL_73;
      goto LABEL_74;
    }
    v38 = sub_424A70(*(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1046932] + 1046960]);
    v39 = (unsigned __int16 *)sub_424930(*(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1046932] + 1046960]);
    sub_43FA80(0, v39, &v65, &v68, 108);
    if ( v68 <= v3 )
      v40 = (108 - v65) / 2 + v66 + 24;
    else
      v40 = v66 + 24;
    v41 = v67 + 53;
    v59 = v67 + 53;
    v57 = v40;
    v42 = (_WORD *)sub_424930(*(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1046932] + 1046960]);
    sub_43FD80(0, v42, v57, v59, 128, 0);
    v43 = v41 + v68 + 2;
    v44 = sub_4249A0(*(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1046932] + 1046960], 1);
    v45 = sub_40F1D0((char *)&byte_587000[132564], 0, (const char *)&byte_587000[132528], 1115);
    nox_swprintf(v71, (const wchar_t *)&byte_587000[132576], v45);
    if ( v44 )
    {
      _itow(v44, WideCharStr, 10);
      nox_wcscat(v71, WideCharStr);
    }
    else if ( sub_424A50(
                *(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1046932] + 1046960],
                0x800000) )
    {
      nox_wcscat(v71, (const wchar_t *)&byte_587000[132584]);
    }
    else
    {
      nox_wcscat(v71, (const wchar_t *)&byte_587000[132588]);
    }
    sub_43F840(0, v71, &v65, 0, 0);
    v46 = v43 + 2;
    sub_43FAF0(0, v71, (108 - v65) / 2 + v66 + 24, v46, 128, 0);
    v47 = v46 + v3 + 2;
    if ( v38 & 0x100 )
    {
      v48 = sub_40F1D0((char *)&byte_587000[132628], 0, (const char *)&byte_587000[132592], 1173);
      sub_43F840(0, v48, &v65, 0, 0);
      sub_43FAF0(0, v48, (108 - v65) / 2 + v66 + 24, v47, 128, 0);
      v47 += v3;
    }
    if ( v38 & 4 )
    {
      v49 = sub_40F1D0((char *)&byte_587000[132680], 0, (const char *)&byte_587000[132644], 1181);
      sub_43F840(0, v49, &v65, 0, 0);
      sub_43FAF0(0, v49, (108 - v65) / 2 + v66 + 24, v47, 128, 0);
      v47 += v3;
    }
    if ( v38 & 8 )
    {
      v50 = sub_40F1D0((char *)&byte_587000[132732], 0, (const char *)&byte_587000[132696], 1189);
      sub_43F840(0, v50, &v65, 0, 0);
      sub_43FAF0(0, v50, (108 - v65) / 2 + v66 + 24, v47, 128, 0);
      v47 += v3;
    }
    if ( v38 & 0x20 )
    {
      v51 = sub_40F1D0((char *)&byte_587000[132784], 0, (const char *)&byte_587000[132748], 1197);
      sub_43F840(0, v51, &v65, 0, 0);
      sub_43FAF0(0, v51, (108 - v65) / 2 + v66 + 24, v47, 128, 0);
      v47 += v3;
    }
    v64 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1047516]
                    + 4 * *(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1046932] + 1046960]
                    + 3696);
    v52 = sub_40F1D0((char *)&byte_587000[132836], 0, (const char *)&byte_587000[132800], 1206);
    nox_swprintf(v71, v52, v64);
    sub_43F840(0, v71, &v65, 0, 0);
    sub_43FAF0(0, v71, (108 - v65) / 2 + v66 + 24, v3 + v47, 128, 0);
    v53 = (unsigned __int16 *)sub_424A30(*(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1046932] + 1046960]);
    v29 = v53;
    v30 = v67 + 52;
    if ( v53 )
    {
      sub_43F840(0, v53, 0, WideCharStr, 92);
      v32 = v66 + 153;
      v37 = (141 - *(_DWORD *)WideCharStr) / 2 + v67 + 17;
      if ( v37 > v30 )
LABEL_73:
        v37 = v30;
LABEL_74:
      sub_43FAF0(0, v29, v32, v37, 92, 0);
      goto LABEL_75;
    }
  }
LABEL_75:
  if ( !*(_DWORD *)&byte_587000[132132]
    && *(int *)&byte_5D4594[1046932] >= *(int *)&byte_5D4594[1047508] - *(int *)&byte_5D4594[1047512] - 1 )
  {
    sub_46AC00(*(int *)&byte_5D4594[1046948], 1);
  }
  return 1;
}

//----- (0045C7D0) --------------------------------------------------------
int __cdecl sub_45C7D0(_DWORD *a1)
{
  int v1; // esi
  int v3; // edi
  int v4; // eax
  int v5; // eax
  int v6; // edi
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // ecx
  double v11; // st7
  int v12; // eax
  int v13; // [esp-28h] [ebp-34h]
  int v14; // [esp-28h] [ebp-34h]
  int v15; // [esp-24h] [ebp-30h]
  int v16; // [esp-20h] [ebp-2Ch]
  char v17; // [esp-18h] [ebp-24h]
  char v18; // [esp-18h] [ebp-24h]
  char v19; // [esp-14h] [ebp-20h]
  char v20; // [esp-14h] [ebp-20h]
  int v21; // [esp-10h] [ebp-1Ch]
  int v22; // [esp-Ch] [ebp-18h]
  int v23; // [esp-Ch] [ebp-18h]
  int v24; // [esp+4h] [ebp-8h]
  int v25; // [esp+8h] [ebp-4h]

  v1 = *(_DWORD *)&byte_5D4594[1046652] != 0 ? 3 : 0;
  if ( !*(_DWORD *)&byte_5D4594[1047520] )
    return 1;
  if ( *(_DWORD *)&byte_5D4594[1046648]
    && sub_430B40() - *(_DWORD *)&byte_5D4594[1046648] < (unsigned int)(2 * *(_DWORD *)&byte_5D4594[2649704]) )
  {
    return 1;
  }
  sub_46AA60(a1, &v25, &v24);
  if ( *(_DWORD *)&byte_5D4594[1046648] )
  {
    v3 = 50;
    do
    {
      v19 = sub_415FF0(3, 6, (const char *)&byte_587000[132848], 1287);
      v17 = sub_415FF0(2, 5, (const char *)&byte_587000[132884], 1286);
      v16 = sub_415FF0(-10, -1, (const char *)&byte_587000[132920], 1284);
      v15 = sub_415FF0(-10, 10, (const char *)&byte_587000[132956], 1283);
      v4 = sub_415FF0(0, 30, (const char *)&byte_587000[132992], 1282);
      v13 = v24 + v4;
      v5 = sub_415FF0(0, 30, (const char *)&byte_587000[133028], 1281);
      sub_431540(v1, v25 + v5, v13, v15, v16, 1, v17, v19, 2, 1);
      --v3;
    }
    while ( v3 );
    sub_452D80(795, 100);
    *(_DWORD *)&byte_5D4594[1046648] = 0;
  }
  v6 = 2;
  do
  {
    v20 = sub_415FF0(2, 4, (const char *)&byte_587000[133064], 1331);
    v18 = sub_415FF0(1, 2, (const char *)&byte_587000[133100], 1330);
    v7 = sub_415FF0(0, 30, (const char *)&byte_587000[133136], 1326);
    v14 = v24 + v7;
    v8 = sub_415FF0(0, 30, (const char *)&byte_587000[133172], 1325);
    sub_431540(v1, v25 + v8, v14, 0, 0, 0, v18, v20, 1, 1);
    --v6;
  }
  while ( v6 );
  v22 = v24;
  v21 = v25;
  if ( *(_DWORD *)&byte_5D4594[1046652] == 1 )
    v9 = sub_425310(*(int *)&byte_5D4594[1047524], 0);
  else
    v9 = sub_424A90(*(int *)&byte_5D4594[1047524]);
  sub_47D2C0(v9, v21, v22);
  *(float *)&byte_5D4594[1046636] = *(float *)&byte_5D4594[1046636] + *(float *)&byte_5D4594[1046620];
  *(float *)&byte_5D4594[1046640] = *(float *)&byte_5D4594[1046640] + *(float *)&byte_5D4594[1046624];
  if ( (double)*(int *)&byte_5D4594[1046668] <= *(float *)&byte_5D4594[1046636]
    && (double)*(int *)&byte_5D4594[1046672] <= *(float *)&byte_5D4594[1046640] )
  {
LABEL_26:
    sub_45DBE0(*(void **)&byte_5D4594[1046676], *(int *)&byte_5D4594[1047524], *(int *)&byte_5D4594[1046852]);
    sub_45D810();
    goto LABEL_27;
  }
  if ( *(float *)&byte_5D4594[1046636] > (double)*(float *)&byte_5D4594[8 * *(_DWORD *)&byte_5D4594[1046628] + 1046692] )
  {
    v10 = *(_DWORD *)&byte_5D4594[1046628] + 1;
    *(_DWORD *)&byte_5D4594[1046628] = v10;
    if ( v10 < *(int *)&byte_5D4594[1046680] )
    {
      if ( v10 <= *(int *)&byte_5D4594[1046680] - 1 )
      {
        *(float *)&byte_5D4594[1046620] = *(float *)&byte_5D4594[8 * v10 + 1046692]
                                        - *(float *)&byte_5D4594[8 * v10 + 1046684];
        *(float *)&byte_5D4594[1046624] = *(float *)&byte_5D4594[8 * v10 + 1046696]
                                        - *(float *)&byte_5D4594[8 * v10 + 1046688];
        sub_509F20((float2 *)&byte_5D4594[1046620]);
        if ( *(int *)&byte_5D4594[3805496] < 1000 )
        {
          if ( *(int *)&byte_5D4594[3805496] < 750 )
            v11 = 6.0;
          else
            v11 = 8.0;
        }
        else
        {
          v11 = 10.0;
        }
        *(float *)&byte_5D4594[1046620] = *(float *)&byte_5D4594[1046620] * v11;
        *(float *)&byte_5D4594[1046624] = *(float *)&byte_5D4594[1046624] * v11;
      }
      goto LABEL_27;
    }
    goto LABEL_26;
  }
LABEL_27:
  v23 = sub_419A70(*(float *)&byte_5D4594[1046640]);
  v12 = sub_419A70(*(float *)&byte_5D4594[1046636]);
  sub_46A9B0(a1, v12, v23);
  return 1;
}

//----- (0045CB30) --------------------------------------------------------
int __cdecl sub_45CB30(_DWORD *a1)
{
  int v1; // eax
  int v2; // esi
  int v4; // [esp+4h] [ebp-8h]
  int v5; // [esp+8h] [ebp-4h]

  if ( *(_DWORD *)&byte_5D4594[1046868] )
  {
    if ( *(_DWORD *)&byte_5D4594[1046868] != 1
      || *(_BYTE *)(*(_DWORD *)&byte_5D4594[1047516] + 2251) != 2
      || !*(_DWORD *)(*(_DWORD *)&byte_5D4594[1047516] + 4232) && (!sub_40A5C0(0x2000) || sub_40A5C0(4096)) )
    {
      return 1;
    }
    v1 = sub_424A90(*(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1046932] + 1046960] + 74);
  }
  else if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[1047516] + 2251) )
  {
    v1 = sub_424A90(*(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1046932] + 1046960]);
  }
  else
  {
    v1 = sub_425310(*(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1046932] + 1046960], 0);
  }
  v2 = v1;
  if ( v1 )
  {
    sub_46AA60(a1, &v5, &v4);
    sub_47D2C0(v2, v5, v4);
  }
  return 1;
}

//----- (0045CC10) --------------------------------------------------------
int __cdecl sub_45CC10(_DWORD *a1, int a2, unsigned int a3)
{
  int result; // eax
  int v4; // ebp
  char v5; // al
  char v6; // al

  if ( *(_DWORD *)&byte_5D4594[2614252] && (*(_BYTE *)(*(_DWORD *)&byte_5D4594[2614252] + 120) & 2) == 2 )
    return 1;
  v4 = a3 >> 16;
  if ( *(_DWORD *)&byte_5D4594[1046868] == 1 )
  {
    v5 = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1047516] + 2251);
    if ( v5 == 1
      || !v5
      || !sub_40A5C0(0x2000) && !sub_40A5C0(4096) && !*(_DWORD *)(*(_DWORD *)&byte_5D4594[1047516] + 4232) )
    {
      return 0;
    }
  }
  switch ( a2 )
  {
    case 5:
      if ( sub_46AE00() || *(_DWORD *)&byte_5D4594[1047540] )
        goto LABEL_44;
      v6 = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1047516] + 2251);
      if ( !v6 && !*(_DWORD *)&byte_5D4594[1046868] )
      {
        *(_DWORD *)&byte_5D4594[1047540] = *(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1046932] + 1046960];
        sub_477640(*(int *)&byte_5D4594[1047540], 1);
LABEL_22:
        sub_46ADC0((int)a1);
        sub_452D80(793, 100);
        return 1;
      }
      if ( v6 == 2 && *(_DWORD *)&byte_5D4594[1046868] == 1 )
      {
        *(_DWORD *)&byte_5D4594[1047540] = *(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1046932] + 1046960] + 74;
        sub_477640(*(int *)&byte_5D4594[1047540], 1);
        goto LABEL_22;
      }
      if ( *(_DWORD *)&byte_5D4594[1046868] )
        goto LABEL_44;
      *(_DWORD *)&byte_5D4594[1047540] = *(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1046932] + 1046960];
      if ( !sub_424A50(*(int *)&byte_5D4594[1047540], 86016) )
      {
        sub_477640(*(int *)&byte_5D4594[1047540], 1);
        goto LABEL_22;
      }
      *(_DWORD *)&byte_5D4594[1047540] = 0;
      return 1;
    case 6:
    case 7:
      if ( !*(_DWORD *)&byte_5D4594[1047540] )
        goto LABEL_44;
      if ( !sub_46AAB0(a1, (unsigned __int16)a3, v4) )
      {
        if ( sub_460650() )
        {
          sub_45D9D0(*(int *)&byte_5D4594[1047540]);
        }
        else if ( sub_4611A0() )
        {
          sub_4611B0();
        }
        else
        {
          sub_45DCA0(*(int *)&byte_5D4594[1047540], 0, (unsigned __int16)a3, v4, 0);
        }
LABEL_42:
        *(_DWORD *)&byte_5D4594[1047540] = 0;
        sub_46ADE0((int)a1);
        goto LABEL_43;
      }
      if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[1047516] + 2251) )
      {
        if ( sub_460650() )
        {
          sub_45DF60(0, 0);
          *(_DWORD *)&byte_5D4594[1047540] = 0;
          sub_46ADE0((int)a1);
          sub_477660();
          return 1;
        }
        if ( !sub_424A50(*(int *)&byte_5D4594[1047540], 1536) )
        {
          sub_45DF60(*(int *)&byte_5D4594[1047540], 0);
          sub_477660();
          return 1;
        }
        if ( sub_45DF60(*(int *)&byte_5D4594[1047540], 1) )
          goto LABEL_42;
      }
      else
      {
        if ( sub_4611A0() )
        {
          sub_45DFC0(0);
          *(_DWORD *)&byte_5D4594[1047540] = 0;
          sub_46ADE0((int)a1);
          sub_477660();
          return 1;
        }
        if ( sub_45DFC0(*(int *)&byte_5D4594[1047540]) )
          goto LABEL_42;
      }
LABEL_43:
      sub_477660();
LABEL_44:
      result = 1;
      break;
    case 8:
      goto LABEL_44;
    default:
      return 0;
  }
  return result;
}

//----- (0045CF00) --------------------------------------------------------
int __cdecl sub_45CF00(_DWORD *a1)
{
  wchar_t *v1; // eax
  wchar_t *v3; // eax
  wchar_t *v4; // eax

  if ( *a1 == 1310 )
  {
    if ( !*(_BYTE *)(*(_DWORD *)&byte_5D4594[1047516] + 2251) )
    {
      v3 = sub_40F1D0((char *)&byte_587000[133244], 0, (const char *)&byte_587000[133208], 1640);
      sub_4776B0(v3);
      return 1;
    }
    v4 = sub_40F1D0((char *)&byte_587000[133300], 0, (const char *)&byte_587000[133264], 1644);
    sub_4776B0(v4);
  }
  else if ( *a1 == 1320 )
  {
    v1 = sub_40F1D0((char *)&byte_587000[133352], 0, (const char *)&byte_587000[133316], 1649);
    sub_4776B0(v1);
    return 1;
  }
  return 1;
}

//----- (0045CFA0) --------------------------------------------------------
int sub_45CFA0()
{
  int result; // eax

  if ( *(_DWORD *)&byte_587000[132132] )
    result = 0;
  else
    result = *(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1046932] + 1046960];
  return result;
}

//----- (0045CFC0) --------------------------------------------------------
int sub_45CFC0()
{
  return ((unsigned __int8)~sub_46ADA0(*(int *)&byte_5D4594[1046860]) >> 4) & 1;
}

//----- (0045CFE0) --------------------------------------------------------
void __cdecl sub_45CFE0(int a1, int a2, int a3, int a4)
{
  int v4; // ebx
  int v5; // ebp
  int v6; // esi
  int *v7; // edi
  int v8; // eax
  int v9; // esi
  unsigned __int8 *v10; // eax
  int v11; // [esp+14h] [ebp+4h]

  v4 = *(_DWORD *)&byte_5D4594[2618908];
  if ( !*(_DWORD *)&byte_5D4594[2618908] )
    return;
  v5 = a1;
  if ( sub_57AEA0(*(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[2618908] + 2251), a1) == 9 )
    return;
  *(_DWORD *)(v4 + 4 * a1 + 3696) = a2;
  if ( sub_424A50(a1, 4096) )
  {
    v11 = 0x2000;
    goto LABEL_9;
  }
  if ( sub_424A50(a1, 0x4000) )
  {
    v11 = 0x8000;
    goto LABEL_9;
  }
  if ( sub_424A50(a1, 0x10000) )
  {
    v11 = 0x20000;
LABEL_9:
    v6 = 1;
    v7 = (int *)(v4 + 3700);
    do
    {
      if ( sub_424A50(v6, v11) && sub_424B50(v6) )
        *v7 = a2;
      ++v6;
      ++v7;
    }
    while ( v6 < 137 );
  }
  *(_DWORD *)&byte_5D4594[1046868] = 0;
  *(_DWORD *)&byte_5D4594[1046872] = 0;
  sub_45ADF0(*(unsigned __int8 *)(v4 + 2251));
  if ( v5 == 34 )
  {
    v8 = 1;
    if ( *(_DWORD *)(v4 + 3832) != 1 || !a3 )
      v8 = 0;
    sub_460EC0(v8);
  }
  else if ( a3 )
  {
    v9 = 0;
    v10 = &byte_5D4594[1046960];
    do
    {
      if ( *(_DWORD *)v10 == v5 )
        break;
      v10 += 4;
      ++v9;
    }
    while ( (int)v10 < (int)&byte_5D4594[1047508] );
    if ( v9 != 137 )
    {
      sub_45ACA0(0);
      sub_45B930(v9);
      sub_45B010(0);
      sub_499CF0((int *)2, v5, a4);
    }
  }
}

//----- (0045D140) --------------------------------------------------------
void __cdecl sub_45D140(int a1, int a2)
{
  int v2; // edx
  unsigned __int8 *v3; // esi
  _DWORD *v4; // ecx
  int v5; // eax
  int *v6; // ecx
  int v7; // eax
  int v8; // esi
  unsigned __int8 *v9; // eax

  v2 = *(_DWORD *)&byte_5D4594[2618908];
  if ( *(_DWORD *)&byte_5D4594[2618908] )
  {
    v3 = &byte_587000[132124];
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[2618908] + 4 * a1 + 4244) = 1;
    if ( *(_DWORD *)&byte_587000[132124] )
    {
      do
      {
        v4 = *(_DWORD **)v3;
        if ( a1 == **(_DWORD **)v3 )
        {
          v5 = v4[1];
          v6 = v4 + 1;
          if ( v5 )
          {
            do
            {
              ++v6;
              *(_DWORD *)(v2 + 4 * v5 + 4244) = 1;
              v5 = *v6;
            }
            while ( *v6 );
          }
        }
        v7 = *((_DWORD *)v3 + 1);
        v3 += 4;
      }
      while ( v7 );
    }
    *(_DWORD *)&byte_5D4594[1046868] = 1;
    *(_DWORD *)&byte_5D4594[1046872] = 1;
    sub_45ADF0(*(unsigned __int8 *)(v2 + 2251));
    if ( a2 )
    {
      v8 = 0;
      v9 = &byte_5D4594[1046960];
      do
      {
        if ( *(_DWORD *)v9 == a1 )
          break;
        v9 += 4;
        ++v8;
      }
      while ( (int)v9 < (int)&byte_5D4594[1047124] );
      if ( v8 != 41 )
      {
        sub_45ACA0(0);
        sub_45B930(v8);
        sub_45B010(0);
        sub_499CF0((int *)4, a1, 0);
      }
    }
  }
}

//----- (0045D200) --------------------------------------------------------
int *__cdecl sub_45D200(int *a1, int a2, int2 *a3)
{
  int *result; // eax
  int v4; // ecx
  int v5; // ecx

  sub_45AD70(1);
  sub_46A9B0(*(_DWORD **)&byte_5D4594[1046860], a3->field_0, a3->field_4);
  result = a1;
  if ( a1 == (int *)2 || a1 == (int *)4 )
  {
    v5 = 0;
    result = (int *)&byte_5D4594[1046960];
    do
    {
      if ( *result == a2 )
        break;
      ++result;
      ++v5;
    }
    while ( (int)result < (int)&byte_5D4594[1047508] );
    if ( v5 != 137 )
      result = (int *)sub_45B930(v5);
  }
  else if ( a1 == (int *)3 )
  {
    v4 = 0;
    result = (int *)&byte_5D4594[1046960];
    do
    {
      if ( *result == a2 )
        break;
      ++result;
      ++v4;
    }
    while ( (int)result < (int)&byte_5D4594[1046984] );
    if ( v4 != 6 )
      result = (int *)sub_45B930(v4);
  }
  return result;
}

//----- (0045D290) --------------------------------------------------------
char *__cdecl sub_45D290(int a1, char *a2, int a3)
{
  char *result; // eax
  int v4; // esi

  result = sub_417040(*(int *)&byte_5D4594[2616328]);
  if ( result )
  {
    *(_DWORD *)&byte_5D4594[1046868] = 0;
    *(_DWORD *)&byte_5D4594[1046872] = 0;
    sub_45ADF0((unsigned __int8)result[2251]);
    result = a2;
    if ( a2 )
    {
      v4 = 0;
      result = (char *)&byte_5D4594[1046960];
      do
      {
        if ( *(_DWORD *)result == a1 )
          break;
        result += 4;
        ++v4;
      }
      while ( (int)result < (int)&byte_5D4594[1046984] );
      if ( v4 != 6 )
      {
        sub_45ACA0(0);
        sub_45B930(v4);
        sub_45B010(0);
        result = (char *)a3;
        if ( a3 )
          result = (char *)sub_499CF0((int *)3, a1, a3);
      }
    }
  }
  return result;
}

//----- (0045D320) --------------------------------------------------------
int __cdecl sub_45D320(int a1)
{
  int v1; // ebx
  int result; // eax
  int v3; // ebp
  int v4; // esi
  _DWORD *v5; // edi

  v1 = *(_DWORD *)&byte_5D4594[2618908];
  result = sub_45ACA0(1);
  if ( v1 )
  {
    *(_DWORD *)(v1 + 4 * a1 + 3696) = 0;
    sub_461360(a1);
    if ( sub_424A50(a1, 4096) )
    {
      v3 = 0x2000;
    }
    else if ( sub_424A50(a1, 0x4000) )
    {
      v3 = 0x8000;
    }
    else
    {
      if ( !sub_424A50(a1, 0x10000) )
        return sub_45ADF0(*(unsigned __int8 *)(v1 + 2251));
      v3 = 0x20000;
    }
    v4 = 1;
    v5 = (_DWORD *)(v1 + 3700);
    do
    {
      if ( sub_424A50(v4, v3) )
      {
        if ( sub_424B50(v4) )
        {
          *v5 = 0;
          sub_461360(v4);
        }
      }
      ++v4;
      ++v5;
    }
    while ( v4 < 137 );
    return sub_45ADF0(*(unsigned __int8 *)(v1 + 2251));
  }
  return result;
}

//----- (0045D400) --------------------------------------------------------
int __cdecl sub_45D400(int a1)
{
  int v1; // edi
  int result; // eax
  unsigned __int8 *v3; // ebp
  _DWORD *v4; // esi
  int v5; // eax
  _DWORD *i; // esi
  int v7; // eax

  v1 = *(_DWORD *)&byte_5D4594[2618908];
  result = sub_45ACA0(1);
  if ( v1 )
  {
    *(_DWORD *)(v1 + 4 * a1 + 4244) = 0;
    sub_461360(a1 + 74);
    v3 = &byte_587000[132124];
    if ( *(_DWORD *)&byte_587000[132124] )
    {
      do
      {
        v4 = *(_DWORD **)v3;
        if ( a1 == **(_DWORD **)v3 )
        {
          v5 = v4[1];
          for ( i = v4 + 1; v5; ++i )
          {
            *(_DWORD *)(v1 + 4 * v5 + 4244) = 0;
            sub_461360(*i + 74);
            v5 = i[1];
          }
        }
        v7 = *((_DWORD *)v3 + 1);
        v3 += 4;
      }
      while ( v7 );
    }
    result = sub_45ADF0(*(unsigned __int8 *)(v1 + 2251));
  }
  return result;
}

//----- (0045D4A0) --------------------------------------------------------
char *__cdecl sub_45D4A0(int a1)
{
  char *result; // eax

  sub_45ACA0(1);
  sub_4611E0(a1, 0, 0);
  if ( *(_DWORD *)&byte_5D4594[1047516] )
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1047516] + 4 * a1 + 3696) = 0;
  sub_461360(a1);
  result = sub_417040(*(int *)&byte_5D4594[2616328]);
  if ( result )
    result = (char *)sub_45ADF0((unsigned __int8)result[2251]);
  return result;
}

//----- (0045D500) --------------------------------------------------------
int __cdecl sub_45D500(int a1)
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[1046864];
  if ( a1 )
  {
    if ( *(_DWORD *)&byte_5D4594[1046864] )
      result = sub_46AC00(*(int *)&byte_5D4594[1046860], 0);
  }
  else if ( *(_DWORD *)&byte_5D4594[1046864] )
  {
    result = sub_47A260();
    if ( !result )
      result = sub_46AC00(*(int *)&byte_5D4594[1046860], 1);
  }
  return result;
}

//----- (0045D550) --------------------------------------------------------
_DWORD *__cdecl sub_45D550(_DWORD *a1)
{
  _DWORD *result; // eax

  result = a1;
  if ( a1 )
    result = (_DWORD *)sub_46AA60(*(_DWORD **)&byte_5D4594[1046952], a1, a1 + 1);
  return result;
}

//----- (0045D570) --------------------------------------------------------
int __cdecl sub_45D570(int a1, int a2)
{
  int result; // eax
  double v3; // st7
  int2 a4; // [esp+Ch] [ebp-10h]
  int2 a3; // [esp+14h] [ebp-8h]

  result = *(_DWORD *)&byte_5D4594[1047520];
  if ( *(_DWORD *)&byte_5D4594[1047520] != 1 )
  {
    sub_4606B0();
    *(_DWORD *)&byte_5D4594[1046612] = sub_45E180();
    if ( a1 != 2 || (result = sub_424A50(a2, 86016)) == 0 )
    {
      result = sub_4612D0(a2);
      if ( result != 1 )
      {
        if ( a1 == 2 || a1 == 4 )
        {
          result = sub_461250();
        }
        else
        {
          if ( a1 != 3 )
            return result;
          result = sub_4612A0();
        }
        *(_DWORD *)&byte_5D4594[1046852] = result;
        if ( result != -1 )
        {
          *(_DWORD *)&byte_5D4594[1047520] = 1;
          if ( a1 == 2 || a1 == 3 )
          {
            *(_DWORD *)&byte_5D4594[1046868] = 0;
            *(_DWORD *)&byte_5D4594[1046872] = 0;
          }
          else
          {
            *(_DWORD *)&byte_5D4594[1046868] = 1;
            *(_DWORD *)&byte_5D4594[1046872] = 1;
          }
          sub_45D550(&byte_5D4594[1046844]);
          *(float *)&byte_5D4594[1046636] = (double)*(int *)&byte_5D4594[1046844];
          *(float *)&byte_5D4594[1046640] = (double)*(int *)&byte_5D4594[1046848];
          sub_46A9B0(*(_DWORD **)&byte_5D4594[1046956], *(int *)&byte_5D4594[1046844], *(int *)&byte_5D4594[1046848]);
          sub_461320(*(int *)&byte_5D4594[1046852], &byte_5D4594[1046668]);
          a3.field_0 = 400;
          a4.field_4 = 400;
          *(_DWORD *)&byte_5D4594[1047524] = a2;
          *(_DWORD *)&byte_5D4594[1046652] = a1 == 3;
          *(_DWORD *)&byte_5D4594[1046676] = a1;
          *(_DWORD *)&byte_587000[80828] = 1;
          a3.field_4 = -500;
          a4.field_0 = 350;
          *(_DWORD *)&byte_5D4594[1046680] = 0;
          sub_4BEDE0(
            (int2 *)&byte_5D4594[1046844],
            (int2 *)&byte_5D4594[1046668],
            &a3,
            &a4,
            19,
            0.0,
            sub_45D7D0,
            0);
          *(_DWORD *)&byte_5D4594[1046628] = 0;
          *(float *)&byte_5D4594[1046620] = *(float *)&byte_5D4594[1046692] - *(float *)&byte_5D4594[1046684];
          *(float *)&byte_5D4594[1046624] = *(float *)&byte_5D4594[1046696] - *(float *)&byte_5D4594[1046688];
          sub_509F20((float2 *)&byte_5D4594[1046620]);
          if ( *(int *)&byte_5D4594[3805496] < 1000 )
          {
            if ( *(int *)&byte_5D4594[3805496] < 750 )
              v3 = 6.0;
            else
              v3 = 8.0;
          }
          else
          {
            v3 = 10.0;
          }
          *(float *)&byte_5D4594[1046620] = *(float *)&byte_5D4594[1046620] * v3;
          *(float *)&byte_5D4594[1046624] = *(float *)&byte_5D4594[1046624] * v3;
          sub_46AC00(*(int *)&byte_5D4594[1046956], 0);
          sub_46A8C0(*(int *)&byte_5D4594[1046956]);
          if ( sub_40A5C0(2048) )
            sub_57AF30(0, a1);
          *(_DWORD *)&byte_5D4594[1046648] = sub_430B40();
          if ( !sub_40A5C0(2048) || sub_446360() == 1 || (result = sub_4DB1B0(), result == 1) )
            result = sub_45D870();
        }
      }
    }
  }
  return result;
}

//----- (0045D7D0) --------------------------------------------------------
int __cdecl sub_45D7D0(int *a1, int *a2)
{
  int result; // eax
  double v3; // st7

  result = *(_DWORD *)&byte_5D4594[1046680];
  if ( *(int *)&byte_5D4594[1046680] < 20 )
  {
    result = *(_DWORD *)&byte_5D4594[1046680] + 1;
    *(float *)&byte_5D4594[8 * result + 1046676] = (double)*a1;
    *(float *)&byte_5D4594[8 * result + 1046680] = (double)a1[1];
    *(float *)&byte_5D4594[8 * result + 1046684] = (double)*a2;
    v3 = (double)a2[1];
    *(_DWORD *)&byte_5D4594[1046680] = result;
    *(float *)&byte_5D4594[8 * result + 1046688] = v3;
  }
  return result;
}

//----- (0045D810) --------------------------------------------------------
int sub_45D810()
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[1047520];
  if ( *(_DWORD *)&byte_5D4594[1047520] )
  {
    *(_DWORD *)&byte_5D4594[1047520] = 0;
    sub_46AC00(*(int *)&byte_5D4594[1046956], 1);
    *(_DWORD *)&byte_5D4594[1046648] = 0;
    sub_45E110(*(int *)&byte_5D4594[1046612]);
    result = sub_40A5C0(2048);
    if ( result )
    {
      sub_57B0A0();
      result = sub_413A00(0);
    }
  }
  return result;
}

//----- (0045D870) --------------------------------------------------------
int sub_45D870()
{
  int result; // eax
  int v1; // esi
  int v3; // edi
  int v4; // ebx
  int v5; // ebp
  int v6; // eax
  int v7; // [esp-30h] [ebp-38h]
  char v8; // [esp-20h] [ebp-28h]
  int v9; // [esp+0h] [ebp-8h]
  int v10; // [esp+4h] [ebp-4h]

  result = *(_DWORD *)&byte_5D4594[1047520];
  if ( *(_DWORD *)&byte_5D4594[1047520] )
  {
    v1 = *(_DWORD *)&byte_5D4594[1046652] != 1 ? 0 : 3;
    v9 = ((int)*(_DWORD *)&byte_5D4594[1046668] - sub_419A70(*(float *)&byte_5D4594[1046636])) / 50;
    v10 = ((int)*(_DWORD *)&byte_5D4594[1046672] - sub_419A70(*(float *)&byte_5D4594[1046640])) / 50;
    v3 = sub_419A70(*(float *)&byte_5D4594[1046636]);
    v4 = sub_419A70(*(float *)&byte_5D4594[1046640]);
    v5 = 50;
    do
    {
      v8 = sub_415FF0(3, 4, (const char *)&byte_587000[133368], 2483);
      v7 = v4 - sub_415FF0(0, 30, (const char *)&byte_587000[133404], 2479);
      v6 = sub_415FF0(0, 30, (const char *)&byte_587000[133440], 2478);
      sub_431540(v1, v3 + v6, v7, 0, 0, 1, v8, 0, 0, 1);
      v3 += v9;
      v4 += v10;
      --v5;
    }
    while ( v5 );
    sub_45DBE0(*(void **)&byte_5D4594[1046676], *(int *)&byte_5D4594[1047524], *(int *)&byte_5D4594[1046852]);
    result = sub_45D810();
  }
  return result;
}

//----- (0045D9B0) --------------------------------------------------------
int sub_45D9B0()
{
  return *(_DWORD *)&byte_5D4594[1047520];
}

//----- (0045D9C0) --------------------------------------------------------
BOOL sub_45D9C0()
{
  return *(_DWORD *)&byte_5D4594[1047916] != 0;
}

//----- (0045D9D0) --------------------------------------------------------
int __cdecl sub_45D9D0(int a1)
{
  if ( *(_DWORD *)&byte_5D4594[1047916] )
    return 0;
  *(_DWORD *)&byte_5D4594[1047916] = a1;
  byte_5D4594[1047920] = 0;
  sub_4160D0(5);
  *(_DWORD *)&byte_5D4594[1047928] = 0;
  *(_DWORD *)&byte_5D4594[1047924] = 0;
  return 1;
}

//----- (0045DA10) --------------------------------------------------------
int __cdecl sub_45DA10(int a1)
{
  int result; // eax

  if ( *(_DWORD *)&byte_5D4594[1047916] )
    return 0;
  *(_DWORD *)&byte_5D4594[1047916] = a1;
  byte_5D4594[1047920] = 0;
  sub_4160D0(5);
  result = 1;
  *(_DWORD *)&byte_5D4594[1047924] = 1;
  return result;
}

//----- (0045DA50) --------------------------------------------------------
int __cdecl sub_45DA50(int a1)
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[2618908];
  if ( *(_DWORD *)&byte_5D4594[2618908] )
  {
    result = sub_4372B0();
    if ( !result )
    {
      if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[2618908] + 2251) )
      {
        sub_45DB20(
          (char *)(*(_DWORD *)(*(_DWORD *)&byte_587000[133480] + 204) + 8 * a1),
          1,
          *(_BYTE *)(*(_DWORD *)(*(_DWORD *)&byte_587000[133480] + 204) + 8 * a1 + 4) & 1);
        result = sub_45DAD0(a1);
      }
      else
      {
        sub_45DAF0(*(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_587000[133480] + 204) + 8 * a1));
        result = sub_45DAD0(a1);
      }
    }
  }
  return result;
}

//----- (0045DAD0) --------------------------------------------------------
int __cdecl sub_45DAD0(int a1)
{
  int result; // eax

  result = a1;
  *(_DWORD *)&byte_587000[133484] = a1;
  *(_DWORD *)&byte_5D4594[1049540] = *(_DWORD *)&byte_5D4594[2598000];
  return result;
}

//----- (0045DAF0) --------------------------------------------------------
int __cdecl sub_45DAF0(int a1)
{
  int result; // eax
  __int16 v3; // [esp+0h] [ebp-2h]

  result = sub_477600();
  if ( !result )
  {
    result = a1;
    if ( a1 )
    {
      HIBYTE(v3) = a1;
      LOBYTE(v3) = 122;
      result = sub_40EBC0(31, 0, &v3, 2);
    }
  }
  return result;
}

//----- (0045DB20) --------------------------------------------------------
int __cdecl sub_45DB20(char *a1, int a2, char a3)
{
  int result; // eax
  int v4; // ecx
  char *v5; // eax
  char v6[22]; // [esp+0h] [ebp-18h]

  result = sub_477600();
  if ( !result && *(_DWORD *)a1 )
  {
    v4 = 0;
    v6[0] = 121;
    v5 = &v6[1];
    do
    {
      if ( v4 >= a2 )
        *(_DWORD *)v5 = 0;
      else
        *(_DWORD *)v5 = *(_DWORD *)&v5[a1 - &v6[1]];
      ++v4;
      v5 += 4;
    }
    while ( v4 < 5 );
    v6[21] = a3;
    result = sub_40EBC0(31, 0, v6, 22);
  }
  return result;
}

//----- (0045DB90) --------------------------------------------------------
int sub_45DB90()
{
  int result; // eax

  result = 0;
  memset(&byte_5D4594[1049544], 0, 0x88u);
  byte_5D4594[1049680] = 0;
  return result;
}

//----- (0045DBB0) --------------------------------------------------------
int sub_45DBB0()
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[1047916];
  if ( *(_DWORD *)&byte_5D4594[1047916] )
  {
    result = sub_45DB20((char *)&byte_5D4594[1047916], 1, byte_5D4594[1047924]);
    *(_DWORD *)&byte_5D4594[1047916] = 0;
  }
  return result;
}

//----- (0045DBE0) --------------------------------------------------------
void *__cdecl sub_45DBE0(void *a1, int a2, int a3)
{
  void *result; // eax

  sub_45DC40(*(int *)&byte_587000[133480], a2, a3);
  result = a1;
  if ( a1 == (void *)2 )
  {
    if ( a2 && (result = (void *)sub_424A50(a2, 1536)) != 0 )
    {
      *(_BYTE *)(*(_DWORD *)(*(_DWORD *)&byte_587000[133480] + 204) + 8 * a3 + 4) = 1;
    }
    else
    {
      result = *(void **)&byte_587000[133480];
      *(_BYTE *)(*(_DWORD *)(*(_DWORD *)&byte_587000[133480] + 204) + 8 * a3 + 4) = 0;
    }
  }
  return result;
}

//----- (0045DC40) --------------------------------------------------------
_DWORD *__cdecl sub_45DC40(int a1, int a2, int a3)
{
  wchar_t *v3; // eax
  _DWORD *result; // eax

  *(_DWORD *)(*(_DWORD *)(a1 + 204) + 8 * a3) = a2;
  if ( *(_DWORD *)(a1 + 4 * a3 + 212) )
  {
    v3 = (wchar_t *)sub_424930(a2);
    sub_46B000((wchar_t *)(*(_DWORD *)(a1 + 4 * a3 + 212) + 36), v3);
  }
  result = *(_DWORD **)&byte_5D4594[2618908];
  if ( *(_DWORD *)&byte_5D4594[2618908] )
    result = sub_452D80(794, 100);
  return result;
}

//----- (0045DCA0) --------------------------------------------------------
int __cdecl sub_45DCA0(int a1, char a2, int a3, int a4, int *a5)
{
  unsigned __int16 v5; // si
  int v6; // edi
  int *v7; // esi
  int v8; // eax
  int v9; // ebx
  int v10; // ecx
  int v11; // edi
  unsigned __int16 v13; // [esp+10h] [ebp-8h]
  unsigned __int16 v14; // [esp+14h] [ebp-4h]

  v5 = 0;
  v14 = 137;
  v13 = 0;
  if ( (sub_46ACC0(*(int *)&byte_5D4594[1048148]) || !sub_45DEB0((int *)&byte_5D4594[1047940], a1, a3, a4))
    && a5 != (int *)&byte_5D4594[1047940] )
  {
    v6 = *(_DWORD *)&byte_5D4594[1049476] != 0 ? 0 : 4;
    v7 = (int *)&byte_5D4594[256 * v6 + 1048196];
    while ( 1 )
    {
      v8 = sub_45DE60((int)v7, a3, a4);
      v9 = v8;
      if ( v8 >= 0 )
      {
        v10 = v7[51];
        v14 = *(_WORD *)(v10 + 8 * v8);
        v13 = *(unsigned __int8 *)(v10 + 8 * v8 + 4);
      }
      if ( sub_45DEB0(v7, a1, a3, a4) )
        break;
      v7 += 64;
      ++v6;
      if ( (int)v7 >= (int)&byte_5D4594[1049476] )
        goto LABEL_16;
    }
    if ( sub_477670() == 1 )
    {
      v11 = v6 << 8;
      *(_BYTE *)(*(_DWORD *)&byte_5D4594[v11 + 1048400] + 8 * v9 + 4) = sub_424A50(a1, 1536);
    }
    else
    {
      v11 = v6 << 8;
      *(_BYTE *)(*(_DWORD *)&byte_5D4594[v11 + 1048400] + 8 * v9 + 4) = a2;
    }
    sub_45DDF0((int)&byte_5D4594[v11 + 1048196]);
LABEL_16:
    v5 = v13;
  }
  return v5 | (v14 << 16);
}

//----- (0045DDF0) --------------------------------------------------------
int __cdecl sub_45DDF0(int a1)
{
  int i; // esi
  int result; // eax

  for ( i = 0; i < 5; ++i )
    result = sub_45DE10(i, a1);
  return result;
}

//----- (0045DE10) --------------------------------------------------------
int __cdecl sub_45DE10(int a1, int a2)
{
  int v2; // eax
  char v3; // bl
  _DWORD *v4; // eax
  int result; // eax

  v2 = *(_DWORD *)(a2 + 204);
  v3 = *(_BYTE *)(v2 + 8 * a1 + 4);
  v4 = (_DWORD *)(v2 + 8 * a1);
  if ( v3 & 1 && *v4 )
    result = sub_46AE10(*(_DWORD *)(a2 + 4 * a1 + 232), 1);
  else
    result = sub_46AE10(*(_DWORD *)(a2 + 4 * a1 + 232), 0);
  return result;
}

//----- (0045DE60) --------------------------------------------------------
int __cdecl sub_45DE60(int a1, int a2, int a3)
{
  int v3; // esi
  _DWORD **i; // edi

  v3 = 0;
  for ( i = (_DWORD **)(a1 + 212); !sub_46AAB0(*i, a2, a3); ++i )
  {
    if ( ++v3 >= 5 )
      return -1;
  }
  return v3;
}

//----- (0045DEB0) --------------------------------------------------------
int __cdecl sub_45DEB0(int *a1, int a2, int a3, int a4)
{
  int v4; // ebx
  wchar_t *v5; // eax
  _DWORD *v6; // ecx
  int v7; // eax

  v4 = sub_45DE60((int)a1, a3, a4);
  if ( v4 >= 0 )
  {
    if ( a1 != (int *)&byte_5D4594[1047940] )
    {
LABEL_8:
      sub_45DC40((int)a1, a2, v4);
      return 1;
    }
    if ( sub_424BF0(a2) )
    {
      v6 = (_DWORD *)a1[51];
      v7 = 0;
      while ( *v6 != a2 )
      {
        ++v7;
        v6 += 2;
        if ( v7 >= 3 )
          goto LABEL_8;
      }
      v5 = sub_40F1D0((char *)&byte_587000[133772], 0, (const char *)&byte_587000[133732], 504);
    }
    else
    {
      v5 = sub_40F1D0((char *)&byte_587000[133712], 0, (const char *)&byte_587000[133672], 496);
    }
    sub_445490(v5);
    sub_452D80(925, 100);
  }
  return 0;
}

//----- (0045DF60) --------------------------------------------------------
int __cdecl sub_45DF60(int a1, char a2)
{
  int result; // eax

  if ( a1 )
  {
    sub_452D80(766, 100);
    if ( !(a2 & 1) || sub_424A50(a1, 0x2000) )
    {
      *(_DWORD *)&byte_5D4594[1047556] = a1;
      *(_DWORD *)&byte_5D4594[1047928] = 1;
      result = 0;
    }
    else
    {
      sub_45DA10(a1);
      result = 1;
    }
  }
  else
  {
    *(_DWORD *)&byte_5D4594[1047928] = 0;
    result = 0;
  }
  return result;
}

//----- (0045DFC0) --------------------------------------------------------
int __cdecl sub_45DFC0(int a1)
{
  int result; // eax
  int v2; // esi
  int v3; // eax

  if ( a1 )
  {
    v2 = *(_DWORD *)&byte_5D4594[24 * a1 + 1047768];
    if ( v2 )
    {
      *(_DWORD *)&byte_5D4594[1047932] = 0;
      *(_DWORD *)&byte_5D4594[1047936] = 0;
      sub_45DAF0(a1);
      sub_452D80(766, 100);
      result = v2;
    }
    else
    {
      v3 = *(_DWORD *)&byte_5D4594[24 * a1 + 1047764];
      *(_DWORD *)&byte_5D4594[1047932] = 1;
      *(_DWORD *)&byte_5D4594[1047936] = v3;
      sub_452D80(766, 100);
      result = 0;
    }
  }
  else
  {
    *(_DWORD *)&byte_5D4594[1047932] = 0;
    *(_DWORD *)&byte_5D4594[1047936] = 0;
    result = 0;
  }
  return result;
}

//----- (0045E040) --------------------------------------------------------
_DWORD *sub_45E040()
{
  _DWORD **v0; // edx
  _DWORD *v1; // ecx
  int v2; // edi
  int i; // eax
  _DWORD *result; // eax
  wchar_t *v5; // eax
  int *v6; // ecx
  int v7; // esi
  char v8; // al
  int v9[5]; // [esp+8h] [ebp-14h]

  v0 = *(_DWORD ***)&byte_5D4594[1048144];
  v1 = *(_DWORD **)&byte_5D4594[1048144];
  v2 = 0;
  for ( i = 0; i < 3; ++i )
  {
    if ( *v1 )
      break;
    v1 += 2;
  }
  if ( i == 3 )
  {
    result = *(_DWORD **)&byte_5D4594[2618908];
    if ( *(_DWORD *)&byte_5D4594[2618908] )
    {
      if ( *(_DWORD *)(*(_DWORD *)&byte_5D4594[2618908] + 3832) )
      {
        v5 = sub_40F1D0((char *)&byte_587000[133828], 0, (const char *)&byte_587000[133788], 1145);
        sub_445490(v5);
        result = sub_452D80(925, 100);
      }
    }
  }
  else
  {
    byte_5D4594[1049488] = 0;
    v6 = v9;
    v7 = 3;
    do
    {
      result = *v0;
      if ( *v0 )
      {
        *v6 = (int)result;
        ++v2;
        ++v6;
      }
      v0 += 2;
      --v7;
    }
    while ( v7 );
    if ( v2 < 5 )
    {
      v8 = byte_5D4594[1047924];
      v9[v2] = 34;
      result = (_DWORD *)sub_45DB20((char *)v9, v2 + 1, v8);
      *(_DWORD *)&byte_5D4594[1047916] = 0;
      *(_DWORD *)&byte_5D4594[1049480] = 0;
    }
  }
  return result;
}
// 45E040: using guessed type int var_14[5];

//----- (0045E110) --------------------------------------------------------
int __cdecl sub_45E110(int a1)
{
  int result; // eax

  result = a1;
  if ( a1 >= 0 && a1 < 5 && !*(_DWORD *)&byte_5D4594[1049476] && !*(_DWORD *)&byte_5D4594[1049496] )
  {
    *(_BYTE *)(*(_DWORD *)&byte_587000[133480] + 200) = a1;
    *(_DWORD *)(*(_DWORD *)&byte_587000[133480] + 204) = *(_DWORD *)&byte_587000[133480]
                                                       + 40
                                                       * *(unsigned __int8 *)(*(_DWORD *)&byte_587000[133480] + 200);
    if ( *(_DWORD *)&byte_5D4594[2618908] )
      sub_452D80(798, 100);
    result = sub_45DDF0(*(int *)&byte_587000[133480]);
  }
  return result;
}

//----- (0045E180) --------------------------------------------------------
int sub_45E180()
{
  return *(unsigned __int8 *)(*(_DWORD *)&byte_587000[133480] + 200);
}

//----- (0045E190) --------------------------------------------------------
int sub_45E190()
{
  int v0; // ebp
  int v1; // ebx
  int v2; // edi
  unsigned __int8 *v4; // esi
  char *v5; // eax
  char *v6; // eax
  char *v7; // eax
  char *v8; // eax
  wchar_t *v9; // eax
  wchar_t *v10; // eax
  char *v11; // eax
  char *v12; // eax
  char *v13; // eax
  char *v14; // eax
  wchar_t *v15; // eax
  wchar_t *v16; // eax
  char *v17; // eax
  char *v18; // eax
  char *v19; // eax
  char *v20; // eax
  char *v21; // eax
  int v22; // eax
  _DWORD *v23; // eax
  wchar_t *v24; // esi
  char *v25; // eax
  wchar_t *v26; // eax
  wchar_t *v27; // esi
  char *v28; // eax
  wchar_t *v29; // eax
  char *v30; // eax
  char *v31; // eax
  char *v32; // eax
  char *v33; // eax
  char *v34; // eax
  char *v35; // eax
  wchar_t *v36; // eax
  wchar_t *v37; // esi
  char *v38; // eax
  wchar_t *v39; // eax
  wchar_t *v40; // esi
  char *v41; // eax
  wchar_t *v42; // eax
  wchar_t *v43; // esi
  char *v44; // eax
  wchar_t *v45; // eax
  char *v46; // eax
  _DWORD *v47; // eax
  int v48; // eax
  int v49; // ecx
  int *v50; // ebx
  int v51; // edi
  int v52; // ecx
  _DWORD *v53; // esi
  char *v54; // eax
  char *v55; // eax
  char *v56; // eax
  char *v57; // eax
  _DWORD *v58; // esi
  _DWORD *v59; // esi
  int v60; // eax
  bool v61; // zf
  int j; // eax
  int v63; // [esp-8h] [ebp-58h]
  unsigned __int16 v64; // [esp+Ch] [ebp-44h]
  int v65; // [esp+10h] [ebp-40h]
  int v66; // [esp+14h] [ebp-3Ch]
  int v67; // [esp+18h] [ebp-38h]
  int v68; // [esp+20h] [ebp-30h]
  int v69; // [esp+20h] [ebp-30h]
  int i; // [esp+24h] [ebp-2Ch]
  unsigned __int8 *v71; // [esp+28h] [ebp-28h]
  char v72[32]; // [esp+30h] [ebp-20h]

  v0 = 0;
  *(_DWORD *)&byte_5D4594[1047916] = 0;
  byte_5D4594[1047920] = 0;
  sub_416170(5);
  *(_DWORD *)&byte_5D4594[1047924] = 0;
  *(_DWORD *)&byte_5D4594[1047928] = 0;
  *(_DWORD *)&byte_5D4594[1049480] = 0;
  byte_5D4594[1049488] = 0;
  v68 = sub_43F320(0);
  *(_DWORD *)&byte_5D4594[1047548] = (*(int *)&byte_5D4594[3805496] - 320) / 2;
  *(_DWORD *)&byte_5D4594[1047552] = *(_DWORD *)&byte_5D4594[3807120] - 74;
  *(_DWORD *)&byte_5D4594[1049684] = sub_43F360((char *)&byte_587000[133840]);
  *(_DWORD *)&byte_587000[133656] = *(_DWORD *)&byte_5D4594[1047548];
  v1 = *(_DWORD *)&byte_5D4594[1047548] + 69;
  *(_DWORD *)&byte_587000[133660] = *(_DWORD *)&byte_5D4594[1047552] - 17;
  v2 = *(_DWORD *)&byte_5D4594[1047552] + 32;
  *(_DWORD *)&byte_587000[133664] = *(_DWORD *)&byte_5D4594[1047548] + 320;
  *(_DWORD *)&byte_587000[133668] = *(_DWORD *)&byte_5D4594[3807120];
  if ( !*(_DWORD *)&byte_5D4594[2618908] )
    return 0;
  if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[2618908] + 2251) )
    sub_4601F0(
      *(int *)&byte_587000[133480],
      *(_DWORD *)&byte_5D4594[1047548] + 69,
      *(_DWORD *)&byte_5D4594[1047552] + 32,
      5,
      0,
      sub_45EF50,
      sub_45FDE0);
  else
    sub_4601F0(
      *(int *)&byte_587000[133480],
      *(_DWORD *)&byte_5D4594[1047548] + 69,
      *(_DWORD *)&byte_5D4594[1047552] + 32,
      5,
      0,
      sub_45EF50,
      sub_45FBD0);
  v4 = &byte_5D4594[1048964];
  do
  {
    v2 -= 60;
    sub_4601F0((int)v4, v1, v2, 5, 0, sub_45EF50, sub_45FDE0);
    sub_46AC00(*((_DWORD *)v4 + 52), 1);
    v4[200] = 0;
    *((_DWORD *)v4 + 51) = v4;
    v4 -= 256;
  }
  while ( (int)v4 >= (int)&byte_5D4594[1048196] );
  if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[2618908] + 2251) )
  {
    *(_DWORD *)&byte_5D4594[1049504] = sub_46C3E0(
                                         0,
                                         1160,
                                         *(_DWORD *)&byte_5D4594[1047548] + 260,
                                         *(int *)&byte_5D4594[1047552],
                                         45,
                                         66,
                                         0);
    sub_46AE40(*(int *)&byte_5D4594[1049504], -263, 0);
    *(_DWORD *)&byte_5D4594[1049536] = *(_DWORD *)&byte_5D4594[3807120] - 74;
    sub_46B300(*(int *)&byte_5D4594[1049504], sub_45F8D0);
    *(_DWORD *)&byte_5D4594[1049520] = sub_46C3E0(*(int *)&byte_5D4594[1049504], 1032, 9, 33, 32, 32, 0);
    sub_46B430(*(_DWORD **)&byte_5D4594[1049520], sub_45F7A0, sub_460000, 0);
    *(_DWORD *)&byte_5D4594[1049500] = sub_46C3E0(*(int *)&byte_5D4594[1049504], 1160, 0, 19, 12, 12, 0);
    sub_46B300(*(int *)&byte_5D4594[1049500], sub_45FB90);
    sub_46AE40(*(int *)&byte_5D4594[1049500], -265, -23);
    v5 = sub_42F970((const char *)&byte_587000[133848]);
    sub_46AE60(*(int *)&byte_5D4594[1049500], (int)v5);
    v6 = sub_42F970((const char *)&byte_587000[133868]);
    sub_46AEA0(*(int *)&byte_5D4594[1049500], (int)v6);
  }
  else
  {
    *(_DWORD *)&byte_5D4594[1049504] = sub_46C3E0(
                                         0,
                                         1672,
                                         *(_DWORD *)&byte_5D4594[1047548] + 260,
                                         *(int *)&byte_5D4594[1047552],
                                         45,
                                         66,
                                         0);
    sub_46AE40(*(int *)&byte_5D4594[1049504], -263, 0);
    *(_DWORD *)&byte_5D4594[1049536] = *(_DWORD *)&byte_5D4594[3807120] - 74;
    sub_46B300(*(int *)&byte_5D4594[1049504], sub_45F8D0);
  }
  if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[2618908] + 2251) )
  {
    if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[2618908] + 2251) == 1 )
    {
      if ( (!*(_DWORD *)&byte_5D4594[2618908] || !*(_DWORD *)(*(_DWORD *)&byte_5D4594[2618908] + 3832))
        && (!sub_40A5C0(0x2000) || sub_40A5C0(4096) || sub_4D6F50() || sub_4D6F70()) )
      {
        v17 = sub_42F970((const char *)&byte_587000[134092]);
        sub_46AE60(*(int *)&byte_5D4594[1049504], (int)v17);
        v18 = sub_42F970((const char *)&byte_587000[134116]);
        sub_46AEA0(*(int *)&byte_5D4594[1049504], (int)v18);
        sub_46AD80(*(int *)&byte_5D4594[1049520], 8);
        sub_46AD80(*(int *)&byte_5D4594[1049500], 8);
        sub_46B340(*(int *)&byte_5D4594[1049500], sub_45EF30);
      }
      else
      {
        v13 = sub_42F970((const char *)&byte_587000[133940]);
        sub_46AE60(*(int *)&byte_5D4594[1049504], (int)v13);
        v14 = sub_42F970((const char *)&byte_587000[133956]);
        sub_46AEA0(*(int *)&byte_5D4594[1049504], (int)v14);
        v15 = sub_40F1D0((char *)&byte_587000[134012], 0, (const char *)&byte_587000[133972], 1805);
        sub_46B000((wchar_t *)(*(_DWORD *)&byte_5D4594[1049520] + 36), v15);
        sub_46AD60(*(int *)&byte_5D4594[1049520], 8);
        v16 = sub_40F1D0((char *)&byte_587000[134068], 0, (const char *)&byte_587000[134028], 1808);
        sub_46B000((wchar_t *)(*(_DWORD *)&byte_5D4594[1049500] + 36), v16);
        sub_46AD60(*(int *)&byte_5D4594[1049500], 8);
      }
    }
    else if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[2618908] + 2251) == 2 )
    {
      if ( (!*(_DWORD *)&byte_5D4594[2618908] || !*(_DWORD *)(*(_DWORD *)&byte_5D4594[2618908] + 3832))
        && (!sub_40A5C0(0x2000) || sub_40A5C0(4096) || sub_4D6F50() || sub_4D6F70()) )
      {
        v11 = sub_42F970((const char *)&byte_587000[134300]);
        sub_46AE60(*(int *)&byte_5D4594[1049504], (int)v11);
        v12 = sub_42F970((const char *)&byte_587000[134324]);
        sub_46AEA0(*(int *)&byte_5D4594[1049504], (int)v12);
        sub_46AD80(*(int *)&byte_5D4594[1049520], 8);
        sub_46AD80(*(int *)&byte_5D4594[1049500], 8);
        sub_46B340(*(int *)&byte_5D4594[1049500], sub_45EF30);
      }
      else
      {
        v7 = sub_42F970((const char *)&byte_587000[134140]);
        sub_46AE60(*(int *)&byte_5D4594[1049504], (int)v7);
        v8 = sub_42F970((const char *)&byte_587000[134156]);
        sub_46AEA0(*(int *)&byte_5D4594[1049504], (int)v8);
        v9 = sub_40F1D0((char *)&byte_587000[134216], 0, (const char *)&byte_587000[134176], 1838);
        sub_46B000((wchar_t *)(*(_DWORD *)&byte_5D4594[1049520] + 36), v9);
        sub_46AD60(*(int *)&byte_5D4594[1049520], 8);
        v10 = sub_40F1D0((char *)&byte_587000[134276], 0, (const char *)&byte_587000[134236], 1841);
        sub_46B000((wchar_t *)(*(_DWORD *)&byte_5D4594[1049500] + 36), v10);
        sub_46AD60(*(int *)&byte_5D4594[1049500], 8);
      }
    }
  }
  else
  {
    v19 = sub_42F970((const char *)&byte_587000[133892]);
    sub_46AE60(*(int *)&byte_5D4594[1049504], (int)v19);
    v20 = sub_42F970((const char *)&byte_587000[133916]);
    sub_46AEA0(*(int *)&byte_5D4594[1049504], (int)v20);
  }
  if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[2618908] + 2251) )
  {
    sub_4601F0(
      (int)&byte_5D4594[1047940],
      *(_DWORD *)&byte_5D4594[1047548] + 122,
      *(_DWORD *)&byte_5D4594[1047552] - 17,
      3,
      21,
      sub_45EF50,
      sub_45FDE0);
    v21 = sub_42F970((const char *)&byte_587000[134348]);
    sub_46AE60(*(int *)&byte_5D4594[1048148], (int)v21);
    sub_46AE40(*(int *)&byte_5D4594[1048148], -40, -20);
    v22 = *(_DWORD *)&byte_5D4594[1048192];
    LOBYTE(v22) = byte_5D4594[1048192] | 1;
    *(_DWORD *)&byte_5D4594[1048192] = v22;
    sub_46AC00(*(int *)&byte_5D4594[1048148], 1);
    *(_DWORD *)&byte_5D4594[1049484] = 0;
    v23 = sub_46C3E0(*(int *)&byte_5D4594[1048148], 1032, 20, -7, 110, v68, 0);
    sub_46B430(v23, 0, sub_45FAC0, 0);
    v24 = (wchar_t *)sub_46C3E0(*(int *)&byte_5D4594[1048148], 1032, 15, 12, 10, 14, 0);
    sub_46AE60((int)v24, 0);
    v25 = sub_42F970((const char *)&byte_587000[134368]);
    sub_46AEA0((int)v24, (int)v25);
    sub_46B430(v24, sub_45F630, sub_45F6F0, 0);
    sub_46AE40((int)v24, -55, -32);
    v26 = sub_40F1D0((char *)&byte_587000[134432], 0, (const char *)&byte_587000[134392], 1883);
    sub_46B000(v24 + 18, v26);
    *((_DWORD *)v24 + 92) = 3;
    v27 = (wchar_t *)sub_46C3E0(*(int *)&byte_5D4594[1048148], 1032, 15, 32, 10, 14, 0);
    sub_46AE60((int)v27, 0);
    v28 = sub_42F970((const char *)&byte_587000[134448]);
    sub_46AEA0((int)v27, (int)v28);
    sub_46B430(v27, sub_45F630, sub_45F6F0, 0);
    sub_46AE40((int)v27, -55, -52);
    v29 = sub_40F1D0((char *)&byte_587000[134512], 0, (const char *)&byte_587000[134472], 1892);
    sub_46B000(v27 + 18, v29);
    *((_DWORD *)v27 + 92) = 4;
    *(_DWORD *)&byte_5D4594[1049508] = sub_46C3E0(
                                         0,
                                         1032,
                                         *(_DWORD *)&byte_5D4594[1047548] - 1,
                                         *(_DWORD *)&byte_5D4594[1047552] + 26,
                                         61,
                                         48,
                                         0);
    sub_46AE40(*(int *)&byte_5D4594[1049508], 1, -26);
    v30 = sub_42F970((const char *)&byte_587000[134528]);
    sub_46AE60(*(int *)&byte_5D4594[1049508], (int)v30);
    v31 = sub_42F970((const char *)&byte_587000[134552]);
    sub_46AEA0(*(int *)&byte_5D4594[1049508], (int)v31);
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1049508] + 368) = 5;
    sub_46B430(*(_DWORD **)&byte_5D4594[1049508], sub_45F8D0, sub_45F6F0, 0);
  }
  else
  {
    *(_DWORD *)&byte_5D4594[1049508] = sub_46C3E0(
                                         0,
                                         1032,
                                         *(_DWORD *)&byte_5D4594[1047548] - 1,
                                         *(_DWORD *)&byte_5D4594[1047552] + 26,
                                         61,
                                         48,
                                         0);
    sub_46AE40(*(int *)&byte_5D4594[1049508], 1, -26);
    v32 = sub_42F970((const char *)&byte_587000[134576]);
    sub_46AE60(*(int *)&byte_5D4594[1049508], (int)v32);
    v33 = sub_42F970((const char *)&byte_587000[134596]);
    sub_46AEA0(*(int *)&byte_5D4594[1049508], (int)v33);
    sub_46B430(*(_DWORD **)&byte_5D4594[1049508], sub_45F8D0, sub_45F6F0, 0);
  }
  *(_DWORD *)&byte_5D4594[1049524] = sub_46C3E0(*(int *)&byte_5D4594[1049508], 1160, 0, 9, 29, 30, 0);
  v34 = sub_42F970((const char *)&byte_587000[134616]);
  sub_46AE60(*(int *)&byte_5D4594[1049524], (int)v34);
  v35 = sub_42F970((const char *)&byte_587000[134632]);
  sub_46AEA0(*(int *)&byte_5D4594[1049524], (int)v35);
  *(_DWORD *)&byte_5D4594[1049528] = sub_46C3E0(*(int *)&byte_5D4594[1049524], 1064, 1, 2, 28, 28, 0);
  sub_46B430(*(_DWORD **)&byte_5D4594[1049528], sub_45F450, sub_45EF30, sub_45F3F0);
  v36 = sub_40F1D0((char *)&byte_587000[134692], 0, (const char *)&byte_587000[134652], 1931);
  sub_46B000((wchar_t *)(*(_DWORD *)&byte_5D4594[1049528] + 36), v36);
  if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[2618908] + 2251) )
  {
    v37 = (wchar_t *)sub_46C3E0(*(int *)&byte_5D4594[1049508], 1032, 30, 0, 15, 19, 0);
    sub_46AE40((int)v37, -29, -26);
    sub_46AE60((int)v37, 0);
    v38 = sub_42F970((const char *)&byte_587000[134708]);
    sub_46AEA0((int)v37, (int)v38);
    sub_46B430(v37, sub_45F630, sub_45F6F0, 0);
    *((_DWORD *)v37 + 92) = 0;
    v39 = sub_40F1D0((char *)&byte_587000[134772], 0, (const char *)&byte_587000[134732], 1943);
    sub_46B000(v37 + 18, v39);
    v40 = (wchar_t *)sub_46C3E0(*(int *)&byte_5D4594[1049508], 1032, 30, 29, 15, 19, 0);
    sub_46AE40((int)v40, -29, -55);
    sub_46AE60((int)v40, 0);
    v41 = sub_42F970((const char *)&byte_587000[134792]);
    sub_46AEA0((int)v40, (int)v41);
    sub_46B430(v40, sub_45F630, sub_45F6F0, 0);
    *((_DWORD *)v40 + 92) = 1;
    v42 = sub_40F1D0((char *)&byte_587000[134856], 0, (const char *)&byte_587000[134816], 1953);
    sub_46B000(v40 + 18, v42);
    v43 = (wchar_t *)sub_46C3E0(*(int *)&byte_5D4594[1049508], 1032, 48, 16, 13, 17, 0);
    sub_46AE40((int)v43, -47, -42);
    sub_46AE60((int)v43, 0);
    v44 = sub_42F970((const char *)&byte_587000[134876]);
    sub_46AEA0((int)v43, (int)v44);
    sub_46B430(v43, sub_45F630, sub_45F6F0, 0);
    *((_DWORD *)v43 + 92) = 2;
    v45 = sub_40F1D0((char *)&byte_587000[134940], 0, (const char *)&byte_587000[134900], 1963);
    sub_46B000(v43 + 18, v45);
    *(_DWORD *)&byte_5D4594[1049516] = sub_46C3E0(0, 1032, 0, 0, 1, 1, 0);
    sub_46B430(*(_DWORD **)&byte_5D4594[1049516], sub_45EF40, sub_45F8F0, 0);
    *(_DWORD *)&byte_5D4594[1049512] = sub_46C3E0(
                                         0,
                                         1152,
                                         *(int *)&byte_5D4594[1047548],
                                         *(int *)&byte_5D4594[1047552],
                                         2,
                                         2,
                                         0);
    v46 = sub_42F970((const char *)&byte_587000[134960]);
    sub_46AE60(*(int *)&byte_5D4594[1049512], (int)v46);
    v47 = sub_46C3E0(*(int *)&byte_5D4594[1049512], 8, 115, 6, 101, 14, 0);
    sub_46B430(v47, 0, sub_45F9B0, 0);
  }
  v64 = 0;
  while ( 1 )
  {
    v65 = 0;
    v66 = 0;
    v69 = 5;
    v48 = v64 << 8;
    v49 = *(_DWORD *)&byte_5D4594[v48 + 1048404];
    v71 = &byte_5D4594[v48 + 1048196];
    v50 = (int *)&byte_5D4594[v48 + 1048428];
    v51 = *(_DWORD *)(v49 + 16) + 10;
    v52 = *(_DWORD *)(v49 + 20) + 5;
    v67 = v51;
    for ( i = v52; ; v52 = i )
    {
      v53 = sub_46C3E0(0, 1160, v51, v52, 30, 10, 0);
      v63 = v0 + 1;
      if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[2618908] + 2251) )
      {
        nox_sprintf(v72, (const char *)&byte_587000[134976], v63);
        v54 = sub_42F970(v72);
        sub_46AE60((int)v53, (int)v54);
        *(_DWORD *)&v72[strlen(v72)] = *(_DWORD *)&byte_587000[134996];
        v55 = sub_42F970(v72);
        sub_46AEA0((int)v53, (int)v55);
        v51 = v67;
      }
      else
      {
        nox_sprintf(v72, (const char *)&byte_587000[135000], v63);
        v56 = sub_42F970(v72);
        sub_46AE60((int)v53, (int)v56);
        v57 = sub_42F970(v72);
        sub_46AEA0((int)v53, (int)v57);
      }
      sub_46AE40((int)v53, -70 - v65, -23);
      sub_46B430(v53, sub_45F8D0, 0, 0);
      *v50 = (int)v53;
      sub_45DE10(v0, (int)v71);
      if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[2618908] + 2251) )
      {
        v58 = sub_46C3E0(*v50, 1032, 12, 0, 10, 10, 0);
        sub_46B430(v58, sub_45F520, sub_45EF30, sub_45F480);
        v58[92] = v0 | (v64 << 16);
      }
      if ( v64 == 4 )
      {
        v59 = sub_46C3E0(*(_DWORD *)&byte_5D4594[v66 + 1049452], 1032, 13, 39, 10, 10, 0);
        sub_46B430(v59, 0, sub_45F5D0, 0);
        v59[92] = v0++;
      }
      else
      {
        sub_46AC00(*v50, 1);
      }
      ++v50;
      v60 = *(_DWORD *)&byte_587000[v66 + 133488];
      v51 += v60;
      v67 = v51;
      v61 = v69 == 1;
      v65 += v60;
      v66 += 4;
      --v69;
      if ( v61 )
        break;
    }
    if ( ++v64 >= 5u )
      break;
    v0 = 0;
  }
  if ( !*(_BYTE *)(*(_DWORD *)&byte_5D4594[2618908] + 2251) )
  {
    for ( j = 0; j < 120; j += 24 )
    {
      *(_DWORD *)&byte_5D4594[j + 1047788] = *(_DWORD *)&byte_587000[j + 133536];
      *(_DWORD *)&byte_5D4594[j + 1047792] = *(_DWORD *)&byte_587000[j + 133540];
      *(_DWORD *)&byte_5D4594[j + 1047796] = *(_DWORD *)&byte_587000[j + 133544];
      *(_DWORD *)&byte_5D4594[j + 1047800] = *(_DWORD *)&byte_587000[j + 133548];
      *(_DWORD *)&byte_5D4594[j + 1047804] = *(_DWORD *)&byte_587000[j + 133552];
      *(_DWORD *)&byte_5D4594[j + 1047808] = 0;
    }
  }
  sub_45E110(0);
  return 1;
}

//----- (0045EF30) --------------------------------------------------------
int sub_45EF30()
{
  return 1;
}

//----- (0045EF40) --------------------------------------------------------
int sub_45EF40()
{
  return 0;
}

//----- (0045EF50) --------------------------------------------------------
int __cdecl sub_45EF50(int a1, int a2, unsigned int a3)
{
  int *v3; // esi
  int v4; // ebx
  _DWORD *v5; // eax
  unsigned __int16 v7; // di
  int v8; // ebp
  _DWORD *v9; // ecx
  int v10; // eax
  int v11; // ecx
  unsigned int v12; // eax
  int v13; // eax
  int2 v14; // [esp+10h] [ebp-8h]
  int v15; // [esp+24h] [ebp+Ch]

  v3 = *(int **)(a1 + 368);
  if ( !*(_DWORD *)&byte_5D4594[2614252] || (*(_BYTE *)(*(_DWORD *)&byte_5D4594[2614252] + 120) & 2) != 2 )
  {
    v4 = 0;
    v5 = v3 + 53;
    do
    {
      if ( a1 == *v5 )
        break;
      ++v4;
      ++v5;
    }
    while ( v4 < 5 );
    if ( v4 == 5 )
      return 0;
    v7 = a3;
    v8 = 8 * v4;
    v15 = a3 >> 16;
    v9 = (_DWORD *)(8 * v4 + v3[51]);
    v14.field_0 = 8 * v4 + v3[51];
    switch ( a2 )
    {
      case 5:
        if ( !*v9
          || *(_DWORD *)&byte_5D4594[1047928]
          || *(_DWORD *)&byte_5D4594[1047932]
          || sub_57AF20()
          || *(_BYTE *)(*(_DWORD *)&byte_5D4594[2618908] + 2251) && !sub_424B70(*(_DWORD *)v14.field_0) )
        {
          return 1;
        }
        sub_46ADC0(a1);
        sub_477640(*(_DWORD *)v14.field_0, 2);
        *(_DWORD *)&byte_5D4594[1049692] = v3;
        *(_DWORD *)&byte_5D4594[1049696] = v3[51];
        sub_452D80(793, 100);
        return 1;
      case 6:
      case 7:
        if ( !sub_46AE00() )
          return 1;
        if ( sub_57AF20() )
          goto LABEL_51;
        v10 = sub_45DE60((int)v3, v7, v15);
        if ( *(_DWORD *)&byte_5D4594[1047932] )
        {
          if ( v10 < 0 )
            sub_4611B0();
          *(_DWORD *)&byte_5D4594[1047932] = 0;
          goto LABEL_51;
        }
        if ( *(_DWORD *)&byte_5D4594[1047928] )
        {
          if ( v10 < 0 )
            sub_45D9D0(*(int *)&byte_5D4594[1047556]);
          *(_DWORD *)&byte_5D4594[1047928] = 0;
          goto LABEL_52;
        }
        if ( v10 < 0 )
        {
          v12 = sub_45DCA0(*(_DWORD *)(v8 + v3[51]), *(_BYTE *)(v8 + v3[51] + 4), v7, v15, v3);
          if ( v12 >> 16 == 137 )
          {
            v14.field_0 = v7;
            v14.field_4 = v15;
            v13 = sub_4281F0(&v14, (int4 *)&byte_587000[133656]);
            if ( v13 || *(_DWORD *)&byte_5D4594[1049696] && *(_DWORD *)&byte_5D4594[1049696] != v3[51] )
              goto LABEL_51;
            *(_DWORD *)(v3[51] + 8 * v4) = 0;
            *(_BYTE *)(v3[51] + v8 + 4) = 0;
            if ( v3 == (int *)&byte_5D4594[1047940] )
              goto LABEL_51;
          }
          else
          {
            *(_DWORD *)(v3[51] + 8 * v4) = v12 >> 16;
            *(_BYTE *)(v3[51] + v8 + 4) = v12;
            if ( v3 == (int *)&byte_5D4594[1047940] )
              goto LABEL_51;
          }
        }
        else
        {
          if ( *(_DWORD *)&byte_5D4594[1049692] )
          {
            if ( *(int **)&byte_5D4594[1049692] == v3
              && *(_DWORD *)&byte_5D4594[1049692] == *(_DWORD *)&byte_587000[133480] )
            {
              if ( *(_DWORD *)&byte_5D4594[1049696] )
              {
                v11 = v3[51];
                if ( *(_DWORD *)&byte_5D4594[1049696] != v11 )
                {
                  sub_45F390(*(int *)&byte_5D4594[1049696], v11, v4, v10);
                  sub_452D80(794, 100);
                  sub_45DDF0((int)v3);
                  goto LABEL_51;
                }
              }
            }
          }
          if ( v10 == v4 )
          {
            *(_DWORD *)&byte_5D4594[1049532] = a1;
            if ( !*(_DWORD *)&byte_5D4594[2618908] || v3 == (int *)&byte_5D4594[1047940] )
              goto LABEL_53;
            if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[2618908] + 2251) )
            {
              if ( sub_424B70(*(_DWORD *)v14.field_0) )
              {
                sub_45DF60(*(_DWORD *)v14.field_0, *(_BYTE *)(v14.field_0 + 4));
                sub_45DAD0(v4);
              }
            }
            else
            {
              sub_45DFC0(*(_DWORD *)v14.field_0);
              sub_45DAD0(v4);
            }
LABEL_51:
            if ( *(_DWORD *)&byte_5D4594[1047928] )
              goto LABEL_54;
LABEL_52:
            if ( *(_DWORD *)&byte_5D4594[1047932] )
              goto LABEL_54;
LABEL_53:
            sub_46ADE0(a1);
            *(_DWORD *)&byte_5D4594[1049532] = 0;
LABEL_54:
            sub_477660();
            return 1;
          }
          sub_45F300((int)v3, v4, v10);
          sub_452D80(794, 100);
          if ( v3 == (int *)&byte_5D4594[1047940] )
            goto LABEL_51;
        }
        sub_45DDF0((int)v3);
        goto LABEL_51;
      case 8:
      case 12:
      case 16:
        return 0;
      default:
        return 1;
    }
  }
  return 1;
}
// 45F261: variable 'v13' is possibly undefined

//----- (0045F300) --------------------------------------------------------
wchar_t *__cdecl sub_45F300(int a1, int a2, int a3)
{
  int v3; // eax
  int v4; // ecx
  int v5; // edx
  _DWORD *v6; // eax
  wchar_t *v7; // eax
  wchar_t *v8; // eax

  v3 = *(_DWORD *)(a1 + 204);
  v4 = *(_DWORD *)(v3 + 8 * a2);
  v5 = *(_DWORD *)(v3 + 8 * a2 + 4);
  *(_DWORD *)(v3 + 8 * a2) = *(_DWORD *)(8 * a3 + v3);
  *(_DWORD *)(v3 + 8 * a2 + 4) = *(_DWORD *)(8 * a3 + v3 + 4);
  v6 = (_DWORD *)(*(_DWORD *)(a1 + 204) + 8 * a3);
  *v6 = v4;
  v6[1] = v5;
  v7 = (wchar_t *)sub_424930(*(_DWORD *)(*(_DWORD *)(a1 + 204) + 8 * a2));
  sub_46B000((wchar_t *)(*(_DWORD *)(a1 + 4 * a2 + 212) + 36), v7);
  v8 = (wchar_t *)sub_424930(*(_DWORD *)(8 * a3 + *(_DWORD *)(a1 + 204)));
  return sub_46B000((wchar_t *)(*(_DWORD *)(a1 + 4 * a3 + 212) + 36), v8);
}

//----- (0045F390) --------------------------------------------------------
wchar_t *__cdecl sub_45F390(int a1, int a2, int a3, int a4)
{
  int v4; // edi
  int v5; // ebx
  wchar_t *v6; // eax

  v4 = *(_DWORD *)(a2 + 8 * a4);
  v5 = *(_DWORD *)(a2 + 8 * a4 + 4);
  *(_DWORD *)(a2 + 8 * a4) = *(_DWORD *)(a1 + 8 * a3);
  *(_DWORD *)(a2 + 8 * a4 + 4) = *(_DWORD *)(a1 + 8 * a3 + 4);
  *(_DWORD *)(a1 + 8 * a3) = v4;
  *(_DWORD *)(a1 + 8 * a3 + 4) = v5;
  v6 = (wchar_t *)sub_424930(*(_DWORD *)(a2 + 8 * a4));
  return sub_46B000((wchar_t *)(*(_DWORD *)(*(_DWORD *)&byte_587000[133480] + 4 * a4 + 212) + 36), v6);
}

//----- (0045F3F0) --------------------------------------------------------
int sub_45F3F0()
{
  wchar_t *v0; // eax

  if ( sub_45CFC0() )
    v0 = sub_40F1D0((char *)&byte_587000[135064], 0, (const char *)&byte_587000[135024], 901);
  else
    v0 = sub_40F1D0((char *)&byte_587000[135124], 0, (const char *)&byte_587000[135084], 905);
  sub_4776B0(v0);
  return 1;
}

//----- (0045F450) --------------------------------------------------------
int __cdecl sub_45F450(int a1, unsigned int a2)
{
  if ( a2 >= 5 )
  {
    if ( a2 <= 6 )
      return 1;
    if ( a2 == 7 )
    {
      sub_45AC70();
      return 1;
    }
  }
  return 0;
}

//----- (0045F480) --------------------------------------------------------
int __cdecl sub_45F480(int a1)
{
  wchar_t *v1; // eax

  if ( sub_45F500(
         *(unsigned __int16 *)(a1 + 368),
         (int)&byte_5D4594[256 * ((unsigned __int16)(*(_DWORD *)(a1 + 368) >> 16)) + 1048196]) )
  {
    v1 = sub_40F1D0((char *)&byte_587000[135180], 0, (const char *)&byte_587000[135140], 941);
  }
  else
  {
    v1 = sub_40F1D0((char *)&byte_587000[135236], 0, (const char *)&byte_587000[135196], 945);
  }
  sub_4776B0(v1);
  return 1;
}

//----- (0045F500) --------------------------------------------------------
int __cdecl sub_45F500(int a1, int a2)
{
  return (*(_DWORD *)(*(_DWORD *)(a2 + 4 * a1 + 232) + 36) >> 1) & 1;
}

//----- (0045F520) --------------------------------------------------------
int __cdecl sub_45F520(int a1, unsigned int a2)
{
  int v2; // ebx
  int v3; // esi
  int v4; // eax
  int v5; // edi
  int v6; // eax

  v2 = (unsigned __int16)(*(_DWORD *)(a1 + 368) >> 16) << 8;
  v3 = *(unsigned __int16 *)(a1 + 368);
  v4 = *(_DWORD *)&byte_5D4594[v2 + 1048400];
  v5 = v4 + 8 * v3;
  v6 = *(_DWORD *)(v4 + 8 * v3);
  if ( !v6 )
    return 0;
  if ( a2 != 5 )
  {
    if ( a2 > 5 && a2 <= 7 )
      return 1;
    return 0;
  }
  if ( sub_424A50(v6, 2098176) )
  {
    sub_452D80(925, 100);
  }
  else
  {
    *(_BYTE *)(v5 + 4) ^= 1u;
    sub_45DE10(v3, (int)&byte_5D4594[v2 + 1048196]);
    sub_452D80(921, 100);
  }
  return 1;
}

//----- (0045F5D0) --------------------------------------------------------
int __cdecl sub_45F5D0(_DWORD *a1)
{
  int v1; // esi
  __int16 *v2; // esi
  int v4; // [esp+4h] [ebp-4h]

  v1 = a1[92];
  sub_46AA60(a1, &v4, &a1);
  v2 = (__int16 *)sub_42E8E0(v1 + 28, 1);
  if ( v2 )
  {
    sub_434390(*(int *)&byte_5D4594[2523948]);
    sub_43F6E0(*(int *)&byte_5D4594[1049684], v2, v4, (int)a1);
  }
  return 1;
}

//----- (0045F630) --------------------------------------------------------
int __cdecl sub_45F630(int a1, unsigned int a2)
{
  int v2; // esi

  v2 = *(_DWORD *)(a1 + 368);
  if ( (!*(_DWORD *)&byte_5D4594[2614252] || (*(_BYTE *)(*(_DWORD *)&byte_5D4594[2614252] + 120) & 2) != 2)
    && !sub_4AE3D0() )
  {
    if ( a2 == 5 )
    {
      switch ( v2 )
      {
        case 0:
          *(_DWORD *)(*(_DWORD *)&byte_5D4594[1049508] + 60) = 0;
          sub_460540();
          break;
        case 1:
          *(_DWORD *)(*(_DWORD *)&byte_5D4594[1049508] + 60) = 0;
          sub_4604F0();
          break;
        case 2:
          *(_DWORD *)(*(_DWORD *)&byte_5D4594[1049508] + 60) = 0;
          sub_460920();
          break;
        case 3:
          sub_4603F0();
          break;
        case 4:
          sub_4603A0();
          break;
        default:
          break;
      }
      *(_DWORD *)&byte_5D4594[1049700] = 2;
      *(_DWORD *)&byte_5D4594[1049704] = v2;
    }
    else if ( a2 <= 5 || a2 > 7 )
    {
      return 0;
    }
  }
  return 1;
}

//----- (0045F6F0) --------------------------------------------------------
int __cdecl sub_45F6F0(_DWORD *a1)
{
  _DWORD *v1; // esi
  int v2; // edi
  char *v3; // eax
  int v4; // ecx
  int v5; // esi
  int v6; // eax
  int v8; // [esp+8h] [ebp-4h]

  v1 = a1;
  v2 = a1[92];
  sub_46AA60(a1, &a1, &v8);
  v3 = (char *)a1 + v1[24];
  v4 = v1[25] + v8;
  a1 = (_DWORD *)((char *)a1 + v1[24]);
  v8 = v4;
  if ( *(int *)&byte_5D4594[1049700] <= 0 || *(int *)&byte_5D4594[1049704] != v2 )
  {
    v5 = v1[15];
    if ( v5 )
      sub_47D2C0(v5, (int)v3, v4);
  }
  else
  {
    sub_47D2C0(v1[19], (int)v3, v4);
    if ( !--*(_DWORD *)&byte_5D4594[1049700] && *(_DWORD *)&byte_5D4594[1049704] <= 2 )
      *(_DWORD *)(*(_DWORD *)&byte_5D4594[1049508] + 60) = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1049508] + 76);
  }
  v6 = sub_45CFC0();
  sub_46AE10(*(int *)&byte_5D4594[1049524], v6);
  return 1;
}

//----- (0045F7A0) --------------------------------------------------------
int __cdecl sub_45F7A0(_DWORD *a1, unsigned int a2, unsigned int a3)
{
  int result; // eax

  if ( a2 < 5 )
    goto LABEL_18;
  if ( a2 <= 6 )
    return 1;
  if ( a2 != 7 )
  {
LABEL_18:
    sub_46AE10(*(int *)&byte_5D4594[1049504], 0);
    return 0;
  }
  if ( *(_DWORD *)&byte_5D4594[1047928] )
  {
    if ( !sub_46AAB0(a1, (unsigned __int16)a3, a3 >> 16) )
      sub_45E040();
    sub_46ADE0((int)a1);
    *(_DWORD *)&byte_5D4594[1049532] = 0;
    *(_DWORD *)&byte_5D4594[1047928] = 0;
    return 1;
  }
  sub_46AE10(*(int *)&byte_5D4594[1049504], 1);
  if ( !*(_DWORD *)&byte_5D4594[2618908] )
    return 1;
  if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[2618908] + 2251) == 1 && sub_45F890() )
  {
    sub_46ADC0((int)a1);
    *(_DWORD *)&byte_5D4594[1049532] = a1;
    *(_DWORD *)&byte_5D4594[1047928] = 1;
    result = 1;
  }
  else
  {
    sub_45E040();
    result = 1;
  }
  return result;
}

//----- (0045F890) --------------------------------------------------------
int sub_45F890()
{
  int *v0; // esi
  int v1; // edi

  v0 = *(int **)&byte_5D4594[1048144];
  v1 = 0;
  while ( !*v0 || (sub_424A70(*v0) & 8) != 8 )
  {
    ++v1;
    v0 += 2;
    if ( v1 >= 3 )
      return 0;
  }
  return 1;
}

//----- (0045F8D0) --------------------------------------------------------
BOOL __cdecl sub_45F8D0(int a1, int a2, int a3, int a4)
{
  return a2 != 8 && a2 != 12 && a2 != 16;
}

//----- (0045F8F0) --------------------------------------------------------
int sub_45F8F0()
{
  sub_45F900();
  return 1;
}

//----- (0045F900) --------------------------------------------------------
_DWORD *sub_45F900()
{
  _DWORD *result; // eax
  int i; // edi
  int v2; // ecx
  int v3; // eax
  int v4; // esi

  result = *(_DWORD **)&byte_587000[133480];
  if ( *(_DWORD *)&byte_587000[133480] )
  {
    if ( *(_DWORD *)&byte_5D4594[1049496] )
    {
      result = (_DWORD *)sub_430B40();
      if ( *(_DWORD **)&byte_5D4594[1049492] == result )
        return result;
      *(_DWORD *)&byte_5D4594[1049496] = 0;
    }
    else
    {
      result = (_DWORD *)sub_430B40();
      if ( *(_DWORD **)&byte_5D4594[1049492] != result )
        return result;
      *(_DWORD *)&byte_5D4594[1049496] = 1;
    }
    for ( i = 0; i < 5; ++i )
    {
      v2 = *(_DWORD *)(*(_DWORD *)&byte_587000[133480] + 204);
      v3 = *(_DWORD *)(v2 + 8 * i);
      v4 = v2 + 8 * i;
      if ( v3 )
      {
        if ( !sub_424A50(v3, 2098176) )
        {
          *(_BYTE *)(v4 + 4) ^= 1u;
          sub_45DE10(i, *(int *)&byte_587000[133480]);
        }
      }
    }
    sub_45DDF0(*(int *)&byte_587000[133480]);
    result = sub_452D80(921, 100);
  }
  return result;
}

//----- (0045F9B0) --------------------------------------------------------
int __cdecl sub_45F9B0(_DWORD *a1)
{
  _DWORD *v1; // esi
  wchar_t *v2; // eax
  char *v3; // esi
  int v5; // [esp-8h] [ebp-5Ch]
  int v6; // [esp+0h] [ebp-54h]
  int v7; // [esp+4h] [ebp-50h]
  int v8; // [esp+8h] [ebp-4Ch]
  int v9; // [esp+Ch] [ebp-48h]
  int v10; // [esp+10h] [ebp-44h]
  wchar_t v11[32]; // [esp+14h] [ebp-40h]

  if ( !*(_DWORD *)&byte_5D4594[1049476] )
  {
    v1 = a1;
    sub_46AA60(a1, &v6, &a1);
    sub_46AB70((int)v1, &v7, &v9);
    v5 = *(unsigned __int8 *)(*(_DWORD *)&byte_587000[133480] + 200) + 1;
    v2 = sub_40F1D0((char *)&byte_587000[135296], 0, (const char *)&byte_587000[135256], 1276);
    nox_swprintf(v11, v2, v5);
    sub_43F840(0, v11, &v8, &v10, 0);
    v3 = (char *)a1 - sub_43F320(0);
    a1 = &v3[sub_43F320(*(int *)&byte_5D4594[1049684]) + 1];
    v6 += (v7 - v8) / 2;
    sub_434390(*(int *)&byte_5D4594[2523948]);
    sub_4343E0(*(int *)&byte_5D4594[2614248]);
    sub_43F730(0, (__int16 *)v11, v6, (int)a1);
  }
  return 1;
}

//----- (0045FAC0) --------------------------------------------------------
int __cdecl sub_45FAC0(_DWORD *a1)
{
  _DWORD *v1; // esi
  wchar_t *v2; // eax
  int v4; // [esp-4h] [ebp-58h]
  int v5; // [esp+4h] [ebp-50h]
  int v6; // [esp+8h] [ebp-4Ch]
  int v7; // [esp+Ch] [ebp-48h]
  int v8; // [esp+10h] [ebp-44h]
  wchar_t v9[32]; // [esp+14h] [ebp-40h]

  v1 = a1;
  sub_46AA60(a1, &a1, &v7);
  sub_46AB70((int)v1, &v5, &v8);
  v4 = byte_5D4594[1048140] + 1;
  v2 = sub_40F1D0((char *)&byte_587000[135348], 0, (const char *)&byte_587000[135308], 1299);
  nox_swprintf(v9, v2, v4);
  sub_43F840(0, v9, &v6, 0, 0);
  a1 = (_DWORD *)((char *)a1 + (v5 - v6) / 2);
  sub_434390(*(int *)&byte_5D4594[2523948]);
  sub_4343E0(*(int *)&byte_5D4594[2614248]);
  sub_43F730(0, (__int16 *)v9, (int)a1, v7);
  return 1;
}

//----- (0045FB90) --------------------------------------------------------
int __cdecl sub_45FB90(int a1, unsigned int a2, int a3, int a4)
{
  if ( a2 >= 5 )
  {
    if ( a2 <= 6 )
      return 1;
    if ( a2 == 7 )
    {
      if ( !sub_46ACC0(a1) )
        sub_461060();
      return 1;
    }
  }
  return 0;
}

//----- (0045FBD0) --------------------------------------------------------
int __cdecl sub_45FBD0(int yTop)
{
  int v1; // ebx
  int v2; // esi
  _DWORD *v3; // eax
  int v5; // ebp
  int v6; // eax
  int *v7; // edi
  int v8; // eax
  int v9; // esi
  wchar_t *v10; // eax
  __int16 *v11; // eax
  wchar_t *v12; // eax
  int v13; // eax
  unsigned int v14; // eax
  int v15; // [esp-10h] [ebp-20h]
  int v16; // [esp-Ch] [ebp-1Ch]
  int v17; // [esp-Ch] [ebp-1Ch]
  int xLeft; // [esp+8h] [ebp-8h]
  int v19; // [esp+Ch] [ebp-4h]

  v1 = yTop;
  v2 = 0;
  v3 = (_DWORD *)(*(_DWORD *)(yTop + 368) + 212);
  do
  {
    if ( yTop == *v3 )
      break;
    ++v2;
    ++v3;
  }
  while ( v2 < 5 );
  if ( v2 == 5 )
    return 0;
  sub_46AA60((_DWORD *)yTop, &xLeft, &yTop);
  v5 = sub_43F320(0);
  v6 = *(_DWORD *)(*(_DWORD *)&byte_587000[133480] + 204);
  v7 = (int *)(v6 + 8 * v2);
  v8 = *(_DWORD *)(v6 + 8 * v2);
  if ( v8 )
  {
    if ( *(_DWORD *)&byte_5D4594[2598000] <= 0xAu
      || v2 != *(_DWORD *)&byte_587000[133484]
      || (unsigned int)(*(_DWORD *)&byte_5D4594[2598000] - *(_DWORD *)&byte_5D4594[1049540]) >= 0xA )
    {
      v9 = sub_425310(v8, 0);
      v19 = 0;
    }
    else
    {
      v9 = sub_425310(v8, 1);
      v19 = 1;
    }
    v16 = *v7;
    if ( *(_DWORD *)&byte_5D4594[24 * *v7 + 1047776] )
    {
      v10 = (wchar_t *)sub_425260(v16);
      sub_46B000((wchar_t *)(v1 + 36), v10);
      if ( v9 )
      {
LABEL_14:
        sub_47D2C0(v9, xLeft, yTop);
LABEL_19:
        v13 = 24 * *v7;
        if ( *(_DWORD *)&byte_5D4594[v13 + 1047776] || !*(_DWORD *)&byte_5D4594[v13 + 1047772] || sub_4372B0() )
        {
          v14 = sub_4252D0(*v7);
          if ( v14 / *(_DWORD *)&byte_5D4594[2649704] )
          {
            if ( !v19 )
              sub_49CF10(
                xLeft,
                yTop,
                34,
                34
              - (*(_DWORD *)&byte_5D4594[2598000] - *(_DWORD *)&byte_5D4594[24 * *v7 + 1047784])
              / (v14
               / *(_DWORD *)&byte_5D4594[2649704]));
          }
        }
        return 1;
      }
      sub_434390(*(int *)&byte_5D4594[2523948]);
      v17 = yTop + v5 + 2;
      v15 = xLeft + 6;
      v11 = (__int16 *)sub_40F1D0((char *)&byte_587000[135396], 0, (const char *)&byte_587000[135356], 1388);
    }
    else
    {
      v12 = (wchar_t *)sub_425260(v16);
      sub_46B000((wchar_t *)(v1 + 36), v12);
      if ( v9 )
        goto LABEL_14;
      sub_434390(*(int *)&byte_5D4594[2523948]);
      v17 = yTop + v5 + 2;
      v15 = xLeft + 6;
      v11 = (__int16 *)sub_40F1D0((char *)&byte_587000[135444], 0, (const char *)&byte_587000[135404], 1401);
    }
    sub_43F6E0(0, v11, v15, v17);
    goto LABEL_19;
  }
  return 1;
}

//----- (0045FDE0) --------------------------------------------------------
int __cdecl sub_45FDE0(int yTop)
{
  int v1; // edi
  int v2; // esi
  unsigned __int8 *v3; // eax
  int *v4; // ebx
  _DWORD *v5; // eax
  int v7; // eax
  int v8; // ecx
  int v9; // ebp
  unsigned __int8 v10; // al
  wchar_t *v11; // eax
  __int16 *v12; // eax
  int v13; // ebp
  int v14; // edi
  int *v15; // edi
  int v16; // [esp-Ch] [ebp-24h]
  int v17; // [esp-8h] [ebp-20h]
  int xLeft; // [esp+Ch] [ebp-Ch]
  unsigned __int8 *v19; // [esp+10h] [ebp-8h]
  int v20; // [esp+14h] [ebp-4h]

  v1 = yTop;
  v2 = 0;
  v3 = *(unsigned __int8 **)(yTop + 368);
  v19 = v3;
  v4 = (int *)*((_DWORD *)v3 + 51);
  v5 = v3 + 212;
  do
  {
    if ( yTop == *v5 )
      break;
    ++v2;
    ++v5;
  }
  while ( v2 < 5 );
  if ( v2 == 5 )
    return 0;
  sub_46AA60((_DWORD *)yTop, &xLeft, &yTop);
  if ( v4[2 * v2] )
  {
    if ( *(_DWORD *)&byte_5D4594[2598000] <= 0xAu
      || v2 != *(_DWORD *)&byte_587000[133484]
      || (unsigned int)(*(_DWORD *)&byte_5D4594[2598000] - *(_DWORD *)&byte_5D4594[1049540]) >= 0xA )
    {
      v7 = sub_424A90(v4[2 * v2]);
    }
    else
    {
      v7 = sub_424AB0(v4[2 * v2]);
    }
    v8 = v4[2 * v2];
    v9 = v7;
    v10 = byte_5D4594[v8 + 1049544];
    if ( (char)v10 > 0 )
      byte_5D4594[v8 + 1049544] = v10 - 1;
    v11 = (wchar_t *)sub_424930(v4[2 * v2]);
    sub_46B000((wchar_t *)(v1 + 36), v11);
    if ( v9 )
    {
      sub_47D2C0(v9, xLeft, yTop);
    }
    else
    {
      sub_434390(*(int *)&byte_5D4594[2523948]);
      v17 = sub_43F320(0) + yTop + 2;
      v16 = xLeft + 6;
      v12 = (__int16 *)sub_40F1D0((char *)&byte_587000[135492], 0, (const char *)&byte_587000[135452], 1491);
      sub_43F6E0(0, v12, v16, v17);
    }
    v13 = sub_470DD0();
    v14 = sub_4249A0(v4[2 * v2], 1);
    v20 = v14;
    if ( v19 == &byte_5D4594[1047940] && v2 > 0 )
    {
      v15 = v4;
      v19 = (unsigned __int8 *)v2;
      do
      {
        if ( *v15 )
          v13 -= sub_4249A0(*v15, 2);
        v15 += 2;
        --v19;
      }
      while ( v19 );
      v14 = v20;
    }
    if ( !sub_424B70(v4[2 * v2]) || sub_4372B0() || sub_4356C0(*(int *)&byte_5D4594[2614252], 29) )
    {
      sub_49CF10(xLeft, yTop, 30, 30);
      return 1;
    }
    if ( v13 < v14 && v14 )
    {
      sub_49CF10(xLeft, yTop, 30, 30 * (v14 - v13) / v14);
      return 1;
    }
  }
  else
  {
    sub_46B000((wchar_t *)(v1 + 36), (wchar_t *)&byte_5D4594[1049716]);
  }
  return 1;
}

//----- (00460000) --------------------------------------------------------
int sub_460000()
{
  int v0; // edx
  int v1; // eax
  int result; // eax

  v0 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1049504] + 20);
  v1 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1049504] + 20) - *(_DWORD *)&byte_5D4594[1049536];
  if ( v1 >= 0 )
  {
    if ( v1 <= 0 )
    {
      if ( *(_DWORD *)&byte_5D4594[1049536] > *(int *)&byte_5D4594[3807120] )
      {
        sub_460070();
        *(_DWORD *)&byte_5D4594[1049536] = *(_DWORD *)&byte_5D4594[3807120] - 74;
      }
      result = 1;
    }
    else
    {
      sub_46A9B0(*(_DWORD **)&byte_5D4594[1049504], *(_DWORD *)(*(_DWORD *)&byte_5D4594[1049504] + 16), v0 - 1);
      result = 1;
    }
  }
  else
  {
    sub_46A9B0(*(_DWORD **)&byte_5D4594[1049504], *(_DWORD *)(*(_DWORD *)&byte_5D4594[1049504] + 16), v0 + 1);
    result = 1;
  }
  return result;
}

//----- (00460070) --------------------------------------------------------
int sub_460070()
{
  int result; // eax
  char *v1; // eax
  char *v2; // eax
  wchar_t *v3; // eax
  wchar_t *v4; // eax
  char *v5; // eax
  char *v6; // eax
  wchar_t *v7; // eax
  wchar_t *v8; // eax

  result = *(_DWORD *)&byte_5D4594[2618908];
  if ( *(_DWORD *)&byte_5D4594[2618908] )
  {
    if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[2618908] + 2251) == 1 )
    {
      v5 = sub_42F970((const char *)&byte_587000[135500]);
      sub_46AE60(*(int *)&byte_5D4594[1049504], (int)v5);
      v6 = sub_42F970((const char *)&byte_587000[135516]);
      sub_46AEA0(*(int *)&byte_5D4594[1049504], (int)v6);
      v7 = sub_40F1D0((char *)&byte_587000[135572], 0, (const char *)&byte_587000[135532], 1544);
      sub_46B000((wchar_t *)(*(_DWORD *)&byte_5D4594[1049520] + 36), v7);
      sub_46AD60(*(int *)&byte_5D4594[1049520], 8);
      v8 = sub_40F1D0((char *)&byte_587000[135628], 0, (const char *)&byte_587000[135588], 1547);
      sub_46B000((wchar_t *)(*(_DWORD *)&byte_5D4594[1049500] + 36), v8);
      sub_46AD60(*(int *)&byte_5D4594[1049500], 8);
      result = sub_46B340(*(int *)&byte_5D4594[1049500], 0);
    }
    else
    {
      result = *(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[2618908] + 2251) - 2;
      if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[2618908] + 2251) == 2 )
      {
        v1 = sub_42F970((const char *)&byte_587000[135652]);
        sub_46AE60(*(int *)&byte_5D4594[1049504], (int)v1);
        v2 = sub_42F970((const char *)&byte_587000[135668]);
        sub_46AEA0(*(int *)&byte_5D4594[1049504], (int)v2);
        v3 = sub_40F1D0((char *)&byte_587000[135728], 0, (const char *)&byte_587000[135688], 1559);
        sub_46B000((wchar_t *)(*(_DWORD *)&byte_5D4594[1049520] + 36), v3);
        sub_46AD60(*(int *)&byte_5D4594[1049520], 8);
        v4 = sub_40F1D0((char *)&byte_587000[135788], 0, (const char *)&byte_587000[135748], 1562);
        sub_46B000((wchar_t *)(*(_DWORD *)&byte_5D4594[1049500] + 36), v4);
        sub_46AD60(*(int *)&byte_5D4594[1049500], 8);
        result = sub_46B340(*(int *)&byte_5D4594[1049500], 0);
      }
    }
  }
  return result;
}

//----- (004601F0) --------------------------------------------------------
int __cdecl sub_4601F0(int a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int v7; // esi
  char *v8; // eax
  int v9; // ebx
  unsigned __int8 *v10; // ebp
  int *v11; // edi
  _DWORD *v12; // eax
  int v13; // eax
  int result; // eax
  int v15; // [esp+Ch] [ebp+4h]

  v7 = a1;
  *(_DWORD *)(a1 + 208) = sub_46C3E0(0, 1224, a2 - 10, a3 - 15, 199, 59, 0);
  v8 = sub_42F970((const char *)&byte_587000[135812]);
  sub_46AE60(*(_DWORD *)(a1 + 208), (int)v8);
  sub_46AE40(*(_DWORD *)(a1 + 208), -61, -18);
  sub_46B300(*(_DWORD *)(a1 + 208), sub_45F8D0);
  v9 = a5 + 10;
  if ( a4 > 0 )
  {
    v10 = &byte_587000[133488];
    v11 = (int *)(a1 + 212);
    v15 = a4;
    do
    {
      v12 = sub_46C3E0(*(_DWORD *)(v7 + 208), 1032, v9, 15, 34, 34, 0);
      *v11 = (int)v12;
      sub_46B430(v12, a6, a7, 0);
      v13 = *v11;
      ++v11;
      v10 += 4;
      *(_DWORD *)(v13 + 368) = v7;
      v9 += *((_DWORD *)v10 - 1);
      --v15;
    }
    while ( v15 );
  }
  result = *(unsigned __int8 *)(v7 + 200);
  *(_DWORD *)(v7 + 204) = v7 + 40 * result;
  return result;
}

//----- (004602F0) --------------------------------------------------------
void *sub_4602F0()
{
  int v0; // ebp
  unsigned __int8 *v1; // esi
  int v2; // edi
  _DWORD *v3; // ecx
  _BYTE *v4; // eax
  int v5; // edx
  unsigned __int8 *v6; // edx
  unsigned __int8 *v7; // eax
  int v8; // ecx
  void *result; // eax

  sub_4606B0();
  v0 = 0;
  v1 = &byte_5D4594[1048196];
  do
  {
    v2 = 5;
    v3 = (_DWORD *)(*(_DWORD *)&byte_587000[133480] + v0);
    v4 = v1 + 4;
    v5 = *(_DWORD *)&byte_587000[133480] + v0 - (_DWORD)v1;
    do
    {
      *v3 = 0;
      v4[v5] = 0;
      *((_DWORD *)v4 - 1) = 0;
      *v4 = 0;
      v3 += 2;
      v4 += 8;
      --v2;
    }
    while ( v2 );
    v1 += 256;
    v0 += 40;
  }
  while ( (int)v1 < (int)&byte_5D4594[1049476] );
  v6 = &byte_5D4594[1047940];
  do
  {
    v7 = v6;
    v8 = 3;
    do
    {
      *(_DWORD *)v7 = 0;
      v7[4] = 0;
      v7 += 8;
      --v8;
    }
    while ( v8 );
    v6 += 40;
  }
  while ( (int)v6 < (int)&byte_5D4594[1048060] );
  result = *(void **)&byte_587000[133480];
  if ( *(_DWORD *)(*(_DWORD *)&byte_587000[133480] + 232) )
    result = (void *)sub_45DDF0(*(int *)&byte_587000[133480]);
  return result;
}

//----- (00460380) --------------------------------------------------------
void *sub_460380()
{
  unsigned __int8 *v0; // eax

  v0 = &byte_5D4594[1047804];
  do
  {
    *(_DWORD *)v0 = 0;
    v0 += 24;
  }
  while ( (int)v0 < (int)&byte_5D4594[1047924] );
  return sub_4602F0();
}

//----- (004603A0) --------------------------------------------------------
_DWORD *sub_4603A0()
{
  if ( byte_5D4594[1048140] == 2 )
    byte_5D4594[1048140] = 0;
  else
    ++byte_5D4594[1048140];
  *(_DWORD *)&byte_5D4594[1048144] = &byte_5D4594[40 * byte_5D4594[1048140] + 1047940];
  return sub_452D80(798, 100);
}

//----- (004603F0) --------------------------------------------------------
_DWORD *sub_4603F0()
{
  if ( byte_5D4594[1048140] )
    --byte_5D4594[1048140];
  else
    byte_5D4594[1048140] = 2;
  *(_DWORD *)&byte_5D4594[1048144] = &byte_5D4594[40 * byte_5D4594[1048140] + 1047940];
  return sub_452D80(798, 100);
}

//----- (00460440) --------------------------------------------------------
_DWORD *sub_460440()
{
  _DWORD *result; // eax

  if ( sub_4160F0(6u, *(_DWORD *)&byte_5D4594[2649704] >> 1) )
  {
    LOBYTE(result) = 0;
    *(_DWORD *)&byte_5D4594[1049708] = 0;
  }
  else
  {
    result = (_DWORD *)++*(_DWORD *)&byte_5D4594[1049708];
    if ( *(int *)&byte_5D4594[1049708] >= 3 )
    {
      byte_5D4594[1048140] = 2;
      return result;
    }
  }
  byte_5D4594[1048140] = (unsigned __int8)result;
  *(_DWORD *)&byte_5D4594[1048144] = &byte_5D4594[40 * (unsigned __int8)result + 1047940];
  sub_4160D0(6);
  return sub_452D80(798, 100);
}

//----- (004604B0) --------------------------------------------------------
int __cdecl sub_4604B0(int a1)
{
  int result; // eax

  result = a1;
  if ( a1 >= 0 && a1 < 3 )
  {
    byte_5D4594[1048140] = a1;
    result = 5 * (unsigned __int8)a1;
    *(_DWORD *)&byte_5D4594[1048144] = &byte_5D4594[40 * (unsigned __int8)a1 + 1047940];
  }
  return result;
}

//----- (004604E0) --------------------------------------------------------
int sub_4604E0()
{
  return byte_5D4594[1048140];
}

//----- (004604F0) --------------------------------------------------------
int sub_4604F0()
{
  int result; // eax
  int v1; // eax

  result = *(_DWORD *)&byte_5D4594[1049476];
  if ( !*(_DWORD *)&byte_5D4594[1049476] )
  {
    result = *(_DWORD *)&byte_5D4594[1049496];
    if ( !*(_DWORD *)&byte_5D4594[1049496] )
    {
      result = sub_57AF20();
      if ( !result )
      {
        sub_45DAD0(-1);
        v1 = *(unsigned __int8 *)(*(_DWORD *)&byte_587000[133480] + 200) + 1;
        if ( v1 > 4 )
          v1 = 0;
        result = sub_45E110(v1);
      }
    }
  }
  return result;
}

//----- (00460540) --------------------------------------------------------
int sub_460540()
{
  int result; // eax
  int v1; // eax

  result = *(_DWORD *)&byte_5D4594[1049476];
  if ( !*(_DWORD *)&byte_5D4594[1049476] )
  {
    result = *(_DWORD *)&byte_5D4594[1049496];
    if ( !*(_DWORD *)&byte_5D4594[1049496] )
    {
      result = sub_57AF20();
      if ( !result )
      {
        sub_45DAD0(-1);
        v1 = *(unsigned __int8 *)(*(_DWORD *)&byte_587000[133480] + 200) - 1;
        if ( v1 < 0 )
          v1 = 4;
        result = sub_45E110(v1);
      }
    }
  }
  return result;
}

//----- (00460590) --------------------------------------------------------
int sub_460590()
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[1049476];
  if ( !*(_DWORD *)&byte_5D4594[1049476] )
  {
    result = *(_DWORD *)&byte_5D4594[1049496];
    if ( !*(_DWORD *)&byte_5D4594[1049496] )
    {
      if ( sub_4160F0(7u, *(_DWORD *)&byte_5D4594[2649704] >> 1) )
      {
        LOBYTE(result) = 0;
        *(_DWORD *)&byte_5D4594[1049712] = 0;
      }
      else
      {
        result = ++*(_DWORD *)&byte_5D4594[1049712];
        if ( *(int *)&byte_5D4594[1049712] >= 5 )
        {
          *(_BYTE *)(*(_DWORD *)&byte_587000[133480] + 200) = 4;
          return result;
        }
      }
      *(_BYTE *)(*(_DWORD *)&byte_587000[133480] + 200) = result;
      *(_DWORD *)(*(_DWORD *)&byte_587000[133480] + 204) = *(_DWORD *)&byte_587000[133480]
                                                         + 40
                                                         * *(unsigned __int8 *)(*(_DWORD *)&byte_587000[133480] + 200);
      sub_4160D0(7);
      sub_452D80(798, 100);
      result = sub_45DDF0(*(int *)&byte_587000[133480]);
    }
  }
  return result;
}

//----- (00460630) --------------------------------------------------------
int sub_460630()
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[1049476];
  if ( !*(_DWORD *)&byte_5D4594[1049476] )
  {
    result = sub_430B40();
    *(_DWORD *)&byte_5D4594[1049492] = result;
  }
  return result;
}

//----- (00460650) --------------------------------------------------------
int sub_460650()
{
  return *(_DWORD *)&byte_5D4594[1047928];
}

//----- (00460660) --------------------------------------------------------
int sub_460660()
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[1049532];
  if ( *(_DWORD *)&byte_5D4594[1049532] || *(_DWORD *)&byte_5D4594[1047928] || *(_DWORD *)&byte_5D4594[1047932] )
  {
    sub_46ADE0(*(int *)&byte_5D4594[1049532]);
    *(_DWORD *)&byte_5D4594[1049532] = 0;
    *(_DWORD *)&byte_5D4594[1047928] = 0;
    *(_DWORD *)&byte_5D4594[1047932] = 0;
    result = 1;
  }
  return result;
}

//----- (004606B0) --------------------------------------------------------
int sub_4606B0()
{
  unsigned __int8 *v0; // ebp
  int v1; // ecx
  unsigned __int8 *v2; // ebx
  int *v3; // edi
  _BYTE *v4; // esi
  int v6; // [esp+0h] [ebp-Ch]
  int v7; // [esp+4h] [ebp-8h]
  int v8; // [esp+8h] [ebp-4h]

  if ( *(_DWORD *)&byte_5D4594[1049476] != 1 )
    return 0;
  v6 = 0;
  v0 = &byte_5D4594[1048196];
  do
  {
    v1 = (int)&v0[-v6 - *(_DWORD *)&byte_587000[133480]];
    v2 = v0;
    v3 = (int *)(v0 + 232);
    v4 = (_BYTE *)(v6 + *(_DWORD *)&byte_587000[133480] + 4);
    v8 = (int)&v0[-v6 - *(_DWORD *)&byte_587000[133480]];
    v7 = 5;
    while ( 1 )
    {
      *((_DWORD *)v4 - 1) = *(_DWORD *)v2;
      *v4 = v4[v1];
      sub_46AC00(*v3, 1);
      ++v3;
      v2 += 8;
      v4 += 8;
      if ( !--v7 )
        break;
      v1 = v8;
    }
    sub_46AC00(*((_DWORD *)v0 + 52), 1);
    v0 += 256;
    v6 += 40;
  }
  while ( (int)v0 < (int)&byte_5D4594[1049220] );
  *(_BYTE *)(*(_DWORD *)&byte_587000[133480] + 200) = byte_5D4594[1047908];
  *(_DWORD *)(*(_DWORD *)&byte_587000[133480] + 204) = *(_DWORD *)&byte_587000[133480]
                                                     + 40 * *(unsigned __int8 *)(*(_DWORD *)&byte_587000[133480] + 200);
  sub_45DDF0(*(int *)&byte_587000[133480]);
  sub_46AC00(*(int *)&byte_5D4594[1049512], 0);
  sub_452D80(800, 100);
  *(_DWORD *)&byte_5D4594[1049476] = 0;
  return 1;
}

//----- (00460920) --------------------------------------------------------
_DWORD *sub_460920()
{
  unsigned __int8 *v0; // ebx
  int *v1; // ebp
  unsigned __int8 *v2; // esi
  _DWORD *v3; // edi
  int v4; // eax
  _DWORD *result; // eax
  int v6; // [esp+0h] [ebp-Ch]
  int v7; // [esp+4h] [ebp-8h]
  int i; // [esp+8h] [ebp-4h]

  if ( *(_DWORD *)&byte_5D4594[1049476] )
    return (_DWORD *)sub_4606B0();
  result = *(_DWORD **)&byte_5D4594[1049496];
  if ( !*(_DWORD *)&byte_5D4594[1049496] )
  {
    result = (_DWORD *)sub_57AF20();
    if ( !result )
    {
      result = *(_DWORD **)&byte_5D4594[1049476];
      if ( !*(_DWORD *)&byte_5D4594[1049476] )
      {
        if ( *(_DWORD *)&byte_5D4594[1049484] == 1 )
          sub_461010();
        v6 = 0;
        v0 = &byte_5D4594[1048428];
        do
        {
          v1 = (int *)v0;
          v2 = v0 - 228;
          v3 = (_DWORD *)(v6 + *(_DWORD *)&byte_587000[133480]);
          v7 = 5;
          v4 = v6 + *(_DWORD *)&byte_587000[133480] - (_DWORD)(v0 - 232);
          for ( i = v6 + *(_DWORD *)&byte_587000[133480] - (_DWORD)(v0 - 232); ; v4 = i )
          {
            *((_DWORD *)v2 - 1) = *v3;
            *v2 = v2[v4];
            sub_46AC00(*v1, 0);
            ++v1;
            v3 += 2;
            v2 += 8;
            if ( !--v7 )
              break;
          }
          sub_46AC00(*((_DWORD *)v0 - 6), 0);
          sub_45DDF0((int)(v0 - 232));
          v0 += 256;
          v6 += 40;
        }
        while ( (int)v0 < (int)&byte_5D4594[1049452] );
        *(_DWORD *)&byte_5D4594[1047912] = *(unsigned __int8 *)(*(_DWORD *)&byte_587000[133480] + 200);
        *(_BYTE *)(*(_DWORD *)&byte_587000[133480] + 200) = 4;
        *(_DWORD *)(*(_DWORD *)&byte_587000[133480] + 204) = *(_DWORD *)&byte_587000[133480]
                                                           + 40
                                                           * *(unsigned __int8 *)(*(_DWORD *)&byte_587000[133480] + 200);
        sub_45DDF0(*(int *)&byte_587000[133480]);
        sub_46AC00(*(int *)&byte_5D4594[1049512], 1);
        result = sub_452D80(799, 100);
        *(_DWORD *)&byte_5D4594[1049476] = 1;
      }
    }
  }
  return result;
}

//----- (00460940) --------------------------------------------------------
int __thiscall sub_460940(void *this)
{
  int result; // eax
  void *v2; // [esp+0h] [ebp-4h]

  v2 = this;
  if ( !*(_DWORD *)&byte_5D4594[3803300] && sub_461450() == 1 )
  {
    sub_461400();
    sub_461440(0);
  }
  if ( *(_DWORD *)&byte_5D4594[2618908] )
    LOBYTE(v2) = *(_BYTE *)(*(_DWORD *)&byte_5D4594[2618908] + 2251);
  else
    LOBYTE(v2) = sub_431770()[66];
  sub_426AC0(&v2, 1u);
  if ( !(_BYTE)v2 )
  {
    result = sub_460A10(*(int *)&byte_587000[133480], 5, 5, 0);
    if ( !result )
      return result;
    return 1;
  }
  result = sub_460A10(*(int *)&byte_587000[133480], 5, 5, (char)v2);
  if ( result )
  {
    result = sub_460A10((int)&byte_5D4594[1047940], 3, 3, (char)v2);
    if ( result )
    {
      if ( *(_DWORD *)(*(_DWORD *)&byte_587000[133480] + 232) )
        sub_45DDF0(*(int *)&byte_587000[133480]);
      return 1;
    }
  }
  return result;
}

//----- (00460A10) --------------------------------------------------------
int __cdecl sub_460A10(int a1, int a2, int a3, char a4)
{
  int v4; // esi
  int v5; // ebp
  char *v6; // eax
  bool v7; // zf
  size_t v9; // [esp-14h] [ebp-120h]
  int v10; // [esp+0h] [ebp-10Ch]
  int v11; // [esp+4h] [ebp-108h]
  int v12; // [esp+8h] [ebp-104h]
  char v13[256]; // [esp+Ch] [ebp-100h]

  if ( a2 <= 0 )
    return 1;
  v4 = a1;
  v11 = a1;
  v12 = a2;
  do
  {
    v5 = a3;
    if ( a3 > 0 )
    {
      do
      {
        if ( *(_DWORD *)&byte_5D4594[3803300] == 1 )
        {
          sub_426AC0(&v10, 1u);
          sub_426AC0(v13, (unsigned __int8)v10);
          v13[(unsigned __int8)v10] = 0;
          if ( a4 )
            *(_DWORD *)v4 = sub_4243F0(v13);
          else
            *(_DWORD *)v4 = sub_424D80(v13);
        }
        else
        {
          if ( a4 )
          {
            LOBYTE(v10) = strlen(sub_424870(*(_DWORD *)v4));
            sub_426AC0(&v10, 1u);
            v9 = (unsigned __int8)v10;
            v6 = sub_424870(*(_DWORD *)v4);
          }
          else
          {
            LOBYTE(v10) = strlen(sub_425250(*(_DWORD *)v4));
            sub_426AC0(&v10, 1u);
            v9 = (unsigned __int8)v10;
            v6 = sub_425250(*(_DWORD *)v4);
          }
          sub_426AC0(v6, v9);
        }
        sub_426AC0((_BYTE *)(v4 + 4), 1u);
        v4 += 8;
        --v5;
      }
      while ( v5 );
    }
    v4 = v11 + 40;
    v7 = v12 == 1;
    v11 += 40;
    --v12;
  }
  while ( !v7 );
  return 1;
}
// 460A10: using guessed type char var_100[256];

//----- (00460B90) --------------------------------------------------------
int __cdecl sub_460B90(int a1)
{
  int i; // esi
  int result; // eax
  int j; // esi

  if ( a1 )
  {
    sub_46AC00(*(int *)&byte_5D4594[1049500], 0);
    sub_46AC00(*(int *)&byte_5D4594[1049504], 0);
    sub_46AC00(*(int *)&byte_5D4594[1049520], 0);
    sub_46AC00(*(int *)&byte_5D4594[1049508], 0);
    sub_46AC00(*(int *)&byte_5D4594[1049512], 0);
    for ( i = 232; i < 252; i += 4 )
    {
      sub_46AC00(*(_DWORD *)(i + *(_DWORD *)&byte_587000[133480] - 20), 0);
      sub_46AC00(*(_DWORD *)(i + *(_DWORD *)&byte_587000[133480]), 0);
      if ( *(_DWORD *)&byte_5D4594[1049484] )
      {
        sub_46AC00(*(_DWORD *)&byte_5D4594[i + 1047920], 0);
        sub_46AC00(*(_DWORD *)&byte_5D4594[i + 1047940], 0);
        sub_46AC00(*(int *)&byte_5D4594[1049512], 1);
      }
    }
    if ( *(_DWORD *)&byte_5D4594[1049484] )
      sub_46AC00(*(int *)&byte_5D4594[1048148], 0);
    result = sub_46AC00(*(_DWORD *)(*(_DWORD *)&byte_587000[133480] + 208), 0);
  }
  else
  {
    if ( *(_DWORD *)&byte_5D4594[1049476] )
      sub_460920();
    sub_46AC00(*(int *)&byte_5D4594[1049500], 1);
    sub_46AC00(*(int *)&byte_5D4594[1049504], 1);
    sub_46AC00(*(int *)&byte_5D4594[1049520], 1);
    sub_46AC00(*(int *)&byte_5D4594[1049508], 1);
    sub_46AC00(*(int *)&byte_5D4594[1049512], 1);
    for ( j = 232; j < 252; j += 4 )
    {
      sub_46AC00(*(_DWORD *)(j + *(_DWORD *)&byte_587000[133480] - 20), 1);
      sub_46AC00(*(_DWORD *)(j + *(_DWORD *)&byte_587000[133480]), 1);
    }
    sub_46AC00(*(_DWORD *)(*(_DWORD *)&byte_587000[133480] + 208), 1);
    result = sub_46AC00(*(int *)&byte_5D4594[1048148], 1);
  }
  return result;
}

//----- (00460D40) --------------------------------------------------------
BOOL sub_460D40()
{
  return *(_DWORD *)&byte_5D4594[1049508] != 0;
}

//----- (00460D50) --------------------------------------------------------
int sub_460D50()
{
  unsigned __int8 *v0; // edi
  _DWORD **v1; // esi
  int v2; // ebx
  unsigned __int8 *v3; // esi
  int result; // eax

  sub_46C4E0(*(_DWORD **)&byte_5D4594[1049500]);
  *(_DWORD *)&byte_5D4594[1049500] = 0;
  sub_46C4E0(*(_DWORD **)&byte_5D4594[1049504]);
  *(_DWORD *)&byte_5D4594[1049504] = 0;
  sub_46C4E0(*(_DWORD **)&byte_5D4594[1049520]);
  *(_DWORD *)&byte_5D4594[1049520] = 0;
  sub_46C4E0(*(_DWORD **)&byte_5D4594[1049508]);
  *(_DWORD *)&byte_5D4594[1049508] = 0;
  sub_46C4E0(*(_DWORD **)&byte_5D4594[1049512]);
  *(_DWORD *)&byte_5D4594[1049512] = 0;
  sub_46C4E0(*(_DWORD **)&byte_5D4594[1049516]);
  *(_DWORD *)&byte_5D4594[1049516] = 0;
  v0 = &byte_5D4594[1048404];
  do
  {
    sub_46C4E0(*(_DWORD **)v0);
    *(_DWORD *)v0 = 0;
    v1 = (_DWORD **)(v0 + 24);
    v2 = 5;
    do
    {
      sub_46C4E0(*(v1 - 5));
      *(v1 - 5) = 0;
      sub_46C4E0(*v1);
      *v1 = 0;
      ++v1;
      --v2;
    }
    while ( v2 );
    v0 += 256;
  }
  while ( (int)v0 < (int)&byte_5D4594[1049684] );
  sub_46C4E0(*(_DWORD **)&byte_5D4594[1048148]);
  *(_DWORD *)&byte_5D4594[1048148] = 0;
  v3 = &byte_5D4594[1048152];
  do
  {
    result = sub_46C4E0(*(_DWORD **)v3);
    *(_DWORD *)v3 = 0;
    v3 += 4;
  }
  while ( (int)v3 < (int)&byte_5D4594[1048164] );
  *(_DWORD *)&byte_5D4594[1049532] = 0;
  *(_DWORD *)&byte_5D4594[1047928] = 0;
  *(_DWORD *)&byte_5D4594[1047932] = 0;
  return result;
}

//----- (00460E60) --------------------------------------------------------
int sub_460E60()
{
  int result; // eax

  if ( sub_460D40() )
    sub_460D50();
  result = sub_45E190();
  if ( result )
  {
    sub_460EA0(*(int *)&byte_587000[80828]);
    result = 1;
  }
  return result;
}

//----- (00460E90) --------------------------------------------------------
int sub_460E90()
{
  int result; // eax

  result = sub_460D40();
  if ( result == 1 )
    result = sub_460D50();
  return result;
}

//----- (00460EA0) --------------------------------------------------------
int __cdecl sub_460EA0(int a1)
{
  return sub_460B90(a1);
}

//----- (00460EB0) --------------------------------------------------------
char __cdecl sub_460EB0(int a1, char a2)
{
  char result; // al

  result = a2;
  byte_5D4594[a1 + 1049544] = a2;
  return result;
}

//----- (00460EC0) --------------------------------------------------------
_DWORD *__cdecl sub_460EC0(int a1)
{
  _DWORD *result; // eax
  int v2; // esi
  int v3; // eax
  int v4; // [esp-24h] [ebp-24h]
  int v5; // [esp-20h] [ebp-20h]
  int v6; // [esp-1Ch] [ebp-1Ch]
  char v7; // [esp-14h] [ebp-14h]
  char v8; // [esp-10h] [ebp-10h]

  if ( !a1 )
    return (_DWORD *)sub_460070();
  result = *(_DWORD **)&byte_5D4594[1049500];
  if ( !(*(_BYTE *)(*(_DWORD *)&byte_5D4594[1049500] + 4) & 8) )
  {
    v2 = 50;
    *(_DWORD *)&byte_5D4594[1049536] = *(_DWORD *)&byte_5D4594[3807120] + 1;
    do
    {
      v8 = sub_415FF0(4, 6, (const char *)&byte_587000[135828], 2732);
      v7 = sub_415FF0(3, 6, (const char *)&byte_587000[135868], 2731);
      v6 = sub_415FF0(-20, -5, (const char *)&byte_587000[135908], 2729);
      v5 = sub_415FF0(-5, 5, (const char *)&byte_587000[135948], 2728);
      v4 = sub_415FF0(0, 20, (const char *)&byte_587000[135988], 2727)
         + *(_DWORD *)(*(_DWORD *)&byte_5D4594[1049504] + 20)
         + 10;
      v3 = sub_415FF0(0, 20, (const char *)&byte_587000[136028], 2726);
      result = sub_431540(0, v3 + *(_DWORD *)(*(_DWORD *)&byte_5D4594[1049504] + 16) + 10, v4, v5, v6, 1, v7, v8, 2, 1);
      --v2;
    }
    while ( v2 );
  }
  return result;
}

//----- (00461010) --------------------------------------------------------
_DWORD *sub_461010()
{
  _DWORD *result; // eax

  result = *(_DWORD **)&byte_5D4594[1049484];
  if ( *(_DWORD *)&byte_5D4594[1049484] )
  {
    sub_46AC00(*(int *)&byte_5D4594[1048148], 1);
    sub_46AC00(*(int *)&byte_5D4594[1049512], 0);
    sub_46AE10(*(int *)&byte_5D4594[1049500], 0);
    result = sub_452D80(797, 100);
    *(_DWORD *)&byte_5D4594[1049484] = 0;
  }
  return result;
}

//----- (00461060) --------------------------------------------------------
_DWORD *sub_461060()
{
  _DWORD *result; // eax

  if ( *(_DWORD *)&byte_5D4594[1049484] == 1 )
    return sub_461010();
  if ( *(_DWORD *)&byte_5D4594[1049476] == 1 )
    sub_4606B0();
  sub_46AC00(*(int *)&byte_5D4594[1048148], 0);
  sub_46AC00(*(int *)&byte_5D4594[1049512], 1);
  sub_46AE10(*(int *)&byte_5D4594[1049500], 1);
  result = sub_452D80(796, 100);
  *(_DWORD *)&byte_5D4594[1049484] = 1;
  return result;
}

//----- (00461080) --------------------------------------------------------
int sub_461080()
{
  return *(_DWORD *)&byte_5D4594[1049484];
}

//----- (00461090) --------------------------------------------------------
char *__cdecl sub_461090(int a1, int a2)
{
  int v2; // edx
  char *result; // eax

  v2 = *(_DWORD *)&byte_5D4594[2598000];
  result = (char *)&byte_5D4594[1047808];
  do
  {
    if ( *((_DWORD *)result - 5) == a1 )
    {
      *(_DWORD *)result = a2 == 0 ? v2 : 0;
      *((_DWORD *)result - 3) = a2;
    }
    result += 24;
  }
  while ( (int)result < (int)&byte_5D4594[1047928] );
  return result;
}

//----- (004610D0) --------------------------------------------------------
char *__cdecl sub_4610D0(unsigned __int8 a1)
{
  int *v1; // esi
  char *result; // eax

  if ( a1 != 6 )
    return sub_461090(*(_DWORD *)&byte_5D4594[24 * a1 + 1047764], 1);
  v1 = (int *)&byte_5D4594[1047788];
  do
  {
    result = sub_461090(*v1, 1);
    v1 += 6;
  }
  while ( (int)v1 < (int)&byte_5D4594[1047908] );
  return result;
}

//----- (00461120) --------------------------------------------------------
char *__cdecl sub_461120(int a1, int a2)
{
  int v2; // edx
  char *result; // eax

  v2 = 1 << a1;
  result = (char *)&byte_5D4594[1047800];
  do
  {
    if ( *((_DWORD *)result - 3) == a1 )
    {
      if ( a2 )
        *(_DWORD *)result |= v2;
      else
        *(_DWORD *)result &= ~v2;
    }
    result += 24;
  }
  while ( (int)result < (int)&byte_5D4594[1047920] );
  return result;
}

//----- (00461160) --------------------------------------------------------
BOOL __cdecl sub_461160(int a1)
{
  int v1; // edx
  unsigned __int8 *v2; // eax

  v1 = 1;
  v2 = &byte_5D4594[1047788];
  while ( *(_DWORD *)v2 != a1 )
  {
    v2 += 24;
    ++v1;
    if ( (int)v2 >= (int)&byte_5D4594[1047908] )
      return 0;
  }
  return ((1 << a1) & *(_DWORD *)&byte_5D4594[24 * v1 + 1047776]) != 0;
}

//----- (004611A0) --------------------------------------------------------
int sub_4611A0()
{
  return *(_DWORD *)&byte_5D4594[1047932];
}

//----- (004611B0) --------------------------------------------------------
int sub_4611B0()
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[1047936];
  if ( *(_DWORD *)&byte_5D4594[1047936] )
  {
    result = sub_45DAF0(*(int *)&byte_5D4594[1047936]);
    *(_DWORD *)&byte_5D4594[1047936] = 0;
    *(_DWORD *)&byte_5D4594[1047932] = 0;
  }
  return result;
}

//----- (004611E0) --------------------------------------------------------
void __cdecl sub_4611E0(int a1, int a2, char *a3)
{
  unsigned __int8 *v3; // esi

  if ( a1 >= 1 && a1 < 6 )
  {
    v3 = &byte_5D4594[1047804];
    do
    {
      if ( *((_DWORD *)v3 - 4) == a1 && *(_DWORD *)v3 != a2 )
      {
        if ( sub_40A5C0(2) && *(_DWORD *)&byte_5D4594[2618908] )
          *(_DWORD *)(*(_DWORD *)&byte_5D4594[2618908] + 4 * a1 + 3696) = a2;
        *(_DWORD *)v3 = a2;
        if ( a2 )
          sub_45D290(a1, a3, (int)a3);
      }
      v3 += 24;
    }
    while ( (int)v3 < (int)&byte_5D4594[1047924] );
  }
}

//----- (00461250) --------------------------------------------------------
int sub_461250()
{
  int v0; // ecx
  int v1; // esi
  _DWORD *v2; // eax

  v0 = *(unsigned __int8 *)(*(_DWORD *)&byte_587000[133480] + 200);
  do
  {
    v1 = 0;
    v2 = (_DWORD *)(*(_DWORD *)&byte_587000[133480] + 40 * v0);
    do
    {
      if ( !*v2 )
      {
        sub_45E110(v0);
        return v1;
      }
      ++v1;
      v2 += 2;
    }
    while ( v1 < 5 );
    if ( ++v0 >= 5 )
      v0 = 0;
  }
  while ( v0 != *(unsigned __int8 *)(*(_DWORD *)&byte_587000[133480] + 200) );
  return -1;
}

//----- (004612A0) --------------------------------------------------------
int sub_4612A0()
{
  int result; // eax
  _DWORD *i; // ecx

  result = 0;
  for ( i = (_DWORD *)(*(_DWORD *)&byte_587000[133480] + 40
                                                       * *(unsigned __int8 *)(*(_DWORD *)&byte_587000[133480] + 200));
        *i;
        i += 2 )
  {
    if ( ++result >= 5 )
      return -1;
  }
  return result;
}

//----- (004612D0) --------------------------------------------------------
int __cdecl sub_4612D0(int a1)
{
  int v1; // edx
  int v2; // eax
  _DWORD *v3; // ecx

  v1 = *(unsigned __int8 *)(*(_DWORD *)&byte_587000[133480] + 200);
  do
  {
    v2 = 0;
    v3 = (_DWORD *)(*(_DWORD *)&byte_587000[133480] + 40 * v1);
    do
    {
      if ( *v3 == a1 )
        return 1;
      ++v2;
      v3 += 2;
    }
    while ( v2 < 5 );
    if ( ++v1 >= 5 )
      v1 = 0;
  }
  while ( v1 != *(unsigned __int8 *)(*(_DWORD *)&byte_587000[133480] + 200) );
  return 0;
}

//----- (00461320) --------------------------------------------------------
void __cdecl sub_461320(int a1, _DWORD *a2)
{
  if ( a2 )
  {
    if ( a1 >= 0 && a1 < 5 )
      sub_46AA60(*(_DWORD **)(*(_DWORD *)&byte_587000[133480] + 4 * a1 + 212), a2, a2 + 1);
  }
}

//----- (00461360) --------------------------------------------------------
int __cdecl sub_461360(int a1)
{
  int v1; // edx
  int v2; // ecx
  int v3; // ebx
  int v4; // esi
  int result; // eax

  v1 = *(_DWORD *)&byte_587000[133480];
  v2 = *(unsigned __int8 *)(*(_DWORD *)&byte_587000[133480] + 200);
  v3 = *(unsigned __int8 *)(*(_DWORD *)&byte_587000[133480] + 200);
  do
  {
    v4 = 5;
    result = 40 * v2;
    do
    {
      if ( *(_DWORD *)(result + v1) == a1 )
      {
        *(_DWORD *)(result + v1) = 0;
        v1 = *(_DWORD *)&byte_587000[133480];
      }
      result += 8;
      --v4;
    }
    while ( v4 );
    if ( ++v2 >= 5 )
      v2 = 0;
  }
  while ( v2 != v3 );
  return result;
}

//----- (004613B0) --------------------------------------------------------
int sub_4613B0()
{
  int v0; // ebp
  int v1; // edx
  int v2; // eax
  int v3; // edi
  int result; // eax
  int v5; // [esp+10h] [ebp-4h]

  v0 = *(_DWORD *)&byte_587000[133480];
  v1 = *(_DWORD *)&byte_587000[133480];
  v5 = 5;
  do
  {
    v2 = v1;
    v3 = 5;
    do
    {
      *(_DWORD *)&byte_5D4594[v2 + 1047564 - v0] = *(_DWORD *)v2;
      byte_5D4594[v2 + 1047568 - v0] = *(_BYTE *)(v2 + 4);
      v2 += 40;
      --v3;
    }
    while ( v3 );
    v1 += 8;
    result = --v5;
  }
  while ( v5 );
  return result;
}

//----- (00461400) --------------------------------------------------------
int sub_461400()
{
  int i; // esi
  int result; // eax
  int v2; // ecx

  for ( i = 0; i < 40; i += 8 )
  {
    result = i;
    v2 = 5;
    do
    {
      *(_DWORD *)(result + *(_DWORD *)&byte_587000[133480]) = *(_DWORD *)&byte_5D4594[result + 1047564];
      *(_BYTE *)(result + *(_DWORD *)&byte_587000[133480] + 4) = byte_5D4594[result + 1047568];
      result += 40;
      --v2;
    }
    while ( v2 );
  }
  return result;
}

//----- (00461440) --------------------------------------------------------
int __cdecl sub_461440(int a1)
{
  int result; // eax

  result = a1;
  *(_DWORD *)&byte_5D4594[1049688] = a1;
  return result;
}

//----- (00461450) --------------------------------------------------------
int sub_461450()
{
  return *(_DWORD *)&byte_5D4594[1049688];
}

//----- (00461460) --------------------------------------------------------
int __cdecl sub_461460(int a1)
{
  int v1; // eax
  char v2; // cl
  char v3; // dl
  int v4; // eax
  char v5; // cl
  char v6; // dl
  int v7; // eax
  char v8; // cl
  char v9; // dl
  int v10; // eax
  char v11; // cl
  char v12; // dl
  int result; // eax

  v1 = sub_4344A0(*(_BYTE *)(a1 + 2253), *(_BYTE *)(a1 + 2254), *(_BYTE *)(a1 + 2255));
  v2 = *(_BYTE *)(a1 + 2257);
  v3 = *(_BYTE *)(a1 + 2256);
  *(_DWORD *)(a1 + 2296) = v1;
  v4 = sub_4344A0(v3, v2, *(_BYTE *)(a1 + 2258));
  v5 = *(_BYTE *)(a1 + 2260);
  v6 = *(_BYTE *)(a1 + 2259);
  *(_DWORD *)(a1 + 2292) = v4;
  v7 = sub_4344A0(v6, v5, *(_BYTE *)(a1 + 2261));
  v8 = *(_BYTE *)(a1 + 2263);
  v9 = *(_BYTE *)(a1 + 2262);
  *(_DWORD *)(a1 + 2300) = v7;
  v10 = sub_4344A0(v9, v8, *(_BYTE *)(a1 + 2264));
  v11 = *(_BYTE *)(a1 + 2266);
  v12 = *(_BYTE *)(a1 + 2265);
  *(_DWORD *)(a1 + 2304) = v10;
  *(_DWORD *)(a1 + 2308) = sub_4344A0(v12, v11, *(_BYTE *)(a1 + 2267));
  result = *(_DWORD *)&byte_5D4594[2523948];
  *(_DWORD *)(a1 + 2312) = *(_DWORD *)&byte_5D4594[2523948];
  return result;
}

//----- (00461520) --------------------------------------------------------
char *sub_461520()
{
  char *result; // eax
  int i; // esi

  result = sub_416EA0();
  for ( i = (int)result; result; i = (int)result )
  {
    sub_461460(i);
    result = sub_416EE0(i);
  }
  return result;
}

//----- (00461550) --------------------------------------------------------
int __cdecl sub_461550(int a1)
{
  if ( *(_DWORD *)&byte_5D4594[1062480] )
    *(_DWORD *)&byte_5D4594[1062484] = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1062480] + 4);
  else
    *(_DWORD *)&byte_5D4594[1062484] = 0;
  *(_DWORD *)&byte_5D4594[1062480] = a1;
  sub_4619F0();
  if ( !*(_DWORD *)&byte_5D4594[1062480] )
    return sub_4BF010(0);
  *(_DWORD *)(**(_DWORD **)&byte_5D4594[1062480] + 128) = *(_DWORD *)(a1 + 4);
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[1062480] + 136) = 1;
  return sub_4BF010(**(_DWORD **)&byte_5D4594[1062480]);
}

//----- (004615C0) --------------------------------------------------------
int sub_4615C0()
{
  int v0; // eax
  int v1; // ecx

  v0 = *(_DWORD *)&byte_5D4594[1063640];
  if ( !*(_DWORD *)&byte_5D4594[1063640] )
  {
    v0 = sub_44CFC0((CHAR *)&byte_587000[136416]);
    *(_DWORD *)&byte_5D4594[1063640] = v0;
  }
  if ( !*(_DWORD *)&byte_5D4594[1049904] )
    return *(_DWORD *)&byte_5D4594[1049900];
  v1 = *(_DWORD *)&byte_5D4594[1049904];
  while ( *(_DWORD *)(v1 + 108) != v0 )
  {
    v1 = *(_DWORD *)(v1 + 368);
    if ( !v1 )
      return *(_DWORD *)&byte_5D4594[1049900];
  }
  return *(_DWORD *)&byte_5D4594[1049904];
}

//----- (00461600) --------------------------------------------------------
int __cdecl sub_461600(int a1)
{
  int *v1; // ecx
  int result; // eax

  v1 = (int *)&byte_5D4594[1049872];
  while ( 1 )
  {
    result = *v1;
    if ( *v1 )
      break;
LABEL_5:
    ++v1;
    if ( (int)v1 >= (int)&byte_5D4594[1049908] )
      return 0;
  }
  while ( *(_DWORD *)(result + 108) != a1 )
  {
    result = *(_DWORD *)(result + 368);
    if ( !result )
      goto LABEL_5;
  }
  return result;
}

//----- (00461630) --------------------------------------------------------
int __cdecl sub_461630(__int16 a1)
{
  int v1; // ecx
  char v3[3]; // [esp+0h] [ebp-4h]
  char v4; // [esp+3h] [ebp-1h]

  v4 = HIBYTE(v1);
  v3[0] = -15;
  *(_WORD *)&v3[1] = a1;
  return sub_4E53C0(31, v3, 3, 0, 0);
}

//----- (00461660) --------------------------------------------------------
int __cdecl sub_461660(int a1, int a2, const void *a3)
{
  int *v3; // eax
  wchar_t *v4; // eax
  int v6; // ecx
  int v7; // edx
  int v8; // eax
  int2 a4; // [esp+8h] [ebp-8h]

  if ( a2 != *(_DWORD *)&byte_5D4594[1062560]
    && a2 != *(_DWORD *)&byte_5D4594[1049728]
    && a2 != *(_DWORD *)&byte_5D4594[1049724]
    && a2 != *(_DWORD *)&byte_5D4594[1062556]
    && a2 != *(_DWORD *)&byte_5D4594[1062564] )
  {
    v3 = sub_461970(a1, a2);
    if ( v3 )
    {
      if ( *(_BYTE *)(*v3 + 112) & 0x10 )
        sub_472310();
    }
    else
    {
      if ( !sub_4617C0(a1, a2, a3, &a4) )
      {
        v4 = sub_40F1D0((char *)&byte_587000[136456], 0, (const char *)&byte_587000[136420], 682);
        sub_445490(v4);
        return 0;
      }
      v6 = a4.field_0;
      v7 = a4.field_4;
      if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[148 * (a4.field_4 + 14 * a4.field_0 + 7 * a4.field_0) + 1050020] + 112) & 0x10 )
      {
        sub_472310();
        v7 = a4.field_4;
        v6 = a4.field_0;
      }
      if ( *(_DWORD *)(*(_DWORD *)&byte_5D4594[148 * (v7 + 14 * v6 + 7 * v6) + 1050020] + 112) & 0x3001000 )
      {
        *(_DWORD *)&byte_5D4594[1062516] = 0;
        if ( v7 >= 3 )
          *(_DWORD *)&byte_5D4594[1062516] = 10 * (5 * v7 - 10);
      }
    }
    v8 = sub_44CF10(a2);
    if ( v8 )
    {
      if ( *(_DWORD *)(v8 + 32) & 0x1001000 )
        sub_4673F0(a4.field_0, a4.field_4);
    }
  }
  return 1;
}

//----- (004617C0) --------------------------------------------------------
int __cdecl sub_4617C0(int a1, int a2, const void *a3, int2 *a4)
{
  unsigned __int16 v4; // di
  unsigned __int16 i; // dx
  int result; // eax
  int v7; // ebp
  int v8; // esi
  unsigned __int8 *v9; // ebx
  _DWORD *v10; // eax
  wchar_t *v11; // eax
  int v12; // eax
  int v13; // eax
  int v14; // ecx
  _DWORD *v15; // esi

  v4 = 0;
  while ( 2 )
  {
    for ( i = 0; i < 4u; ++i )
    {
      if ( !byte_5D4594[148 * (v4 + 14 * i + 7 * i) + 1050160] )
      {
        v7 = i;
        v8 = v4;
        v9 = &byte_5D4594[148 * (v4 + 14 * i + 7 * i) + 1050020];
        v10 = sub_45A240(a2);
        *(_DWORD *)v9 = v10;
        if ( v10 )
        {
          v10[30] |= 0x40000000u;
          v12 = *(_DWORD *)v9;
          *((_DWORD *)v9 + 1) = a1;
          v9[140] = 1;
          if ( *(_DWORD *)(v12 + 112) & 0x13001000 )
          {
            qmemcpy((void *)(v12 + 432), a3, 0x14u);
            v8 = v4;
          }
          if ( a4 )
          {
            a4->field_0 = v7;
            a4->field_4 = v8;
          }
          if ( sub_461930() && !*(_DWORD *)&byte_5D4594[1062480] )
          {
            if ( (v13 = *(_DWORD *)v9, v14 = *(_DWORD *)(*(_DWORD *)v9 + 112), v14 & 0x1000000)
              && !(*(_BYTE *)(v13 + 116) & 2)
              || v14 & 0x1000 )
            {
              v15 = sub_413250(*(_DWORD *)(v13 + 108));
              if ( !v15
                || (unsigned __int8)(1 << *(_BYTE *)(*(_DWORD *)&byte_5D4594[2618908] + 2251)) & *((_BYTE *)v15 + 62) )
              {
                sub_461550((int)v9);
                *((_DWORD *)v9 + 34) = 1;
              }
            }
          }
          result = 1;
        }
        else
        {
          v11 = sub_40F1D0((char *)&byte_587000[136508], 0, (const char *)&byte_587000[136472], 550);
          sub_445490(v11);
          result = 0;
        }
        return result;
      }
    }
    if ( ++v4 < 0x14u )
      continue;
    break;
  }
  return 0;
}

//----- (00461930) --------------------------------------------------------
int sub_461930()
{
  unsigned __int8 *v0; // ecx
  int v1; // eax

  v0 = &byte_5D4594[1049872];
  while ( 1 )
  {
    v1 = *(_DWORD *)v0;
    if ( *(_DWORD *)v0 )
      break;
LABEL_5:
    v0 += 4;
    if ( (int)v0 >= (int)&byte_5D4594[1049908] )
      return 0;
  }
  while ( !(*(_DWORD *)(v1 + 112) & 0x1001000) )
  {
    v1 = *(_DWORD *)(v1 + 368);
    if ( !v1 )
      goto LABEL_5;
  }
  return 1;
}

//----- (00461970) --------------------------------------------------------
int *__cdecl sub_461970(int a1, int a2)
{
  int *v2; // edx
  int v3; // ecx
  int *result; // eax

  if ( !(*(_DWORD *)(sub_44CF10(a2) + 32) & 0x4000000) )
  {
    v2 = (int *)&byte_5D4594[1050020];
    while ( 2 )
    {
      v3 = 0;
      result = v2;
      do
      {
        if ( *((_BYTE *)result + 140) && *(_DWORD *)(*result + 108) == a2 && *((_BYTE *)result + 140) < 0x20u )
        {
          result[(unsigned __int8)(*((_BYTE *)result + 140))++ + 1] = a1;
          return result;
        }
        ++v3;
        result += 777;
      }
      while ( v3 < 4 );
      v2 += 37;
      if ( (int)v2 < (int)&byte_5D4594[1052980] )
        continue;
      break;
    }
  }
  return 0;
}

//----- (004619F0) --------------------------------------------------------
char *sub_4619F0()
{
  char *v0; // edi
  char *result; // eax
  int v2; // esi
  int v3; // ecx

  v0 = (char *)&byte_5D4594[1050160];
  do
  {
    result = v0;
    v2 = 4;
    do
    {
      v3 = 0;
      if ( (unsigned __int8)*result > 0u )
      {
        do
        {
          *((_DWORD *)result - 1) = 0;
          ++v3;
        }
        while ( v3 < (unsigned __int8)*result );
      }
      result += 3108;
      --v2;
    }
    while ( v2 );
    v0 += 148;
  }
  while ( (int)v0 <= (int)&byte_5D4594[1053120] );
  return result;
}

//----- (00461A30) --------------------------------------------------------
int __cdecl sub_461A30(int a1, int a2)
{
  int v2; // esi
  wchar_t *v4; // eax

  v2 = *(_DWORD *)(a1 + 396);
  if ( a2 != 6 )
    return 0;
  *(_DWORD *)&byte_5D4594[1049864] = 4;
  v4 = sub_40F1D0((char *)&byte_587000[136564], 0, (const char *)&byte_587000[136528], 1220);
  sub_445490(v4);
  sub_46ADC0(v2);
  return 1;
}

//----- (00461A80) --------------------------------------------------------
void __cdecl sub_461A80(int a1)
{
  int v1; // ebx
  char *v2; // esi
  _QWORD *v3; // eax
  _QWORD *v4; // eax
  wchar_t *v5; // eax

  v1 = 0;
  v2 = sub_461EF0(a1);
  if ( v2 )
  {
    if ( *(_BYTE *)(**(_DWORD **)v2 + 112) & 0x10 )
      v1 = 1;
    sub_461E60((_QWORD ***)v2);
    *(_DWORD *)(*(_DWORD *)v2 + 132) = 0;
    sub_461B50();
    v3 = (_QWORD *)sub_461F90(a1);
    if ( v3 )
      sub_45A4B0(v3);
    if ( v1 )
      sub_472310();
  }
  else
  {
    v4 = *(_QWORD **)&byte_5D4594[1049848];
    if ( *(_DWORD *)&byte_5D4594[1049848] && *(_DWORD *)(*(_DWORD *)&byte_5D4594[1049848] + 128) == a1 )
    {
      if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[1049848] + 112) & 0x10 )
      {
        sub_472310();
        v4 = *(_QWORD **)&byte_5D4594[1049848];
      }
      sub_45A4B0(v4);
      *(_DWORD *)&byte_5D4594[1049848] = 0;
      *(_DWORD *)&byte_5D4594[1049856] = 0;
      sub_4776A0();
    }
    else
    {
      v5 = sub_40F1D0((char *)&byte_587000[136616], 0, (const char *)&byte_587000[136580], 1439);
      sub_445490(v5);
    }
  }
}

//----- (00461B50) --------------------------------------------------------
unsigned __int8 *sub_461B50()
{
  int v0; // ebx
  unsigned __int8 *result; // eax
  int v2; // ebp
  int v3; // ecx
  int v4; // edi
  int v5; // esi
  int v6; // ebx
  int v7; // eax
  unsigned __int8 *v8; // edx
  unsigned __int8 *v9; // eax
  int v10; // ecx
  int v11; // ecx
  int v12; // edx
  int i; // eax
  int v14; // ebp
  bool v15; // cc
  int j; // esi
  int v17; // edx
  int v18; // ecx
  int *v19; // [esp+10h] [ebp-38h]
  unsigned __int8 *v20; // [esp+14h] [ebp-34h]
  int *v21; // [esp+18h] [ebp-30h]
  int v22; // [esp+1Ch] [ebp-2Ch]
  int v23; // [esp+20h] [ebp-28h]
  int v24; // [esp+24h] [ebp-24h]
  int v25; // [esp+28h] [ebp-20h]
  int *v26; // [esp+2Ch] [ebp-1Ch]
  int v27; // [esp+30h] [ebp-18h]
  unsigned __int8 *v28; // [esp+38h] [ebp-10h]
  unsigned __int8 *v29; // [esp+3Ch] [ebp-Ch]
  int v30; // [esp+40h] [ebp-8h]

  v0 = 0;
  result = &byte_5D4594[1050156];
  v25 = 0;
  v26 = (int *)&byte_5D4594[1050156];
LABEL_2:
  v2 = 0;
  v24 = 0;
  v21 = (int *)(result - 136);
  v20 = result;
  v19 = (int *)(result + 4);
  while ( *(_BYTE *)v19 )
  {
LABEL_35:
    v24 = ++v2;
    v19 += 777;
    v20 += 3108;
    v21 += 777;
    if ( v2 >= 4 )
    {
      result += 148;
      v25 = ++v0;
      v26 = (int *)result;
      if ( (int)result >= (int)&byte_5D4594[1053116] )
        return result;
      goto LABEL_2;
    }
  }
  v3 = v0;
  v27 = v0;
  if ( (int)result < (int)&byte_5D4594[1053116] )
  {
LABEL_5:
    if ( v3 == v0 )
    {
      v4 = v2;
      v22 = v2;
    }
    else
    {
      v4 = 0;
      v22 = 0;
    }
    result = &byte_5D4594[148 * (v3 + 14 * v4 + 7 * v4) + 1050160];
    while ( !*result )
    {
      ++v4;
      result += 3108;
      v22 = v4;
      if ( v4 >= 4 )
      {
        v27 = ++v3;
        if ( v3 >= 20 )
          goto LABEL_38;
        goto LABEL_5;
      }
    }
    v5 = 7 * v4 + v3 + 14 * v4;
    v6 = 148 * v5;
    v7 = *(_DWORD *)&byte_5D4594[148 * v5 + 1050020];
    v8 = &byte_5D4594[148 * v5 + 1050020];
    v29 = &byte_5D4594[148 * v5 + 1050020];
    v30 = *(_DWORD *)(v7 + 108);
    if ( !(*(_DWORD *)(v7 + 112) & 0x4000000) )
    {
      v9 = &byte_5D4594[1050160];
      v23 = 0;
      v28 = &byte_5D4594[1050160];
      while ( 2 )
      {
        v10 = 0;
        while ( !*v9 || *v9 == 32 || *(_DWORD *)(*((_DWORD *)v9 - 35) + 108) != v30 || v10 == v4 && v23 == v27 )
        {
          ++v10;
          v9 += 3108;
          if ( v10 >= 4 )
            goto LABEL_28;
        }
        v11 = 7 * v10 + v23 + 14 * v10;
        v12 = byte_5D4594[148 * v11 + 1050160];
        for ( i = byte_5D4594[v6 + 1050160]; i > 0; v6 = 148 * v5 )
        {
          if ( v12 == 32 )
            break;
          --i;
          v14 = v12++ + v11;
          *(_DWORD *)&byte_5D4594[4 * (v14 + 36 * v11) + 1050024] = *(_DWORD *)&byte_5D4594[4 * (i + v5 + 36 * v5)
                                                                                          + 1050024];
          v4 = v22;
        }
        byte_5D4594[148 * v11 + 1050160] = v12;
        if ( i <= 0 )
        {
          byte_5D4594[v6 + 1050160] = 0;
          sub_45A4B0(*(_QWORD **)v29);
          v0 = v25;
          *(_DWORD *)v29 = 0;
          v2 = v24 - 1;
          v21 -= 777;
          result = (unsigned __int8 *)v26;
          v19 -= 777;
          v20 -= 3108;
          goto LABEL_35;
        }
        byte_5D4594[v6 + 1050160] = i;
LABEL_28:
        v9 = v28 + 148;
        v15 = (int)(v28 + 148) < (int)&byte_5D4594[1053120];
        ++v23;
        v28 += 148;
        if ( v15 )
          continue;
        break;
      }
      v2 = v24;
      v8 = &byte_5D4594[148 * v5 + 1050020];
    }
    qmemcpy(v21, v8, 0x94u);
    if ( *(_DWORD *)v20 )
      *(_DWORD *)&byte_5D4594[1062480] = v21;
    result = (unsigned __int8 *)v26;
    byte_5D4594[v6 + 1050160] = 0;
    *(_DWORD *)v8 = 0;
    *(_DWORD *)&byte_5D4594[v6 + 1050152] = 0;
    v0 = v25;
    goto LABEL_35;
  }
LABEL_38:
  for ( j = v0; j < 20; ++j )
  {
    if ( j == v0 )
      v17 = v2;
    else
      v17 = 0;
    v18 = 4 - v17;
    result = &byte_5D4594[148 * (j + 14 * v17 + 7 * v17) + 1050156];
    do
    {
      *((_DWORD *)result - 1) = 0;
      *(_DWORD *)result = 0;
      result += 3108;
      --v18;
    }
    while ( v18 );
  }
  return result;
}

//----- (00461E60) --------------------------------------------------------
_QWORD **__cdecl sub_461E60(_QWORD ***a1)
{
  _QWORD **v1; // eax
  int v2; // edi
  int v3; // ecx
  _QWORD **result; // eax

  v1 = *a1;
  v2 = (int)a1[1];
  if ( v2 < *((unsigned __int8 *)*a1 + 140) - 1 )
  {
    v3 = 4 * v2 + 4;
    do
    {
      ++v2;
      *(_QWORD **)((char *)v1 + v3) = *(_QWORD **)((char *)v1 + v3 + 4);
      v1 = *a1;
      v3 += 4;
    }
    while ( v2 < *((unsigned __int8 *)*a1 + 140) - 1 );
  }
  if ( !--*((_BYTE *)*a1 + 140) )
  {
    sub_45A4B0(**a1);
    **a1 = 0;
  }
  result = (_QWORD **)(*a1)[34];
  if ( result )
  {
    sub_461550(0);
    result = *a1;
    (*a1)[34] = 0;
  }
  return result;
}

//----- (00461EF0) --------------------------------------------------------
char *__cdecl sub_461EF0(int a1)
{
  unsigned __int8 *v1; // ebx
  int v2; // edi
  unsigned __int8 *v3; // esi
  int v4; // eax
  int v5; // edx
  unsigned __int8 *v6; // ecx
  char *result; // eax
  int v8; // [esp+10h] [ebp-4h]

  v8 = 0;
  v1 = &byte_5D4594[1050160];
  while ( 2 )
  {
    v2 = 0;
    v3 = v1;
    do
    {
      v4 = 0;
      v5 = *v3;
      if ( v5 > 0 )
      {
        v6 = v3 - 136;
        while ( *(_DWORD *)v6 != a1 )
        {
          ++v4;
          v6 += 4;
          if ( v4 >= v5 )
            goto LABEL_7;
        }
        *(_DWORD *)&byte_5D4594[1049792] = v4;
        result = (char *)&byte_5D4594[1049788];
        *(_DWORD *)&byte_5D4594[1049788] = &byte_5D4594[148 * (v8 + 14 * v2 + 7 * v2) + 1050020];
        return result;
      }
LABEL_7:
      ++v2;
      v3 += 3108;
    }
    while ( v2 < 4 );
    v1 += 148;
    ++v8;
    if ( (int)v1 <= (int)&byte_5D4594[1053120] )
      continue;
    return 0;
  }
}

//----- (00461F90) --------------------------------------------------------
int __cdecl sub_461F90(int a1)
{
  int v1; // ecx
  unsigned __int8 *v2; // eax
  int v3; // esi
  int v5; // eax
  int v6; // eax
  int v7; // eax

  v1 = 0;
  v2 = &byte_5D4594[1049872];
  while ( 1 )
  {
    v3 = *(_DWORD *)v2;
    if ( *(_DWORD *)v2 )
      break;
LABEL_5:
    v2 += 4;
    ++v1;
    if ( (int)v2 >= (int)&byte_5D4594[1049908] )
      return 0;
  }
  while ( *(_DWORD *)(v3 + 128) != a1 )
  {
    v3 = *(_DWORD *)(v3 + 368);
    if ( !v3 )
      goto LABEL_5;
  }
  v5 = *(_DWORD *)(v3 + 372);
  if ( v5 )
    *(_DWORD *)(v5 + 368) = *(_DWORD *)(v3 + 368);
  else
    *(_DWORD *)&byte_5D4594[4 * v1 + 1049872] = *(_DWORD *)(v3 + 368);
  v6 = *(_DWORD *)(v3 + 368);
  if ( v6 )
    *(_DWORD *)(v6 + 372) = *(_DWORD *)(v3 + 372);
  v7 = *(_DWORD *)(v3 + 112);
  if ( v7 & 0x1000 || sub_415880(*(char **)(v3 + 108)) == 2 || sub_415880(*(char **)(v3 + 108)) == 128 )
    sub_470D70();
  return v3;
}

//----- (00462040) --------------------------------------------------------
void __cdecl sub_462040(int a1)
{
  int v1; // edi
  char *v2; // ebp
  int v3; // eax
  const void *v4; // esi
  _DWORD *v5; // eax
  _DWORD *v6; // ebx
  wchar_t *v7; // eax
  int v8; // eax
  int v9; // esi
  int v10; // edi
  char *v11; // eax
  unsigned __int8 *v12; // ebp
  int v13; // ecx
  unsigned __int8 *v14; // eax
  int v15; // eax
  __int16 v16; // ax
  int *v17; // eax
  __int16 v18; // [esp+10h] [ebp-Ch]
  __int16 v19; // [esp+14h] [ebp-8h]
  int v20; // [esp+20h] [ebp+4h]

  v1 = a1;
  v2 = sub_461EF0(a1);
  if ( v2 )
  {
    v20 = sub_4622E0(**(_DWORD **)v2);
    v3 = **(_DWORD **)v2;
  }
  else
  {
    if ( !*(_DWORD *)&byte_5D4594[1049848] || *(_DWORD *)(*(_DWORD *)&byte_5D4594[1049848] + 128) != a1 )
    {
      v7 = sub_40F1D0((char *)&byte_587000[136668], 0, (const char *)&byte_587000[136632], 1605);
      goto LABEL_36;
    }
    v20 = sub_4622E0(*(int *)&byte_5D4594[1049848]);
    v3 = *(_DWORD *)&byte_5D4594[1049848];
  }
  v4 = (const void *)(v3 + 432);
  v19 = *(_WORD *)(v3 + 294);
  v18 = *(_WORD *)(v3 + 292);
  if ( v20 == 9 )
  {
    v7 = sub_40F1D0((char *)&byte_587000[136780], 0, (const char *)&byte_587000[136744], 1701);
    goto LABEL_36;
  }
  v5 = sub_45A240(*(_DWORD *)(v3 + 108));
  v6 = v5;
  if ( !v5 )
  {
    v7 = sub_40F1D0((char *)&byte_587000[136724], 0, (const char *)&byte_587000[136688], 1619);
LABEL_36:
    sub_445490(v7);
    return;
  }
  v8 = v5[30];
  v6[32] = v1;
  v6[30] = v8 | 0x40000000;
  qmemcpy(v6 + 108, v4, 0x18u);
  *((_WORD *)v6 + 146) = v18;
  *((_WORD *)v6 + 147) = v19;
  sub_4623E0(v6, v20);
  v9 = 0;
  if ( v2 )
  {
    *(_DWORD *)(*(_DWORD *)v2 + 132) = 1;
    if ( *(_DWORD *)(*(_DWORD *)v2 + 136) )
    {
      sub_461550(0);
      *(_DWORD *)(*(_DWORD *)v2 + 136) = 0;
    }
  }
  if ( v6[28] & 0x1000000 && v6[29] & 0xC )
  {
    v10 = 1;
    if ( *(_DWORD *)&byte_5D4594[1062488] && (v11 = sub_461EF0(*(int *)&byte_5D4594[1062488])) != 0 )
    {
      *(_DWORD *)(**(_DWORD **)v11 + 128) = *(_DWORD *)(*(_DWORD *)v11 + 4);
      sub_4623B0(**(_DWORD **)v11);
    }
    else
    {
      v12 = &byte_5D4594[1050020];
      do
      {
        if ( !v10 )
          break;
        v13 = 0;
        v14 = v12;
        while ( !v14[140] || !(*(_BYTE *)(*(_DWORD *)v14 + 115) & 1) || *(_DWORD *)(*(_DWORD *)v14 + 116) != 2 )
        {
          ++v13;
          v14 += 3108;
          if ( v13 >= 4 )
            goto LABEL_26;
        }
        v15 = 148 * (v9 + 14 * v13 + 7 * v13);
        *(_DWORD *)(*(_DWORD *)&byte_5D4594[v15 + 1050020] + 128) = *(_DWORD *)&byte_5D4594[v15 + 1050024];
        sub_4623B0(*(_DWORD *)&byte_5D4594[v15 + 1050020]);
        v10 = 0;
LABEL_26:
        v12 += 148;
        ++v9;
      }
      while ( (int)v12 < (int)&byte_5D4594[1052980] );
    }
  }
  if ( !v20 )
    *(_DWORD *)&byte_5D4594[1062488] = v6[32];
  v16 = *((_WORD *)v6 + 224);
  if ( v16 >= 0 )
    sub_470D90(v16, *((__int16 *)v6 + 225));
  if ( *(_DWORD *)&byte_5D4594[1062496] )
  {
    v17 = (int *)sub_461EF0(*(int *)&byte_5D4594[1062496]);
    if ( v17 )
    {
      *(_DWORD *)(*v17 + 136) = 1;
      sub_461550(*v17);
      *(_DWORD *)&byte_5D4594[1062496] = 0;
    }
  }
}

//----- (004622E0) --------------------------------------------------------
int __cdecl sub_4622E0(int a1)
{
  int v1; // edi
  int result; // eax

  v1 = *(_DWORD *)(a1 + 112);
  if ( *(_DWORD *)(a1 + 112) & 0x1000000 && *(_BYTE *)(a1 + 116) & 2 )
    return 0;
  if ( !(v1 & 0x2000000) || (result = 1, !(*(_BYTE *)(a1 + 116) & 1)) )
  {
    if ( v1 & 0x2000000 )
    {
      if ( *(_DWORD *)(a1 + 116) & 0x144 )
        return 2;
      if ( *(_BYTE *)(a1 + 116) & 0x90 )
        return 3;
      if ( *(_BYTE *)(a1 + 116) & 0x20 )
        return 4;
      if ( *(_BYTE *)(a1 + 116) & 2 )
        return 8;
      if ( *(_BYTE *)(a1 + 116) & 8 )
        return 5;
    }
    if ( *(_DWORD *)(a1 + 112) & 0x1000000 )
    {
      if ( *(_BYTE *)(a1 + 116) & 4 )
        return 8;
      return 7;
    }
    if ( v1 & 0x1000 )
      return 7;
    result = 9;
  }
  return result;
}

//----- (004623B0) --------------------------------------------------------
int __cdecl sub_4623B0(int a1)
{
  int v1; // ecx
  char v3[3]; // [esp+0h] [ebp-4h]
  char v4; // [esp+3h] [ebp-1h]

  v4 = HIBYTE(v1);
  v3[0] = 117;
  *(_WORD *)&v3[1] = sub_578B00(a1);
  return sub_40EBC0(31, 0, v3, 3);
}

//----- (004623E0) --------------------------------------------------------
_DWORD *__cdecl sub_4623E0(_DWORD *a1, int a2)
{
  int v2; // ebx
  _DWORD *result; // eax
  int v4; // ecx
  int v5; // ecx

  if ( !(a1[28] & 0x2000000) )
    goto LABEL_19;
  v2 = a1[29];
  if ( v2 & 0x140 )
  {
    result = *(_DWORD **)&byte_5D4594[4 * a2 + 1049872];
    if ( !result )
      goto LABEL_19;
    while ( result[92] )
      result = (_DWORD *)result[92];
    if ( !result )
      goto LABEL_19;
    if ( v2 & 0x40 )
    {
      if ( result[28] & 0x2000000 )
      {
        v4 = result[29];
        if ( v4 & 0x100 )
          result = (_DWORD *)result[93];
      }
    }
  }
  else
  {
    if ( !(v2 & 0x10) )
      goto LABEL_19;
    result = *(_DWORD **)&byte_5D4594[4 * a2 + 1049872];
    if ( !result )
      goto LABEL_19;
    while ( result[92] )
      result = (_DWORD *)result[92];
  }
  if ( result )
  {
    v5 = result[92];
    if ( v5 )
      *(_DWORD *)(v5 + 372) = a1;
    a1[92] = result[92];
    result[92] = a1;
    a1[93] = result;
    return result;
  }
LABEL_19:
  a1[93] = 0;
  a1[92] = *(_DWORD *)&byte_5D4594[4 * a2 + 1049872];
  result = *(_DWORD **)&byte_5D4594[4 * a2 + 1049872];
  if ( result )
    result[93] = a1;
  *(_DWORD *)&byte_5D4594[4 * a2 + 1049872] = a1;
  return result;
}

//----- (004624D0) --------------------------------------------------------
int __cdecl sub_4624D0(int a1)
{
  int result; // eax
  int v2; // edi
  int *v3; // eax
  int *v4; // esi

  result = sub_461F90(a1);
  v2 = result;
  if ( !result )
    return result;
  v3 = (int *)sub_461EF0(a1);
  v4 = v3;
  if ( !v3 )
    return sub_45A4B0((_QWORD *)v2);
  *(_DWORD *)(*v3 + 132) = 0;
  if ( *(_DWORD *)&byte_5D4594[1062492] != v2 )
  {
    if ( sub_415880(*(char **)(v2 + 108)) & 0xC
      && *(_DWORD *)&byte_5D4594[1062480]
      && sub_415880(*(char **)(**(_DWORD **)&byte_5D4594[1062480] + 108)) == 2 )
    {
      *(_DWORD *)(*(_DWORD *)&byte_5D4594[1062480] + 136) = 0;
      sub_461550(0);
    }
    return sub_45A4B0((_QWORD *)v2);
  }
  *(_DWORD *)&byte_5D4594[1062492] = 0;
  if ( *(_DWORD *)&byte_5D4594[1062480] )
  {
    *(_DWORD *)&byte_5D4594[1062496] = *(_DWORD *)(v2 + 128);
    *(_DWORD *)(**(_DWORD **)&byte_5D4594[1062480] + 128) = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1062480] + 4);
    sub_4623B0(**(_DWORD **)&byte_5D4594[1062480]);
  }
  else
  {
    sub_461550(*v3);
    *(_DWORD *)(*v4 + 136) = 1;
  }
  return sub_45A4B0((_QWORD *)v2);
}

//----- (004625D0) --------------------------------------------------------
int __cdecl sub_4625D0(_DWORD *a1)
{
  __int16 *v2; // eax
  int v3; // [esp+0h] [ebp-10h]
  int v4; // [esp+4h] [ebp-Ch]
  int v5; // [esp+8h] [ebp-8h]
  int v6; // [esp+Ch] [ebp-4h]

  if ( *(_DWORD *)&byte_5D4594[1049864] == 5 )
    return 1;
  sub_46AA60(a1, &v3, &v4);
  sub_46AB70((int)a1, &v5, &v6);
  if ( v4 + v6 > 0 )
  {
    sub_434390(*(int *)&byte_5D4594[2523948]);
    if ( *(_DWORD *)&byte_5D4594[1062480] && **(_DWORD **)&byte_5D4594[1062480] )
    {
      *(_DWORD *)(**(_DWORD **)&byte_5D4594[1062480] + 12) = v3 + v5 / 2;
      *(_DWORD *)(**(_DWORD **)&byte_5D4594[1062480] + 16) = v4 + v6 / 2;
      (*(void (__cdecl **)(unsigned __int8 *, _DWORD))(**(_DWORD **)&byte_5D4594[1062480] + 300))(
        &byte_5D4594[1049732],
        **(_DWORD **)&byte_5D4594[1062480]);
    }
    v2 = (__int16 *)sub_42E8E0(35, 1);
    if ( v2 )
      sub_43F6E0(*(int *)&byte_5D4594[1063636], v2, v3 + 22, v4 + 41);
  }
  return 1;
}

//----- (004626C0) --------------------------------------------------------
double __cdecl sub_4626C0(int a1)
{
  int v1; // edx
  int *i; // ecx
  int v3; // eax

  if ( !a1 || !(*(_DWORD *)(a1 + 112) & 0x13001000) )
    return 0.0;
  v1 = 2;
  for ( i = (int *)(a1 + 440); ; ++i )
  {
    v3 = *i;
    if ( *i )
    {
      if ( *(void (__cdecl **)(int, int, int, int))(v3 + 52) == sub_4E06F0 )
        break;
    }
    if ( ++v1 >= 4 )
      return 0.0;
  }
  return *(float *)(v3 + 56);
}

//----- (00462700) --------------------------------------------------------
double __cdecl sub_462700(int a1)
{
  int v1; // edx
  int *i; // ecx
  int v3; // eax

  if ( !a1 || !(*(_DWORD *)(a1 + 112) & 0x13001000) )
    return 0.0;
  v1 = 2;
  for ( i = (int *)(a1 + 440); ; ++i )
  {
    v3 = *i;
    if ( *i )
    {
      if ( *(_DWORD *(__cdecl **)(int, int, int, int))(v3 + 52) == sub_4E0550 )
        break;
    }
    if ( ++v1 >= 4 )
      return 0.0;
  }
  return *(float *)(v3 + 56);
}

//----- (00462740) --------------------------------------------------------
int sub_462740()
{
  wchar_t *v0; // eax
  _DWORD *v1; // eax

  if ( sub_46ACC0(*(int *)&byte_5D4594[1062476]) )
    return 0;
  sub_46AC00(*(int *)&byte_5D4594[1062476], 1);
  *(_DWORD *)&byte_5D4594[1063116] = 0;
  *(_DWORD *)&byte_5D4594[1063120] = 0;
  v0 = sub_40F1D0((char *)&byte_587000[136832], 0, (const char *)&byte_587000[136796], 2361);
  nox_wcscpy((wchar_t *)&byte_5D4594[1063124], v0);
  v1 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1062476], 9156);
  sub_46B490((int)v1, 16399, 0, 0);
  sub_46ADE0(*(int *)&byte_5D4594[1062456]);
  *(_DWORD *)&byte_5D4594[1049864] = 0;
  sub_477610(0);
  return 1;
}

//----- (004627F0) --------------------------------------------------------
int __cdecl sub_4627F0(_DWORD *a1)
{
  int2 *v1; // esi
  int v2; // ebx
  int v3; // eax
  int result; // eax
  wchar_t *v5; // eax
  _DWORD *v6; // eax
  wchar_t *v7; // eax
  wchar_t *v8; // eax
  _DWORD *v9; // eax
  _DWORD *v10; // esi
  wchar_t *v11; // eax
  wchar_t *v12; // eax
  wchar_t *v13; // eax
  wchar_t *v14; // eax
  int v15; // eax
  int v16; // ecx
  float *v17; // eax
  double v18; // st7
  int v19; // ecx
  int v20; // eax
  wchar_t *v21; // eax
  wchar_t *v22; // eax
  int v23; // ecx
  int v24; // eax
  int v25; // ecx
  _DWORD *v26; // edi
  int v27; // eax
  double v28; // st7
  int v29; // eax
  double v30; // st7
  double v31; // st7
  double v32; // st7
  int v33; // eax
  wchar_t *v34; // eax
  wchar_t *v35; // eax
  wchar_t *v36; // eax
  wchar_t *v37; // eax
  wchar_t *v38; // eax
  int v39; // ecx
  _DWORD *v40; // eax
  wchar_t *v41; // eax
  wchar_t *v42; // eax
  int v43; // edi
  int v44; // ecx
  wchar_t *v45; // eax
  int v46; // ebx
  int v47; // ecx
  wchar_t *v48; // eax
  int v49; // eax
  _DWORD *v50; // eax
  wchar_t *v51; // [esp-Ch] [ebp-444h]
  wchar_t *v52; // [esp-Ch] [ebp-444h]
  wchar_t *v53; // [esp-Ch] [ebp-444h]
  wchar_t *v54; // [esp-4h] [ebp-43Ch]
  wchar_t *v55; // [esp-4h] [ebp-43Ch]
  float v56; // [esp+0h] [ebp-438h]
  double v57; // [esp+0h] [ebp-438h]
  double v58; // [esp+0h] [ebp-438h]
  double v59; // [esp+0h] [ebp-438h]
  double v60; // [esp+0h] [ebp-438h]
  double v61; // [esp+0h] [ebp-438h]
  double v62; // [esp+0h] [ebp-438h]
  float v63; // [esp+4h] [ebp-434h]
  int v64; // [esp+4h] [ebp-434h]
  float v65; // [esp+4h] [ebp-434h]
  int v66; // [esp+4h] [ebp-434h]
  int v67; // [esp+4h] [ebp-434h]
  float v68; // [esp+18h] [ebp-420h]
  float v69; // [esp+1Ch] [ebp-41Ch]
  float v70; // [esp+20h] [ebp-418h]
  float v71; // [esp+24h] [ebp-414h]
  float v72; // [esp+28h] [ebp-410h]
  int v73; // [esp+2Ch] [ebp-40Ch]
  int2 v74; // [esp+30h] [ebp-408h]
  wchar_t v75[256]; // [esp+38h] [ebp-400h]
  wchar_t v76[256]; // [esp+238h] [ebp-200h]

  v73 = 1;
  v1 = sub_4309F0();
  sub_434390(*(int *)&byte_5D4594[2523948]);
  v2 = 0;
  sub_43F340(0);
  sub_43F320(0);
  sub_434460(*(int *)&byte_5D4594[2650656]);
  sub_49CE30(*a1 + 11, a1[1] + 15, 200, 200);
  sub_463370(*(_DWORD **)&byte_5D4594[1062456], v1, &v74);
  if ( sub_4281F0(&v74, (int4 *)&byte_587000[136352]) || sub_4281F0(&v74, (int4 *)&byte_587000[136368]) )
  {
    if ( sub_4281F0(&v74, (int4 *)&byte_587000[136368]) && (v74.field_4 - 13) / 50 != 1 )
    {
      sub_477610(7);
      goto LABEL_14;
    }
  }
  else
  {
    if ( sub_4281F0(&v74, (int4 *)&byte_587000[136336]) )
    {
      sub_477610(0);
      goto LABEL_14;
    }
    if ( !sub_478030() )
    {
      sub_477610(7);
      goto LABEL_14;
    }
    if ( !sub_479870() || (LOBYTE(v3) = sub_479880(&v74), !v3) )
    {
      sub_477610(7);
      goto LABEL_14;
    }
  }
  sub_477610(6);
LABEL_14:
  result = *(_DWORD *)&byte_5D4594[1063116];
  if ( !*(_DWORD *)&byte_5D4594[1063116] )
  {
    if ( *(_DWORD *)&byte_5D4594[1063120] )
    {
      *(_DWORD *)&byte_5D4594[1063120] = 0;
      v5 = sub_40F1D0((char *)&byte_587000[136900], 0, (const char *)&byte_587000[136864], 2529);
      nox_wcscpy((wchar_t *)&byte_5D4594[1063124], v5);
      v6 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1062476], 9156);
      result = sub_46B490((int)v6, 16399, 0, 0);
    }
    return result;
  }
  if ( *(_DWORD *)&byte_5D4594[1063120] == *(_DWORD *)&byte_5D4594[1063116] )
    return result;
  *(_DWORD *)&byte_5D4594[1063120] = *(_DWORD *)&byte_5D4594[1063116];
  v7 = sub_40F1D0((char *)&byte_587000[136968], 0, (const char *)&byte_587000[136932], 2545);
  nox_swprintf((wchar_t *)&byte_5D4594[1063124], (const wchar_t *)&byte_587000[136984], v7);
  v8 = sub_4BF050(*(wchar_t **)&byte_5D4594[1063116]);
  nox_wcscpy(v75, v8);
  if ( !nox_wcscmp(v75, (const wchar_t *)&byte_5D4594[1063652]) )
    *(_DWORD *)&byte_5D4594[1063120] = 0;
  nox_wcscat((wchar_t *)&byte_5D4594[1063124], v75);
  v9 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1062476], 9151);
  sub_46AEE0((int)v9, (int)&byte_5D4594[1063124]);
  v10 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1062476], 9156);
  sub_46B490((int)v10, 16399, 0, 0);
  if ( sub_40A5C0(2048) )
  {
    if ( *(_WORD *)(*(_DWORD *)&byte_5D4594[1063116] + 294) )
    {
      sub_4633B0(*(int *)&byte_5D4594[1063116], (int *)&v71, (int *)&v68);
      v63 = v68;
      v56 = v71;
      v11 = sub_40F1D0((char *)&byte_587000[137028], 0, (const char *)&byte_587000[136992], 2575);
      nox_swprintf(v75, v11, v56, v63);
    }
    else
    {
      v12 = sub_40F1D0((char *)&byte_587000[137084], 0, (const char *)&byte_587000[137048], 2583);
      nox_wcscpy(v75, v12);
    }
  }
  else
  {
    switch ( sub_57B190(
               *(_WORD *)(*(_DWORD *)&byte_5D4594[1063116] + 292),
               *(_WORD *)(*(_DWORD *)&byte_5D4594[1063116] + 294)) )
    {
      case 0:
        v13 = sub_40F1D0((char *)&byte_587000[137228], 0, (const char *)&byte_587000[137192], 2595);
        goto LABEL_30;
      case 1:
        v52 = sub_40F1D0((char *)&byte_587000[137292], 0, (const char *)&byte_587000[137256], 2599);
        nox_swprintf(v75, v52);
        break;
      case 2:
        v53 = sub_40F1D0((char *)&byte_587000[137356], 0, (const char *)&byte_587000[137320], 2603);
        nox_swprintf(v75, v53);
        break;
      case 3:
        v13 = sub_40F1D0((char *)&byte_587000[137420], 0, (const char *)&byte_587000[137384], 2607);
LABEL_30:
        nox_swprintf(v75, v13);
        break;
      case 4:
        v51 = sub_40F1D0((char *)&byte_587000[137156], 0, (const char *)&byte_587000[137120], 2591);
        nox_swprintf(v75, v51);
        break;
      default:
        break;
    }
  }
  sub_46B490((int)v10, 16397, (int)v75, -1);
  sub_46B490((int)v10, 16397, (int)&byte_5D4594[1063656], -1);
  v64 = *(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1063116] + 298);
  v14 = sub_40F1D0((char *)&byte_587000[137484], 0, (const char *)&byte_587000[137448], 2620);
  nox_swprintf(v75, v14, v64);
  sub_46B490((int)v10, 16397, (int)v75, -1);
  sub_46B490((int)v10, 16397, (int)&byte_5D4594[1063660], -1);
  v15 = *(_DWORD *)&byte_5D4594[1063116];
  v16 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1063116] + 112);
  if ( !(v16 & 0x2000000) )
  {
    if ( !(v16 & 0x1001000) )
      goto LABEL_72;
    v23 = *(_DWORD *)&byte_5D4594[2618908];
    LODWORD(v68) = *(_DWORD *)&byte_5D4594[1063116] + 432;
    v69 = 1.0;
    v70 = *(float *)&byte_5D4594[2618908];
    if ( !*(_DWORD *)&byte_5D4594[1063644] )
    {
      *(_DWORD *)&byte_5D4594[1063644] = sub_44CFC0((CHAR *)&byte_587000[137608]);
      v24 = sub_44CFC0((CHAR *)&byte_587000[137620]);
      v23 = *(_DWORD *)&byte_5D4594[2618908];
      *(_DWORD *)&byte_5D4594[1063648] = v24;
      v15 = *(_DWORD *)&byte_5D4594[1063116];
    }
    if ( !v23 || !(*(_BYTE *)(v15 + 116) & 2) )
      goto LABEL_50;
    v25 = *(_DWORD *)(v23 + 4);
    if ( v25 & 4 )
    {
      v26 = sub_413250(*(int *)&byte_5D4594[1063644]);
      v2 = 4;
    }
    else
    {
      if ( !(v25 & 8) )
        goto LABEL_50;
      v26 = sub_413250(*(int *)&byte_5D4594[1063648]);
      v2 = 8;
    }
    if ( v26 )
      goto LABEL_51;
    v15 = *(_DWORD *)&byte_5D4594[1063116];
LABEL_50:
    v26 = sub_413250(*(_DWORD *)(v15 + 108));
LABEL_51:
    v71 = sub_4626C0(*(int *)&byte_5D4594[1063116]);
    v72 = sub_462700(*(int *)&byte_5D4594[1063116]);
    v27 = *(_DWORD *)LODWORD(v68);
    if ( *(_DWORD *)LODWORD(v68) && *(float *(__cdecl **)(int, int, int, int, float *))(v27 + 40) == sub_4E04C0 )
      v69 = *(float *)(v27 + 44);
    v28 = sub_4EF1E0(*(_DWORD *)(LODWORD(v70) + 2239), (int)v26);
    v29 = v26[1];
    v70 = v28 * v69 + v71 + v72;
    if ( v29 == *(_DWORD *)&byte_5D4594[1063648] && sub_40A5C0(2048) )
    {
      v30 = sub_419D40((void *)&byte_587000[137632]);
    }
    else
    {
      LODWORD(v68) = *((unsigned __int16 *)v26 + 36);
      v30 = (double)SLODWORD(v68);
    }
    v68 = v30 * v69;
    v31 = v70 - v68 - v72 - v71;
    v69 = v31;
    if ( v31 < 0.0 )
    {
      v32 = v70 - v69;
      v69 = 0.0;
      v70 = v32;
    }
    v33 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1063116] + 116);
    if ( v33 & 0xC )
    {
      v34 = sub_40F1D0((char *)&byte_587000[137688], 0, (const char *)&byte_587000[137652], 2770);
      nox_swprintf(v75, v34);
    }
    else if ( !(v33 & 2) || v2 )
    {
      v58 = v70;
      v55 = sub_40F1D0((char *)&byte_587000[137812], 0, (const char *)&byte_587000[137776], 2776);
      nox_swprintf(v75, v55, v58);
    }
    else
    {
      v57 = v70;
      v54 = sub_40F1D0((char *)&byte_587000[137744], 0, (const char *)&byte_587000[137708], 2773);
      nox_swprintf(v75, v54, v57);
    }
    sub_46B490((int)v10, 16397, (int)v75, -1);
    nox_wcscpy(v75, (const wchar_t *)&byte_587000[137832]);
    v59 = v68;
    v35 = sub_40F1D0((char *)&byte_587000[137876], 0, (const char *)&byte_587000[137840], 2785);
    nox_swprintf(v76, v35, v59);
    nox_wcscat(v75, v76);
    sub_46B490((int)v10, 16397, (int)v75, -1);
    nox_wcscpy(v75, (const wchar_t *)&byte_587000[137892]);
    v60 = v69;
    v36 = sub_40F1D0((char *)&byte_587000[137936], 0, (const char *)&byte_587000[137900], 2792);
    nox_swprintf(v76, v36, v60);
    nox_wcscat(v75, v76);
    sub_46B490((int)v10, 16397, (int)v75, -1);
    if ( v72 > 0.0 )
    {
      nox_wcscpy(v75, (const wchar_t *)&byte_587000[137956]);
      v61 = v72;
      v37 = sub_40F1D0((char *)&byte_587000[138000], 0, (const char *)&byte_587000[137964], 2801);
      nox_swprintf(v76, v37, v61);
      nox_wcscat(v75, v76);
      sub_46B490((int)v10, 16397, (int)v75, -1);
    }
    if ( v71 > 0.0 )
    {
      nox_wcscpy(v75, (const wchar_t *)&byte_587000[138016]);
      v62 = v71;
      v38 = sub_40F1D0((char *)&byte_587000[138060], 0, (const char *)&byte_587000[138024], 2811);
      nox_swprintf(v76, v38, v62);
      nox_wcscat(v75, v76);
      sub_46B490((int)v10, 16397, (int)v75, -1);
    }
    sub_46B490((int)v10, 16397, (int)&byte_5D4594[1063668], -1);
    goto LABEL_71;
  }
  v17 = (float *)sub_413270(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1063116] + 108));
  v18 = 1.0;
  v19 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1063116] + 432);
  if ( v19 && *(float *(__cdecl **)(int, int, int, int, int, float *))(v19 + 76) == sub_4E0370 )
    v18 = *(float *)(v19 + 80);
  v65 = v18 * v17[16] * 1000.0 + 0.5;
  v20 = sub_419A70(v65);
  if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[1063116] + 116) & 2 )
  {
    v21 = sub_40F1D0((char *)&byte_587000[137536], 0, (const char *)&byte_587000[137500], 2647);
    nox_swprintf(v75, v21);
  }
  else
  {
    v66 = v20;
    v22 = sub_40F1D0((char *)&byte_587000[137592], 0, (const char *)&byte_587000[137556], 2649);
    nox_swprintf(v75, v22, v66);
  }
  sub_46B490((int)v10, 16397, (int)v75, -1);
  sub_46B490((int)v10, 16397, (int)&byte_5D4594[1063664], -1);
LABEL_71:
  v15 = *(_DWORD *)&byte_5D4594[1063116];
LABEL_72:
  v39 = *(_DWORD *)(v15 + 112);
  if ( v39 & 0x13001000 )
  {
    if ( v39 & 0x11001000 )
      v40 = sub_413250(*(_DWORD *)(v15 + 108));
    else
      v40 = sub_413270(*(_DWORD *)(v15 + 108));
    if ( v40 )
    {
      v15 = *(_DWORD *)&byte_5D4594[1063116];
      v43 = *(_DWORD *)&byte_5D4594[1063116] + 432;
      if ( *(_DWORD *)(*(_DWORD *)&byte_5D4594[1063116] + 112) & 0x10000000 )
        goto LABEL_91;
      v44 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1063116] + 440);
      if ( v44 && *(_DWORD *)(v44 + 16) )
      {
        v45 = sub_40F1D0((char *)&byte_587000[138236], 0, (const char *)&byte_587000[138200], 2851);
        nox_swprintf(v75, v45);
        sub_46B490((int)v10, 16397, (int)v75, -1);
        v46 = 0;
        nox_wcscpy(v75, (const wchar_t *)&byte_587000[138264]);
        nox_swprintf(v76, *(const wchar_t **)(*(_DWORD *)(v43 + 8) + 16));
        nox_wcscat(v75, v76);
        sub_46B490((int)v10, 16397, (int)v75, -1);
        v15 = *(_DWORD *)&byte_5D4594[1063116];
      }
      else
      {
        v46 = v73;
      }
      v47 = *(_DWORD *)(v43 + 12);
      if ( v47 && *(_DWORD *)(v47 + 16) )
      {
        if ( v46 == 1 )
        {
          v48 = sub_40F1D0((char *)&byte_587000[138308], 0, (const char *)&byte_587000[138272], 2868);
          nox_swprintf(v75, v48);
          sub_46B490((int)v10, 16397, (int)v75, -1);
          v73 = 0;
          v46 = 0;
        }
        nox_wcscpy(v75, (const wchar_t *)&byte_587000[138336]);
        nox_swprintf(v76, *(const wchar_t **)(*(_DWORD *)(v43 + 12) + 16));
        nox_wcscat(v75, v76);
        sub_46B490((int)v10, 16397, (int)v75, -1);
        v15 = *(_DWORD *)&byte_5D4594[1063116];
      }
      if ( v46 )
        goto LABEL_91;
      sub_46B490((int)v10, 16397, (int)&byte_5D4594[1063672], -1);
    }
    else
    {
      v41 = sub_40F1D0((char *)&byte_587000[138120], 0, (const char *)&byte_587000[138084], 2835);
      nox_swprintf(v75, v41);
      sub_46B490((int)v10, 16397, (int)v75, -1);
      v42 = sub_40F1D0((char *)&byte_587000[138184], 0, (const char *)&byte_587000[138148], 2837);
      nox_swprintf(v75, v42);
      sub_46B490((int)v10, 16397, (int)v75, -1);
    }
    v15 = *(_DWORD *)&byte_5D4594[1063116];
  }
LABEL_91:
  v49 = sub_44CF60(*(_DWORD *)(v15 + 108));
  if ( v49 )
    sub_46B490((int)v10, 16397, v49, -1);
  v67 = sub_44CF90(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1063116] + 108));
  v50 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1062476], 9155);
  return sub_46AE60((int)v50, v67);
}
// 462878: variable 'v3' is possibly undefined
// 46288E: variable 'v4' is possibly undefined
// 4628A4: variable 'v5' is possibly undefined
// 4628CE: variable 'v6' is possibly undefined
// 4628E8: variable 'v7' is possibly undefined

//----- (00463370) --------------------------------------------------------
int __cdecl sub_463370(_DWORD *a1, _DWORD *a2, _DWORD *a3)
{
  _DWORD *v4; // eax
  _DWORD *v5; // ecx
  int result; // eax
  int v7; // [esp+0h] [ebp-4h]

  sub_46AA60(a1, &a1, &v7);
  v4 = a2;
  v5 = a3;
  *a3 = *a2 - (_DWORD)a1;
  result = v4[1] - v7;
  v5[1] = result;
  return result;
}

//----- (004633B0) --------------------------------------------------------
int __cdecl sub_4633B0(int a1, int *a2, int *a3)
{
  int result; // eax
  int v4; // esi
  float v5; // [esp+0h] [ebp-10h]
  float v6; // [esp+0h] [ebp-10h]

  result = a1;
  *a2 = *(unsigned __int16 *)(a1 + 292);
  *a3 = *(unsigned __int16 *)(a1 + 294);
  if ( *(_DWORD *)(a1 + 112) & 0x13001000 )
  {
    v4 = *(_DWORD *)(a1 + 436);
    if ( v4 )
    {
      if ( *(float *(__cdecl **)(int, int, int, int, int, float *))(v4 + 76) == sub_4E0380 )
      {
        v5 = (double)*a2 * *(float *)(v4 + 80);
        *a2 = sub_419A70(v5);
        v6 = (double)*a3 * *(float *)(v4 + 80);
        result = sub_419A70(v6);
        *a3 = result;
      }
    }
  }
  return result;
}

//----- (00463420) --------------------------------------------------------
int __cdecl sub_463420(int a1)
{
  int result; // eax

  result = a1;
  *(_DWORD *)&byte_5D4594[1050012] = a1;
  return result;
}

//----- (00463430) --------------------------------------------------------
int __cdecl sub_463430(int a1)
{
  int v1; // et1
  int v2; // ebp
  int v3; // esi
  int v4; // edi
  int v5; // eax
  int v6; // eax
  int v7; // ebp
  int v8; // eax
  int v9; // edi
  int v10; // esi
  int v11; // esi
  int v12; // edi
  int v13; // et1
  int v14; // et1
  int2 v16; // [esp+10h] [ebp-28h]
  wchar_t v17[16]; // [esp+18h] [ebp-20h]

  v1 = *(_DWORD *)&byte_587000[136184];
  sub_46A9B0(*(_DWORD **)(a1 + 396), 0, v1);
  sub_46AA60((_DWORD *)a1, &v16, &v16.field_4);
  sub_43F320(0);
  v2 = 0;
  v3 = v16.field_0 + 10;
  v4 = v16.field_4 + 234;
  do
  {
    if ( (1 << v2) & *(_DWORD *)&byte_5D4594[1062540] && v2 != 31 && v2 != 30 )
    {
      v5 = sub_424920(v2);
      v6 = sub_424A90(v5);
      sub_47D2C0(v6, v3, v4);
      v3 += 35;
    }
    ++v2;
  }
  while ( v2 < 32 );
  v7 = 0;
  do
  {
    if ( byte_5D4594[1062536] & (unsigned __int8)(1 << v7) )
    {
      v8 = sub_413420(1 << v7);
      sub_47D2C0(v8, v3, v4);
      v3 += 35;
    }
    ++v7;
  }
  while ( v7 < 6 );
  if ( sub_40A5C0(4096) && *(_DWORD *)&byte_5D4594[1050008] )
  {
    v4 += 5;
    v3 += 6;
    sub_47D2C0(
      *(_DWORD *)(*(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1050008] + 96) + 4)
                + 4
                * (*(_DWORD *)&byte_5D4594[2598000]
                 % (unsigned int)*(unsigned __int8 *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1050008] + 96) + 8))),
      v3 - 58,
      v4 - 53);
    nox_swprintf(v17, (const wchar_t *)&byte_587000[138344], *(_DWORD *)&byte_5D4594[1050012]);
    sub_434390(*(int *)&byte_5D4594[2614244]);
    sub_43F6E0(*(int *)&byte_5D4594[1063636], (__int16 *)v17, v3 + 20, v4 + 9);
    *(_DWORD *)&byte_5D4594[1049812] = v3 - 30;
    *(_DWORD *)&byte_5D4594[1049816] = v4 - 20;
    *(_DWORD *)&byte_5D4594[1049820] = v3 + 30;
    *(_DWORD *)&byte_5D4594[1049824] = v4 + 20;
  }
  if ( sub_40A5C0(4096) && sub_4BFD30() )
  {
    v9 = v4 + 5;
    v10 = v3 + 66;
    sub_47D2C0(*(int *)&byte_5D4594[1050004], v10 - 64, v9 - 58);
    *(_DWORD *)&byte_5D4594[1049828] = v10 - 30;
    *(_DWORD *)&byte_5D4594[1049832] = v9 - 20;
    *(_DWORD *)&byte_5D4594[1049836] = v10 + 30;
    *(_DWORD *)&byte_5D4594[1049840] = v9 + 20;
  }
  if ( byte_5D4594[1049868] )
  {
    v11 = v16.field_4 + 13;
    v12 = v16.field_0 + 254;
    if ( v16.field_4 + 163 > 0 )
    {
      sub_49F7F0();
      sub_49F6F0(v12, v11, 260, 150);
      if ( byte_5D4594[1049869] )
      {
        if ( byte_5D4594[1049869] == 1 )
          sub_469D40(v12, v11, *(int *)&byte_5D4594[1062512]);
      }
      else
      {
        sub_4643B0(v12, v11);
      }
      sub_49F860();
    }
    if ( *(_DWORD *)&byte_5D4594[1049864] == 5 )
    {
      sub_4627F0(&v16);
      sub_47D2C0(*(int *)&byte_5D4594[1049912], v16.field_0, v16.field_4);
    }
    else
    {
      if ( byte_5D4594[1049870] )
      {
        if ( byte_5D4594[1049870] == 1 )
        {
          sub_463880(&v16.field_0);
          sub_47D2C0(*(int *)&byte_5D4594[1049912], v16.field_0, v16.field_4);
        }
      }
      else
      {
        sub_4BF7E0(&v16);
        sub_47D2C0(*(int *)&byte_5D4594[1049908], v16.field_0, v16.field_4);
      }
      sub_434390(*(int *)&byte_5D4594[2523948]);
      sub_43FAF0(0, &byte_5D4594[1062588], v16.field_0 + 13, v16.field_4 + 17, 196, 0);
    }
  }
  if ( byte_5D4594[1049868] == 1 )
  {
    v14 = *(_DWORD *)&byte_587000[136184];
    *(_DWORD *)&byte_587000[136184] = v14 + 64;
    if ( v14 + 64 > 0 )
    {
      *(_DWORD *)&byte_587000[136184] = 0;
      byte_5D4594[1049868] = 2;
    }
  }
  else if ( byte_5D4594[1049868] == 3 )
  {
    v13 = *(_DWORD *)&byte_587000[136184];
    *(_DWORD *)&byte_587000[136184] = v13 - 32;
    if ( v13 - 32 <= -225 )
    {
      *(_DWORD *)&byte_587000[136184] = -225;
      byte_5D4594[1049868] = 0;
      if ( byte_5D4594[1049869] )
      {
        if ( byte_5D4594[1049869] == 1 )
          *(_DWORD *)&byte_5D4594[1062520] = *(_DWORD *)&byte_5D4594[1062512];
      }
      else
      {
        *(_DWORD *)&byte_5D4594[1062516] = *(_DWORD *)&byte_5D4594[1062512];
      }
      byte_5D4594[1049869] = 0;
      *(_DWORD *)&byte_5D4594[1062512] = *(_DWORD *)&byte_5D4594[1062516];
      sub_46B490(*(int *)&byte_5D4594[1062508], 16395, 0, 850);
      sub_46B490(
        *(int *)&byte_5D4594[1062508],
        16394,
        *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1062508] + 32) + 4) - *(_DWORD *)&byte_5D4594[1062512],
        0);
      sub_46AE60(*(int *)&byte_5D4594[1062528], 0);
      sub_46AEC0(*(int *)&byte_5D4594[1062528], *(int *)&byte_5D4594[1049976]);
      sub_46B080(*(_DWORD **)&byte_5D4594[1062528], 9105);
      byte_5D4594[1049870] = 0;
      sub_46AE60(*(int *)&byte_5D4594[1062524], *(int *)&byte_5D4594[1049992]);
      sub_46AEC0(*(int *)&byte_5D4594[1062524], *(int *)&byte_5D4594[1049996]);
      sub_46B080(*(_DWORD **)&byte_5D4594[1062524], 9107);
      sub_46AC00(*(int *)&byte_5D4594[1062468], 0);
    }
  }
  if ( sub_467C80() && sub_4372B0() )
    sub_467C10();
  return 1;
}

//----- (00463880) --------------------------------------------------------
int *__cdecl sub_463880(int *a1)
{
  int v1; // esi
  int v2; // eax
  int v3; // eax
  int v4; // ebp
  int *result; // eax
  int v6; // edi
  int v7; // ebx
  int v8; // edi
  int v9; // ebx
  int v10; // edi
  int v11; // ebx
  wchar_t *v12; // eax
  int v13; // ebx
  wchar_t *v14; // eax
  int v15; // ebx
  wchar_t *v16; // eax
  wchar_t *v17; // eax
  int v18; // eax
  int v19; // ebx
  wchar_t *v20; // eax
  wchar_t *v21; // eax
  int v22; // eax
  wchar_t *v23; // eax
  wchar_t *v24; // eax
  int v25; // ebx
  wchar_t *v26; // eax
  int v27; // eax
  wchar_t *v28; // eax
  int v29; // eax
  int v30; // ebx
  wchar_t *v31; // eax
  wchar_t *v32; // eax
  unsigned __int8 *v33; // ecx
  int v34; // esi
  unsigned __int16 *v35; // eax
  int v36; // ebx
  wchar_t *v37; // eax
  wchar_t *v38; // eax
  int v39; // [esp-8h] [ebp-248h]
  int v40; // [esp-4h] [ebp-244h]
  int v41; // [esp+0h] [ebp-240h]
  int v42; // [esp+0h] [ebp-240h]
  int v43; // [esp+0h] [ebp-240h]
  int v44; // [esp+0h] [ebp-240h]
  float v45; // [esp+0h] [ebp-240h]
  int v46; // [esp+0h] [ebp-240h]
  float v47; // [esp+0h] [ebp-240h]
  int v48; // [esp+0h] [ebp-240h]
  float v49; // [esp+0h] [ebp-240h]
  int v50; // [esp+0h] [ebp-240h]
  float v51; // [esp+4h] [ebp-23Ch]
  int v52; // [esp+4h] [ebp-23Ch]
  int v53; // [esp+4h] [ebp-23Ch]
  float v54; // [esp+4h] [ebp-23Ch]
  float v55; // [esp+4h] [ebp-23Ch]
  int v56; // [esp+4h] [ebp-23Ch]
  float v57; // [esp+4h] [ebp-23Ch]
  float v58; // [esp+4h] [ebp-23Ch]
  int v59; // [esp+4h] [ebp-23Ch]
  float v60; // [esp+4h] [ebp-23Ch]
  int v61; // [esp+4h] [ebp-23Ch]
  float v62; // [esp+4h] [ebp-23Ch]
  float v63; // [esp+4h] [ebp-23Ch]
  int v64; // [esp+4h] [ebp-23Ch]
  float v65; // [esp+4h] [ebp-23Ch]
  int v66; // [esp+4h] [ebp-23Ch]
  int v67; // [esp+18h] [ebp-228h]
  int v68; // [esp+1Ch] [ebp-224h]
  float v69; // [esp+20h] [ebp-220h]
  float *v70; // [esp+24h] [ebp-21Ch]
  float *v71; // [esp+28h] [ebp-218h]
  int v72; // [esp+2Ch] [ebp-214h]
  int v73; // [esp+30h] [ebp-210h]
  int v74; // [esp+34h] [ebp-20Ch]
  int v75; // [esp+38h] [ebp-208h]
  int v76; // [esp+3Ch] [ebp-204h]
  wchar_t v77[256]; // [esp+40h] [ebp-200h]

  v1 = sub_43F320(0);
  v2 = sub_43F320(*(int *)&byte_5D4594[1063636]);
  v68 = v1 - v2;
  v51 = (double)(v1 - v2) * 0.5 + 0.5;
  v3 = sub_419A70(v51);
  v4 = *(_DWORD *)&byte_5D4594[2618908];
  v73 = v3;
  result = a1;
  v72 = *(_DWORD *)&byte_5D4594[2523948];
  v6 = *a1;
  v7 = a1[1];
  if ( *(_DWORD *)&byte_5D4594[2618908] )
  {
    sub_57B350();
    v70 = sub_57B360(*(unsigned __int8 *)(v4 + 2251));
    v71 = sub_57B360(0);
    v8 = v6 + 11;
    v9 = v7 + 15;
    sub_434390(v72);
    sub_434460(*(int *)&byte_5D4594[2650656]);
    sub_49CE30(v8, v9, 200, 200);
    v10 = v8 + 2;
    v11 = v9 + 2 * v1 + 3;
    v52 = *(char *)(v4 + 3684);
    v12 = sub_40F1D0((char *)&byte_587000[138392], 0, (const char *)&byte_587000[138356], 1878);
    nox_swprintf(v77, v12, v52);
    sub_43FAF0(0, v77, v10, v11, 200, 0);
    v13 = v11 + v1 + 1;
    if ( sub_40A5C0(2048) )
    {
      v53 = (__int64)sub_419D70(&byte_587000[138404], *(char *)(v4 + 3684) + 1);
      v41 = *(_DWORD *)&byte_5D4594[1062544];
      v14 = sub_40F1D0((char *)&byte_587000[138448], 0, (const char *)&byte_587000[138412], 1886);
      nox_swprintf(v77, v14, v41, v53);
      sub_43FAF0(0, v77, v10, v13, 200, 0);
    }
    v15 = 2 * v1 + 2 + v13;
    v16 = sub_40F1D0((char *)&byte_587000[138496], 0, (const char *)&byte_587000[138460], 1896);
    sub_43FAF0(0, v16, v10, v15, 200, 0);
    sub_434460(*(int *)&byte_5D4594[2598268]);
    sub_49CE30(v10 + 60, v15, 90, v1);
    v54 = (double)(int)(90 * *(_DWORD *)(v4 + 2247)) / *v70;
    v67 = sub_419A70(v54);
    sub_434460(*(int *)&byte_5D4594[2589776]);
    sub_49CE30(v10 + 60, v15, v67, v1);
    v68 = 90 * sub_470CC0();
    v55 = (double)v68 / *v70;
    v67 = sub_419A70(v55);
    sub_434460(*(int *)&byte_5D4594[2650644]);
    sub_49CE30(v10 + 60, v15, v67, v1);
    v56 = sub_419A70(*v70);
    v42 = *(_DWORD *)(v4 + 2247);
    v17 = sub_40F1D0((char *)&byte_587000[138544], 0, (const char *)&byte_587000[138508], 1914);
    nox_swprintf(v77, v17, v42, v56);
    sub_43F840(*(int *)&byte_5D4594[1063636], v77, &v67, 0, 0);
    LODWORD(v69) = v15 + v73;
    sub_43FAF0(*(int *)&byte_5D4594[1063636], v77, v10 - v67 + 193, v15 + v73, 200, 0);
    v18 = sub_470CC0();
    nox_swprintf(v77, (const wchar_t *)&byte_587000[138560], v18);
    sub_43FAF0(*(int *)&byte_5D4594[1063636], v77, v10 + 45, SLODWORD(v69), 200, 0);
    v19 = v15 + v1 + 1;
    if ( *(_BYTE *)(v4 + 2251) )
    {
      sub_434460(*(int *)&byte_5D4594[2650648]);
      sub_49CE30(v10 + 60, v19, 90, v1);
      v68 = 90 * *(_DWORD *)(v4 + 2243);
      v57 = (double)v68 / v70[1];
      v67 = sub_419A70(v57);
      v20 = sub_40F1D0((char *)&byte_587000[138604], 0, (const char *)&byte_587000[138568], 1941);
      sub_43FAF0(0, v20, v10, v19, 200, 0);
      sub_434460(*(int *)&byte_5D4594[2650684]);
      sub_49CE30(v10 + 60, v19, v67, v1);
      v68 = 90 * sub_470DD0();
      v58 = (double)v68 / v70[1];
      v67 = sub_419A70(v58);
      sub_434460(*(int *)&byte_5D4594[2649820]);
      sub_49CE30(v10 + 60, v19, v67, v1);
      v59 = sub_419A70(v70[1]);
      v43 = *(_DWORD *)(v4 + 2243);
      v21 = sub_40F1D0((char *)&byte_587000[138652], 0, (const char *)&byte_587000[138616], 1952);
      nox_swprintf(v77, v21, v43, v59);
      sub_43F840(*(int *)&byte_5D4594[1063636], v77, &v67, 0, 0);
      sub_43FAF0(*(int *)&byte_5D4594[1063636], v77, v10 - v67 + 193, v19 + v73, 200, 0);
      v22 = sub_470DD0();
      nox_swprintf(v77, (const wchar_t *)&byte_587000[138668], v22);
      sub_43FAF0(*(int *)&byte_5D4594[1063636], v77, v10 + 45, v19 + v73, 200, 0);
      v19 += v1 + 1;
    }
    sub_434460(*(int *)&byte_5D4594[2650660]);
    sub_49CE30(v10 + 60, v19, 90, v1);
    v68 = 90 * *(_DWORD *)(v4 + 2239);
    v60 = (double)v68 / v70[3];
    v67 = sub_419A70(v60);
    v23 = sub_40F1D0((char *)&byte_587000[138712], 0, (const char *)&byte_587000[138676], 1975);
    sub_43FAF0(0, v23, v10, v19, 200, 0);
    sub_434460(*(int *)&byte_5D4594[2597996]);
    sub_49CE30(v10 + 60, v19, v67, v1);
    v61 = sub_419A70(v70[3]);
    v44 = *(_DWORD *)(v4 + 2239);
    v24 = sub_40F1D0((char *)&byte_587000[138764], 0, (const char *)&byte_587000[138728], 1982);
    nox_swprintf(v77, v24, v44, v61);
    sub_43F840(*(int *)&byte_5D4594[1063636], v77, &v67, 0, 0);
    sub_43FAF0(*(int *)&byte_5D4594[1063636], v77, v10 - v67 + 193, v19 + v73, 200, 0);
    nox_swprintf(v77, (const wchar_t *)&byte_587000[138780], *(_DWORD *)(v4 + 2239));
    sub_43FAF0(*(int *)&byte_5D4594[1063636], v77, v10 + 45, v19 + v73, 200, 0);
    v25 = v19 + v1 + 1;
    sub_434460(*(int *)&byte_5D4594[2614256]);
    sub_49CE30(v10 + 60, v25, 90, v1);
    v68 = 90 * *(_DWORD *)(v4 + 2235);
    v62 = (double)v68 / v70[2] + 0.5;
    v67 = sub_419A70(v62);
    v26 = sub_40F1D0((char *)&byte_587000[138824], 0, (const char *)&byte_587000[138788], 2006);
    sub_43FAF0(0, v26, v10, v25, 200, 0);
    sub_434460(*(int *)&byte_5D4594[2589772]);
    sub_49CE30(v10 + 60, v25, v67, v1);
    sub_434390(*(int *)&byte_5D4594[2523948]);
    v69 = *(float *)&byte_5D4594[1063100] / (v71[2] * 0.000001);
    if ( byte_5D4594[1062541] & 2 )
      v69 = ((double)v67 + v69) * 1.25 - (double)v67;
    if ( byte_5D4594[1062540] & 0x10 )
      v69 = ((double)v67 + v69) * 0.5 - (double)v67;
    if ( v69 >= 0.0 )
    {
      if ( v69 > 0.0 )
      {
        *(float *)&v68 = COERCE_FLOAT(sub_419A70(v69));
        if ( v67 + v68 > 90 )
          v68 = 90 - v67;
        sub_434460(*(int *)&byte_5D4594[2589772]);
        sub_49CE30(v67 + v10 + 60, v25, v68, v1);
        sub_434390(*(int *)&byte_5D4594[2650684]);
      }
    }
    else
    {
      sub_434460(*(int *)&byte_5D4594[2650648]);
      v45 = -v69;
      v46 = sub_419A70(v45);
      v27 = sub_419A70(v69);
      sub_49CE30(v67 + v27 + v10 + 60, v25, v46, v1);
    }
    *(float *)&v68 = v69 * 100.0 * 0.011111111;
    v63 = v70[2] * 100.0 / v71[2];
    v64 = sub_419A70(v63);
    v47 = (double)*(int *)(v4 + 2235) * 100.0 / v71[2] + *(float *)&v68 + 0.5;
    v48 = sub_419A70(v47);
    v28 = sub_40F1D0((char *)&byte_587000[138872], 0, (const char *)&byte_587000[138836], 2045);
    nox_swprintf(v77, v28, v48, v64);
    sub_43F840(*(int *)&byte_5D4594[1063636], v77, &v76, 0, 0);
    LODWORD(v69) = v25 + v73;
    sub_43FAF0(*(int *)&byte_5D4594[1063636], v77, v10 - v76 + 193, v25 + v73, 200, 0);
    sub_434390(*(int *)&byte_5D4594[2523948]);
    v65 = (double)*(int *)(v4 + 2235) * 100.0 / v71[2] + *(float *)&v68 + 0.5;
    v29 = sub_419A70(v65);
    nox_swprintf(v77, (const wchar_t *)&byte_587000[138888], v29);
    sub_43FAF0(*(int *)&byte_5D4594[1063636], v77, v10 + 45, SLODWORD(v69), 200, 0);
    sub_434390(*(int *)&byte_5D4594[2523948]);
    v30 = 2 * v1 + 2 + v25;
    if ( *(_DWORD *)&byte_587000[26048] == 6 || *(_DWORD *)&byte_587000[26048] == 8 )
      v10 += 39;
    sub_434390(v72);
    v31 = sub_40F1D0((char *)&byte_587000[138932], 0, (const char *)&byte_587000[138896], 2072);
    nox_wcscpy(v77, v31);
    sub_43F840(0, v77, &v75, 0, 0);
    sub_43FAF0(0, v77, v10, v30, 0, 0);
    v49 = *(float *)&byte_5D4594[1062548] * 1000.0 + 0.5;
    v50 = sub_419A70(v49);
    v32 = sub_40F1D0((char *)&byte_587000[138984], 0, (const char *)&byte_587000[138948], 2076);
    nox_swprintf(v77, v32, v50, 1000);
    sub_43FAF0(0, v77, v75 + v10 + 5, v30, 0, 0);
    v33 = &byte_5D4594[1050160];
    v74 = v30 + v1 + 1;
    v34 = 0;
    v71 = (float *)&byte_5D4594[1050160];
    do
    {
      v68 = 4;
      do
      {
        if ( *v33 )
          v34 += *v33 * *(unsigned __int8 *)(*((_DWORD *)v33 - 35) + 298);
        v33 += 3108;
        --v68;
      }
      while ( *(float *)&v68 != 0.0 );
      v33 = (unsigned __int8 *)(v71 + 37);
      v71 += 37;
    }
    while ( (int)v71 < (int)&byte_5D4594[1053120] );
    sub_434390(v72);
    v35 = sub_40F1D0((char *)&byte_587000[139036], 0, (const char *)&byte_587000[139000], 2098);
    sub_43F840(0, v35, &v67, 0, 0);
    v36 = v74;
    v40 = v74;
    v39 = v10 + v75 - v67;
    v37 = sub_40F1D0((char *)&byte_587000[139084], 0, (const char *)&byte_587000[139048], 2099);
    sub_43FAF0(0, v37, v39, v40, 0, 0);
    if ( v34 > *(unsigned __int16 *)(v4 + 3652) )
      v72 = *(_DWORD *)&byte_5D4594[2650644];
    sub_434390(v72);
    v66 = *(unsigned __int16 *)(v4 + 3652);
    v38 = sub_40F1D0((char *)&byte_587000[139132], 0, (const char *)&byte_587000[139096], 2107);
    nox_swprintf(v77, v38, v34, v66);
    result = (int *)sub_43FAF0(0, v77, v75 + v10 + 5, v36, 0, 0);
  }
  return result;
}

//----- (004643B0) --------------------------------------------------------
int __cdecl sub_4643B0(int a1, int a2)
{
  int v2; // ebx
  int v3; // esi
  unsigned __int8 *v4; // ebp
  int v5; // edi
  int v6; // ebx
  int v7; // esi
  double v8; // st7
  double v9; // st6
  int v10; // eax
  int v11; // edx
  int v12; // eax
  __int16 v13; // ax
  __int16 v14; // ax
  __int16 v15; // si
  bool v16; // zf
  int result; // eax
  int v18; // [esp-8h] [ebp-5Ch]
  int v19; // [esp-4h] [ebp-58h]
  int v20; // [esp+10h] [ebp-44h]
  int v21; // [esp+14h] [ebp-40h]
  int v22; // [esp+18h] [ebp-3Ch]
  unsigned __int8 *v23; // [esp+1Ch] [ebp-38h]
  int v24; // [esp+20h] [ebp-34h]
  int v25; // [esp+24h] [ebp-30h]
  int v26; // [esp+28h] [ebp-2Ch]
  int v27; // [esp+2Ch] [ebp-28h]
  WCHAR WideCharStr[16]; // [esp+34h] [ebp-20h]
  unsigned __int8 *v29; // [esp+58h] [ebp+4h]

  v2 = a2;
  sub_47D2C0(*(int *)&byte_5D4594[1049928], a1, a2);
  _itow(*(int *)&byte_5D4594[1062552], WideCharStr, 10);
  sub_434390(*(int *)&byte_5D4594[2589772]);
  sub_43F840(*(int *)&byte_5D4594[1063636], WideCharStr, &v24, 0, 0);
  sub_43F6E0(*(int *)&byte_5D4594[1063636], (__int16 *)WideCharStr, a1 - v24 + 43, a2 + 36);
  if ( *(_DWORD *)&byte_5D4594[1049864] == 5 )
    sub_47D2C0(*(int *)&byte_5D4594[1049932], a1, a2 + 50);
  if ( sub_473670() )
    sub_47D2C0(*(int *)&byte_5D4594[1049936], a1, a2 + 100);
  v3 = a1 + 60;
  v4 = &byte_5D4594[1050160];
  v27 = a1 + 60;
  v5 = a2 - *(_DWORD *)&byte_5D4594[1062512];
  v20 = 0;
  v23 = &byte_5D4594[1050160];
  do
  {
    if ( v5 > v2 - 50 )
    {
      v6 = v3;
      sub_47D2C0(*(_DWORD *)&byte_5D4594[4 * (v20 % 3) + 1049916], v3, v5);
      v29 = v4;
      v22 = 4;
      while ( 1 )
      {
        if ( *v4 )
        {
          v7 = *((_DWORD *)v4 - 35);
          if ( v7 )
            break;
        }
LABEL_43:
        v6 += 50;
        v4 += 3108;
        v16 = v22 == 1;
        v29 = v4;
        --v22;
        if ( v16 )
        {
          v2 = a2;
          v4 = v23;
          v3 = v27;
          goto LABEL_45;
        }
      }
      v21 = 0;
      sub_434560(1);
      sub_434580(0x40u);
      v8 = (double)*(unsigned __int16 *)(v7 + 292);
      v25 = *(unsigned __int16 *)(v7 + 294);
      v9 = (double)v25;
      if ( v8 >= v9 * *(double *)&byte_581450[9608] )
      {
        if ( v8 >= v9 * *(double *)&byte_581450[9544] )
          goto LABEL_16;
        v10 = *(_DWORD *)&byte_5D4594[2589772];
      }
      else
      {
        v10 = *(_DWORD *)&byte_5D4594[2650644];
      }
      if ( v10 != 0x80000000 )
      {
        sub_434460(v10);
        sub_49CE30(v6, v5, 50, 50);
      }
LABEL_16:
      sub_434580(0x80u);
      if ( *((_DWORD *)v4 - 2) )
      {
        v11 = *(_DWORD *)&byte_5D4594[1049964];
        v19 = v5;
        v18 = v6;
      }
      else
      {
        if ( *((_DWORD *)v4 - 1) )
        {
          sub_47D2C0(*(int *)&byte_5D4594[1049968], v6, v5);
LABEL_27:
          sub_434560(0);
          *(_DWORD *)(v7 + 16) = v5 + 25;
          *(_DWORD *)(v7 + 12) = v6 + 25;
          (*(void (__cdecl **)(unsigned __int8 *, int))(v7 + 300))(&byte_5D4594[1049732], v7);
          if ( *(_DWORD *)&byte_5D4594[1049864] == 6 )
          {
            if ( *(_DWORD *)(v7 + 112) & 0x13001000 )
            {
              if ( (*(_DWORD *)(v7 + 112) & 0x1000) == 4096 )
              {
                v13 = *(_WORD *)(v7 + 450);
                if ( *(_WORD *)(v7 + 448) < v13 )
                {
                  if ( v13 )
                    v21 = 1;
                }
              }
            }
            v14 = *(_WORD *)(v7 + 294);
            if ( (*(_WORD *)(v7 + 292) == v14 || !v14) && !v21 )
              sub_49CF10(v6, v5, 50, 50);
          }
          if ( *v29 > 1u )
          {
            nox_swprintf(WideCharStr, (const wchar_t *)&byte_587000[139148], *v29);
            sub_434390(*(int *)&byte_5D4594[2523948]);
            sub_43F6E0(*(int *)&byte_5D4594[1063636], (__int16 *)WideCharStr, v6 + 6, v5 + 6);
          }
          if ( *(_DWORD *)(v7 + 112) & 0x13001000 )
          {
            v15 = *(_WORD *)(v7 + 448);
            if ( v15 >= 0 )
            {
              nox_swprintf(WideCharStr, (const wchar_t *)&byte_587000[139156], v15);
              sub_434390(*(int *)&byte_5D4594[2650684]);
              sub_43F840(*(int *)&byte_5D4594[1063636], WideCharStr, &v26, 0, 0);
              sub_43F6E0(*(int *)&byte_5D4594[1063636], (__int16 *)WideCharStr, v6 - v26 + 44, v5 + 6);
            }
          }
          v4 = v29;
          goto LABEL_43;
        }
        if ( *((_DWORD *)v4 - 34) != *(_DWORD *)&byte_5D4594[1062488] )
          goto LABEL_27;
        if ( !*(_DWORD *)&byte_5D4594[1062480] )
          goto LABEL_27;
        v12 = **(_DWORD **)&byte_5D4594[1062480];
        if ( !**(_DWORD **)&byte_5D4594[1062480]
          || !(*(_DWORD *)(v12 + 112) & 0x1000000)
          || !(*(_BYTE *)(v12 + 116) & 0xC) )
        {
          goto LABEL_27;
        }
        v11 = *(_DWORD *)&byte_5D4594[1049968];
        v19 = v5;
        v18 = v6;
      }
      sub_47D2C0(v11, v18, v19);
      goto LABEL_27;
    }
LABEL_45:
    v5 += 50;
    result = v2 + 150;
    if ( v5 > v2 + 150 )
      break;
    v4 += 148;
    ++v20;
    v23 = v4;
  }
  while ( (int)v4 < (int)&byte_5D4594[1053120] );
  return result;
}

//----- (00464770) --------------------------------------------------------
int __cdecl sub_464770(int a1, int a2, unsigned int a3)
{
  int v3; // eax
  int v4; // esi
  int v5; // eax
  int v6; // eax
  int result; // eax

  if ( *(_DWORD *)&byte_5D4594[1049864] == 6 )
    return 1;
  switch ( a2 )
  {
    case 5:
    case 8:
      return 1;
    case 6:
      if ( !*(_DWORD *)&byte_5D4594[1049848] )
        goto LABEL_25;
      if ( !sub_46AAB0(*(_DWORD **)&byte_5D4594[1062456], (unsigned __int16)a3, a3 >> 16) )
        goto LABEL_22;
      if ( *(_DWORD *)&byte_5D4594[1049856] )
      {
        if ( *(_DWORD *)(*(_DWORD *)&byte_5D4594[1049848] + 112) & 0x1001000 )
        {
          if ( *(_DWORD *)&byte_5D4594[1062480] )
          {
            sub_4672C0();
          }
          else
          {
            *(_DWORD *)&byte_5D4594[1062492] = *(_DWORD *)&byte_5D4594[1049848];
            sub_464B70(*(int *)&byte_5D4594[1049848]);
          }
        }
      }
      else if ( !(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1049848] + 112) & 0x1001000)
             || *(_DWORD *)&byte_5D4594[148
                                      * (*(_DWORD *)&byte_5D4594[1049800]
                                       + 14 * *(_DWORD *)&byte_5D4594[1049796]
                                       + 7 * *(_DWORD *)&byte_5D4594[1049796])
                                      + 1050152] )
      {
        sub_4649B0(*(int *)&byte_5D4594[1049848], *(int *)&byte_5D4594[1049796], *(int *)&byte_5D4594[1049800]);
      }
      else
      {
        if ( sub_415880(*(char **)(*(_DWORD *)&byte_5D4594[1049848] + 108)) == 2 )
        {
          v3 = sub_415840((char *)4);
          v4 = sub_461600(v3);
          v5 = sub_415840((char *)8);
          v6 = sub_461600(v5);
          if ( !v4 && !v6 )
          {
            sub_4649B0(*(int *)&byte_5D4594[1049848], *(int *)&byte_5D4594[1049796], *(int *)&byte_5D4594[1049800]);
            sub_4776A0();
            if ( !*(_DWORD *)&byte_5D4594[1049856] )
              sub_45A4B0(*(_QWORD **)&byte_5D4594[1049848]);
            *(_DWORD *)&byte_5D4594[1049848] = 0;
            *(_DWORD *)&byte_5D4594[1049856] = 0;
            return 1;
          }
        }
        if ( *(_DWORD *)&byte_5D4594[1062480] )
          *(_DWORD *)(*(_DWORD *)&byte_5D4594[1062480] + 136) = 0;
        sub_4649B0(*(int *)&byte_5D4594[1049848], *(int *)&byte_5D4594[1049796], *(int *)&byte_5D4594[1049800]);
        sub_461550((int)&byte_5D4594[148
                                   * (*(_DWORD *)&byte_5D4594[1049800]
                                    + 14 * *(_DWORD *)&byte_5D4594[1049796]
                                    + 7 * *(_DWORD *)&byte_5D4594[1049796])
                                   + 1050020]);
        *(_DWORD *)(*(_DWORD *)&byte_5D4594[1062480] + 136) = 1;
      }
LABEL_22:
      sub_4776A0();
      if ( !*(_DWORD *)&byte_5D4594[1049856] )
        sub_45A4B0(*(_QWORD **)&byte_5D4594[1049848]);
      *(_DWORD *)&byte_5D4594[1049848] = 0;
      *(_DWORD *)&byte_5D4594[1049856] = 0;
LABEL_25:
      sub_46ADE0(*(int *)&byte_5D4594[1062456]);
      result = 1;
      break;
    case 7:
      if ( *(_DWORD *)&byte_5D4594[1062480] )
        sub_4672C0();
      return 1;
    default:
      return 0;
  }
  return result;
}

//----- (004649B0) --------------------------------------------------------
BOOL __cdecl sub_4649B0(int a1, int a2, int a3)
{
  BOOL result; // eax
  unsigned __int8 *v4; // ebp
  unsigned __int8 v5; // al
  _DWORD *v6; // eax
  wchar_t *v7; // eax
  unsigned __int8 *v8; // ecx
  int v9; // eax
  int v10; // eax

  result = sub_464B40(a2, a3);
  if ( result )
  {
    v4 = &byte_5D4594[148 * (a3 + 14 * a2 + 7 * a2) + 1050020];
    v5 = byte_5D4594[148 * (a3 + 14 * a2 + 7 * a2) + 1050160];
    if ( v5 )
    {
      if ( *(_DWORD *)(a1 + 112) & 0x4000000 )
        return 0;
      if ( *(_DWORD *)(*(_DWORD *)v4 + 108) != *(_DWORD *)(a1 + 108) )
        return 0;
    }
    if ( v5 >= 0x20u )
      return 0;
    if ( !v5 )
    {
      v6 = sub_45A240(*(_DWORD *)(a1 + 108));
      *(_DWORD *)v4 = v6;
      if ( !v6 )
      {
        v7 = sub_40F1D0((char *)&byte_587000[139200], 0, (const char *)&byte_587000[139164], 898);
        sub_445490(v7);
        return 0;
      }
      v6[30] |= 0x40000000u;
      qmemcpy((void *)(*(_DWORD *)v4 + 432), (const void *)(a1 + 432), 0x18u);
      *(_WORD *)(*(_DWORD *)v4 + 292) = *(_WORD *)(a1 + 292);
      *(_WORD *)(*(_DWORD *)v4 + 294) = *(_WORD *)(a1 + 294);
    }
    v8 = &byte_5D4594[1049872];
    *(_DWORD *)&v4[4 * v4[140]++ + 4] = *(_DWORD *)(a1 + 128);
    *((_DWORD *)v4 + 33) = 0;
    while ( 1 )
    {
      v9 = *(_DWORD *)v8;
      if ( *(_DWORD *)v8 )
        break;
LABEL_17:
      v8 += 4;
      if ( (int)v8 >= (int)&byte_5D4594[1049908] )
        return 1;
    }
    while ( *(_DWORD *)(v9 + 128) != *(_DWORD *)(a1 + 128) )
    {
      v9 = *(_DWORD *)(v9 + 368);
      if ( !v9 )
        goto LABEL_17;
    }
    v10 = *((_DWORD *)v4 + 34);
    *((_DWORD *)v4 + 33) = 1;
    if ( v10 )
    {
      sub_461550(0);
      *((_DWORD *)v4 + 34) = 0;
    }
    result = 1;
  }
  return result;
}

//----- (00464B40) --------------------------------------------------------
BOOL __cdecl sub_464B40(int a1, int a2)
{
  return a1 >= 0 && a1 < 4 && a2 >= 0 && a2 < 21;
}

//----- (00464B70) --------------------------------------------------------
int __cdecl sub_464B70(int a1)
{
  int v1; // ecx
  char v3[3]; // [esp+0h] [ebp-4h]
  char v4; // [esp+3h] [ebp-1h]

  v4 = HIBYTE(v1);
  v3[0] = 118;
  *(_WORD *)&v3[1] = sub_578B00(a1);
  return sub_40EBC0(31, 0, v3, 3);
}

//----- (00464BA0) --------------------------------------------------------
int sub_464BA0()
{
  return 0;
}

//----- (00464BB0) --------------------------------------------------------
BOOL __cdecl sub_464BB0(int a1, int a2)
{
  return a2 != 8 && a2 != 12 && a2 != 16;
}

//----- (00464BD0) --------------------------------------------------------
int __cdecl sub_464BD0(int a1, int a2, unsigned int a3)
{
  int v4; // eax
  int v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // esi
  int v10; // edi
  int v11; // eax
  int v12; // ecx
  int v13; // eax
  int v14; // eax
  int v15; // eax
  int v16; // esi
  int v17; // edi
  int v18; // eax
  int v19; // ecx
  int v20; // eax
  int v21; // eax
  int v22; // eax
  int v23; // eax
  int v24; // eax
  int v25; // eax
  int v26; // eax
  _DWORD *v28; // esi
  wchar_t *v29; // eax
  int v30; // eax
  int v31; // eax
  int v32; // esi
  int v33; // edi
  int v34; // eax
  int v35; // eax
  int v36; // eax
  int v37; // eax
  int v38; // eax
  int v39; // eax
  _DWORD *v40; // ecx
  int v41; // edx
  int v42; // edx
  int v43; // eax
  int v44; // edx
  int v45; // esi
  int v46; // eax
  int v47; // eax
  int v48; // esi
  const void *v49; // edi
  wchar_t *v50; // eax
  int2 v51; // [esp-24h] [ebp-7Ch]
  int v52; // [esp-1Ch] [ebp-74h]
  int v53; // [esp-18h] [ebp-70h]
  int v54; // [esp-8h] [ebp-60h]
  int v55; // [esp-4h] [ebp-5Ch]
  int2 v56; // [esp+8h] [ebp-50h]
  int2 v57; // [esp+10h] [ebp-48h]
  int2 v58; // [esp+18h] [ebp-40h]
  int2 v59; // [esp+20h] [ebp-38h]

  v59.field_4 = a3 >> 16;
  v59.field_0 = (unsigned __int16)a3;
  sub_463370(*(_DWORD **)&byte_5D4594[1062456], &v59, &v56);
  if ( sub_45D9B0() || byte_5D4594[1049868] != 2 )
    return 1;
  switch ( a2 )
  {
    case 5:
      if ( sub_4372B0() )
        return 1;
      if ( *(_DWORD *)&byte_5D4594[1049864] == 5 )
      {
        v8 = sub_4281F0(&v56, (int4 *)&byte_587000[136352]);
        if ( v8 )
        {
          v9 = (v56.field_0 - 314) / 50;
          v10 = (*(_DWORD *)&byte_5D4594[1062512] + v56.field_4 - 13) / 50;
          if ( !sub_464B40(v9, v10) )
            return 1;
          v11 = 148 * (v10 + 14 * v9 + 7 * v9);
          if ( byte_5D4594[v11 + 1050160] )
          {
            v12 = *(_DWORD *)&byte_5D4594[v11 + 1050020];
            v13 = *(_DWORD *)&byte_5D4594[v11 + 1050024];
            *(_DWORD *)&byte_5D4594[1063116] = v12;
            *(_DWORD *)(v12 + 128) = v13;
          }
          else
          {
            *(_DWORD *)&byte_5D4594[1063116] = 0;
          }
          return 1;
        }
        if ( sub_478030() )
        {
          if ( sub_479870() )
          {
            LOBYTE(v14) = sub_479880(&v56);
            if ( v14 )
            {
              *(_DWORD *)&byte_5D4594[1063116] = sub_4798A0(&v56);
              return 1;
            }
          }
        }
      }
      else if ( *(_DWORD *)&byte_5D4594[1049864] == 6 )
      {
        v15 = sub_4281F0(&v56, (int4 *)&byte_587000[136352]);
        if ( v15 )
        {
          v16 = (v56.field_0 - 314) / 50;
          v17 = (*(_DWORD *)&byte_5D4594[1062512] + v56.field_4 - 13) / 50;
          if ( sub_464B40(v16, v17) )
          {
            v18 = 148 * (v17 + 14 * v16 + 7 * v16);
            if ( byte_5D4594[v18 + 1050160] )
            {
              v19 = *(_DWORD *)&byte_5D4594[v18 + 1050020];
              v20 = *(_DWORD *)&byte_5D4594[v18 + 1050024];
              *(_DWORD *)(v19 + 128) = v20;
              if ( v19 )
              {
                sub_4657B0(v20);
                return 1;
              }
            }
          }
        }
      }
      else if ( byte_5D4594[1049870] != 1 || (v21 = sub_4281F0(&v56, (int4 *)&byte_587000[136336]), v21 != 1) )
      {
        if ( byte_5D4594[1049869]
          || sub_4281F0(&v56, (int4 *)&byte_587000[136384])
          || sub_4281F0(&v56, (int4 *)&byte_587000[136400]) )
        {
          if ( sub_4281F0(&v56, (int4 *)&byte_587000[136384]) == 1 )
            return 0;
          if ( sub_4281F0(&v56, (int4 *)&byte_587000[136400]) == 1 )
            return 0;
        }
        else
        {
          sub_46ADC0(*(int *)&byte_5D4594[1062456]);
          if ( sub_479590() == 3 )
            sub_4657E0(&v56);
          else
            sub_4658A0(*(int *)&byte_5D4594[1062456], &v56);
          if ( *(_DWORD *)&byte_5D4594[1049848] )
          {
            sub_477690(*(int *)&byte_5D4594[1049848]);
            sub_4160D0(0);
            *(int2 *)&byte_5D4594[1062572] = v56;
            sub_452D80(791, 100);
            return 1;
          }
        }
      }
      return 1;
    case 6:
      goto LABEL_53;
    case 7:
      if ( sub_4372B0() || *(_DWORD *)&byte_5D4594[1049864] == 6 )
        return 1;
      if ( !byte_5D4594[1049869] )
      {
        v26 = sub_4281F0(&v56, (int4 *)&byte_587000[136368]);
        if ( v26 )
        {
          if ( (v56.field_4 - 13) / 50 == 1 )
          {
            if ( *(_DWORD *)&byte_5D4594[1049864] != 5 )
            {
              sub_465CA0();
              return 1;
            }
LABEL_5:
            sub_462740();
            return 1;
          }
        }
      }
LABEL_53:
      if ( sub_4372B0() || *(_DWORD *)&byte_5D4594[1049864] == 6 )
        return 1;
      if ( *(_DWORD *)&byte_5D4594[1049864] == 5 )
      {
        if ( sub_477630() == 7 )
          goto LABEL_5;
      }
      else
      {
        sub_46ADE0(*(int *)&byte_5D4594[1062456]);
      }
      if ( *(_DWORD *)&byte_5D4594[1049864] == 4 )
      {
        v58 = v59;
        sub_473970(&v58, &v58);
        v28 = sub_49ABF0(&v58, 20);
        if ( v28 )
        {
          v57.field_0 = *(int *)&byte_5D4594[3805496] / 2;
          v57.field_4 = *(int *)&byte_5D4594[3807120] / 2;
          sub_473970(&v57, &v57);
          if ( (v57.field_0 - v28[3]) * (v57.field_0 - v28[3]) + (v57.field_4 - v28[4]) * (v57.field_4 - v28[4]) <= 5625 )
          {
LABEL_64:
            *(_DWORD *)&byte_5D4594[1049864] = 0;
            return 1;
          }
          v29 = sub_40F1D0((char *)&byte_587000[139256], 0, (const char *)&byte_587000[139220], 3858);
        }
        else
        {
          v29 = sub_40F1D0((char *)&byte_587000[139308], 0, (const char *)&byte_587000[139272], 3869);
        }
        sub_445490(v29);
        goto LABEL_64;
      }
      if ( !*(_DWORD *)&byte_5D4594[1049848] )
        return 1;
      if ( !sub_46AAB0(*(_DWORD **)&byte_5D4594[1062456], v59.field_0, v59.field_4)
        || (v30 = sub_4281F0(&v56, (int4 *)&byte_587000[136384]), v30)
        || (v31 = sub_4281F0(&v56, (int4 *)&byte_587000[136400]), v31) )
      {
        v58 = v59;
        sub_473970(&v58, &v57);
        if ( *(_DWORD *)&byte_5D4594[1049856] == 1 )
        {
          if ( !sub_4C12C0() )
            sub_465BE0(&v57);
        }
        else
        {
          v47 = *(_DWORD *)&byte_5D4594[1049800]
              + 14 * *(_DWORD *)&byte_5D4594[1049796]
              + 7 * *(_DWORD *)&byte_5D4594[1049796];
          v48 = byte_5D4594[148 * v47 + 1050160];
          if ( byte_5D4594[148 * v47 + 1050160] )
          {
            v49 = 0;
            sub_46ADE0(*(int *)&byte_5D4594[1062456]);
            if ( *(_DWORD *)(*(_DWORD *)&byte_5D4594[1049848] + 112) & 0x13001000 )
              v49 = (const void *)(*(_DWORD *)&byte_5D4594[1049848] + 432);
            sub_4C05F0(0, 0);
            v53 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1049848] + 108);
            v52 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1049848] + 128);
            v51 = v58;
            v50 = sub_40F1D0((char *)&byte_587000[139356], 0, (const char *)&byte_587000[139320], 4148);
            sub_4C0430((int)v50, v51.field_0, v51.field_4, v52, v53, v49, v48 + 1, 0, sub_465CD0, 0);
          }
          else if ( !sub_4C12C0() )
          {
            sub_465BE0(&v57);
          }
        }
        if ( *(_DWORD *)&byte_5D4594[1049856] )
          goto LABEL_121;
LABEL_119:
        v55 = *(_DWORD *)&byte_5D4594[1049800];
        v54 = *(_DWORD *)&byte_5D4594[1049796];
        goto LABEL_120;
      }
      v32 = *(_DWORD *)&byte_5D4594[1062572] - v56.field_0;
      v33 = *(_DWORD *)&byte_5D4594[1062576] - v56.field_4;
      if ( !sub_4160F0(0, *(_DWORD *)&byte_5D4594[2649704] / 3u) && v32 * v32 + v33 * v33 < 100 )
      {
        v34 = sub_4281F0(&v56, (int4 *)&byte_587000[136352]);
        if ( !v34 )
          goto LABEL_121;
        if ( !sub_4C12C0() )
        {
          if ( *(_DWORD *)(*(_DWORD *)&byte_5D4594[1049848] + 112) & 0x3001000 )
          {
            v35 = 148
                * (*(_DWORD *)&byte_5D4594[1049800]
                 + 14 * *(_DWORD *)&byte_5D4594[1049796]
                 + 7 * *(_DWORD *)&byte_5D4594[1049796]);
            if ( *(_DWORD *)&byte_5D4594[v35 + 1050156] )
            {
              sub_461550(0);
              *(_DWORD *)&byte_5D4594[148
                                    * (*(_DWORD *)&byte_5D4594[1049800]
                                     + 14 * *(_DWORD *)&byte_5D4594[1049796]
                                     + 7 * *(_DWORD *)&byte_5D4594[1049796])
                                    + 1050156] = 0;
            }
            else if ( *(_DWORD *)&byte_5D4594[v35 + 1050152] )
            {
              sub_464B70(*(int *)&byte_5D4594[1049848]);
            }
            else
            {
              sub_465C30(*(int *)&byte_5D4594[1049796], *(int *)&byte_5D4594[1049800]);
            }
          }
          else
          {
            sub_465C70(*(int *)&byte_5D4594[1049848]);
          }
        }
        goto LABEL_80;
      }
      v36 = sub_4281F0(&v56, (int4 *)&byte_587000[136336]);
      if ( v36 && !byte_5D4594[1049870] )
      {
        if ( !*(_DWORD *)&byte_5D4594[1049856] )
        {
          sub_4623B0(*(int *)&byte_5D4594[1049848]);
          sub_4649B0(*(int *)&byte_5D4594[1049848], *(int *)&byte_5D4594[1049796], *(int *)&byte_5D4594[1049800]);
        }
        goto LABEL_121;
      }
      v37 = sub_4281F0(&v56, (int4 *)&byte_587000[136352]);
      if ( !v37 )
        goto LABEL_119;
      v38 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1049848] + 108);
      if ( v38 == *(_DWORD *)&byte_5D4594[1062560]
        || v38 == *(_DWORD *)&byte_5D4594[1049728]
        || v38 == *(_DWORD *)&byte_5D4594[1049724]
        || v38 == *(_DWORD *)&byte_5D4594[1062556]
        || v38 == *(_DWORD *)&byte_5D4594[1062564] )
      {
        sub_4649B0(*(int *)&byte_5D4594[1049848], *(int *)&byte_5D4594[1049796], *(int *)&byte_5D4594[1049800]);
        goto LABEL_121;
      }
      *(_DWORD *)&byte_5D4594[1049804] = (v56.field_0 - 314) / 50;
      *(_DWORD *)&byte_5D4594[1049808] = (*(_DWORD *)&byte_5D4594[1062512] + v56.field_4 - 13) / 50;
      if ( !sub_464B40((v56.field_0 - 314) / 50, (*(_DWORD *)&byte_5D4594[1062512] + v56.field_4 - 13) / 50) )
        goto LABEL_121;
      if ( *(_DWORD *)&byte_5D4594[1049856] )
      {
        v39 = 148
            * (*(_DWORD *)&byte_5D4594[1049808]
             + 14 * *(_DWORD *)&byte_5D4594[1049804]
             + 7 * *(_DWORD *)&byte_5D4594[1049804]);
        if ( byte_5D4594[v39 + 1050160]
          && (v40 = *(_DWORD **)&byte_5D4594[v39 + 1050020]) != 0
          && ((v41 = v40[28], v41 & 0x2000000)
           && *(_DWORD *)(*(_DWORD *)&byte_5D4594[1049848] + 112) & 0x2000000
           && v40[29] == *(_DWORD *)(*(_DWORD *)&byte_5D4594[1049848] + 116)
           || v41 & 0x1001000 && *(_DWORD *)(*(_DWORD *)&byte_5D4594[1049848] + 112) & 0x1001000) )
        {
          v42 = *(_DWORD *)&byte_5D4594[v39 + 1050024];
          *(_DWORD *)&byte_5D4594[1049860] = 1;
          v40[32] = v42;
          sub_4623B0((int)v40);
        }
        else
        {
          *(_DWORD *)&byte_5D4594[1049860] = 1;
          sub_464B70(*(int *)&byte_5D4594[1049848]);
        }
        goto LABEL_121;
      }
      if ( byte_5D4594[148
                     * (*(_DWORD *)&byte_5D4594[1049800]
                      + 14 * *(_DWORD *)&byte_5D4594[1049796]
                      + 7 * *(_DWORD *)&byte_5D4594[1049796])
                     + 1050160] )
      {
        v55 = *(_DWORD *)&byte_5D4594[1049800];
        v54 = *(_DWORD *)&byte_5D4594[1049796];
LABEL_120:
        sub_4649B0(*(int *)&byte_5D4594[1049848], v54, v55);
        goto LABEL_121;
      }
      if ( !sub_4649B0(*(int *)&byte_5D4594[1049848], *(int *)&byte_5D4594[1049804], *(int *)&byte_5D4594[1049808]) )
      {
LABEL_80:
        sub_4649B0(*(int *)&byte_5D4594[1049848], *(int *)&byte_5D4594[1049796], *(int *)&byte_5D4594[1049800]);
        goto LABEL_121;
      }
      sub_452D80(792, 100);
      v43 = *(_DWORD *)&byte_5D4594[1049800]
          + 14 * *(_DWORD *)&byte_5D4594[1049796]
          + 7 * *(_DWORD *)&byte_5D4594[1049796];
      v44 = 37 * v43;
      v45 = *(_DWORD *)&byte_5D4594[148 * v43 + 1050156];
      if ( v45 )
      {
        v46 = 148
            * (*(_DWORD *)&byte_5D4594[1049808]
             + 14 * *(_DWORD *)&byte_5D4594[1049804]
             + 7 * *(_DWORD *)&byte_5D4594[1049804]);
        *(_DWORD *)&byte_5D4594[v46 + 1050156] = v45;
        *(_DWORD *)&byte_5D4594[4 * v44 + 1050156] = 0;
        *(_DWORD *)&byte_5D4594[1062480] = &byte_5D4594[v46 + 1050020];
      }
      sub_461B50();
LABEL_121:
      sub_4776A0();
      if ( !*(_DWORD *)&byte_5D4594[1049856] )
        sub_45A4B0(*(_QWORD **)&byte_5D4594[1049848]);
      *(_DWORD *)&byte_5D4594[1049848] = 0;
      *(_DWORD *)&byte_5D4594[1049856] = 0;
      return 1;
    case 8:
      return 1;
    case 9:
      if ( *(_DWORD *)&byte_5D4594[1049864] == 5 )
        goto LABEL_5;
      return 0;
    case 19:
      if ( sub_4372B0() )
        return 1;
      v6 = sub_4281F0(&v56, (int4 *)&byte_587000[136384]);
      if ( v6 )
        goto LABEL_124;
      v7 = sub_4281F0(&v56, (int4 *)&byte_587000[136400]);
      if ( v7 )
        goto LABEL_124;
      sub_46B490(*(int *)&byte_5D4594[1062456], 16391, *(int *)&byte_5D4594[1062500], 0);
      return 1;
    case 20:
      if ( sub_4372B0() )
        return 1;
      v4 = sub_4281F0(&v56, (int4 *)&byte_587000[136384]);
      if ( v4 )
        goto LABEL_124;
      v5 = sub_4281F0(&v56, (int4 *)&byte_587000[136400]);
      if ( v5 )
        goto LABEL_124;
      sub_46B490(*(int *)&byte_5D4594[1062456], 16391, *(int *)&byte_5D4594[1062504], 0);
      return 1;
    default:
LABEL_124:
      if ( *(_DWORD *)&byte_5D4594[1049864] == 5 )
        return 1;
      return 0;
  }
}
// 464C71: variable 'v4' is possibly undefined
// 464C8B: variable 'v5' is possibly undefined
// 464CD6: variable 'v6' is possibly undefined
// 464CF0: variable 'v7' is possibly undefined
// 464D4C: variable 'v8' is possibly undefined
// 464E24: variable 'v14' is possibly undefined
// 464E64: variable 'v15' is possibly undefined
// 464F2B: variable 'v21' is possibly undefined
// 464F52: variable 'v22' is possibly undefined
// 464F6C: variable 'v23' is possibly undefined
// 465009: variable 'v24' is possibly undefined
// 465020: variable 'v25' is possibly undefined
// 465066: variable 'v26' is possibly undefined
// 465200: variable 'v30' is possibly undefined
// 46521A: variable 'v31' is possibly undefined
// 465281: variable 'v34' is possibly undefined
// 46535F: variable 'v36' is possibly undefined
// 4653B8: variable 'v37' is possibly undefined

//----- (004657B0) --------------------------------------------------------
int __cdecl sub_4657B0(__int16 a1)
{
  char v2[4]; // [esp+0h] [ebp-4h]

  v2[0] = -55;
  v2[1] = 30;
  *(_WORD *)&v2[2] = a1;
  return sub_40EBC0(31, 0, v2, 4);
}

//----- (004657E0) --------------------------------------------------------
char __cdecl sub_4657E0(_DWORD *a1)
{
  int v1; // eax

  v1 = sub_4281F0((int2 *)a1, (int4 *)&byte_587000[136352]);
  if ( v1 )
  {
    LOBYTE(v1) = byte_5D4594[148
                           * ((a1[1] + *(_DWORD *)&byte_5D4594[1062512] - 13) / 50
                            + 14 * ((*a1 - 314) / 50)
                            + 7 * ((*a1 - 314) / 50))
                           + 1050160];
    if ( (_BYTE)v1 )
      LOBYTE(v1) = sub_465870(*(_DWORD *)&byte_5D4594[148
                                                    * ((a1[1] + *(_DWORD *)&byte_5D4594[1062512] - 13) / 50
                                                     + 14 * ((*a1 - 314) / 50)
                                                     + 7 * ((*a1 - 314) / 50))
                                                    + 1050020
                                                    + 4
                                                    * byte_5D4594[148
                                                                * ((a1[1] + *(_DWORD *)&byte_5D4594[1062512] - 13) / 50
                                                                 + 14 * ((*a1 - 314) / 50)
                                                                 + 7 * ((*a1 - 314) / 50))
                                                                + 1050160]]);
  }
  return v1;
}
// 4657F5: variable 'v1' is possibly undefined

//----- (00465870) --------------------------------------------------------
int __cdecl sub_465870(__int16 a1)
{
  char v2[4]; // [esp+0h] [ebp-4h]

  v2[0] = -55;
  v2[1] = 28;
  *(_WORD *)&v2[2] = a1;
  return sub_40EBC0(31, 0, v2, 4);
}

//----- (004658A0) --------------------------------------------------------
void __cdecl sub_4658A0(int a1, int2 *a2)
{
  if ( byte_5D4594[1049868] == 2 )
  {
    if ( sub_4281F0(a2, (int4 *)&byte_587000[136336]) )
    {
      *(_DWORD *)&byte_5D4594[1049848] = *(_DWORD *)&byte_5D4594[4 * sub_465990(a2) + 1049872];
      *(_DWORD *)&byte_5D4594[1049856] = 1;
    }
    else
    {
      *(_DWORD *)&byte_5D4594[1049856] = 0;
      if ( sub_4281F0(a2, (int4 *)&byte_587000[136368]) )
      {
        if ( (a2->field_4 - 13) / 50 == 2 )
          sub_473610();
      }
      else if ( sub_4281F0(a2, (int4 *)&byte_587000[136352]) )
      {
        *(_DWORD *)&byte_5D4594[1049796] = (a2->field_0 - 314) / 50;
        *(_DWORD *)&byte_5D4594[1049800] = (a2->field_4 + *(int *)&byte_5D4594[1062512] - 13) / 50;
        if ( sub_464B40(*(int *)&byte_5D4594[1049796], *(int *)&byte_5D4594[1049800]) )
          sub_465A30();
      }
    }
  }
}
// 4658C2: variable 'v2' is possibly undefined
// 4658FF: variable 'v3' is possibly undefined
// 465934: variable 'v5' is possibly undefined

//----- (00465990) --------------------------------------------------------
int __cdecl sub_465990(_DWORD *a1)
{
  int v1; // eax
  int v2; // esi
  int v3; // eax
  int v5; // eax
  int2 v6; // [esp+4h] [ebp-8h]

  v1 = a1[1] - 15;
  v6.field_0 = *a1 - 11;
  v6.field_4 = v1;
  v2 = 0;
  while ( 1 )
  {
    v3 = sub_4281F0(&v6, (int4 *)&byte_587000[16 * v2 + 136192]);
    if ( !v3 )
      goto LABEL_6;
    if ( v2 == 6 )
      break;
    if ( v2 )
      return v2;
    if ( *(_DWORD *)&byte_5D4594[1049872] )
      return 0;
LABEL_6:
    if ( ++v2 >= 9 )
      return -1;
  }
  v5 = *(_DWORD *)&byte_5D4594[1049904];
  if ( !*(_DWORD *)&byte_5D4594[1049904] )
    return 5;
  while ( !(*(_DWORD *)(v5 + 112) & 0x2000000) || !(*(_BYTE *)(v5 + 116) & 2) )
  {
    v5 = *(_DWORD *)(v5 + 368);
    if ( !v5 )
      return 5;
  }
  return 8;
}
// 4659C7: variable 'v3' is possibly undefined

//----- (00465A30) --------------------------------------------------------
void sub_465A30()
{
  int v0; // eax
  _DWORD *v1; // eax
  wchar_t *v2; // eax
  int *v3[2]; // [esp+0h] [ebp-8h]

  v0 = 148
     * (*(_DWORD *)&byte_5D4594[1049800] + 14 * *(_DWORD *)&byte_5D4594[1049796] + 7 * *(_DWORD *)&byte_5D4594[1049796]);
  if ( byte_5D4594[v0 + 1050160] )
  {
    v1 = sub_45A240(*(_DWORD *)(*(_DWORD *)&byte_5D4594[v0 + 1050020] + 108));
    *(_DWORD *)&byte_5D4594[1049848] = v1;
    if ( v1 )
    {
      v1[30] |= 0x40000000u;
      *(_DWORD *)(*(_DWORD *)&byte_5D4594[1049848] + 128) = *(_DWORD *)&byte_5D4594[148
                                                                                  * (*(_DWORD *)&byte_5D4594[1049800]
                                                                                   + 14
                                                                                   * *(_DWORD *)&byte_5D4594[1049796]
                                                                                   + 7
                                                                                   * *(_DWORD *)&byte_5D4594[1049796])
                                                                                  + 1050024];
      qmemcpy(
        (void *)(*(_DWORD *)&byte_5D4594[1049848] + 432),
        (const void *)(*(_DWORD *)&byte_5D4594[148
                                             * (*(_DWORD *)&byte_5D4594[1049800]
                                              + 14 * *(_DWORD *)&byte_5D4594[1049796]
                                              + 7 * *(_DWORD *)&byte_5D4594[1049796])
                                             + 1050020]
                     + 432),
        0x18u);
      *(_WORD *)(*(_DWORD *)&byte_5D4594[1049848] + 292) = *(_WORD *)(*(_DWORD *)&byte_5D4594[148
                                                                                            * (*(_DWORD *)&byte_5D4594[1049800]
                                                                                             + 14
                                                                                             * *(_DWORD *)&byte_5D4594[1049796]
                                                                                             + 7
                                                                                             * *(_DWORD *)&byte_5D4594[1049796])
                                                                                            + 1050020]
                                                                    + 292);
      *(_WORD *)(*(_DWORD *)&byte_5D4594[1049848] + 294) = *(_WORD *)(*(_DWORD *)&byte_5D4594[148
                                                                                            * (*(_DWORD *)&byte_5D4594[1049800]
                                                                                             + 14
                                                                                             * *(_DWORD *)&byte_5D4594[1049796]
                                                                                             + 7
                                                                                             * *(_DWORD *)&byte_5D4594[1049796])
                                                                                            + 1050020]
                                                                    + 294);
      v3[1] = 0;
      v3[0] = (int *)&byte_5D4594[148
                                * (*(_DWORD *)&byte_5D4594[1049800]
                                 + 14 * *(_DWORD *)&byte_5D4594[1049796]
                                 + 7 * *(_DWORD *)&byte_5D4594[1049796])
                                + 1050020];
      sub_461E60((_QWORD ***)v3);
    }
    else
    {
      v2 = sub_40F1D0((char *)&byte_587000[139404], 0, (const char *)&byte_587000[139368], 1123);
      sub_445490(v2);
    }
  }
}

//----- (00465BE0) --------------------------------------------------------
int __cdecl sub_465BE0(int2 *a1)
{
  int result; // eax
  __int16 v2; // dx
  char v3[7]; // [esp+0h] [ebp-8h]

  result = *(_DWORD *)&byte_5D4594[1049848];
  if ( *(_DWORD *)&byte_5D4594[1049848] )
  {
    v3[0] = 114;
    *(_WORD *)&v3[1] = sub_578B00(*(int *)&byte_5D4594[1049848]);
    v2 = a1->field_4;
    *(_WORD *)&v3[3] = a1->field_0;
    *(_WORD *)&v3[5] = v2;
    result = sub_40EBC0(31, 0, v3, 7);
  }
  return result;
}

//----- (00465C30) --------------------------------------------------------
BOOL __cdecl sub_465C30(int a1, int a2)
{
  *(_DWORD *)&byte_5D4594[1049796] = a1;
  *(_DWORD *)&byte_5D4594[1049800] = a2;
  sub_465A30();
  sub_4623B0(*(int *)&byte_5D4594[1049848]);
  return sub_4649B0(*(int *)&byte_5D4594[1049848], a1, a2);
}

//----- (00465C70) --------------------------------------------------------
int __cdecl sub_465C70(int a1)
{
  int result; // eax
  int v2; // [esp-4h] [ebp-4h]

  result = a1;
  if ( a1 )
  {
    v2 = a1;
    LOBYTE(a1) = 116;
    *(_WORD *)((char *)&a1 + 1) = sub_578B00(v2);
    result = sub_40EBC0(31, 0, &a1, 3);
  }
  return result;
}

//----- (00465CA0) --------------------------------------------------------
int sub_465CA0()
{
  sub_46AC00(*(int *)&byte_5D4594[1062476], 0);
  *(_DWORD *)&byte_5D4594[1049864] = 5;
  sub_477610(6);
  return sub_46ADC0(*(int *)&byte_5D4594[1062456]);
}

//----- (00465CD0) --------------------------------------------------------
void __cdecl sub_465CD0(_DWORD *a1, int a2, int a3, int a4)
{
  int v4; // edi
  char *v5; // ebx
  int v6; // esi
  int2 v7; // [esp+8h] [ebp-8h]

  v4 = a4;
  if ( a4 )
  {
    sub_473970((int2 *)a1, &v7);
    v5 = sub_461EF0(a2);
    if ( v5 )
    {
      v6 = 4;
      do
      {
        *(_DWORD *)&byte_5D4594[1049848] = **(_DWORD **)v5;
        *(_DWORD *)(*(_DWORD *)&byte_5D4594[1049848] + 128) = *(_DWORD *)(*(_DWORD *)v5 + v6);
        if ( !sub_4C12C0() )
          sub_465BE0(&v7);
        v6 += 4;
        --v4;
        *(_DWORD *)&byte_5D4594[1049848] = 0;
      }
      while ( v4 );
    }
  }
}

//----- (00465D50) --------------------------------------------------------
int __cdecl sub_465D50(int a1)
{
  int v2; // eax
  int result; // eax
  int v4; // [esp+0h] [ebp-4h]

  sub_46AA60(*(_DWORD **)(a1 + 396), &v4, &a1);
  v2 = sub_4615C0();
  if ( v2 )
  {
    *(_DWORD *)(v2 + 12) = v4 + 51;
    *(_DWORD *)(v2 + 16) = a1 + 81;
    (*(void (__cdecl **)(unsigned __int8 *, int))(v2 + 300))(&byte_5D4594[1049732], v2);
    result = 1;
  }
  else
  {
    if ( !*(_DWORD *)&byte_5D4594[1062496] && !*(_DWORD *)&byte_5D4594[1062492] )
      sub_47D2C0(*(int *)&byte_5D4594[1050000], v4 + 21, a1 + 50);
    result = 1;
  }
  return result;
}

//----- (00465DE0) --------------------------------------------------------
int __cdecl sub_465DE0(int a1)
{
  *(_DWORD *)&byte_5D4594[1049844] = a1;
  return sub_467460();
}
// 467460: using guessed type int sub_467460(void);

//----- (00465DF0) --------------------------------------------------------
int sub_465DF0()
{
  return *(_DWORD *)&byte_5D4594[1049844];
}

//----- (00465E00) --------------------------------------------------------
int sub_465E00()
{
  _DWORD *v0; // eax
  int result; // eax
  _DWORD *v2; // eax
  char *v3; // eax
  char *v4; // eax
  _DWORD *v5; // eax
  int v6; // eax
  int v7; // eax

  sub_467050();
  sub_4671E0();
  *(_DWORD *)&byte_5D4594[1063636] = sub_43F360((char *)&byte_587000[139424]);
  *(_DWORD *)&byte_5D4594[1049732] = 0;
  *(_DWORD *)&byte_5D4594[1049736] = 0;
  *(_DWORD *)&byte_5D4594[1049740] = *(_DWORD *)&byte_5D4594[3805496];
  *(_DWORD *)&byte_5D4594[1049744] = *(_DWORD *)&byte_5D4594[3807120];
  *(_DWORD *)&byte_5D4594[1049764] = *(_DWORD *)&byte_5D4594[3805496];
  *(_DWORD *)&byte_5D4594[1049768] = *(_DWORD *)&byte_5D4594[3807120];
  *(_DWORD *)&byte_5D4594[1049748] = 0;
  *(_DWORD *)&byte_5D4594[1049752] = 0;
  *(_DWORD *)&byte_5D4594[1062452] = sub_46C3E0(0, 552, 0, 0, 563, 264, 0);
  sub_46B430(*(_DWORD **)&byte_5D4594[1062452], 0, sub_4661C0, 0);
  v0 = sub_46C3E0(*(int *)&byte_5D4594[1062452], 8, 0, 224, *(int *)&byte_5D4594[3805496], 40, 0);
  sub_46B430(v0, sub_464BA0, sub_4661C0, sub_4667E0);
  *(_DWORD *)&byte_5D4594[1062456] = sub_46C3E0(*(int *)&byte_5D4594[1062452], 40, 0, 0, 563, 224, sub_466220);
  sub_46B430(*(_DWORD **)&byte_5D4594[1062456], sub_464BD0, sub_463430, sub_466620);
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[1062456] + 44) |= 0x100u;
  *(_DWORD *)&byte_5D4594[1062472] = sub_46C3E0(*(int *)&byte_5D4594[1062452], 40, 0, 0, 1, 1, 0);
  sub_46B430(*(_DWORD **)&byte_5D4594[1062472], sub_464BD0, sub_4661C0, 0);
  *(_DWORD *)&byte_5D4594[1062468] = sub_46C3E0(*(int *)&byte_5D4594[1062456], 40, 173, 174, 50, 50, 0);
  sub_46B430(*(_DWORD **)&byte_5D4594[1062468], sub_464770, sub_4625D0, sub_4661D0);
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[1062468] + 44) |= 0x100u;
  result = sub_466950(*(int *)&byte_5D4594[1062456]);
  if ( result )
  {
    result = sub_466C40(*(int *)&byte_5D4594[1062456]);
    if ( result )
    {
      result = sub_466ED0(*(int *)&byte_5D4594[1062456]);
      if ( result )
      {
        v2 = sub_46C3E0(0, 1096, -1, *(_DWORD *)&byte_5D4594[3807120] - 127, 111, 127, 0);
        *(_DWORD *)&byte_5D4594[1062460] = v2;
        if ( v2 )
        {
          sub_46B430(v2, sub_464BB0, sub_466580, 0);
          v3 = sub_42F970((const char *)&byte_587000[139432]);
          sub_46AE60(*(int *)&byte_5D4594[1062460], (int)v3);
          v4 = sub_42F970((const char *)&byte_587000[139448]);
          sub_46AEA0(*(int *)&byte_5D4594[1062460], (int)v4);
          sub_46AE40(*(int *)&byte_5D4594[1062460], -1, 0);
          sub_470EE0(*(int *)&byte_5D4594[1062460], 24, 51, 53, 53);
          sub_471160(*(int *)&byte_5D4594[1062460], 79, 40, 20, 127);
          sub_470D70();
          v5 = sub_46C3E0(*(int *)&byte_5D4594[1062460], 8, 5, 11, 28, 29, 0);
          sub_46B430(v5, sub_466550, sub_4661C0, sub_466160);
          memset(&byte_5D4594[1050020], 0, 0x3090u);
          if ( !*(_DWORD *)&byte_5D4594[1062560] )
          {
            *(_DWORD *)&byte_5D4594[1062560] = sub_44CFC0((CHAR *)&byte_587000[139468]);
            *(_DWORD *)&byte_5D4594[1049728] = sub_44CFC0((CHAR *)&byte_587000[139476]);
            *(_DWORD *)&byte_5D4594[1049724] = sub_44CFC0((CHAR *)&byte_587000[139492]);
          }
          *(_DWORD *)&byte_5D4594[1052980] = sub_45A240(*(int *)&byte_5D4594[1062560]);
          if ( *(_DWORD *)&byte_5D4594[1052980] )
            byte_5D4594[1053120] = 1;
          v6 = *(_DWORD *)&byte_5D4594[1062564];
          if ( !*(_DWORD *)&byte_5D4594[1062564] )
          {
            v6 = sub_44CFC0((CHAR *)&byte_587000[139508]);
            *(_DWORD *)&byte_5D4594[1062564] = v6;
          }
          *(_DWORD *)&byte_5D4594[1056088] = sub_45A240(v6);
          if ( *(_DWORD *)&byte_5D4594[1056088] )
            byte_5D4594[1056228] = 1;
          v7 = *(_DWORD *)&byte_5D4594[1062556];
          if ( !*(_DWORD *)&byte_5D4594[1062556] )
          {
            v7 = sub_44CFC0((CHAR *)&byte_587000[139520]);
            *(_DWORD *)&byte_5D4594[1062556] = v7;
          }
          *(_DWORD *)&byte_5D4594[1059196] = sub_45A240(v7);
          if ( *(_DWORD *)&byte_5D4594[1059196] )
            byte_5D4594[1059336] = 1;
          result = *(_DWORD *)&byte_5D4594[1062456];
        }
        else
        {
          result = 0;
        }
      }
    }
  }
  return result;
}

//----- (00466160) --------------------------------------------------------
int sub_466160()
{
  wchar_t *v0; // eax

  if ( byte_5D4594[1049868] == 2 )
    v0 = sub_40F1D0((char *)&byte_587000[139564], 0, (const char *)&byte_587000[139528], 410);
  else
    v0 = sub_40F1D0((char *)&byte_587000[139620], 0, (const char *)&byte_587000[139584], 414);
  sub_4776B0(v0);
  return 1;
}

//----- (004661C0) --------------------------------------------------------
int sub_4661C0()
{
  return 1;
}

//----- (004661D0) --------------------------------------------------------
int sub_4661D0()
{
  wchar_t *v0; // eax
  wchar_t *v2; // eax

  if ( *(_DWORD *)&byte_5D4594[1062480] )
  {
    v0 = sub_4BF050(**(wchar_t ***)&byte_5D4594[1062480]);
    sub_4776B0(v0);
  }
  else
  {
    v2 = sub_40F1D0((char *)&byte_587000[139672], 0, (const char *)&byte_587000[139636], 3331);
    sub_4776B0(v2);
  }
  return 1;
}

//----- (00466220) --------------------------------------------------------
int __cdecl sub_466220(int a1, int a2, int *a3, int a4)
{
  int result; // eax
  int v5; // ecx
  int v6; // ecx
  int v7; // ecx
  int v8; // eax

  if ( a2 == 16391 )
  {
    switch ( sub_46B0A0(a3) )
    {
      case 9102:
        if ( *(int *)&byte_5D4594[1062512] - 25 >= 0 )
          v5 = *(int *)&byte_5D4594[1062512] - 25 - (*(int *)&byte_5D4594[1062512] - 25) % 50;
        else
          v5 = 0;
        *(_DWORD *)&byte_5D4594[1062512] = v5;
        sub_46B490(
          *(int *)&byte_5D4594[1062508],
          16394,
          *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1062508] + 32) + 4) - v5,
          0);
        sub_452D80(766, 100);
        result = 0;
        break;
      case 9103:
        v6 = *(_DWORD *)&byte_5D4594[1062512] + 50;
        *(_DWORD *)&byte_5D4594[1062512] = v6;
        if ( v6 <= *(int *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1062508] + 32) + 4) )
          v7 = v6 - v6 % 50;
        else
          v7 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1062508] + 32) + 4);
        *(_DWORD *)&byte_5D4594[1062512] = v7;
        sub_46B490(
          *(int *)&byte_5D4594[1062508],
          16394,
          *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1062508] + 32) + 4) - v7,
          0);
        sub_452D80(766, 100);
        result = 0;
        break;
      case 9105:
        v8 = sub_469FA0() - 150;
        if ( *(_DWORD *)&byte_5D4594[1049864] == 5 )
          goto LABEL_23;
        if ( v8 < 0 )
          v8 = 0;
        byte_5D4594[1049869] = 1;
        *(_DWORD *)&byte_5D4594[1062516] = *(_DWORD *)&byte_5D4594[1062512];
        *(_DWORD *)&byte_5D4594[1062512] = *(_DWORD *)&byte_5D4594[1062520];
        sub_46B490(*(int *)&byte_5D4594[1062508], 16395, 0, v8);
        sub_46B490(
          *(int *)&byte_5D4594[1062508],
          16394,
          *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1062508] + 32) + 4) - *(_DWORD *)&byte_5D4594[1062512],
          0);
        sub_46AE60(*(int *)&byte_5D4594[1062528], *(int *)&byte_5D4594[1049980]);
        sub_46AEC0(*(int *)&byte_5D4594[1062528], *(int *)&byte_5D4594[1049984]);
        sub_46B080(*(_DWORD **)&byte_5D4594[1062528], 9106);
        result = 0;
        break;
      case 9106:
        byte_5D4594[1049869] = 0;
        *(_DWORD *)&byte_5D4594[1062520] = *(_DWORD *)&byte_5D4594[1062512];
        *(_DWORD *)&byte_5D4594[1062512] = *(_DWORD *)&byte_5D4594[1062516];
        sub_46B490(*(int *)&byte_5D4594[1062508], 16395, 0, 850);
        sub_46B490(
          *(int *)&byte_5D4594[1062508],
          16394,
          *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1062508] + 32) + 4) - *(_DWORD *)&byte_5D4594[1062512],
          0);
        sub_46AE60(*(int *)&byte_5D4594[1062528], 0);
        sub_46AEC0(*(int *)&byte_5D4594[1062528], *(int *)&byte_5D4594[1049976]);
        sub_46B080(*(_DWORD **)&byte_5D4594[1062528], 9105);
        result = 0;
        break;
      case 9107:
        if ( *(_DWORD *)&byte_5D4594[1049864] == 5 )
          goto LABEL_23;
        byte_5D4594[1049870] = 1;
        sub_46AE60(*(int *)&byte_5D4594[1062524], 0);
        sub_46AEC0(*(int *)&byte_5D4594[1062524], *(int *)&byte_5D4594[1049988]);
        sub_46B080(*(_DWORD **)&byte_5D4594[1062524], 9108);
        sub_46AC00(*(int *)&byte_5D4594[1062468], 1);
        result = 0;
        break;
      case 9108:
        if ( *(_DWORD *)&byte_5D4594[1049864] != 5 )
        {
          byte_5D4594[1049870] = 0;
          sub_46AE60(*(int *)&byte_5D4594[1062524], *(int *)&byte_5D4594[1049992]);
          sub_46AEC0(*(int *)&byte_5D4594[1062524], *(int *)&byte_5D4594[1049996]);
          sub_46B080(*(_DWORD **)&byte_5D4594[1062524], 9107);
          sub_46AC00(*(int *)&byte_5D4594[1062468], 0);
        }
        goto LABEL_23;
      case 9111:
        sub_467C10();
        result = 0;
        break;
      default:
        goto LABEL_23;
    }
  }
  else if ( a2 == 16393 )
  {
    result = 0;
    *(_DWORD *)&byte_5D4594[1062512] = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1062508] + 32) + 4) - a4;
  }
  else
  {
LABEL_23:
    result = 0;
  }
  return result;
}

//----- (00466550) --------------------------------------------------------
int __cdecl sub_466550(int a1, unsigned int a2)
{
  if ( a2 >= 5 )
  {
    if ( a2 <= 6 )
      return 1;
    if ( a2 == 7 )
    {
      sub_467C60();
      return 1;
    }
  }
  return 0;
}

//----- (00466580) --------------------------------------------------------
int __cdecl sub_466580(_DWORD *a1)
{
  _DWORD *v1; // esi
  int v2; // eax
  __int16 *v3; // eax
  int v5; // [esp+4h] [ebp-Ch]
  int v6; // [esp+8h] [ebp-8h]
  int v7; // [esp+Ch] [ebp-4h]

  v1 = a1;
  sub_46AA60(a1, &v5, &a1);
  sub_46AB70((int)v1, &v7, &v6);
  if ( byte_5D4594[1049868] )
    v2 = v1[19];
  else
    v2 = v1[15];
  sub_47D2C0(v2, v5, (int)a1);
  sub_434390(*(int *)&byte_5D4594[2523948]);
  v3 = (__int16 *)sub_42E8E0(35, 1);
  if ( v3 )
    sub_43F6E0(*(int *)&byte_5D4594[1063636], v3, v5 + 19, (int)a1 + 102);
  return 1;
}

//----- (00466620) --------------------------------------------------------
int __cdecl sub_466620(int a1, int a2, unsigned int a3)
{
  wchar_t *v3; // eax
  int2 a2a; // [esp+0h] [ebp-8h]

  a2a.field_4 = a3 >> 16;
  a2a.field_0 = (unsigned __int16)a3;
  v3 = sub_466660(a1, &a2a);
  sub_4776B0(v3);
  return 1;
}

//----- (00466660) --------------------------------------------------------
wchar_t *__cdecl sub_466660(int a1, int2 *a2)
{
  int v2; // eax
  int v3; // eax
  wchar_t *result; // eax
  wchar_t *v5; // eax
  int v6; // eax
  int v7; // esi
  int v8; // edi
  int v9; // edx
  int v10; // eax
  int v12; // eax
  int v13; // ecx

  v2 = sub_4281F0(a2, (int4 *)&byte_587000[136336]);
  if ( !v2 )
  {
    if ( !byte_5D4594[1049869] )
    {
      v6 = sub_4281F0(a2, (int4 *)&byte_587000[136368]);
      if ( v6 )
      {
        v7 = a2->field_4 - 13;
        v8 = v7 / 50;
        v9 = 20;
        *(_DWORD *)&byte_5D4594[1049796] = v7 / 50;
      }
      else
      {
        v10 = sub_4281F0(a2, (int4 *)&byte_587000[136352]);
        if ( !v10 )
          return 0;
        v8 = (a2->field_0 - 314) / 50;
        *(_DWORD *)&byte_5D4594[1049796] = (a2->field_0 - 314) / 50;
        v9 = (a2->field_4 + *(_DWORD *)&byte_5D4594[1062512] - 13) / 50;
      }
      *(_DWORD *)&byte_5D4594[1049800] = v9;
      if ( sub_464B40(v8, v9) )
      {
        v12 = 148
            * (*(_DWORD *)&byte_5D4594[1049800]
             + 14 * *(_DWORD *)&byte_5D4594[1049796]
             + 7 * *(_DWORD *)&byte_5D4594[1049796]);
        if ( byte_5D4594[v12 + 1050160] )
        {
          v13 = *(_DWORD *)&byte_5D4594[v12 + 1050020];
          *(_DWORD *)(v13 + 128) = *(_DWORD *)&byte_5D4594[v12 + 1050024];
          return sub_4BF050((wchar_t *)v13);
        }
      }
    }
    return 0;
  }
  if ( byte_5D4594[1049870] == 1 )
    return 0;
  v3 = sub_465990(a2);
  if ( v3 == -1 )
    return sub_40F1D0((char *)&byte_587000[139728], 0, (const char *)&byte_587000[139692], 3155);
  v5 = *(wchar_t **)&byte_5D4594[4 * v3 + 1049872];
  if ( v5 )
    result = sub_4BF050(v5);
  else
    result = sub_40F1D0((char *)&byte_587000[139780], 0, (const char *)&byte_587000[139744], 3159);
  return result;
}
// 466676: variable 'v2' is possibly undefined
// 4666FF: variable 'v6' is possibly undefined
// 466737: variable 'v10' is possibly undefined

//----- (004667E0) --------------------------------------------------------
int __cdecl sub_4667E0(int a1, int a2, unsigned int a3)
{
  int v3; // edx
  int v4; // esi
  int v5; // ecx
  int v6; // eax
  wchar_t *v7; // eax
  int result; // eax
  int v9; // ecx
  wchar_t *v10; // eax
  int v11; // eax
  wchar_t *v12; // eax
  int v13; // eax
  wchar_t *v14; // eax
  int2 v15; // [esp+4h] [ebp-8h]

  v3 = 40;
  v15.field_0 = (unsigned __int16)a3;
  v15.field_4 = a3 >> 16;
  v4 = 0;
  while ( v3 <= (unsigned __int16)a3 )
  {
    v3 += 35;
    ++v4;
  }
  v5 = 0;
  do
  {
    if ( (1 << v5) & *(_DWORD *)&byte_5D4594[1062540] && v5 != 31 )
      --v4;
    if ( v4 < 0 )
      break;
    ++v5;
  }
  while ( v5 < 32 );
  if ( v5 != 32 )
  {
    v6 = sub_424920(v5);
    v7 = (wchar_t *)sub_424930(v6);
    sub_4776B0(v7);
    return 1;
  }
  v9 = 0;
  do
  {
    if ( (1 << v9) & byte_5D4594[1062536] )
      --v4;
    if ( v4 < 0 )
      break;
    ++v9;
  }
  while ( v9 < 6 );
  if ( v9 != 6 )
  {
    v10 = sub_413480(1 << v9);
    sub_4776B0(v10);
    return 1;
  }
  if ( !sub_40A5C0(4096) )
    goto LABEL_28;
  v11 = sub_4281F0(&v15, (int4 *)&byte_5D4594[1049812]);
  if ( v11 == 1 )
  {
    v12 = sub_40F1D0((char *)&byte_587000[139828], 0, (const char *)&byte_587000[139792], 4385);
    sub_4776B0(v12);
    return 1;
  }
  v13 = sub_4281F0(&v15, (int4 *)&byte_5D4594[1049828]);
  if ( v13 == 1 && sub_4BFD30() == 1 )
  {
    v14 = sub_40F1D0((char *)&byte_587000[139884], 0, (const char *)&byte_587000[139848], 4388);
    sub_4776B0(v14);
    result = 1;
  }
  else
  {
LABEL_28:
    sub_4776B0(0);
    result = 1;
  }
  return result;
}
// 4668C0: variable 'v11' is possibly undefined
// 466900: variable 'v13' is possibly undefined

//----- (00466950) --------------------------------------------------------
int __cdecl sub_466950(int a1)
{
  _DWORD *v1; // eax
  _DWORD *v3; // eax
  _DWORD *v4; // eax
  int v5[4]; // [esp+10h] [ebp-15Ch]
  char v6[332]; // [esp+20h] [ebp-14Ch]

  v5[1] = 0;
  v5[2] = 0;
  memset(v6, 0, sizeof(v6));
  v5[3] = 0;
  v5[0] = 0;
  *(_DWORD *)&v6[24] = 0;
  *(_DWORD *)&v6[48] = 0;
  *(_DWORD *)&v6[32] = *(_DWORD *)&byte_5D4594[1049940];
  *(_DWORD *)&v6[40] = *(_DWORD *)&byte_5D4594[1049944];
  *(_DWORD *)&v6[56] = *(_DWORD *)&byte_5D4594[1049944];
  *(_DWORD *)&v6[68] = 2147483648;
  *(_DWORD *)&v6[8] = 1;
  *(_WORD *)&v6[72] = 0;
  *(_DWORD *)&v6[16] = a1;
  v1 = (_DWORD *)sub_4A91A0(a1, 1161, 522, 2, 20, 25, v6);
  *(_DWORD *)&byte_5D4594[1062500] = v1;
  if ( !v1 )
    return 0;
  sub_46B080(v1, 9102);
  memset(v6, 0, sizeof(v6));
  *(_DWORD *)&v6[32] = *(_DWORD *)&byte_5D4594[1049948];
  *(_DWORD *)&v6[24] = 0;
  *(_DWORD *)&v6[48] = 0;
  *(_DWORD *)&v6[40] = *(_DWORD *)&byte_5D4594[1049952];
  *(_DWORD *)&v6[56] = *(_DWORD *)&byte_5D4594[1049952];
  *(_DWORD *)&v6[68] = 2147483648;
  *(_DWORD *)&v6[8] = 1;
  *(_WORD *)&v6[72] = 0;
  *(_DWORD *)&v6[16] = a1;
  v3 = (_DWORD *)sub_4A91A0(a1, 1161, 522, 148, 20, 25, v6);
  *(_DWORD *)&byte_5D4594[1062504] = v3;
  if ( !v3 )
    return 0;
  sub_46B080(v3, 9103);
  memset(v6, 0, sizeof(v6));
  v5[2] = 0;
  *(_DWORD *)&v6[20] = 2147483648;
  *(_DWORD *)&v6[44] = 2147483648;
  *(_DWORD *)&v6[28] = 2147483648;
  *(_DWORD *)&v6[36] = 2147483648;
  *(_DWORD *)&v6[52] = 2147483648;
  *(_DWORD *)&v6[8] = 8;
  *(_DWORD *)&v6[16] = a1;
  v5[3] = 0;
  v5[0] = 0;
  v5[1] = 850;
  v4 = sub_4B4EE0(a1, 1033, 524, 42, 16, 91, v6, (float *)v5);
  *(_DWORD *)&byte_5D4594[1062508] = v4;
  if ( !v4 )
    return 0;
  sub_46B300((int)v4, sub_466BF0);
  sub_46B300(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1062508] + 400), sub_466BA0);
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1062508] + 400) + 8) = 16;
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1062508] + 400) + 12) = 16;
  sub_46AE40(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1062508] + 400), 0, -15);
  sub_4B5700(
    *(int *)&byte_5D4594[1062508],
    0,
    0,
    *(int *)&byte_5D4594[1049956],
    *(int *)&byte_5D4594[1049960],
    *(int *)&byte_5D4594[1049960]);
  return 1;
}

//----- (00466BA0) --------------------------------------------------------
int __cdecl sub_466BA0(_DWORD *a1, int a2, unsigned int a3, int a4)
{
  int result; // eax

  if ( *(_DWORD *)&byte_5D4594[1049848] )
    result = sub_464BD0((int)a1, a2, a3);
  else
    result = sub_4A7F50(a1, a2, a3, a4);
  return result;
}

//----- (00466BF0) --------------------------------------------------------
int __cdecl sub_466BF0(int a1, int a2, unsigned int a3, int a4)
{
  int result; // eax

  if ( *(_DWORD *)&byte_5D4594[1049848] )
    result = sub_464BD0(a1, a2, a3);
  else
    result = sub_4B4BA0(a1, a2, a3, a4);
  return result;
}

//----- (00466C40) --------------------------------------------------------
int __cdecl sub_466C40(int a1)
{
  _DWORD *v1; // eax
  _DWORD *v3; // eax
  _DWORD *v4; // eax
  char v5[332]; // [esp+Ch] [ebp-14Ch]

  memset(v5, 0, sizeof(v5));
  *(_DWORD *)&v5[24] = 0;
  *(_DWORD *)&v5[48] = 0;
  *(_DWORD *)&v5[32] = 0;
  *(_DWORD *)&v5[40] = 0;
  *(_DWORD *)&v5[56] = *(_DWORD *)&byte_5D4594[1049976];
  *(_DWORD *)&v5[60] = -243;
  *(_DWORD *)&v5[64] = -170;
  *(_DWORD *)&v5[16] = a1;
  *(_DWORD *)&v5[8] = 1;
  v1 = (_DWORD *)sub_4A91A0(a1, 1161, 243, 170, 34, 34, v5);
  *(_DWORD *)&byte_5D4594[1062528] = v1;
  if ( !v1 )
    return 0;
  sub_46B080(v1, 9105);
  sub_46B070(*(int *)&byte_5D4594[1062528], sub_466E20);
  memset(v5, 0, sizeof(v5));
  *(_DWORD *)&v5[24] = *(_DWORD *)&byte_5D4594[1049992];
  *(_DWORD *)&v5[48] = 0;
  *(_DWORD *)&v5[32] = 0;
  *(_DWORD *)&v5[40] = 0;
  *(_DWORD *)&v5[56] = *(_DWORD *)&byte_5D4594[1049996];
  *(_DWORD *)&v5[60] = -5;
  *(_DWORD *)&v5[64] = -186;
  *(_DWORD *)&v5[16] = a1;
  *(_DWORD *)&v5[8] = 1;
  v3 = (_DWORD *)sub_4A91A0(a1, 1161, 5, 186, 34, 34, v5);
  *(_DWORD *)&byte_5D4594[1062524] = v3;
  if ( !v3 )
    return 0;
  sub_46B080(v3, 9107);
  sub_46B070(*(int *)&byte_5D4594[1062524], sub_466E20);
  memset(v5, 0, sizeof(v5));
  *(_DWORD *)&v5[24] = 0;
  *(_DWORD *)&v5[48] = 0;
  *(_DWORD *)&v5[32] = 0;
  *(_DWORD *)&v5[40] = 0;
  *(_DWORD *)&v5[56] = *(_DWORD *)&byte_5D4594[1049972];
  *(_DWORD *)&v5[60] = -547;
  *(_DWORD *)&v5[64] = -2;
  *(_DWORD *)&v5[16] = a1;
  *(_DWORD *)&v5[8] = 1;
  v4 = (_DWORD *)sub_4A91A0(a1, 1161, 547, 2, 16, 16, v5);
  *(_DWORD *)&byte_5D4594[1062532] = v4;
  if ( !v4 )
    return 0;
  sub_46B080(v4, 9111);
  sub_46B070(*(int *)&byte_5D4594[1062532], sub_466E20);
  return 1;
}

//----- (00466E20) --------------------------------------------------------
int __cdecl sub_466E20(_DWORD *a1)
{
  wchar_t *v1; // eax
  int result; // eax

  switch ( *a1 )
  {
    case 0x2391:
      v1 = sub_40F1D0((char *)&byte_587000[139948], 0, (const char *)&byte_587000[139912], 424);
      goto LABEL_7;
    case 0x2392:
      v1 = sub_40F1D0((char *)&byte_587000[140000], 0, (const char *)&byte_587000[139964], 428);
      goto LABEL_7;
    case 0x2393:
      v1 = sub_40F1D0((char *)&byte_587000[140052], 0, (const char *)&byte_587000[140016], 432);
      goto LABEL_7;
    case 0x2394:
      v1 = sub_40F1D0((char *)&byte_587000[140100], 0, (const char *)&byte_587000[140064], 436);
      goto LABEL_7;
    case 0x2397:
      v1 = sub_40F1D0((char *)&byte_587000[140152], 0, (const char *)&byte_587000[140116], 440);
LABEL_7:
      sub_4776B0(v1);
      result = 1;
      break;
    default:
      result = 0;
      break;
  }
  return result;
}

//----- (00466ED0) --------------------------------------------------------
int __cdecl sub_466ED0(int a1)
{
  int result; // eax
  _DWORD *v2; // eax

  result = sub_4A0AD0((const char *)&byte_587000[140172], 0);
  *(_DWORD *)&byte_5D4594[1062476] = result;
  if ( result )
  {
    sub_46AB20((_DWORD *)result, 200, 200);
    sub_46B120(*(_DWORD **)&byte_5D4594[1062476], a1);
    sub_46A9B0(*(_DWORD **)&byte_5D4594[1062476], 51, 15);
    v2 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1062476], 9155);
    sub_46B340((int)v2, sub_466F50);
    result = 1;
  }
  return result;
}

//----- (00466F50) --------------------------------------------------------
int __cdecl sub_466F50(_DWORD *a1, int *a2)
{
  int v3; // ecx
  _DWORD *v4; // eax
  int v5; // ecx
  _DWORD *v6; // ebx
  int v7; // edx
  int v8; // edi
  int v9; // ebp
  _BYTE *v10; // esi
  int *v11; // edi
  _BYTE **v12; // esi
  int v13; // ebx
  _BYTE *v14; // eax
  int v15; // [esp+0h] [ebp-8h]
  int v16; // [esp+4h] [ebp-4h]

  if ( !*(_DWORD *)&byte_5D4594[1063116] )
    return 1;
  v3 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1063116] + 112);
  if ( v3 & 0x13001000 )
  {
    v4 = v3 & 0x11001000 ? sub_413250(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1063116] + 108)) : sub_413270(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1063116] + 108));
    v6 = v4;
    if ( v4 )
    {
      v7 = *(_DWORD *)&byte_5D4594[1063116];
      v8 = 1;
      v9 = *(_DWORD *)&byte_5D4594[1063116] + 432;
      v10 = v4 + 4;
      do
      {
        LOBYTE(v4) = v10[1];
        LOBYTE(v5) = *v10;
        LOBYTE(v7) = *(v10 - 1);
        sub_4340A0(v8++, v7, v5, (int)v4);
        v10 += 3;
      }
      while ( v8 < 7 );
      v11 = v6 + 9;
      v12 = (_BYTE **)v9;
      v13 = 4;
      do
      {
        v14 = *v12;
        if ( *v12 )
        {
          LOBYTE(v5) = v14[26];
          LOBYTE(v7) = v14[25];
          LOBYTE(v14) = v14[24];
          sub_4340A0(*v11, (int)v14, v7, v5);
        }
        ++v12;
        ++v11;
        --v13;
      }
      while ( v13 );
    }
  }
  sub_46AA60(a1, &v15, &v16);
  sub_47D2C0(a2[6], a2[15] + v15, a2[16] + v16);
  return 1;
}
// 466FBD: variable 'v7' is possibly undefined
// 466FBD: variable 'v5' is possibly undefined

//----- (00467050) --------------------------------------------------------
char *sub_467050()
{
  char *result; // eax

  *(_DWORD *)&byte_5D4594[1049908] = sub_42F970((const char *)&byte_587000[140188]);
  *(_DWORD *)&byte_5D4594[1049912] = sub_42F970((const char *)&byte_587000[140204]);
  *(_DWORD *)&byte_5D4594[1049916] = sub_42F970((const char *)&byte_587000[140228]);
  *(_DWORD *)&byte_5D4594[1049920] = sub_42F970((const char *)&byte_587000[140244]);
  *(_DWORD *)&byte_5D4594[1049924] = sub_42F970((const char *)&byte_587000[140260]);
  *(_DWORD *)&byte_5D4594[1049928] = sub_42F970((const char *)&byte_587000[140276]);
  *(_DWORD *)&byte_5D4594[1049932] = sub_42F970((const char *)&byte_587000[140300]);
  *(_DWORD *)&byte_5D4594[1049936] = sub_42F970((const char *)&byte_587000[140328]);
  *(_DWORD *)&byte_5D4594[1049940] = sub_42F970((const char *)&byte_587000[140348]);
  *(_DWORD *)&byte_5D4594[1049944] = sub_42F970((const char *)&byte_587000[140368]);
  *(_DWORD *)&byte_5D4594[1049948] = sub_42F970((const char *)&byte_587000[140392]);
  *(_DWORD *)&byte_5D4594[1049952] = sub_42F970((const char *)&byte_587000[140412]);
  *(_DWORD *)&byte_5D4594[1049956] = sub_42F970((const char *)&byte_587000[140436]);
  *(_DWORD *)&byte_5D4594[1049960] = sub_42F970((const char *)&byte_587000[140460]);
  *(_DWORD *)&byte_5D4594[1049964] = sub_42F970((const char *)&byte_587000[140488]);
  *(_DWORD *)&byte_5D4594[1049968] = sub_42F970((const char *)&byte_587000[140508]);
  *(_DWORD *)&byte_5D4594[1049972] = sub_42F970((const char *)&byte_587000[140532]);
  *(_DWORD *)&byte_5D4594[1049976] = sub_42F970((const char *)&byte_587000[140556]);
  *(_DWORD *)&byte_5D4594[1049980] = sub_42F970((const char *)&byte_587000[140584]);
  *(_DWORD *)&byte_5D4594[1049984] = sub_42F970((const char *)&byte_587000[140612]);
  *(_DWORD *)&byte_5D4594[1049988] = sub_42F970((const char *)&byte_587000[140640]);
  *(_DWORD *)&byte_5D4594[1049992] = sub_42F970((const char *)&byte_587000[140664]);
  *(_DWORD *)&byte_5D4594[1049996] = sub_42F970((const char *)&byte_587000[140688]);
  *(_DWORD *)&byte_5D4594[1050000] = sub_42F970((const char *)&byte_587000[140712]);
  *(_DWORD *)&byte_5D4594[1050004] = sub_42F970((const char *)&byte_587000[140720]);
  result = sub_42FA20((const char *)&byte_587000[140736]);
  *(_DWORD *)&byte_5D4594[1050008] = result;
  return result;
}

//----- (004671E0) --------------------------------------------------------
int sub_4671E0()
{
  int result; // eax
  int v1; // ecx
  wchar_t *v2; // eax
  int v3; // [esp-8h] [ebp-6Ch]
  wchar_t *v4; // [esp-4h] [ebp-68h]
  char v5[100]; // [esp+0h] [ebp-64h]

  nox_wcscpy((wchar_t *)&byte_5D4594[1062588], (const wchar_t *)&byte_5D4594[1063676]);
  if ( sub_40A5C0(4096) || sub_4D6F50() || (result = sub_4D6F70()) != 0 )
  {
    result = *(_DWORD *)&byte_5D4594[1049844];
    if ( *(_DWORD *)&byte_5D4594[1049844] > 0xAu )
      result = 10;
    v1 = *(_DWORD *)&byte_5D4594[2618908];
  }
  else
  {
    v1 = *(_DWORD *)&byte_5D4594[2618908];
    if ( !*(_DWORD *)&byte_5D4594[2618908] )
      return result;
    result = *(char *)(*(_DWORD *)&byte_5D4594[2618908] + 3684);
  }
  if ( v1 )
  {
    nox_sprintf(
      v5,
      (const char *)&byte_587000[140748],
      *(_DWORD *)&byte_587000[4 * *(unsigned __int8 *)(v1 + 2251) + 29456],
      result);
    v4 = sub_40F1D0(v5, 0, (const char *)&byte_587000[140764], 4763);
    v3 = *(_DWORD *)&byte_5D4594[2618908] + 4704;
    v2 = sub_40F1D0((char *)&byte_587000[140836], 0, (const char *)&byte_587000[140800], 4761);
    result = nox_swprintf((wchar_t *)&byte_5D4594[1062588], v2, v3, v4);
  }
  return result;
}

//----- (004672C0) --------------------------------------------------------
int sub_4672C0()
{
  int result; // eax
  int v1; // edi
  int v2; // eax
  _DWORD *v3; // edx
  int v4; // eax
  int i; // esi
  int v6; // eax

  result = *(_DWORD *)&byte_5D4594[2614252];
  if ( !*(_DWORD *)&byte_5D4594[2614252] )
    return result;
  result = sub_477600();
  if ( result )
    return result;
  result = sub_461160(1);
  if ( result )
    return result;
  v1 = *(_DWORD *)&byte_5D4594[2618908];
  if ( !*(_DWORD *)&byte_5D4594[2618908] )
    return result;
  result = *(_DWORD *)&byte_5D4594[2614252];
  if ( *(_DWORD *)(*(_DWORD *)&byte_5D4594[2614252] + 276) == 34 )
    return result;
  v2 = sub_4281F0((int2 *)&byte_5D4594[1062572], (int4 *)&byte_587000[136336]);
  if ( v2 == 1 )
    sub_477690(0);
  v3 = *(_DWORD **)&byte_5D4594[1062480];
  if ( *(_DWORD *)&byte_5D4594[1062480] )
  {
    if ( sub_415880(*(char **)(**(_DWORD **)&byte_5D4594[1062480] + 108)) == 2 )
    {
      v4 = sub_415840((char *)2);
      result = sub_461600(v4);
      if ( result )
      {
LABEL_11:
        *(_DWORD *)&byte_5D4594[1062492] = result;
        sub_464B70(result);
        result = sub_452D80(895, 100);
      }
      return result;
    }
    v3 = *(_DWORD **)&byte_5D4594[1062480];
  }
  for ( i = 1; i < 27; ++i )
  {
    result = 1 << i;
    if ( 1 << i != 2 && result & *(_DWORD *)(v1 + 4) )
    {
      v6 = sub_415840((char *)(1 << i));
      result = sub_461600(v6);
      if ( result )
        goto LABEL_11;
      v3 = *(_DWORD **)&byte_5D4594[1062480];
    }
  }
  if ( v3 )
  {
    *(_DWORD *)(*v3 + 128) = v3[1];
    sub_4623B0(**(_DWORD **)&byte_5D4594[1062480]);
    result = sub_452D80(895, 100);
  }
  return result;
}
// 467323: variable 'v2' is possibly undefined

//----- (004673F0) --------------------------------------------------------
int __cdecl sub_4673F0(int a1, int a2)
{
  int result; // eax

  result = a1;
  *(_DWORD *)&byte_5D4594[1062580] = a1;
  *(_DWORD *)&byte_5D4594[1062584] = a2;
  return result;
}

//----- (00467410) --------------------------------------------------------
int __cdecl sub_467410(int a1)
{
  int result; // eax

  result = a1;
  *(_DWORD *)&byte_5D4594[1062540] = a1;
  return result;
}

//----- (00467420) --------------------------------------------------------
char __cdecl sub_467420(char a1)
{
  char result; // al

  result = a1;
  byte_5D4594[1062536] = a1;
  return result;
}

//----- (00467430) --------------------------------------------------------
unsigned __int8 sub_467430()
{
  return byte_5D4594[1062536];
}

//----- (00467440) --------------------------------------------------------
int __cdecl sub_467440(int a1)
{
  int result; // eax

  result = a1;
  *(_DWORD *)&byte_5D4594[1062544] = a1;
  return result;
}

//----- (00467450) --------------------------------------------------------
int __cdecl sub_467450(int a1)
{
  int result; // eax

  result = a1;
  *(_DWORD *)&byte_5D4594[1062548] = a1;
  return result;
}

//----- (00467470) --------------------------------------------------------
int __cdecl sub_467470(int a1, float a2)
{
  int result; // eax

  result = (unsigned __int8)a1;
  *(float *)&byte_5D4594[4 * (unsigned __int8)a1 + 1063100] = a2;
  return result;
}

//----- (00467490) --------------------------------------------------------
int __cdecl sub_467490(int a1)
{
  int result; // eax

  result = a1;
  *(_DWORD *)&byte_5D4594[1062552] = a1;
  return result;
}

//----- (004674A0) --------------------------------------------------------
int sub_4674A0()
{
  return *(_DWORD *)&byte_5D4594[1062552];
}

//----- (004674B0) --------------------------------------------------------
int __cdecl sub_4674B0(int a1)
{
  int result; // eax

  if ( a1 )
    result = sub_46AC00(*(int *)&byte_5D4594[1062460], 0);
  else
    result = sub_46AC00(*(int *)&byte_5D4594[1062460], 1);
  return result;
}

//----- (004674E0) --------------------------------------------------------
char *__cdecl sub_4674E0(int a1)
{
  char *result; // eax

  result = (char *)sub_477600();
  if ( result != (char *)1 )
  {
    result = (char *)sub_413A50();
    if ( !result )
    {
      result = sub_467520(a1);
      if ( result )
      {
        *(_DWORD *)(*(_DWORD *)result + 128) = *((_DWORD *)result + 1);
        result = (char *)sub_465C70(*(_DWORD *)result);
      }
    }
  }
  return result;
}

//----- (00467520) --------------------------------------------------------
char *__cdecl sub_467520(int a1)
{
  int v1; // esi
  unsigned __int8 *v2; // edx
  int v3; // eax
  unsigned __int8 *v4; // ecx

  v1 = 0;
  v2 = &byte_5D4594[1050020];
  while ( 2 )
  {
    v3 = 0;
    v4 = v2;
    do
    {
      if ( v4[140] && *(_DWORD *)(*(_DWORD *)v4 + 108) == a1 )
        return (char *)&byte_5D4594[148 * (v1 + 14 * v3 + 7 * v3) + 1050020];
      ++v3;
      v4 += 3108;
    }
    while ( v3 < 4 );
    v2 += 148;
    ++v1;
    if ( (int)v2 <= (int)&byte_5D4594[1052980] )
      continue;
    break;
  }
  return 0;
}

//----- (00467590) --------------------------------------------------------
int sub_467590()
{
  int result; // eax

  if ( *(_DWORD *)&byte_5D4594[2618908] )
    result = *(char *)(*(_DWORD *)&byte_5D4594[2618908] + 3684);
  else
    result = 1;
  return result;
}

//----- (004675B0) --------------------------------------------------------
int sub_4675B0()
{
  return *(_DWORD *)&byte_5D4594[1049864];
}

//----- (004675C0) --------------------------------------------------------
int __cdecl sub_4675C0(int a1)
{
  int result; // eax

  *(_DWORD *)&byte_5D4594[1049864] = a1;
  if ( a1 == 5 )
    result = sub_465CA0();
  else
    result = sub_462740();
  return result;
}

//----- (004675E0) --------------------------------------------------------
__int16 __cdecl sub_4675E0(int a1, __int16 a2, __int16 a3)
{
  char *v3; // eax
  int v4; // eax

  v3 = sub_461EF0(a1);
  if ( v3 )
  {
    *(_WORD *)(**(_DWORD **)v3 + 292) = a2;
    v4 = **(_DWORD **)v3;
    *(_WORD *)(v4 + 294) = a3;
  }
  else
  {
    LOWORD(v4) = *(_WORD *)&byte_5D4594[1049848];
    if ( *(_DWORD *)&byte_5D4594[1049848] && *(_DWORD *)(*(_DWORD *)&byte_5D4594[1049848] + 128) == a1 )
    {
      *(_WORD *)(*(_DWORD *)&byte_5D4594[1049848] + 292) = a2;
      LOWORD(v4) = a3;
      *(_WORD *)(*(_DWORD *)&byte_5D4594[1049848] + 294) = a3;
    }
  }
  return v4;
}

//----- (00467650) --------------------------------------------------------
int sub_467650()
{
  int result; // eax

  sub_462740();
  *(_DWORD *)&byte_5D4594[1049864] = 6;
  sub_477610(8);
  result = sub_467C80();
  if ( !result )
    result = sub_467BB0();
  return result;
}

//----- (00467680) --------------------------------------------------------
void sub_467680()
{
  if ( *(_DWORD *)&byte_5D4594[1049864] == 6 )
    *(_DWORD *)&byte_5D4594[1049864] = 0;
}

//----- (004676A0) --------------------------------------------------------
int sub_4676A0()
{
  return *(_DWORD *)&byte_5D4594[1062452];
}

//----- (004676B0) --------------------------------------------------------
char *sub_4676B0()
{
  return (char *)&byte_587000[136384];
}

//----- (004676C0) --------------------------------------------------------
char *sub_4676C0()
{
  return (char *)&byte_587000[136400];
}

//----- (004676D0) --------------------------------------------------------
int __cdecl sub_4676D0(int a1)
{
  char *v1; // eax
  int result; // eax

  v1 = sub_461EF0(a1);
  if ( v1 )
    return **(_DWORD **)v1;
  result = *(_DWORD *)&byte_5D4594[1049848];
  if ( !*(_DWORD *)&byte_5D4594[1049848] || *(_DWORD *)(*(_DWORD *)&byte_5D4594[1049848] + 128) != a1 )
    result = 0;
  return result;
}

//----- (00467700) --------------------------------------------------------
int __cdecl sub_467700(int a1)
{
  char *v1; // eax

  v1 = sub_461EF0(a1);
  if ( v1 )
    return *(unsigned __int8 *)(*(_DWORD *)v1 + 140);
  if ( *(_DWORD *)&byte_5D4594[1049848] && *(_DWORD *)(*(_DWORD *)&byte_5D4594[1049848] + 128) == a1 )
    return 1;
  return 0;
}

//----- (00467740) --------------------------------------------------------
int __cdecl sub_467740(int a1)
{
  int result; // eax

  result = a1;
  *(_DWORD *)&byte_5D4594[1062488] = a1;
  return result;
}

//----- (00467750) --------------------------------------------------------
int __cdecl sub_467750(int a1, char a2)
{
  char *v2; // eax
  int v3; // eax
  wchar_t *v5; // eax
  int *v6; // eax

  if ( !a1 )
  {
    if ( *(_DWORD *)&byte_5D4594[1062480] )
    {
      *(_DWORD *)(*(_DWORD *)&byte_5D4594[1062480] + 136) = 0;
      *(_DWORD *)&byte_5D4594[1062480] = 0;
    }
LABEL_8:
    if ( a2 )
    {
      if ( a2 != 1 )
        return 0;
      v5 = sub_40F1D0((char *)&byte_587000[140892], 0, (const char *)&byte_587000[140856], 5379);
      sub_445490(v5);
      if ( !*(_DWORD *)&byte_5D4594[1062484] )
        return 0;
      v6 = (int *)sub_461EF0(*(int *)&byte_5D4594[1062484]);
      if ( v6 )
      {
        sub_461550(*v6);
        return 0;
      }
    }
    *(_DWORD *)&byte_5D4594[1062484] = 0;
    return 0;
  }
  v2 = sub_461EF0(a1);
  if ( !v2 )
    goto LABEL_8;
  if ( *(_DWORD *)&byte_5D4594[1062480] )
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1062480] + 136) = 0;
  v3 = *(_DWORD *)v2;
  *(_DWORD *)&byte_5D4594[1062480] = v3;
  *(_DWORD *)(v3 + 136) = 1;
  return 1;
}

//----- (00467810) --------------------------------------------------------
int __cdecl sub_467810(int a1, int a2)
{
  int result; // eax

  if ( a1 < 0 || a2 < 0 || a1 >= 4 || a2 >= 20 )
    result = 0;
  else
    result = byte_5D4594[148 * (a2 + 14 * a1 + 7 * a1) + 1050160];
  return result;
}

//----- (00467850) --------------------------------------------------------
int __cdecl sub_467850(int a1)
{
  char *v1; // eax
  int result; // eax

  v1 = sub_467520(a1);
  if ( v1 )
    result = (unsigned __int8)v1[140];
  else
    result = 0;
  return result;
}

//----- (00467870) --------------------------------------------------------
char *__cdecl sub_467870(int a1, int a2)
{
  char *result; // eax

  if ( a1 < 0 || a2 < 0 || a1 >= 4 || a2 >= 20 )
    result = 0;
  else
    result = (char *)&byte_5D4594[148 * (a2 + 14 * a1 + 7 * a1) + 1050024];
  return result;
}

//----- (004678B0) --------------------------------------------------------
int sub_4678B0()
{
  int result; // eax

  if ( *(_DWORD *)&byte_5D4594[1062480] )
    result = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1062480] + 4);
  else
    result = 0;
  return result;
}

//----- (004678C0) --------------------------------------------------------
int sub_4678C0()
{
  return *(_DWORD *)&byte_5D4594[1062488];
}

//----- (004678D0) --------------------------------------------------------
int sub_4678D0()
{
  int v0; // edi
  int v1; // esi
  int v2; // eax
  int v3; // eax
  int result; // eax
  char *v5; // eax

  v0 = *(_DWORD *)&byte_5D4594[2618908];
  if ( !*(_DWORD *)&byte_5D4594[2618908] )
    goto LABEL_7;
  v1 = 1;
  while ( 1 )
  {
    if ( 1 << v1 != 2 )
    {
      if ( (1 << v1) & *(_DWORD *)(v0 + 4) )
      {
        v2 = sub_415840((char *)(1 << v1));
        v3 = sub_461600(v2);
        if ( v3 )
          break;
      }
    }
    if ( ++v1 >= 27 )
      goto LABEL_7;
  }
  v5 = sub_461EF0(*(_DWORD *)(v3 + 128));
  if ( v5 )
    result = **(_DWORD **)v5;
  else
LABEL_7:
    result = 0;
  return result;
}

//----- (00467930) --------------------------------------------------------
char *__cdecl sub_467930(int a1, int a2, int a3)
{
  char *result; // eax
  int v4; // ecx

  result = (char *)a1;
  if ( a1 )
  {
    result = sub_461EF0(a1);
    if ( result )
    {
      v4 = **(_DWORD **)result;
      *(_WORD *)(v4 + 448) = a2;
      *(_WORD *)(v4 + 450) = a3;
      result = *(char **)result;
      if ( *((_DWORD *)result + 33) == 1 )
        result = (char *)sub_470D90(a2, a3);
    }
  }
  return result;
}

//----- (00467980) --------------------------------------------------------
int sub_467980()
{
  unsigned __int8 *v0; // ebp
  unsigned __int8 *v1; // esi
  int v2; // edi

  v0 = &byte_5D4594[1050020];
  do
  {
    v1 = v0;
    v2 = 4;
    do
    {
      if ( *(_DWORD *)v1 )
      {
        sub_45A4B0(*(_QWORD **)v1);
        *(_DWORD *)v1 = 0;
      }
      v1[140] = 0;
      *((_DWORD *)v1 + 33) = 0;
      *((_DWORD *)v1 + 34) = 0;
      v1 += 3108;
      --v2;
    }
    while ( v2 );
    v0 += 148;
  }
  while ( (int)v0 <= (int)&byte_5D4594[1052980] );
  sub_462740();
  *(_DWORD *)&byte_5D4594[1049864] = 0;
  sub_461550(0);
  *(_DWORD *)&byte_5D4594[1062488] = 0;
  memset(&byte_5D4594[1049872], 0, 0x24u);
  *(_DWORD *)&byte_5D4594[1062492] = 0;
  *(_DWORD *)&byte_5D4594[1062496] = 0;
  byte_5D4594[1062536] = 0;
  *(_DWORD *)&byte_5D4594[1062540] = 0;
  *(_DWORD *)&byte_5D4594[1062544] = 0;
  *(_DWORD *)&byte_5D4594[1062548] = 0;
  *(_DWORD *)&byte_5D4594[1062552] = 0;
  sub_472310();
  *(_DWORD *)&byte_587000[136184] = -225;
  byte_5D4594[1049868] = 0;
  byte_5D4594[1049869] = 0;
  *(_DWORD *)&byte_5D4594[1062516] = 0;
  *(_DWORD *)&byte_5D4594[1062520] = 0;
  *(_DWORD *)&byte_5D4594[1062512] = 0;
  sub_46B490(*(int *)&byte_5D4594[1062508], 16395, 0, 850);
  sub_46B490(
    *(int *)&byte_5D4594[1062508],
    16394,
    *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1062508] + 32) + 4) - *(_DWORD *)&byte_5D4594[1062512],
    0);
  sub_46AE60(*(int *)&byte_5D4594[1062528], 0);
  sub_46AEC0(*(int *)&byte_5D4594[1062528], *(int *)&byte_5D4594[1049976]);
  sub_46B080(*(_DWORD **)&byte_5D4594[1062528], 9105);
  byte_5D4594[1049870] = 0;
  sub_46AE60(*(int *)&byte_5D4594[1062524], *(int *)&byte_5D4594[1049992]);
  sub_46AEC0(*(int *)&byte_5D4594[1062524], *(int *)&byte_5D4594[1049996]);
  sub_46B080(*(_DWORD **)&byte_5D4594[1062524], 9107);
  return sub_46AC00(*(int *)&byte_5D4594[1062468], 0);
}

//----- (00467B00) --------------------------------------------------------
int __cdecl sub_467B00(int a1, int a2)
{
  int v2; // ebx
  unsigned __int8 *v3; // ebp
  int i; // esi
  int v5; // edi
  int v6; // eax
  int v8; // [esp+10h] [ebp-8h]
  unsigned __int8 *v9; // [esp+14h] [ebp-4h]

  v2 = 0;
  v8 = 0;
  v9 = &byte_5D4594[1050020];
  do
  {
    v3 = v9;
    for ( i = 0; i < 4; ++i )
    {
      v5 = sub_467810(i, v2);
      if ( !v5 )
        goto LABEL_15;
      if ( *(_DWORD *)(*(_DWORD *)v3 + 108) == a1 )
      {
        v6 = 31;
        if ( *(_BYTE *)(*(_DWORD *)v3 + 112) & 0x10 )
          v6 = sub_40A5C0(6144) ? 9 : 3;
        if ( !(*(_DWORD *)(*(_DWORD *)v3 + 112) & 0x4000000) && a2 + v5 <= v6 )
LABEL_15:
          ++v8;
      }
      v3 += 3108;
    }
    ++v2;
    v9 += 148;
  }
  while ( (int)v9 < (int)&byte_5D4594[1052980] );
  return v8;
}

//----- (00467BB0) --------------------------------------------------------
int sub_467BB0()
{
  int result; // eax

  result = sub_446360();
  if ( !result )
  {
    result = sub_4AE3D0();
    if ( !result )
    {
      result = sub_477600();
      if ( !result )
      {
        result = sub_4372B0();
        if ( !result )
        {
          result = sub_57AF20();
          if ( !result )
          {
            if ( byte_5D4594[1049868] == 3 || !byte_5D4594[1049868] )
            {
              byte_5D4594[1049868] = 1;
              sub_452D80(789, 100);
            }
            result = *(_DWORD *)&byte_5D4594[1062516];
            *(_DWORD *)&byte_5D4594[1062512] = *(_DWORD *)&byte_5D4594[1062516];
          }
        }
      }
    }
  }
  return result;
}

//----- (00467C10) --------------------------------------------------------
int sub_467C10()
{
  if ( *(_DWORD *)&byte_5D4594[1049864] == 6 )
    return 1;
  if ( !sub_467C80() )
    return 0;
  byte_5D4594[1049868] = 3;
  sub_452D80(790, 100);
  if ( *(_DWORD *)&byte_5D4594[1049864] == 5 )
    sub_462740();
  sub_467CD0();
  return 1;
}

//----- (00467C60) --------------------------------------------------------
int sub_467C60()
{
  int result; // eax

  if ( sub_467C80() )
    result = sub_467C10();
  else
    result = sub_467BB0();
  return result;
}

//----- (00467C80) --------------------------------------------------------
BOOL sub_467C80()
{
  return byte_5D4594[1049868] == 1 || byte_5D4594[1049868] == 2;
}

//----- (00467CA0) --------------------------------------------------------
int sub_467CA0()
{
  int result; // eax

  result = sub_467C80();
  if ( !result )
  {
    *(_DWORD *)&byte_5D4594[1062516] = 0;
    result = *(_DWORD *)&byte_5D4594[1062508];
    if ( *(_DWORD *)&byte_5D4594[1062508] )
      result = sub_46B490(
                 *(int *)&byte_5D4594[1062508],
                 16394,
                 *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1062508] + 32) + 4),
                 0);
  }
  return result;
}

//----- (00467CD0) --------------------------------------------------------
int sub_467CD0()
{
  int v0; // esi
  char *v1; // eax
  char *v2; // edi
  unsigned __int8 *v3; // ebx
  int v4; // eax
  int v5; // eax
  int v6; // eax

  v0 = 0;
  if ( *(_DWORD *)&byte_5D4594[1049848] )
  {
    if ( !*(_DWORD *)&byte_5D4594[1049856]
      && !sub_4649B0(*(int *)&byte_5D4594[1049848], *(int *)&byte_5D4594[1049796], *(int *)&byte_5D4594[1049800]) )
    {
      sub_461660(
        *(_DWORD *)(*(_DWORD *)&byte_5D4594[1049848] + 128),
        *(_DWORD *)(*(_DWORD *)&byte_5D4594[1049848] + 108),
        (const void *)(*(_DWORD *)&byte_5D4594[1049848] + 432));
      v1 = sub_461EF0(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1049848] + 128));
      v2 = v1;
      if ( v1 )
      {
        v3 = &byte_5D4594[1049872];
        *(_DWORD *)(*(_DWORD *)v1 + 132) = 0;
        do
        {
          v4 = *(_DWORD *)v3;
          if ( *(_DWORD *)v3 )
          {
            while ( *(_DWORD *)(v4 + 128) != *(_DWORD *)(*(_DWORD *)&byte_5D4594[1049848] + 128) )
            {
              v4 = *(_DWORD *)(v4 + 368);
              if ( !v4 )
                goto LABEL_12;
            }
            *(_DWORD *)(*(_DWORD *)v2 + 132) = 1;
            if ( *(_DWORD *)(*(_DWORD *)v2 + 136) )
            {
              sub_461550(0);
              *(_DWORD *)(*(_DWORD *)v2 + 136) = 0;
            }
          }
LABEL_12:
          v3 += 4;
        }
        while ( (int)v3 < (int)&byte_5D4594[1049908] );
      }
    }
    *(_DWORD *)&byte_5D4594[1049848] = 0;
    *(_DWORD *)&byte_5D4594[1049856] = 0;
    sub_4776A0();
    v0 = 1;
  }
  v5 = sub_46AE00();
  if ( sub_46B250(*(int *)&byte_5D4594[1062452], v5) == 1 )
  {
    v6 = sub_46AE00();
    sub_46ADE0(v6);
  }
  return v0;
}

//----- (00467DF0) --------------------------------------------------------
int __cdecl sub_467DF0(int a1)
{
  int result; // eax
  int i; // edi
  int j; // esi
  int v4[3]; // [esp+0h] [ebp-Ch]

  v4[0] = 25;
  v4[1] = 25;
  v4[2] = 25;
  sub_4460A0(0);
  if ( sub_47A260() == 1 )
    sub_47A1F0();
  if ( sub_478030() == 1 )
    sub_479280();
  sub_45D810();
  sub_4B8220();
  sub_49A2F0();
  sub_4573B0();
  if ( !sub_40A5C0(1) )
  {
    sub_469B90(v4);
    sub_4349C0(v4);
    sub_421B10();
  }
  sub_49C4B0();
  sub_49C4F0();
  sub_49A630();
  sub_49BBB0();
  sub_431510();
  sub_45A5E0(a1);
  result = sub_40A5C0(1);
  if ( !result )
  {
    sub_410160();
    for ( i = 0; i < 5632; i += 44 )
    {
      for ( j = 0; j < 512; j += 4 )
      {
        *(_BYTE *)(*(_DWORD *)(j + *(_DWORD *)&byte_5D4594[2650668]) + i) = 0;
        *(_DWORD *)(*(_DWORD *)(j + *(_DWORD *)&byte_5D4594[2650668]) + i + 4) = 255;
        *(_DWORD *)(*(_DWORD *)(j + *(_DWORD *)&byte_5D4594[2650668]) + i + 24) = 255;
        sub_422200(*(_DWORD *)(j + *(_DWORD *)&byte_5D4594[2650668]) + i + 4);
        result = sub_422200(*(_DWORD *)(j + *(_DWORD *)&byte_5D4594[2650668]) + i + 24);
      }
    }
  }
  return result;
}
// 49A2F0: using guessed type int __cdecl sub_49A2F0(_DWORD, _DWORD, _DWORD);

//----- (00467F30) --------------------------------------------------------
int sub_467F30()
{
  *(_DWORD *)&byte_5D4594[1064192] = sub_4A0AD0((const char *)&byte_587000[140908], sub_467FC0);
  sub_46B430(*(_DWORD **)&byte_5D4594[1064192], sub_467F70, 0, 0);
  sub_46A8A0();
  sub_4680B0();
  return 1;
}

//----- (00467F70) --------------------------------------------------------
int __cdecl sub_467F70(int a1, int a2, int a3, int a4)
{
  if ( a2 != 21 )
    return 0;
  if ( a3 != 1 )
    return 0;
  if ( a4 == 2 )
  {
    sub_452D80(231, 100);
    if ( *(_DWORD *)&byte_5D4594[815132] )
      sub_4207F0(1);
  }
  return 1;
}

//----- (00467FC0) --------------------------------------------------------
int __cdecl sub_467FC0(int a1, int a2, int *a3, int a4)
{
  int result; // eax
  int v4; // eax

  if ( a2 == 16389 )
  {
    sub_452D80(920, 100);
    result = 1;
  }
  else if ( a2 == 16391 )
  {
    v4 = sub_46B0A0(a3);
    if ( v4 >= 1806 && v4 <= 1807 )
      sub_468020();
    sub_452D80(921, 100);
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (00468020) --------------------------------------------------------
void sub_468020()
{
  sub_46B0C0(0, 1700);
  if ( *(_DWORD *)&byte_5D4594[815132] )
  {
    sub_468060();
    sub_4207F0(1);
    sub_44A560();
    sub_40E0A0();
  }
}

//----- (00468060) --------------------------------------------------------
int sub_468060()
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[1064192];
  if ( *(_DWORD *)&byte_5D4594[1064192] )
  {
    result = sub_46C4E0(*(_DWORD **)&byte_5D4594[1064192]);
    *(_DWORD *)&byte_5D4594[1064192] = 0;
  }
  return result;
}

//----- (00468080) --------------------------------------------------------
int sub_468080()
{
  int result; // eax
  _DWORD *v1; // esi

  result = *(_DWORD *)&byte_5D4594[1064192];
  if ( *(_DWORD *)&byte_5D4594[1064192] )
  {
    v1 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1064192], 1802);
    sub_46AC00((int)v1, 0);
    result = v1[9];
    LOBYTE(result) = result | 4;
    v1[9] = result;
  }
  return result;
}

//----- (004680B0) --------------------------------------------------------
int sub_4680B0()
{
  int result; // eax
  _DWORD *v1; // esi

  result = *(_DWORD *)&byte_5D4594[1064192];
  if ( *(_DWORD *)&byte_5D4594[1064192] )
  {
    v1 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1064192], 1801);
    sub_46AC00((int)v1, 0);
    result = v1[9];
    LOBYTE(result) = result | 4;
    v1[9] = result;
  }
  return result;
}

//----- (004680E0) --------------------------------------------------------
int sub_4680E0()
{
  int result; // eax
  _DWORD *v1; // esi

  result = *(_DWORD *)&byte_5D4594[1064192];
  if ( *(_DWORD *)&byte_5D4594[1064192] )
  {
    v1 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1064192], 1803);
    sub_46AC00((int)v1, 0);
    result = v1[9];
    LOBYTE(result) = result | 4;
    v1[9] = result;
  }
  return result;
}

//----- (00468110) --------------------------------------------------------
int sub_468110()
{
  int result; // eax
  _DWORD *v1; // eax
  _DWORD *v2; // esi
  wchar_t *v3; // eax

  result = *(_DWORD *)&byte_5D4594[1064192];
  if ( *(_DWORD *)&byte_5D4594[1064192] )
  {
    v1 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1064192], 1804);
    sub_46AC00((int)v1, 0);
    v2 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1064192], 1805);
    v3 = sub_40F1D0((char *)&byte_587000[140968], 0, (const char *)&byte_587000[140920], 192);
    result = sub_46B490((int)v2, 16385, (int)v3, 0);
  }
  return result;
}

//----- (00468170) --------------------------------------------------------
int sub_468170()
{
  int result; // eax
  _DWORD *v1; // esi
  int v2; // eax
  wchar_t *v3; // eax
  _DWORD *v4; // eax
  int v5; // [esp+4h] [ebp-10h]
  int v6; // [esp+8h] [ebp-Ch]
  int v7; // [esp+Ch] [ebp-8h]
  int v8; // [esp+10h] [ebp-4h]

  result = *(_DWORD *)&byte_5D4594[1064192];
  if ( *(_DWORD *)&byte_5D4594[1064192] )
  {
    v6 = 0;
    v5 = 0;
    v8 = 0;
    v7 = 0;
    v1 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1064192], 1804);
    sub_41E590(&v6, &v5, &v8, &v7);
    if ( v6 )
      v2 = 100 * v6 / v5;
    else
      v2 = 0;
    sub_46B490((int)v1, 16416, v2, 0);
    v3 = sub_40F1D0((char *)&byte_587000[141036], 0, (const char *)&byte_587000[140988], 226);
    nox_swprintf((wchar_t *)&byte_5D4594[1063680], v3, v6, v5, v8 / 3600, v8 / 60, v8 % 60, v7 / 3600, v7 / 60, v7 % 60);
    v4 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1064192], 1805);
    result = sub_46B490((int)v4, 16385, (int)&byte_5D4594[1063680], 0);
  }
  return result;
}

//----- (004682B0) --------------------------------------------------------
int sub_4682B0()
{
  _DWORD *v0; // esi
  wchar_t *v1; // eax
  int result; // eax
  _DWORD *v3; // eax
  _DWORD *v4; // eax

  if ( *(_DWORD *)&byte_5D4594[1064192] )
  {
    v0 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1064192], 1805);
    v1 = sub_40F1D0((char *)&byte_587000[141100], 0, (const char *)&byte_587000[141052], 250);
    if ( v1 )
      sub_46B490((int)v0, 16385, (int)v1, 0);
  }
  result = sub_41E540();
  if ( !result )
  {
    v3 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1064192], 1806);
    sub_46AC00((int)v3, 1);
    v4 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1064192], 1807);
    sub_46AC00((int)v4, 0);
    sub_43DDD0(0);
    result = sub_43DE60();
  }
  return result;
}

//----- (00468340) --------------------------------------------------------
int sub_468340()
{
  _DWORD *v0; // esi
  wchar_t *v1; // eax
  _DWORD *v2; // eax
  _DWORD *v3; // eax

  if ( *(_DWORD *)&byte_5D4594[1064192] )
  {
    v0 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1064192], 1805);
    v1 = sub_41E5D0();
    if ( v1 )
      sub_46B490((int)v0, 16385, (int)v1, 0);
  }
  v2 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1064192], 1806);
  sub_46AC00((int)v2, 1);
  v3 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1064192], 1807);
  return sub_46AC00((int)v3, 0);
}

//----- (004683B0) --------------------------------------------------------
int sub_4683B0()
{
  _DWORD *v0; // eax
  _DWORD *v1; // eax

  sub_43DE20(sub_41E210);
  *(_DWORD *)&byte_5D4594[1064816] = sub_4A0AD0((const char *)&byte_587000[141116], sub_4685D0);
  sub_46B430(*(_DWORD **)&byte_5D4594[1064816], sub_468480, 0, 0);
  *(_DWORD *)&byte_5D4594[1064820] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1064816], 1755);
  *(_DWORD *)&byte_5D4594[1064824] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1064816], 1756);
  *(_DWORD *)&byte_5D4594[1064828] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1064816], 1754);
  v0 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1064816], 1766);
  v0[9] |= 4u;
  v1 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1064816], 1767);
  v1[9] |= 4u;
  *(_DWORD *)&byte_5D4594[1064296] = 0;
  sub_46ABB0(*(int *)&byte_5D4594[1064816], 1);
  return 1;
}

//----- (00468480) --------------------------------------------------------
int __cdecl sub_468480(int a1, int a2, int a3, int a4)
{
  if ( a2 != 21 )
    return 0;
  if ( a3 != 1 )
    return 0;
  if ( a4 == 2 )
  {
    sub_452D80(231, 100);
    sub_4684C0();
  }
  return 1;
}

//----- (004684C0) --------------------------------------------------------
int sub_4684C0()
{
  _DWORD *v0; // esi
  int result; // eax

  v0 = sub_46B0C0(0, 1700);
  result = *(_DWORD *)&byte_5D4594[1064296];
  switch ( *(_DWORD *)&byte_5D4594[1064296] )
  {
    case 0:
      sub_41E300(5);
      sub_4207F0(1);
      sub_46ABB0((int)v0, 1);
      sub_4A1BE0(1);
      result = sub_4A1A40(0);
      break;
    case 1:
      *(_DWORD *)&byte_5D4594[1064296] = 0;
      sub_46AC00(*(int *)&byte_5D4594[1064824], 1);
      result = sub_46AC00(*(int *)&byte_5D4594[1064820], 0);
      break;
    case 2:
      *(_DWORD *)&byte_5D4594[1064296] = 0;
      sub_46AC00(*(int *)&byte_5D4594[1064828], 1);
      result = sub_46AC00(*(int *)&byte_5D4594[1064820], 0);
      break;
    case 3:
      *(_DWORD *)&byte_5D4594[1064296] = 1;
      sub_46AC00(*(int *)&byte_5D4594[1064828], 1);
      result = sub_46AC00(*(int *)&byte_5D4594[1064824], 0);
      break;
    case 4:
      sub_41E300(5);
      sub_4207F0(1);
      sub_46ABB0((int)v0, 1);
      result = sub_4A1BE0(1);
      break;
    default:
      return result;
  }
  return result;
}

//----- (004685D0) --------------------------------------------------------
int __cdecl sub_4685D0(int a1, int a2, int *a3, int a4)
{
  int result; // eax
  int v4; // esi
  int v5; // eax
  int v6; // [esp+0h] [ebp-2FCh]
  int v7; // [esp+4h] [ebp-2F8h]
  int v8; // [esp+8h] [ebp-2F4h]
  char v9[80]; // [esp+Ch] [ebp-2F0h]
  char v10[80]; // [esp+5Ch] [ebp-2A0h]
  char v11[80]; // [esp+ACh] [ebp-250h]
  wchar_t File[256]; // [esp+FCh] [ebp-200h]

  if ( a2 == 16389 )
  {
    sub_452D80(920, 100);
    return 1;
  }
  if ( a2 != 16391 )
  {
    if ( a2 == 16415 )
      sub_46B0A0(a3);
    return 0;
  }
  v4 = sub_46B0A0(a3);
  sub_452D80(921, 100);
  if ( v4 != 1752 )
  {
    if ( v4 == 1753 )
    {
      sub_4684C0();
      return 1;
    }
    return 1;
  }
  switch ( *(_DWORD *)&byte_5D4594[1064296] )
  {
    case 0:
      if ( sub_468BB0(&v7, &v6, &v8, File) )
      {
        *(_DWORD *)&byte_5D4594[1064300] = 0;
        sub_40E020(v7, v6, v8, (int)&byte_5D4594[1064196]);
        sub_46ABB0(*(int *)&byte_5D4594[1064816], 0);
      }
      else
      {
        sub_46AC00(*(int *)&byte_5D4594[1064820], 1);
        sub_468840(File);
        *(_DWORD *)&byte_5D4594[1064296] = 2;
      }
      result = 1;
      break;
    case 1:
      if ( sub_468890(v10, v11, v9, &v6, &v7, File) )
      {
        sub_40DFE0((int)v10, (int)v11, (int)&byte_5D4594[1064196], (int)v9, (unsigned __int8)v6, (unsigned __int8)v7);
        sub_46ABB0(*(int *)&byte_5D4594[1064816], 0);
      }
      else
      {
        sub_46AC00(*(int *)&byte_5D4594[1064824], 1);
        sub_468840(File);
        *(_DWORD *)&byte_5D4594[1064296] = 3;
      }
      result = 1;
      break;
    case 4:
      v5 = sub_4200F0();
      nox_sprintf((char *)File, (const char *)&byte_587000[141128], v5);
      ShellExecuteA(0, 0, (LPCSTR)File, 0, (LPCSTR)&byte_587000[141188], 3);
      result = 1;
      break;
    case 5:
      sub_41E300(5);
      sub_4207F0(1);
      sub_44A560();
      result = 1;
      break;
    default:
      return 1;
  }
  return result;
}

//----- (00468840) --------------------------------------------------------
int __cdecl sub_468840(wchar_t *a1)
{
  _DWORD *v1; // eax

  nox_wcscpy((wchar_t *)&byte_5D4594[1064304], a1);
  sub_46AC00(*(int *)&byte_5D4594[1064828], 0);
  v1 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1064816], 1768);
  return sub_46B490((int)v1, 16385, (int)&byte_5D4594[1064304], 6);
}

//----- (00468890) --------------------------------------------------------
int __cdecl sub_468890(char *a1, char *a2, char *a3, _BYTE *a4, _BYTE *a5, wchar_t *a6)
{
  _DWORD *v6; // eax
  int v7; // eax
  _DWORD *v8; // eax
  int v9; // eax
  _DWORD *v10; // eax
  int v11; // eax
  _DWORD *v12; // eax
  int v13; // eax
  char v14; // al
  wchar_t *v15; // eax
  int result; // eax
  wchar_t *v17; // eax
  wchar_t *v18; // eax
  wchar_t *v19; // eax
  wchar_t *v20; // eax
  wchar_t *v21; // [esp-4h] [ebp-60h]
  wchar_t *v22; // [esp-4h] [ebp-60h]
  wchar_t *v23; // [esp-4h] [ebp-60h]
  wchar_t *v24; // [esp-4h] [ebp-60h]
  wchar_t *v25; // [esp-4h] [ebp-60h]
  char v26[80]; // [esp+Ch] [ebp-50h]

  *a4 = (sub_46B0C0(*(_DWORD **)&byte_5D4594[1064816], 1766)[9] >> 2) & 1;
  *a5 = (sub_46B0C0(*(_DWORD **)&byte_5D4594[1064816], 1767)[9] >> 2) & 1;
  v6 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1064816], 1762);
  v7 = sub_46B490((int)v6, 16413, 0, 0);
  nox_sprintf(a1, (const char *)&byte_587000[141192], v7);
  v8 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1064816], 1763);
  v9 = sub_46B490((int)v8, 16413, 0, 0);
  nox_sprintf(a2, (const char *)&byte_587000[141196], v9);
  v10 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1064816], 1764);
  v11 = sub_46B490((int)v10, 16413, 0, 0);
  nox_sprintf(v26, (const char *)&byte_587000[141200], v11);
  v12 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1064816], 1765);
  v13 = sub_46B490((int)v12, 16413, 0, 0);
  nox_sprintf(a3, (const char *)&byte_587000[141204], v13);
  v14 = *a1;
  if ( *a1 )
  {
    if ( (unsigned __int8)v14 < 0x31u || (unsigned __int8)v14 > 0x39u )
    {
      if ( strlen(a2) == 8 )
      {
        if ( !strcmp(a2, v26) )
        {
          if ( !*(_DWORD *)&byte_5D4594[1064300] || *a3 )
          {
            result = 1;
          }
          else
          {
            v25 = sub_40F1D0((char *)&byte_587000[141772], 0, (const char *)&byte_587000[141728], 176);
            v20 = sub_40F1D0((char *)&byte_587000[141828], 0, (const char *)&byte_587000[141784], 175);
            nox_swprintf(a6, (const wchar_t *)&byte_587000[141848], v20, v25);
            result = 0;
          }
        }
        else
        {
          v24 = sub_40F1D0((char *)&byte_587000[141640], 0, (const char *)&byte_587000[141596], 166);
          v19 = sub_40F1D0((char *)&byte_587000[141696], 0, (const char *)&byte_587000[141652], 165);
          nox_swprintf(a6, (const wchar_t *)&byte_587000[141716], v19, v24);
          result = 0;
        }
      }
      else
      {
        v23 = sub_40F1D0((char *)&byte_587000[141508], 0, (const char *)&byte_587000[141464], 158);
        v18 = sub_40F1D0((char *)&byte_587000[141564], 0, (const char *)&byte_587000[141520], 157);
        nox_swprintf(a6, (const wchar_t *)&byte_587000[141584], v18, v23);
        result = 0;
      }
    }
    else
    {
      v22 = sub_40F1D0((char *)&byte_587000[141376], 0, (const char *)&byte_587000[141332], 150);
      v17 = sub_40F1D0((char *)&byte_587000[141432], 0, (const char *)&byte_587000[141388], 149);
      nox_swprintf(a6, (const wchar_t *)&byte_587000[141452], v17, v22);
      result = 0;
    }
  }
  else
  {
    v21 = sub_40F1D0((char *)&byte_587000[141252], 0, (const char *)&byte_587000[141208], 142);
    v15 = sub_40F1D0((char *)&byte_587000[141308], 0, (const char *)&byte_587000[141264], 141);
    nox_swprintf(a6, (const wchar_t *)&byte_587000[141320], v15, v21);
    result = 0;
  }
  return result;
}

//----- (00468BB0) --------------------------------------------------------
int __cdecl sub_468BB0(int *a1, int *a2, int *a3, wchar_t *a4)
{
  _DWORD *v4; // eax
  const wchar_t *v5; // esi
  _DWORD *v6; // eax
  const wchar_t *v7; // edi
  _DWORD *v8; // eax
  const wchar_t *v9; // ebx
  _DWORD *v10; // eax
  int v11; // eax
  wchar_t *v12; // eax
  int result; // eax
  wchar_t *v14; // eax
  wchar_t *v15; // eax
  wchar_t *v16; // [esp-4h] [ebp-14h]
  wchar_t *v17; // [esp-4h] [ebp-14h]
  wchar_t *v18; // [esp-4h] [ebp-14h]

  *a4 = 0;
  v4 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1064816], 1758);
  v5 = (const wchar_t *)sub_46B490((int)v4, 16413, 0, 0);
  v6 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1064816], 1759);
  v7 = (const wchar_t *)sub_46B490((int)v6, 16413, 0, 0);
  v8 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1064816], 1760);
  v9 = (const wchar_t *)sub_46B490((int)v8, 16413, 0, 0);
  v10 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1064816], 1761);
  v11 = sub_46B490((int)v10, 16413, 0, 0);
  nox_sprintf((char *)&byte_5D4594[1064196], (const char *)&byte_587000[141860], v11);
  if ( v5 && v7 && nox_wcslen(v9) == 4 )
  {
    if ( byte_5D4594[1064196] )
    {
      *a1 = nox_wcstol(v5, 0, 10);
      *a2 = nox_wcstol(v7, 0, 10);
      *a3 = nox_wcstol(v9, 0, 10);
      if ( (int)*a1 < 1 || (int)*a1 > 12 || (int)*a2 < 1 || (int)*a2 > 31 )
      {
        v17 = sub_40F1D0((char *)&byte_587000[142152], 0, (const char *)&byte_587000[142108], 228);
        v14 = sub_40F1D0((char *)&byte_587000[142208], 0, (const char *)&byte_587000[142164], 227);
        nox_swprintf(a4, (const wchar_t *)&byte_587000[142216], v14, v17);
        result = 0;
      }
      else
      {
        result = 1;
      }
    }
    else
    {
      v16 = sub_40F1D0((char *)&byte_587000[142028], 0, (const char *)&byte_587000[141984], 216);
      v12 = sub_40F1D0((char *)&byte_587000[142084], 0, (const char *)&byte_587000[142040], 215);
      nox_swprintf(a4, (const wchar_t *)&byte_587000[142096], v12, v16);
      result = 0;
    }
  }
  else
  {
    v18 = sub_40F1D0((char *)&byte_587000[141908], 0, (const char *)&byte_587000[141864], 209);
    v15 = sub_40F1D0((char *)&byte_587000[141964], 0, (const char *)&byte_587000[141920], 208);
    nox_swprintf(a4, (const wchar_t *)&byte_587000[141972], v15, v18);
    result = 0;
  }
  return result;
}

//----- (00468DC0) --------------------------------------------------------
int sub_468DC0()
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[1064816];
  if ( *(_DWORD *)&byte_5D4594[1064816] )
  {
    result = sub_46C4E0(*(_DWORD **)&byte_5D4594[1064816]);
    *(_DWORD *)&byte_5D4594[1064816] = 0;
    *(_DWORD *)&byte_5D4594[1064820] = 0;
    *(_DWORD *)&byte_5D4594[1064824] = 0;
    *(_DWORD *)&byte_5D4594[1064828] = 0;
  }
  return result;
}

//----- (00468DF0) --------------------------------------------------------
int __cdecl sub_468DF0(wchar_t *a1)
{
  sub_46ABB0(*(int *)&byte_5D4594[1064816], 1);
  if ( *(_DWORD *)&byte_5D4594[1064296] )
  {
    if ( *(_DWORD *)&byte_5D4594[1064296] == 1 )
    {
      *(_DWORD *)&byte_5D4594[1064296] = 3;
      sub_46AC00(*(int *)&byte_5D4594[1064824], 1);
      return sub_468840(a1);
    }
  }
  else
  {
    *(_DWORD *)&byte_5D4594[1064296] = 2;
    sub_46AC00(*(int *)&byte_5D4594[1064820], 1);
  }
  return sub_468840(a1);
}

//----- (00468E60) --------------------------------------------------------
int __cdecl sub_468E60(int a1)
{
  int result; // eax
  _DWORD *v2; // esi
  _DWORD *v3; // eax

  sub_46ABB0(*(int *)&byte_5D4594[1064816], 1);
  result = *(_DWORD *)&byte_5D4594[1064296];
  if ( *(_DWORD *)&byte_5D4594[1064296] )
  {
    if ( *(_DWORD *)&byte_5D4594[1064296] == 1 )
    {
      v3 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1064816], 1753);
      sub_46AC00((int)v3, 1);
      sub_46AC00(*(int *)&byte_5D4594[1064824], 1);
      result = sub_468840((wchar_t *)&byte_5D4594[2660140]);
      *(_DWORD *)&byte_5D4594[1064296] = 5;
    }
  }
  else
  {
    v2 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1064816], 1765);
    *(_DWORD *)&byte_5D4594[1064300] = a1;
    *(_DWORD *)&byte_5D4594[1064296] = 1;
    sub_46AC00(*(int *)&byte_5D4594[1064820], 1);
    sub_46AC00(*(int *)&byte_5D4594[1064824], 0);
    if ( *(_DWORD *)&byte_5D4594[1064300] )
      result = sub_46AC00((int)v2, 0);
    else
      result = sub_46AC00((int)v2, 1);
  }
  return result;
}

//----- (00468F30) --------------------------------------------------------
int sub_468F30()
{
  wchar_t *v0; // eax

  v0 = sub_40F1D0((char *)&byte_587000[142272], 0, (const char *)&byte_587000[142228], 472);
  sub_468840(v0);
  *(_DWORD *)&byte_5D4594[1064296] = 4;
  sub_46AC00(*(int *)&byte_5D4594[1064820], 1);
  return sub_46ABB0(*(int *)&byte_5D4594[1064816], 1);
}

//----- (00468F80) --------------------------------------------------------
void __cdecl sub_468F80(int a1)
{
  _DWORD *v1; // esi
  int v2; // ecx
  unsigned __int8 *v3; // edi
  bool v4; // cc
  int v5; // ecx
  int v6; // eax
  int v7; // edx
  int v8; // edx
  int v9; // ecx
  unsigned __int8 *v10; // edi
  int v11; // eax
  int v12; // ebx
  int v13; // edx
  int v14; // eax
  int v15; // ecx
  int v16; // edx
  int4 v17; // [esp+Ch] [ebp-24h]
  int v18; // [esp+1Ch] [ebp-14h]
  int v19; // [esp+20h] [ebp-10h]
  int v20; // [esp+24h] [ebp-Ch]
  int v21; // [esp+28h] [ebp-8h]
  int v22; // [esp+2Ch] [ebp-4h]

  v1 = (_DWORD *)a1;
  *(_DWORD *)&byte_5D4594[2650676] = 46 * ((*(_DWORD *)(a1 + 16) + 11) / 46 - 1) - 11;
  *(_DWORD *)&byte_5D4594[2650680] = 46 * ((*(_DWORD *)(a1 + 20) + 11) / 46) - 57;
  if ( byte_5D4594[2650637] & 8 )
  {
    v2 = 2464;
    v3 = &byte_5D4594[2618924];
    do
    {
      *(_DWORD *)v3 = 16711680;
      *((_DWORD *)v3 + 1) = 16711680;
      *((_DWORD *)v3 + 2) = 16711680;
      *((_DWORD *)v3 + 3) = 16711680;
      *((_DWORD *)v3 + 4) = 16711680;
      *((_DWORD *)v3 + 5) = 16711680;
      *((_DWORD *)v3 + 6) = 16711680;
      *((_DWORD *)v3 + 7) = 16711680;
      *((_DWORD *)v3 + 8) = 16711680;
      *((_DWORD *)v3 + 9) = 16711680;
      *((_DWORD *)v3 + 10) = 16711680;
      *((_DWORD *)v3 + 11) = 16711680;
      *((_DWORD *)v3 + 12) = 16711680;
      *((_DWORD *)v3 + 13) = 16711680;
      *((_DWORD *)v3 + 14) = 16711680;
      *((_DWORD *)v3 + 15) = 16711680;
      *((_DWORD *)v3 + 16) = 16711680;
      *((_DWORD *)v3 + 17) = 16711680;
      *((_DWORD *)v3 + 18) = 16711680;
      *((_DWORD *)v3 + 19) = 16711680;
      *((_DWORD *)v3 + 20) = 16711680;
      v3 += 84;
      v4 = v2 <= 7;
      v2 -= 7;
    }
    while ( !v4 );
  }
  else
  {
    sub_434A10(&a1, &v22, &v21);
    if ( sub_57AF20() )
    {
      v5 = 50;
      v6 = 50;
      v7 = 50;
      v22 = 50;
      v21 = 50;
      a1 = 50;
    }
    else
    {
      v6 = v21;
      v5 = v22;
      v7 = a1;
    }
    v8 = v7 << 16;
    v20 = v6 << 16;
    v19 = v5 << 16;
    v18 = v8;
    v9 = 2464;
    v10 = &byte_5D4594[2618924];
    v11 = v8;
    v12 = v19;
    v13 = v20;
    do
    {
      *(_DWORD *)v10 = v11;
      *((_DWORD *)v10 + 1) = v12;
      *((_DWORD *)v10 + 2) = v13;
      *((_DWORD *)v10 + 3) = v11;
      *((_DWORD *)v10 + 4) = v12;
      *((_DWORD *)v10 + 5) = v13;
      *((_DWORD *)v10 + 6) = v11;
      *((_DWORD *)v10 + 7) = v12;
      *((_DWORD *)v10 + 8) = v13;
      *((_DWORD *)v10 + 9) = v11;
      *((_DWORD *)v10 + 10) = v12;
      *((_DWORD *)v10 + 11) = v13;
      *((_DWORD *)v10 + 12) = v11;
      *((_DWORD *)v10 + 13) = v12;
      *((_DWORD *)v10 + 14) = v13;
      *((_DWORD *)v10 + 15) = v11;
      *((_DWORD *)v10 + 16) = v12;
      *((_DWORD *)v10 + 17) = v13;
      *((_DWORD *)v10 + 18) = v11;
      *((_DWORD *)v10 + 19) = v12;
      *((_DWORD *)v10 + 20) = v13;
      v10 += 84;
      v4 = v9 <= 7;
      v9 -= 7;
    }
    while ( !v4 );
    v14 = v1[4];
    v17.field_0 = v14 - 100;
    v15 = v1[5];
    v17.field_4 = v15 - 100;
    v16 = v1[9];
    v17.field_8 = v1[8] + v14 + 100;
    v17.field_C = v16 + v15 + 100;
    sub_49AB00(&v17, (void (__cdecl *)(int, int))sub_469140, (int)v1);
  }
}

//----- (00469140) --------------------------------------------------------
void __cdecl sub_469140(int arg0)
{
  int v1; // esi
  int v2; // eax
  signed int v3; // ebp
  int v4; // edi
  int v5; // ecx
  int v6; // eax
  int v7; // ebx
  int v8; // ebp
  signed int v9; // eax
  int v10; // edx
  int v11; // ebp
  int v12; // edi
  int v13; // eax
  int v14; // edx
  unsigned int v15; // eax
  unsigned int v16; // eax
  __int16 v17; // cx
  int v18; // edi
  int v19; // ebx
  int v20; // eax
  int v21; // ecx
  int v22; // edi
  int v23; // eax
  int v24; // eax
  int v25; // eax
  int *v26; // esi
  float v27; // [esp+0h] [ebp-68h]
  float v28; // [esp+0h] [ebp-68h]
  int v29; // [esp+14h] [ebp-54h]
  signed int v30; // [esp+18h] [ebp-50h]
  int v31; // [esp+1Ch] [ebp-4Ch]
  signed int v32; // [esp+20h] [ebp-48h]
  signed int v33; // [esp+24h] [ebp-44h]
  int i; // [esp+2Ch] [ebp-3Ch]
  unsigned int v35; // [esp+30h] [ebp-38h]
  unsigned int v36; // [esp+34h] [ebp-34h]
  int2 a1; // [esp+38h] [ebp-30h]
  int2 a4; // [esp+40h] [ebp-28h]
  int v39; // [esp+4Ch] [ebp-1Ch]
  int2 a3; // [esp+50h] [ebp-18h]
  int2 a2; // [esp+58h] [ebp-10h]
  int2 v42; // [esp+60h] [ebp-8h]
  int v43; // [esp+6Ch] [ebp+4h]
  int v44; // [esp+6Ch] [ebp+4h]
  int v45; // [esp+6Ch] [ebp+4h]

  v1 = arg0;
  if ( sub_45A840((_DWORD *)arg0)
    || *(_DWORD *)(arg0 + 112) & 0x80000
    && (v2 = *(_DWORD *)(arg0 + 120), v2 & 0x1000000)
    && *(_DWORD *)(arg0 + 144) > 0
    && v2 & 4 )
  {
    if ( !sub_57AF20()
      || arg0 == *(_DWORD *)&byte_5D4594[2614252]
      || *(int (__cdecl **)(int *, int))(arg0 + 300) == sub_4B6B60 )
    {
      v3 = *(_DWORD *)(arg0 + 148);
      v4 = *(_DWORD *)(arg0 + 144);
      if ( *(_DWORD *)(arg0 + 120) & 0x20000000 )
      {
        v3 += sub_415FF0(0, *(_DWORD *)(arg0 + 148) >> 18, (const char *)&byte_587000[142348], 267) << 16;
        v27 = (double)v3 * 0.000015258789;
        v4 = sub_484C60(v27);
      }
      v28 = sub_484BD0() * 65536.0;
      if ( v3 > sub_419A70(v28) )
      {
        v33 = *(_DWORD *)&byte_587000[142320];
        if ( (unsigned int)v3 <= *(int *)&byte_587000[142320] )
          v33 = v3;
        v5 = *(_DWORD *)(arg0 + 12) - *(_DWORD *)&byte_5D4594[2650676];
        v36 = (v3 >> 16) * (v3 >> 16);
        v6 = *(_DWORD *)(arg0 + 168);
        v7 = *(_DWORD *)(arg0 + 16) - *(_DWORD *)&byte_5D4594[2650680];
        a4.field_0 = *(_DWORD *)(arg0 + 12) - *(_DWORD *)&byte_5D4594[2650676];
        a4.field_4 = v7;
        if ( v6 == 0xFFFF )
        {
          v35 = v4 * v4;
          v43 = (v5 - v4) / 23;
          if ( v43 < 0 )
            v43 = 0;
          v30 = (v5 + v4) / 0x17u;
          if ( v30 > 56 )
            v30 = 56;
          v8 = (v7 - v4) / 23;
          if ( v8 < 0 )
            v8 = 0;
          v9 = (v7 + v4) / 0x17u;
          v32 = (v7 + v4) / 0x17u;
          if ( v9 > 44 )
          {
            v32 = 44;
            v9 = 44;
          }
          v31 = v8;
          v10 = 23 * v8;
          v39 = 23 * v8;
          if ( v8 <= v9 )
          {
            v11 = *(_DWORD *)&byte_587000[142328];
            v12 = 23 * v43;
            while ( 1 )
            {
              v13 = v7 - v10;
              v29 = v43;
              if ( v43 <= v30 )
              {
                v14 = v13 * v13;
                for ( i = v13 * v13; ; v14 = i )
                {
                  v15 = v14 + (v5 - v12) * (v5 - v12);
                  if ( v15 <= v35 )
                  {
                    v16 = sub_4C1C70(v33 + v11, 66 * v15 * *(_DWORD *)&byte_587000[142324] / v36 + 0x10000);
                    v11 = *(_DWORD *)&byte_587000[142328];
                    if ( v16 > *(int *)&byte_587000[142328] )
                    {
                      sub_4695E0(
                        v29,
                        v31,
                        (int *)(v1 + 152),
                        8 * (v16 - *(_DWORD *)&byte_587000[142328]),
                        *(_DWORD *)(v1 + 172));
                      v7 = a4.field_4;
                      v5 = a4.field_0;
                      v11 = *(_DWORD *)&byte_587000[142328];
                    }
                    else
                    {
                      v7 = a4.field_4;
                      v5 = a4.field_0;
                    }
                    v12 += 23;
                  }
                  else
                  {
                    v12 += 23;
                  }
                  if ( ++v29 > v30 )
                    break;
                }
              }
              v39 += 23;
              if ( ++v31 > v32 )
                break;
              v12 = 23 * v43;
              v10 = v39;
            }
          }
        }
        else
        {
          a1.field_0 = (v5 << 16) / 23;
          v17 = *(_WORD *)(arg0 + 164);
          v18 = v4 << 16;
          a1.field_4 = (v7 << 16) / 23;
          v19 = v18 / 23;
          v20 = sub_4C1C60(
                  v18 / 23,
                  16 * *(_DWORD *)&byte_5D4594[4 * ((unsigned __int16)(v17 + 0x4000) >> 4) + 2661964]);
          v21 = v18 / 23;
          v22 = v20;
          v23 = sub_4C1C60(v21, 16 * *(_DWORD *)&byte_5D4594[4 * (*(unsigned __int16 *)(arg0 + 164) >> 4) + 2661964]);
          a3.field_0 = a1.field_0 + v22;
          LOWORD(v22) = *(_WORD *)(arg0 + 164) + *(_WORD *)(arg0 + 166);
          a3.field_4 = a1.field_4 + v23;
          v44 = sub_4C1C60(v19, 16 * *(_DWORD *)&byte_5D4594[4 * ((unsigned __int16)(v22 + 0x4000) >> 4) + 2661964]);
          v24 = sub_4C1C60(v19, 16 * *(_DWORD *)&byte_5D4594[4 * ((unsigned __int16)v22 >> 4) + 2661964]);
          LOWORD(v22) = *(_WORD *)(v1 + 164) - *(_WORD *)(v1 + 166);
          a2.field_0 = a1.field_0 + v44;
          a2.field_4 = a1.field_4 + v24;
          v45 = sub_4C1C60(v19, 16 * *(_DWORD *)&byte_5D4594[4 * ((unsigned __int16)(v22 + 0x4000) >> 4) + 2661964]);
          v25 = sub_4C1C60(v19, 16 * *(_DWORD *)&byte_5D4594[4 * ((unsigned __int16)v22 >> 4) + 2661964]);
          v26 = (int *)(v1 + 152);
          v42.field_0 = a1.field_0 + v45;
          v42.field_4 = a1.field_4 + v25;
          sub_4696B0(&a1, &a2, &a3, &a4, v3, v26);
          sub_4696B0(&a1, &a3, &v42, &a4, v3, v26);
        }
      }
    }
  }
}

//----- (004695E0) --------------------------------------------------------
int __cdecl sub_4695E0(int a1, int a2, int *a3, int a4, int a5)
{
  int v5; // ebx
  int v6; // esi
  int v7; // edi
  int v8; // eax
  unsigned __int8 *v9; // ecx
  int v10; // esi
  int v11; // edi
  int result; // eax

  v5 = a4;
  if ( a5 )
    v5 = -a4;
  v6 = sub_4C1C60(v5, *a3) << 8;
  v7 = sub_4C1C60(v5, a3[1]) << 8;
  v8 = sub_4C1C60(v5, a3[2]);
  v9 = &byte_5D4594[12 * (a2 + 40 * a1 + 5 * a1) + 2618924];
  v10 = *(_DWORD *)&byte_5D4594[12 * (a2 + 40 * a1 + 5 * a1) + 2618924] + v6;
  v11 = *(_DWORD *)&byte_5D4594[12 * (a2 + 40 * a1 + 5 * a1) + 2618928] + v7;
  result = *(_DWORD *)&byte_5D4594[12 * (a2 + 40 * a1 + 5 * a1) + 2618932] + (v8 << 8);
  if ( v10 <= 16711680 )
  {
    if ( v10 < 0 )
      v10 = 0;
  }
  else
  {
    v10 = 16711680;
  }
  if ( v11 <= 16711680 )
  {
    if ( v11 < 0 )
      v11 = 0;
  }
  else
  {
    v11 = 16711680;
  }
  if ( result <= 16711680 )
  {
    if ( result < 0 )
      result = 0;
    *((_DWORD *)v9 + 1) = v11;
    *(_DWORD *)v9 = v10;
    *((_DWORD *)v9 + 2) = result;
  }
  else
  {
    *((_DWORD *)v9 + 1) = v11;
    *(_DWORD *)v9 = v10;
    result = 16711680;
    *((_DWORD *)v9 + 2) = 16711680;
  }
  return result;
}

//----- (004696B0) --------------------------------------------------------
int __cdecl sub_4696B0(int2 *a1, int2 *a2, int2 *a3, int2 *a4, signed int a5, int *a6)
{
  int v6; // edx
  int v7; // edi
  int2 *v8; // edi
  int2 *v9; // ebx
  int2 *v10; // esi
  int result; // eax
  int v12; // ecx
  char v13[184]; // [esp+10h] [ebp-228h]
  char v14[184]; // [esp+C8h] [ebp-170h]
  char v15[184]; // [esp+180h] [ebp-B8h]

  v6 = a1->field_4;
  v7 = a2->field_4;
  if ( v6 > v7 )
  {
    v10 = a3;
    if ( v7 <= a3->field_4 )
    {
      v9 = a2;
      v8 = a1;
      goto LABEL_9;
    }
    v9 = a3;
  }
  else
  {
    v8 = a3;
    if ( v6 <= a3->field_4 )
    {
      v9 = a1;
      v10 = a2;
      goto LABEL_9;
    }
    v9 = a3;
  }
  v10 = a1;
  v8 = a2;
LABEL_9:
  sub_484DC0(v9, v10, (int *)v15);
  sub_484DC0(v9, v8, (int *)v14);
  sub_4697C0((int *)v15, (int *)v14, a4, a5, a6);
  result = v10->field_4;
  v12 = v8->field_4;
  if ( result >= v12 )
  {
    if ( result > v12 )
    {
      sub_484DC0(v8, v10, (int *)v13);
      result = sub_4697C0((int *)v15, (int *)v13, a4, a5, a6);
    }
  }
  else
  {
    sub_484DC0(v10, v8, (int *)v13);
    result = sub_4697C0((int *)v13, (int *)v14, a4, a5, a6);
  }
  return result;
}

//----- (004697C0) --------------------------------------------------------
int __cdecl sub_4697C0(int *a1, int *a2, int2 *a3, signed int a4, int *a5)
{
  int result; // eax
  int *v6; // edi
  int v7; // esi
  int v8; // edx
  int v9; // ebp
  int *v10; // ecx
  char *v11; // eax
  int v12; // edi
  int v13; // eax
  int v14; // esi
  int v15; // ebx
  int v16; // eax
  unsigned int v17; // eax
  int v18; // [esp+10h] [ebp-10h]
  char *i; // [esp+14h] [ebp-Ch]
  int j; // [esp+18h] [ebp-8h]
  unsigned int v21; // [esp+1Ch] [ebp-4h]
  int *v22; // [esp+24h] [ebp+4h]
  signed int v23; // [esp+28h] [ebp+8h]
  int v24; // [esp+30h] [ebp+10h]

  result = *a1;
  v6 = a2;
  v7 = *a1 + a1[1];
  v18 = *a1 + a1[1];
  if ( *a1 < *a2 )
    result = *a2;
  if ( v7 > a2[1] + *a2 )
  {
    v18 = a2[1] + *a2;
    v7 = a2[1] + *a2;
  }
  if ( v7 - result > 1 )
  {
    v23 = *(_DWORD *)&byte_587000[142308];
    if ( (unsigned int)a4 <= *(int *)&byte_587000[142308] )
      v23 = a4;
    v21 = (a4 >> 16) * (a4 >> 16);
    v8 = 23 * result - a3->field_4;
    v24 = 23 * result - a3->field_4;
    v9 = result;
    if ( result < v7 )
    {
      v10 = &v6[result + 2];
      v11 = (char *)((char *)a1 - (char *)v6);
      v12 = *(_DWORD *)&byte_587000[142316];
      v22 = v10;
      for ( i = v11; ; v11 = i )
      {
        v13 = *(int *)((char *)v10 + (_DWORD)v11);
        v14 = 23 * v13 - a3->field_0;
        v15 = v13;
        if ( v13 < *v10 )
        {
          v16 = v8 * v8;
          for ( j = v8 * v8; ; v16 = j )
          {
            v17 = sub_4C1C70(v12 + v23, 66 * *(_DWORD *)&byte_587000[142312] * (v16 + v14 * v14) / v21 + 0x10000);
            v12 = *(_DWORD *)&byte_587000[142316];
            if ( v17 > *(int *)&byte_587000[142316] )
            {
              sub_4695E0(v15, v9, a5, 8 * (v17 - *(_DWORD *)&byte_587000[142316]), 0);
              v12 = *(_DWORD *)&byte_587000[142316];
            }
            v14 += 23;
            if ( ++v15 >= *v22 )
              break;
          }
          v8 = v24;
          v10 = v22;
        }
        result = v18;
        v8 += 23;
        ++v9;
        ++v10;
        v24 = v8;
        v22 = v10;
        if ( v9 >= v18 )
          break;
      }
    }
  }
  return result;
}

//----- (00469920) --------------------------------------------------------
char *__cdecl sub_469920(_DWORD *a1)
{
  int v1; // esi
  int v2; // edi
  int v3; // ecx
  int v4; // ebx
  int v5; // esi
  int v6; // ecx
  int v7; // ebp
  int v10; // ebx
  int v11; // eax
  int v12; // edi
  int v13; // ecx
  char *result; // eax
  int v16; // [esp+18h] [ebp-Ch]
  int v17; // [esp+1Ch] [ebp-8h]
  int v18; // [esp+20h] [ebp-4h]

  if ( byte_5D4594[2650637] & 8 )
    return (char *)&byte_587000[142336];
  v1 = *a1 - *(_DWORD *)&byte_5D4594[2650676];
  v2 = a1[1] - *(_DWORD *)&byte_5D4594[2650680];
  v3 = v1 / 23;
  v4 = v2 / 23;
  if ( v1 / 23 < 0 || v4 < 0 || v3 > 56 || v4 > 44 )
    return (char *)&byte_587000[142336];
  v5 = v1 % 23;
  v6 = 12 * (v4 + 40 * v3 + 5 * v3);
  v7 = v2 % 23;
  v16 = *(_DWORD *)&byte_5D4594[v6 + 2618924]
      + v5 * (*(int *)&byte_5D4594[v6 + 2619464] - *(int *)&byte_5D4594[v6 + 2618924]) / 23;
  v17 = *(_DWORD *)&byte_5D4594[v6 + 2618928]
      + v5 * (*(int *)&byte_5D4594[v6 + 2619468] - *(int *)&byte_5D4594[v6 + 2618928]) / 23;
  v18 = *(_DWORD *)&byte_5D4594[v6 + 2618932]
      + v5 * (*(int *)&byte_5D4594[v6 + 2619472] - *(int *)&byte_5D4594[v6 + 2618932]) / 23;
  v10 = *(_DWORD *)&byte_5D4594[v6 + 2618936];
  v11 = v5 * (*(_DWORD *)&byte_5D4594[v6 + 2619476] - v10);
  v12 = v2 % 23
      * (*(_DWORD *)&byte_5D4594[v6 + 2618940]
       + v5 * (*(int *)&byte_5D4594[v6 + 2619480] - *(int *)&byte_5D4594[v6 + 2618940]) / 23
       - v17);
  v13 = v7
      * (*(_DWORD *)&byte_5D4594[v6 + 2618944]
       + v5 * (*(int *)&byte_5D4594[v6 + 2619484] - *(int *)&byte_5D4594[v6 + 2618944]) / 23
       - v18);
  *(_DWORD *)&byte_5D4594[1064836] = (v16 + v7 * (v10 + v11 / 23 - v16) / 23) >> 16;
  *(_DWORD *)&byte_5D4594[1064840] = (v17 + v12 / 23) >> 16;
  result = (char *)&byte_5D4594[1064836];
  *(_DWORD *)&byte_5D4594[1064844] = (v18 + v13 / 23) >> 16;
  return result;
}

//----- (00469B90) --------------------------------------------------------
int __cdecl sub_469B90(int *a1)
{
  int result; // eax

  *(_DWORD *)&byte_587000[142296] = *a1;
  *(_DWORD *)&byte_587000[142300] = a1[1];
  result = a1[2];
  *(_DWORD *)&byte_587000[142304] = a1[2];
  return result;
}

//----- (00469BB0) --------------------------------------------------------
char *sub_469BB0()
{
  return (char *)&byte_587000[142296];
}

//----- (00469BC0) --------------------------------------------------------
void sub_469BC0()
{
  int v0; // esi
  int v1; // eax
  int v2; // ebx
  int i; // ebp
  int v4; // eax
  int v5; // eax
  int v6; // eax
  wchar_t *v7; // eax
  wchar_t *v8; // [esp-20h] [ebp-1078h]
  wchar_t *v9; // [esp-20h] [ebp-1078h]
  wchar_t *v10; // [esp-20h] [ebp-1078h]
  int v11; // [esp+4h] [ebp-1054h]
  int v12; // [esp+8h] [ebp-1050h]
  char v13[76]; // [esp+Ch] [ebp-104Ch]
  wchar_t v14[2048]; // [esp+58h] [ebp-1000h]

  v0 = *(_DWORD *)&byte_5D4594[2618908];
  if ( *(_DWORD *)&byte_5D4594[2618908] )
  {
    v1 = sub_43F320(0);
    v2 = *(_DWORD *)(v0 + 3644);
    v11 = v1;
    for ( i = -v1; v2; i += v11 + v12 )
    {
      strcpy(v13, "Journal:");
      HIWORD(v4) = 0;
      strcat(&v13, (const char *)v2);
      LOWORD(v4) = *(_WORD *)(v2 + 72);
      v5 = v4 - 2;
      if ( v5 )
      {
        v6 = v5 - 2;
        if ( v6 )
        {
          if ( v6 == 4 )
          {
            v8 = sub_40F1D0((char *)&byte_587000[142564], 0, (const char *)&byte_587000[142524], 64);
            nox_wcscpy(v14, v8);
          }
          else
          {
            v14[0] = 0;
          }
        }
        else
        {
          v9 = sub_40F1D0((char *)&byte_587000[142500], 0, (const char *)&byte_587000[142460], 60);
          nox_wcscpy(v14, v9);
        }
      }
      else
      {
        v10 = sub_40F1D0((char *)&byte_587000[142440], 0, (const char *)&byte_587000[142400], 56);
        nox_wcscpy(v14, v10);
      }
      nox_wcscat(v14, (const wchar_t *)&byte_587000[142584]);
      v7 = sub_40F1D0((char *)&v13, 0, (const char *)&byte_587000[142588], 74);
      nox_wcscat(v14, v7);
      sub_43F840(0, v14, 0, &v12, 240);
      v2 = *(_DWORD *)(v2 + 64);
    }
    *(_DWORD *)&byte_5D4594[1064848] = i <= 0 ? 0 : i;
  }
}

//----- (00469D40) --------------------------------------------------------
void __cdecl sub_469D40(int xLeft, int yTop, int a3)
{
  int v3; // esi
  int v4; // ebp
  int v5; // ebx
  int i; // eax
  int v7; // eax
  int v8; // edi
  wchar_t *v9; // eax
  wchar_t *v10; // eax
  wchar_t *v11; // eax
  wchar_t *v12; // eax
  int v13; // esi
  int v14; // [esp+10h] [ebp-1054h]
  int v15; // [esp+14h] [ebp-1050h]
  char v16[76]; // [esp+18h] [ebp-104Ch]
  wchar_t v17[2048]; // [esp+64h] [ebp-1000h]

  v3 = *(_DWORD *)&byte_5D4594[2618908];
  v4 = yTop - a3;
  if ( *(_DWORD *)&byte_5D4594[2618908] )
  {
    sub_434460(*(int *)&byte_5D4594[2650656]);
    sub_49CE30(xLeft, yTop, 260, 150);
    v5 = *(_DWORD *)(v3 + 3644);
    if ( v5 )
    {
      for ( i = *(_DWORD *)(v5 + 64); i; i = *(_DWORD *)(i + 64) )
        v5 = i;
      v14 = sub_43F320(0);
      do
      {
        HIWORD(v7) = 0;
        strcpy(v16, "Journal:");
        strcat(v16, (const char *)v5);
        LOWORD(v7) = *(_WORD *)(v5 + 72);
        switch ( v7 )
        {
          case 1:
            v8 = *(_DWORD *)&byte_5D4594[2523948];
            goto LABEL_12;
          case 2:
            v8 = *(_DWORD *)&byte_5D4594[2650644];
            v9 = sub_40F1D0((char *)&byte_587000[142680], 0, (const char *)&byte_587000[142640], 135);
            nox_wcscpy(v17, v9);
            break;
          case 4:
            v8 = *(_DWORD *)&byte_5D4594[2650660];
            v10 = sub_40F1D0((char *)&byte_587000[142740], 0, (const char *)&byte_587000[142700], 140);
            nox_wcscpy(v17, v10);
            break;
          case 8:
            v8 = *(_DWORD *)&byte_5D4594[2589772];
            v11 = sub_40F1D0((char *)&byte_587000[142804], 0, (const char *)&byte_587000[142764], 145);
            nox_wcscpy(v17, v11);
            break;
          default:
            v8 = *(_DWORD *)&byte_5D4594[2618904];
LABEL_12:
            v17[0] = 0;
            break;
        }
        nox_wcscat(v17, (const wchar_t *)&byte_587000[142824]);
        v12 = sub_40F1D0((char *)&v16, 0, (const char *)&byte_587000[142828], 155);
        nox_wcscat(v17, v12);
        sub_43F840(0, &v17, 0, &v15, 240);
        v13 = v15 + v4;
        if ( v15 + v4 > yTop )
        {
          sub_434390(v8);
          sub_43FAF0(0, &v17, xLeft + 10, v4, 240, 0);
        }
        v4 = v13 + v14;
        if ( v13 + v14 > yTop + 150 )
          break;
        v5 = *(_DWORD *)(v5 + 68);
      }
      while ( v5 );
    }
  }
}

//----- (00469FA0) --------------------------------------------------------
int sub_469FA0()
{
  return *(_DWORD *)&byte_5D4594[1064848];
}

//----- (00469FB0) --------------------------------------------------------
int __cdecl sub_469FB0(const char *a1)
{
  int v1; // ebp
  const char **v2; // edi

  v1 = 0;
  v2 = (const char **)&byte_587000[142868];
  while ( strcmp(*v2, a1) )
  {
    ++v2;
    ++v1;
    if ( (int)v2 >= (int)&byte_587000[142928] )
      return -1;
  }
  return v1;
}

//----- (0046A010) --------------------------------------------------------
BOOL __cdecl sub_46A010(_DWORD *a1, char *a2)
{
  _DWORD *v2; // esi
  char *v3; // ebx
  unsigned __int8 *v4; // edx
  int v5; // ecx
  const char *v6; // edi
  int v8; // ebp
  unsigned __int8 *v9; // eax
  unsigned __int8 *v10; // eax
  unsigned __int8 *v11; // eax
  unsigned __int8 *v12; // eax
  int v13; // ebp
  int v14; // edi
  unsigned __int8 *v15; // ebp
  int *v16; // eax
  int v17; // ecx
  int *v18; // eax
  int v19; // ecx
  int *v20; // eax
  int v21; // ecx
  char *v22; // eax
  char v23; // cl
  int v24; // edi
  char *v25; // eax
  unsigned __int8 *v26; // ecx
  bool v27; // zf
  int *v28; // eax
  int v29; // ecx
  _DWORD *v30; // [esp-4h] [ebp-40h]
  int v31; // [esp+10h] [ebp-2Ch]
  unsigned __int8 *v32; // [esp+14h] [ebp-28h]
  int v33; // [esp+18h] [ebp-24h]
  int v34; // [esp+1Ch] [ebp-20h]
  int v35; // [esp+20h] [ebp-1Ch]
  int v36; // [esp+24h] [ebp-18h]
  int v37; // [esp+28h] [ebp-14h]
  int v38; // [esp+2Ch] [ebp-10h]
  int v39; // [esp+30h] [ebp-Ch]
  int v40; // [esp+34h] [ebp-8h]
  const char *v41; // [esp+38h] [ebp-4h]
  unsigned __int8 v42; // [esp+40h] [ebp+4h]
  unsigned __int8 v43; // [esp+40h] [ebp+4h]
  unsigned __int8 v44; // [esp+40h] [ebp+4h]
  unsigned __int8 v45; // [esp+40h] [ebp+4h]
  unsigned __int8 v46; // [esp+40h] [ebp+4h]
  const char **v47; // [esp+40h] [ebp+4h]
  unsigned __int8 *v48; // [esp+44h] [ebp+8h]
  int v49; // [esp+44h] [ebp+8h]

  v2 = a1;
  v3 = a2;
  v30 = a1;
  v4 = (unsigned __int8 *)(a1[2] + 4);
  a1[2] = v4;
  v42 = *v4;
  v2[2] = v4 + 1;
  sub_40ACC0(a2, 1u, v42, (int)v30);
  a2[v42] = 0;
  v5 = 0;
  if ( *(_DWORD *)&byte_5D4594[251540] > 0 )
  {
    v6 = (const char *)&byte_5D4594[2692748];
    v48 = &byte_5D4594[2692748];
    while ( strcmp(v6, v3) )
    {
      ++v5;
      v6 = (const char *)(v48 + 12332);
      v48 += 12332;
      if ( v5 >= *(int *)&byte_5D4594[251540] )
        return 0;
    }
    v49 = v5;
    if ( v5 != -1 )
    {
      v38 = 12332 * v5;
      memset(&byte_5D4594[12332 * v5 + 2701180], 0, 0xF00u);
      v2[2] += 14;
      sub_40AD60((char *)&v31, 1, 1, v2);
      v8 = 0;
      if ( (_BYTE)v31 )
      {
        while ( v8 < 8 )
        {
          v9 = (unsigned __int8 *)v2[2];
          v43 = *v9;
          v2[2] = v9 + 1;
          sub_40ACC0(v3, 1u, v43, (int)v2);
          v3[v43] = 0;
          if ( ++v8 >= (unsigned __int8)v31 )
            goto LABEL_11;
        }
      }
      else
      {
LABEL_11:
        v10 = (unsigned __int8 *)v2[2];
        v44 = *v10;
        v2[2] = v10 + 1;
        sub_40ACC0(v3, 1u, v44, (int)v2);
        v3[v44] = 0;
        v11 = (unsigned __int8 *)v2[2];
        v45 = *v11;
        v2[2] = v11 + 1;
        sub_40ACC0(v3, 1u, v45, (int)v2);
        v3[v45] = 0;
        v12 = (unsigned __int8 *)v2[2];
        v46 = *v12;
        v2[2] = v12 + 1;
        sub_40ACC0(v3, 1u, v46, (int)v2);
        v3[v46] = 0;
        ++v2[2];
        v47 = (const char **)&byte_587000[142868];
        while ( 1 )
        {
          v13 = sub_469FB0(*v47);
          v36 = v13;
          if ( v13 < 0 )
            break;
          sub_40AD60((char *)&v35, 1, 1, v2);
          if ( (unsigned __int8)v35 >= 0x10u )
            break;
          v14 = 0;
          v34 = 0;
          if ( (_BYTE)v35 )
          {
            v37 = 3083 * v49;
            while ( 1 )
            {
              v33 = 4;
              v32 = &byte_5D4594[4 * (v14 + 16 * v13 + v37) + 2701180];
              v15 = &byte_5D4594[8 * (v14 + 16 * v13) + 2693504 + v38];
              do
              {
                v16 = (int *)v2[2];
                v17 = *v16;
                v2[2] = v16 + 1;
                *((_DWORD *)v15 - 1) = v17;
                v18 = (int *)v2[2];
                v19 = *v18;
                v2[2] = v18 + 1;
                *(_DWORD *)v15 = v19;
                v20 = (int *)v2[2];
                v21 = *v20;
                v2[2] = v20 + 1;
                v40 = v21;
                *v3 = byte_5D4594[1064852];
                if ( v21 == -1 )
                {
                  v22 = (char *)v2[2];
                  v23 = *v22++;
                  v2[2] = v22;
                  LOBYTE(v41) = v23;
                  LOBYTE(v39) = *v22;
                  v2[2] = v22 + 1;
                  v24 = (unsigned __int8)v39;
                  sub_40ACC0(v3, (unsigned __int8)v39, 1, (int)v2);
                  v21 = v40;
                  v3[v24] = 0;
                  v14 = v34;
                }
                v25 = sub_42FAA0(v21, v41, v3);
                v26 = v32;
                v15 += 1920;
                *(_DWORD *)v32 = v25;
                v27 = v33 == 1;
                v32 = v26 + 960;
                --v33;
              }
              while ( !v27 );
              v34 = ++v14;
              if ( v14 >= (unsigned __int8)v35 )
                break;
              v13 = v36;
            }
          }
          ++v47;
          if ( (int)v47 >= (int)&byte_587000[142928] )
          {
            v28 = (int *)v2[2];
            v29 = *v28;
            v2[2] = v28 + 1;
            return v29 == 1162757152;
          }
        }
      }
    }
  }
  return 0;
}

//----- (0046A360) --------------------------------------------------------
int sub_46A360()
{
  int i; // ebx
  int v1; // edx
  int v2; // esi
  unsigned __int8 *v3; // edi

  for ( i = 0; i < 986560; i += 12332 )
  {
    v1 = 0;
    do
    {
      v2 = 15;
      do
      {
        v3 = &byte_5D4594[i + 2701180 + v1];
        v1 += 64;
        --v2;
        memset(v3, 0, 0x40u);
      }
      while ( v2 );
    }
    while ( v1 < 3840 );
  }
  return 1;
}

//----- (0046A3B0) --------------------------------------------------------
int __cdecl sub_46A3B0(int a1, int a2, int a3, int a4)
{
  return *(_DWORD *)&byte_5D4594[4 * (16 * (a2 + 12 * a4 + 3 * a4) + a3 + 3083 * a1) + 2701180];
}

//----- (0046A3F0) --------------------------------------------------------
char *__cdecl sub_46A3F0(int a1, int a2, int a3, int a4)
{
  return (char *)&byte_5D4594[12332 * a1 + 2693500 + 8 * (a3 + 16 * (a2 + 12 * a4 + 3 * a4))];
}

//----- (0046A430) --------------------------------------------------------
int __cdecl sub_46A430(int a1)
{
  int result; // eax

  result = sub_40A5C0(2048);
  if ( !result )
  {
    result = *(_DWORD *)&byte_5D4594[1064868];
    if ( !*(_DWORD *)&byte_5D4594[1064868] )
    {
      **(_WORD **)&byte_5D4594[1064864] = 0;
      *(_WORD *)(*(_DWORD *)&byte_5D4594[1064864] + 1052) = 0;
      sub_46A8C0(*(int *)&byte_5D4594[1064856]);
      sub_46C690(*(int *)&byte_5D4594[1064856]);
      result = sub_46B500(*(int *)&byte_5D4594[1064860]);
      *(_DWORD *)&byte_5D4594[1064868] = 1;
      *(_DWORD *)&byte_5D4594[1064872] = a1;
    }
  }
  return result;
}

//----- (0046A4A0) --------------------------------------------------------
int sub_46A4A0()
{
  return *(_DWORD *)&byte_5D4594[1064868];
}

//----- (0046A4B0) --------------------------------------------------------
size_t __cdecl sub_46A4B0(wchar_t *a1, int a2)
{
  _DWORD *v2; // ebp
  size_t v3; // edi
  size_t result; // eax
  const wchar_t *v5; // edi
  char v6; // al
  int v7; // eax
  char v8[520]; // [esp+Ch] [ebp-208h]

  v2 = sub_45A6F0(*(int *)&byte_5D4594[2616328]);
  v3 = nox_wcsspn(a1, (const wchar_t *)&byte_587000[143104]);
  result = nox_wcslen(a1);
  if ( v3 != result )
  {
    v5 = &a1[v3];
    v8[0] = -88;
    *(_WORD *)&v8[9] = 0;
    *(_WORD *)&v8[1] = *(_WORD *)&byte_5D4594[2616328];
    v8[3] = 0;
    if ( sub_4100F0((__int16 *)a1) )
      v6 = v8[3] | 2;
    else
      v6 = v8[3] | 4;
    v8[3] = v6;
    if ( a2 )
      v8[3] |= 1u;
    v8[8] = nox_wcslen(v5) + 1;
    if ( v8[3] & 4 )
    {
      nox_wcscpy((wchar_t *)&v8[11], v5);
      v7 = 2;
    }
    else
    {
      nox_sprintf(&v8[11], (const char *)&byte_587000[143108], v5);
      v7 = 1;
    }
    if ( v2 )
    {
      *(_WORD *)&v8[4] = *((_WORD *)v2 + 6);
      *(_WORD *)&v8[6] = *((_WORD *)v2 + 8);
    }
    else
    {
      *(_WORD *)&v8[6] = -1;
      *(_WORD *)&v8[4] = -1;
    }
    result = sub_40EBC0(31, 0, v8, v7 * (unsigned __int8)v8[8] + 11);
  }
  return result;
}

//----- (0046A5D0) --------------------------------------------------------
int __cdecl sub_46A5D0(_DWORD *a1, int a2)
{
  int v2; // ecx
  bool v3; // sf
  int v5; // [esp+4h] [ebp-8h]
  int v6; // [esp+8h] [ebp-4h]

  v5 = 0;
  v6 = 0;
  sub_46A8C0(*(int *)&byte_5D4594[1064856]);
  sub_46B500(*(int *)&byte_5D4594[1064860]);
  sub_43F840(0, *(unsigned __int16 **)&byte_5D4594[1064864], &v5, 0, 0);
  sub_43F840(0, (unsigned __int16 *)(*(_DWORD *)&byte_5D4594[1064864] + 512), &v6, 0, 0);
  v3 = v5 + v6 - 90 < 0;
  v5 += v6 + 10;
  v2 = v5;
  if ( v5 < 100 )
  {
    v2 = 100;
LABEL_5:
    v5 = v2;
    goto LABEL_6;
  }
  if ( v5 > 320 )
  {
    v2 = 320;
    goto LABEL_5;
  }
LABEL_6:
  sub_46A9B0(
    *(_DWORD **)&byte_5D4594[1064856],
    (*(int *)&byte_5D4594[3805496] - v2) / 2,
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1064856] + 20));
  sub_46AB20(a1, v5, 20);
  return sub_488160((int)a1, a2);
}

//----- (0046A6A0) --------------------------------------------------------
int sub_46A6A0()
{
  if ( sub_46ACC0(*(int *)&byte_5D4594[1064856]) )
    return 0;
  if ( sub_46B4F0() == *(_DWORD *)&byte_5D4594[1064860] )
    sub_46B500(0);
  sub_46C6E0(*(int *)&byte_5D4594[1064856]);
  sub_46AC00(*(int *)&byte_5D4594[1064856], 1);
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[1064856] + 4) &= 0xFFFFFFF7;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[1064860] + 4) &= 0xFFFFFFF7;
  *(_DWORD *)&byte_5D4594[3799524] = 1;
  *(_DWORD *)&byte_5D4594[1064868] = 0;
  return 1;
}

//----- (0046A730) --------------------------------------------------------
_DWORD *sub_46A730()
{
  _DWORD *result; // eax

  *(_DWORD *)&byte_5D4594[1064876] = *(int *)&byte_5D4594[3805496] / 2;
  *(_DWORD *)&byte_5D4594[1064880] = 2 * *(int *)&byte_5D4594[3807120] / 3;
  result = sub_4A0AD0((const char *)&byte_587000[143112], sub_46A820);
  *(_DWORD *)&byte_5D4594[1064856] = result;
  if ( result )
  {
    sub_46A9B0(result, *(int *)&byte_5D4594[1064876], *(int *)&byte_5D4594[1064880]);
    result = sub_46B0C0(*(_DWORD **)&byte_5D4594[1064856], 9201);
    *(_DWORD *)&byte_5D4594[1064860] = result;
    if ( result )
    {
      sub_46B340((int)result, sub_46A5D0);
      sub_46B300(*(int *)&byte_5D4594[1064860], sub_46A7E0);
      result = *(_DWORD **)&byte_5D4594[1064856];
      *(_DWORD *)&byte_5D4594[1064864] = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1064860] + 32);
    }
  }
  return result;
}

//----- (0046A7E0) --------------------------------------------------------
int __cdecl sub_46A7E0(_DWORD *a1, int a2, int a3, int a4)
{
  if ( a2 != 21 || a3 != 1 )
    return sub_487D70(a1, a2, a3, a4);
  if ( a4 == 2 )
    sub_49B7A0();
  return 1;
}

//----- (0046A820) --------------------------------------------------------
int __cdecl sub_46A820(int a1, int a2, int a3, int a4)
{
  if ( a2 == 16415 )
  {
    if ( *(_WORD *)(*(_DWORD *)&byte_5D4594[1064864] + 1052) )
      sub_46A4B0(*(wchar_t **)&byte_5D4594[1064864], *(int *)&byte_5D4594[1064872]);
    sub_46A6A0();
  }
  return 0;
}

//----- (0046A860) --------------------------------------------------------
int sub_46A860()
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[1064856];
  if ( *(_DWORD *)&byte_5D4594[1064856] )
  {
    result = sub_46C4E0(*(_DWORD **)&byte_5D4594[1064856]);
    *(_DWORD *)&byte_5D4594[1064856] = 0;
  }
  *(_DWORD *)&byte_5D4594[1064860] = 0;
  *(_DWORD *)&byte_5D4594[1064864] = 0;
  *(_DWORD *)&byte_5D4594[1064868] = 0;
  *(_DWORD *)&byte_5D4594[1064872] = 0;
  return result;
}

//----- (0046A8A0) --------------------------------------------------------
int sub_46A8A0()
{
  return 0;
}

//----- (0046A8B0) --------------------------------------------------------
int sub_46A8B0()
{
  return 0;
}

//----- (0046A8C0) --------------------------------------------------------
int __cdecl sub_46A8C0(int a1)
{
  int result; // eax
  int v2; // eax
  int v3; // eax

  if ( !a1 )
    return -2;
  v2 = *(_DWORD *)&byte_5D4594[1064888];
  if ( *(_DWORD *)&byte_5D4594[1064888] == a1 )
  {
LABEL_6:
    sub_46A960(a1);
    sub_46A920(a1);
    v3 = *(_DWORD *)(a1 + 4);
    LOBYTE(v3) = v3 | 1;
    *(_DWORD *)(a1 + 4) = v3;
    sub_46AC00(a1, 0);
    result = 0;
  }
  else
  {
    while ( v2 )
    {
      v2 = *(_DWORD *)(v2 + 388);
      if ( v2 == a1 )
        goto LABEL_6;
    }
    result = -3;
  }
  return result;
}

//----- (0046A920) --------------------------------------------------------
int __cdecl sub_46A920(int a1)
{
  int result; // eax

  result = a1;
  *(_DWORD *)(a1 + 392) = 0;
  *(_DWORD *)(a1 + 388) = *(_DWORD *)&byte_5D4594[1064888];
  if ( *(_DWORD *)&byte_5D4594[1064888] )
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1064888] + 392) = a1;
  else
    *(_DWORD *)&byte_5D4594[1064892] = a1;
  *(_DWORD *)&byte_5D4594[1064888] = a1;
  return result;
}

//----- (0046A960) --------------------------------------------------------
int __cdecl sub_46A960(int a1)
{
  int result; // eax
  int v2; // ecx
  int v3; // ecx

  result = a1;
  v2 = *(_DWORD *)(a1 + 388);
  if ( v2 )
    *(_DWORD *)(v2 + 392) = *(_DWORD *)(a1 + 392);
  else
    *(_DWORD *)&byte_5D4594[1064892] = *(_DWORD *)(a1 + 392);
  v3 = *(_DWORD *)(a1 + 392);
  if ( v3 )
  {
    *(_DWORD *)(v3 + 388) = *(_DWORD *)(a1 + 388);
  }
  else
  {
    result = *(_DWORD *)(a1 + 388);
    *(_DWORD *)&byte_5D4594[1064888] = *(_DWORD *)(a1 + 388);
  }
  return result;
}

//----- (0046A9B0) --------------------------------------------------------
int __cdecl sub_46A9B0(_DWORD *a1, int a2, int a3)
{
  int v4; // esi
  int v5; // ecx

  if ( !a1 )
    return -2;
  v4 = a1[2];
  a1[4] = a2;
  v5 = a3 + a1[3];
  a1[5] = a3;
  a1[6] = a2 + v4;
  a1[7] = v5;
  sub_46A9F0(a1);
  return 0;
}

//----- (0046A9F0) --------------------------------------------------------
_DWORD *__cdecl sub_46A9F0(_DWORD *a1)
{
  _DWORD *result; // eax
  int v2; // ecx
  int v3; // edx
  int v4; // ecx
  int v5; // edx

  result = a1;
  v2 = a1[4];
  v3 = a1[6];
  if ( v2 > v3 )
  {
    a1[4] = v3;
    a1[6] = v2;
  }
  v4 = a1[5];
  v5 = a1[7];
  if ( v4 > v5 )
  {
    a1[5] = v5;
    a1[7] = v4;
  }
  return result;
}

//----- (0046AA20) --------------------------------------------------------
int __cdecl sub_46AA20(int a1, _DWORD *a2, _DWORD *a3)
{
  int result; // eax

  if ( a1 )
  {
    *a2 = *(_DWORD *)(a1 + 16);
    *a3 = *(_DWORD *)(a1 + 20);
    result = 0;
  }
  else
  {
    *a3 = 0;
    *a2 = 0;
    result = -2;
  }
  return result;
}

//----- (0046AA60) --------------------------------------------------------
int __cdecl sub_46AA60(_DWORD *a1, _DWORD *a2, _DWORD *a3)
{
  _DWORD *v4; // eax

  if ( !a1 )
    return -2;
  v4 = (_DWORD *)a1[99];
  *a2 = a1[4];
  for ( *a3 = a1[5]; v4; v4 = (_DWORD *)v4[99] )
  {
    *a2 += v4[4];
    *a3 += v4[5];
  }
  return 0;
}

//----- (0046AAB0) --------------------------------------------------------
BOOL __cdecl sub_46AAB0(_DWORD *a1, int a2, int a3)
{
  _DWORD *v3; // esi
  int v5; // [esp+4h] [ebp-Ch]
  int v6; // [esp+8h] [ebp-8h]
  int v7; // [esp+Ch] [ebp-4h]

  v3 = a1;
  sub_46AA60(a1, &a1, &v6);
  sub_46AB70((int)v3, &v5, &v7);
  return a2 >= (int)a1 && a2 <= (int)a1 + v5 && a3 >= v6 && a3 <= v6 + v7;
}

//----- (0046AB20) --------------------------------------------------------
int __cdecl sub_46AB20(_DWORD *a1, int a2, int a3)
{
  int v4; // esi

  if ( !a1 )
    return -2;
  a1[6] = a2 + a1[4];
  v4 = a3 + a1[5];
  a1[2] = a2;
  a1[3] = a3;
  a1[7] = v4;
  sub_46B490((int)a1, 16388, a2, a3);
  return 0;
}

//----- (0046AB70) --------------------------------------------------------
int __cdecl sub_46AB70(int a1, _DWORD *a2, _DWORD *a3)
{
  int result; // eax

  if ( a1 )
  {
    *a2 = *(_DWORD *)(a1 + 8);
    *a3 = *(_DWORD *)(a1 + 12);
    result = 0;
  }
  else
  {
    *a3 = 0;
    *a2 = 0;
    result = -2;
  }
  return result;
}

//----- (0046ABB0) --------------------------------------------------------
int __cdecl sub_46ABB0(int a1, int a2)
{
  int v3; // ecx
  unsigned int v4; // ecx
  int v5; // esi

  if ( !a1 )
    return -2;
  v3 = *(_DWORD *)(a1 + 4);
  if ( a2 )
    v4 = v3 | 8;
  else
    v4 = v3 & 0xFFFFFFF7;
  v5 = *(_DWORD *)(a1 + 400);
  for ( *(_DWORD *)(a1 + 4) = v4; v5; v5 = *(_DWORD *)(v5 + 388) )
    sub_46ABB0(v5, a2);
  return 0;
}

//----- (0046AC00) --------------------------------------------------------
int __cdecl sub_46AC00(int a1, int a2)
{
  int result; // eax
  int v3; // eax

  if ( !a1 )
    return -2;
  v3 = *(_DWORD *)(a1 + 4);
  if ( a2 )
  {
    if ( (v3 & 0x8000) == 0 )
      sub_46AC60(a1);
    if ( *(_DWORD *)&byte_5D4594[3799468] )
    {
      if ( !(*(_BYTE *)(a1 + 4) & 0x10) )
        *(_DWORD *)&byte_5D4594[3799524] = 1;
    }
    result = 0;
    *(_DWORD *)(a1 + 4) |= 0x10u;
  }
  else
  {
    LOBYTE(v3) = v3 & 0xEF;
    *(_DWORD *)(a1 + 4) = v3;
    result = 0;
  }
  return result;
}

//----- (0046AC60) --------------------------------------------------------
void __cdecl sub_46AC60(int a1)
{
  int v2; // esi

  if ( *(_BYTE *)(a1 + 4) & 0x80 )
  {
    if ( *(_DWORD *)(a1 + 60) )
      sub_42FAE0(*(_DWORD *)(a1 + 60));
    if ( *(_DWORD *)(a1 + 84) )
      sub_42FAE0(*(_DWORD *)(a1 + 84));
    if ( *(_DWORD *)(a1 + 68) )
      sub_42FAE0(*(_DWORD *)(a1 + 68));
    if ( *(_DWORD **)(a1 + 92) )
      sub_42FAE0(*(_DWORD *)(a1 + 92));
    v2 = *(_DWORD *)(a1 + 76);
    if ( v2 )
      sub_42FAE0(v2);
  }
}

//----- (0046ACC0) --------------------------------------------------------
int __cdecl sub_46ACC0(int a1)
{
  int result; // eax

  if ( a1 )
    result = (*(_DWORD *)(a1 + 4) >> 4) & 1;
  else
    result = 1;
  return result;
}

//----- (0046ACE0) --------------------------------------------------------
void __cdecl sub_46ACE0(_DWORD *a1, int a2, int a3, int a4)
{
  int i; // esi
  _DWORD *v5; // eax

  for ( i = a2; i <= a3; ++i )
  {
    v5 = sub_46B0C0(a1, i);
    sub_46AC00((int)v5, a4);
  }
}

//----- (0046AD20) --------------------------------------------------------
void __cdecl sub_46AD20(_DWORD *a1, int a2, int a3, int a4)
{
  int i; // esi
  _DWORD *v5; // eax

  for ( i = a2; i <= a3; ++i )
  {
    v5 = sub_46B0C0(a1, i);
    sub_46ABB0((int)v5, a4);
  }
}

//----- (0046AD60) --------------------------------------------------------
int __cdecl sub_46AD60(int a1, int a2)
{
  int result; // eax

  if ( !a1 )
    return -2;
  result = *(_DWORD *)(a1 + 4);
  *(_DWORD *)(a1 + 4) = a2 | result;
  return result;
}

//----- (0046AD80) --------------------------------------------------------
int __cdecl sub_46AD80(int a1, int a2)
{
  int result; // eax

  if ( !a1 )
    return -2;
  result = *(_DWORD *)(a1 + 4);
  *(_DWORD *)(a1 + 4) = result & ~a2;
  return result;
}

//----- (0046ADA0) --------------------------------------------------------
int __cdecl sub_46ADA0(int a1)
{
  int result; // eax

  if ( a1 )
    result = *(_DWORD *)(a1 + 4);
  else
    result = -2;
  return result;
}

//----- (0046ADC0) --------------------------------------------------------
int __cdecl sub_46ADC0(int a1)
{
  if ( *(_DWORD *)&byte_5D4594[1064904] )
    return -4;
  *(_DWORD *)&byte_5D4594[1064904] = a1;
  return 0;
}

//----- (0046ADE0) --------------------------------------------------------
int __cdecl sub_46ADE0(int a1)
{
  if ( a1 == *(_DWORD *)&byte_5D4594[1064904] )
    *(_DWORD *)&byte_5D4594[1064904] = 0;
  return 0;
}

//----- (0046AE00) --------------------------------------------------------
int sub_46AE00()
{
  return *(_DWORD *)&byte_5D4594[1064904];
}

//----- (0046AE10) --------------------------------------------------------
int __cdecl sub_46AE10(int a1, int a2)
{
  int result; // eax
  int v3; // ecx

  result = a1;
  if ( a1 )
  {
    v3 = *(_DWORD *)(a1 + 36);
    if ( a2 )
      *(_DWORD *)(a1 + 36) = v3 | 2;
    else
      *(_DWORD *)(a1 + 36) = v3 & 0xFFFFFFFD;
  }
  return result;
}

//----- (0046AE40) --------------------------------------------------------
int __cdecl sub_46AE40(int a1, int a2, int a3)
{
  int result; // eax

  result = a1;
  if ( a1 )
  {
    *(_DWORD *)(a1 + 96) = a2;
    *(_DWORD *)(a1 + 100) = a3;
  }
  return result;
}

//----- (0046AE60) --------------------------------------------------------
int __cdecl sub_46AE60(int a1, int a2)
{
  if ( !a1 )
    return -2;
  *(_DWORD *)(a1 + 60) = a2;
  return 0;
}

//----- (0046AE80) --------------------------------------------------------
int __cdecl sub_46AE80(int a1, int a2)
{
  if ( !a1 )
    return -2;
  *(_DWORD *)(a1 + 84) = a2;
  return 0;
}

//----- (0046AEA0) --------------------------------------------------------
int __cdecl sub_46AEA0(int a1, int a2)
{
  if ( !a1 )
    return -2;
  *(_DWORD *)(a1 + 76) = a2;
  return 0;
}

//----- (0046AEC0) --------------------------------------------------------
int __cdecl sub_46AEC0(int a1, int a2)
{
  if ( !a1 )
    return -2;
  *(_DWORD *)(a1 + 92) = a2;
  return 0;
}

//----- (0046AEE0) --------------------------------------------------------
int __cdecl sub_46AEE0(int a1, int a2)
{
  sub_46B490(a1, 16385, a2, 0);
  return 0;
}

//----- (0046AF00) --------------------------------------------------------
int __cdecl sub_46AF00(int a1)
{
  int v1; // ecx
  int result; // eax

  if ( !a1 )
    goto LABEL_9;
  v1 = *(_DWORD *)(a1 + 44);
  if ( v1 & 0x800 )
    return sub_46B490(a1, 16386, 0, 0);
  if ( (v1 & 0x80u) != 0 )
    result = sub_46B490(a1, 16413, 0, 0);
  else
LABEL_9:
    result = 0;
  return result;
}

//----- (0046AF40) --------------------------------------------------------
int __cdecl sub_46AF40(int a1)
{
  int result; // eax

  result = a1;
  if ( a1 )
    result = *(_DWORD *)(a1 + 236);
  return result;
}

//----- (0046AF50) --------------------------------------------------------
int __cdecl sub_46AF50(int a1, int a2)
{
  int result; // eax

  if ( a1 && *(_BYTE *)(a1 + 44) & 0x20 )
    result = sub_46B490(a1, 16406, a2, 0);
  else
    result = 0;
  return result;
}

//----- (0046AF80) --------------------------------------------------------
int __cdecl sub_46AF80(int a1, const void *a2)
{
  int result; // eax

  if ( !a1 )
    return -2;
  if ( !a2 )
    return -3;
  result = 0;
  qmemcpy((void *)(a1 + 36), a2, 0x14Cu);
  return result;
}

//----- (0046AFB0) --------------------------------------------------------
int __cdecl sub_46AFB0(int a1, void *a2)
{
  int result; // eax

  if ( !a1 )
    return -2;
  if ( !a2 )
    return -3;
  result = 0;
  qmemcpy(a2, (const void *)(a1 + 36), 0x14Cu);
  return result;
}

//----- (0046AFE0) --------------------------------------------------------
int __cdecl sub_46AFE0(int a1, int a2)
{
  if ( !a1 )
    return -2;
  *(_DWORD *)(a1 + 56) = a2;
  return 0;
}

//----- (0046B000) --------------------------------------------------------
wchar_t *__cdecl sub_46B000(wchar_t *a1, wchar_t *a2)
{
  wchar_t *result; // eax
  wchar_t *v3; // eax

  if ( a2 )
  {
    if ( nox_wcslen(a2) < 0x40 )
    {
      result = nox_wcscpy(a1 + 102, a2);
    }
    else
    {
      v3 = sub_40F1D0((char *)&byte_587000[143168], 0, (const char *)&byte_587000[143124], 1004);
      result = nox_wcscpy(a1 + 102, v3);
    }
  }
  else
  {
    result = a1;
    a1[102] = 0;
  }
  return result;
}

//----- (0046B070) --------------------------------------------------------
int __cdecl sub_46B070(int a1, int a2)
{
  int result; // eax

  result = a2;
  *(_DWORD *)(a1 + 384) = a2;
  return result;
}

//----- (0046B080) --------------------------------------------------------
int __cdecl sub_46B080(_DWORD *a1, int a2)
{
  if ( !a1 )
    return -2;
  *a1 = a2;
  return 0;
}

//----- (0046B0A0) --------------------------------------------------------
int __cdecl sub_46B0A0(int *a1)
{
  int result; // eax

  if ( a1 )
    result = *a1;
  else
    result = -2;
  return result;
}

//----- (0046B0C0) --------------------------------------------------------
_DWORD *__cdecl sub_46B0C0(_DWORD *a1, int a2)
{
  _DWORD *v2; // esi
  _DWORD *v3; // eax
  _DWORD *result; // eax

  v2 = a1;
  if ( !a1 )
  {
    v2 = *(_DWORD **)&byte_5D4594[1064888];
    if ( !*(_DWORD *)&byte_5D4594[1064888] )
      return 0;
  }
  while ( *v2 != a2 )
  {
    v3 = (_DWORD *)v2[100];
    if ( v3 )
    {
      result = sub_46B0C0(v3, a2);
      if ( result )
        return result;
    }
    v2 = (_DWORD *)v2[97];
    if ( !v2 )
      return 0;
  }
  return v2;
}

//----- (0046B110) --------------------------------------------------------
int sub_46B110()
{
  return *(_DWORD *)&byte_5D4594[1064888];
}

//----- (0046B120) --------------------------------------------------------
int __cdecl sub_46B120(_DWORD *a1, int a2)
{
  if ( !a1 )
    return -2;
  if ( a1[99] )
    sub_46B180(a1);
  else
    sub_46A960((int)a1);
  if ( a2 )
  {
    sub_46B200(a1, a2);
  }
  else
  {
    sub_46A920((int)a1);
    a1[99] = 0;
  }
  return 0;
}

//----- (0046B180) --------------------------------------------------------
_DWORD *__cdecl sub_46B180(_DWORD *a1)
{
  _DWORD *result; // eax
  int v2; // ecx
  int v3; // ecx
  int v4; // ecx

  result = a1;
  v2 = a1[98];
  if ( v2 )
  {
    *(_DWORD *)(v2 + 388) = a1[97];
    v3 = a1[97];
    if ( v3 )
    {
      result = (_DWORD *)a1[98];
      *(_DWORD *)(v3 + 392) = result;
    }
  }
  else
  {
    v4 = a1[97];
    if ( v4 )
    {
      *(_DWORD *)(a1[99] + 400) = v4;
      *(_DWORD *)(a1[97] + 392) = a1[98];
      a1[97] = 0;
    }
    else
    {
      result = (_DWORD *)a1[99];
      result[100] = 0;
    }
  }
  return result;
}

//----- (0046B200) --------------------------------------------------------
void __cdecl sub_46B200(_DWORD *a1, int a2)
{
  int v2; // edx

  if ( a2 )
  {
    a1[98] = 0;
    a1[97] = *(_DWORD *)(a2 + 400);
    v2 = *(_DWORD *)(a2 + 400);
    if ( v2 )
      *(_DWORD *)(v2 + 392) = a1;
    *(_DWORD *)(a2 + 400) = a1;
    a1[99] = a2;
  }
}

//----- (0046B240) --------------------------------------------------------
int __cdecl sub_46B240(int a1)
{
  int result; // eax

  result = a1;
  if ( a1 )
    result = *(_DWORD *)(a1 + 396);
  return result;
}

//----- (0046B250) --------------------------------------------------------
int __cdecl sub_46B250(int a1, int a2)
{
  int v2; // eax

  if ( !a1 )
    return 0;
  v2 = a2;
  if ( !a2 )
    return 0;
  while ( 1 )
  {
    v2 = *(_DWORD *)(v2 + 396);
    if ( a1 == v2 )
      break;
    if ( !v2 )
      return 0;
  }
  return 1;
}

//----- (0046B280) --------------------------------------------------------
int __cdecl sub_46B280(int a1, int a2)
{
  if ( !a1 )
    return -2;
  if ( a2 )
    *(_DWORD *)(a1 + 52) = a2;
  else
    *(_DWORD *)(a1 + 52) = a1;
  return 0;
}

//----- (0046B2B0) --------------------------------------------------------
int __cdecl sub_46B2B0(int a1)
{
  int result; // eax

  result = a1;
  if ( a1 )
    result = *(_DWORD *)(a1 + 52);
  return result;
}

//----- (0046B2C0) --------------------------------------------------------
int __cdecl sub_46B2C0(int a1, int (*a2)(int,int,int,int))
{
  if ( !a1 )
    return -2;
  if ( a2 )
    *(_DWORD *)(a1 + 376) = a2;
  else
    *(_DWORD *)(a1 + 376) = sub_46B2F0;
  return 0;
}

//----- (0046B2F0) --------------------------------------------------------
int sub_46B2F0(int a1, int a2, int a3, int a4)
{
  return 0;
}

//----- (0046B300) --------------------------------------------------------
int __cdecl sub_46B300(int a1, int (*a2)(int, int, int, int))
{
  if ( !a1 )
    return -2;
  if ( a2 )
    *(_DWORD *)(a1 + 372) = a2;
  else
    *(_DWORD *)(a1 + 372) = sub_46B330;
  return 0;
}

//----- (0046B330) --------------------------------------------------------
int sub_46B330(int a1, int a2, int a3, int a4)
{
  return 0;
}

//----- (0046B340) --------------------------------------------------------
int __cdecl sub_46B340(int a1, int (*a2)(int, int))
{
  if ( !a1 )
    return -2;
  if ( a2 )
    *(_DWORD *)(a1 + 380) = a2;
  else
    *(_DWORD *)(a1 + 380) = sub_46B370;
  return 0;
}

//----- (0046B370) --------------------------------------------------------
int __cdecl sub_46B370(int a1, int *a2)
{
  int v2; // edx
  int v3; // ecx
  int result; // eax
  int xLeft; // [esp+4h] [ebp-8h]
  int yTop; // [esp+8h] [ebp-4h]

  sub_46AA60((_DWORD *)a1, &xLeft, &yTop);
  if ( (signed char)*(_BYTE *)(a1 + 4) >= 0 )
  {
    if ( a2[5] != 0x80000000 )
    {
      sub_434460(a2[5]);
      sub_49CE30(xLeft, yTop, *(_DWORD *)(a1 + 8), *(_DWORD *)(a1 + 12));
    }
    result = 1;
  }
  else
  {
    v2 = *(_DWORD *)(a1 + 100);
    xLeft += *(_DWORD *)(a1 + 96);
    v3 = v2 + yTop;
    LOBYTE(v2) = *(_BYTE *)(a1 + 36);
    yTop = v3;
    if ( v2 & 2 )
      sub_47D2C0(a2[10], xLeft, v3);
    else
      sub_47D2C0(a2[6], xLeft, v3);
    result = 1;
  }
  return result;
}

//----- (0046B430) --------------------------------------------------------
int __cdecl sub_46B430(_DWORD *a1, int (*a2)(int, int, int, int), int (*a3)(int, int), int a4)
{
  if ( !a1 )
    return -2;
  if ( a2 )
    a1[93] = a2;
  else
    a1[93] = sub_46B330;
  if ( a3 )
    a1[95] = a3;
  else
    a1[95] = sub_46B370;
  a1[96] = a4;
  return 0;
}

//----- (0046B490) --------------------------------------------------------
int __cdecl sub_46B490(int a1, int a2, int a3, int a4)
{
  int result; // eax

  result = a1;
  if ( a1 )
    result = (*(int (__cdecl **)(int, int, int, int))(a1 + 376))(a1, a2, a3, a4);
  return result;
}

//----- (0046B4C0) --------------------------------------------------------
int __cdecl sub_46B4C0(int a1, int a2, int a3, int a4)
{
  int result; // eax

  result = a1;
  if ( a1 )
    result = (*(int (__cdecl **)(int, int, int, int))(a1 + 372))(a1, a2, a3, a4);
  return result;
}

//----- (0046B4F0) --------------------------------------------------------
int sub_46B4F0()
{
  return *(_DWORD *)&byte_5D4594[1064908];
}

//----- (0046B500) --------------------------------------------------------
int __cdecl sub_46B500(int a1)
{
  int v1; // esi
  int v2; // eax

  v1 = a1;
  if ( a1 )
  {
    v2 = *(_DWORD *)(a1 + 4);
    if ( v2 & 0x400 )
      return 0;
  }
  if ( *(_DWORD *)&byte_5D4594[1064908] )
  {
    if ( *(_DWORD *)&byte_5D4594[1064908] != a1 )
      sub_46B490(*(int *)&byte_5D4594[1064908], 23, 0, 0);
  }
  *(_DWORD *)&byte_5D4594[1064908] = a1;
  if ( !a1 )
    goto LABEL_11;
  if ( !sub_46B490(a1, 23, 1, 0) )
  {
    while ( 1 )
    {
      v1 = *(_DWORD *)(v1 + 396);
      if ( !v1 )
        break;
      if ( sub_46B490(v1, 23, 1, 0) )
        return 0;
    }
LABEL_11:
    *(_DWORD *)&byte_5D4594[1064908] = 0;
  }
  return 0;
}

//----- (0046B580) --------------------------------------------------------
int __cdecl sub_46B580(int a1)
{
  if ( !a1 )
    return -2;
  if ( !(*(_BYTE *)(a1 + 4) & 0x10) )
    sub_46B370(a1, (int *)(a1 + 36));
  return 0;
}

//----- (0046B5B0) --------------------------------------------------------
_DWORD *__cdecl sub_46B5B0(_DWORD *a1, int a2, int a3)
{
  _DWORD *result; // eax
  _DWORD *i; // esi
  _DWORD *v5; // ecx
  int v6; // edx
  int j; // edi
  int v8; // ecx

  result = a1;
  if ( a1 )
  {
LABEL_2:
    for ( i = (_DWORD *)result[100]; i; i = (_DWORD *)i[97] )
    {
      v5 = (_DWORD *)i[99];
      v6 = i[4];
      for ( j = i[5]; v5; v5 = (_DWORD *)v5[99] )
      {
        v6 += v5[4];
        j += v5[5];
      }
      if ( a2 >= v6 && a2 <= v6 + i[2] && a3 >= j && a3 <= j + i[3] )
      {
        v8 = i[1];
        if ( v8 & 8 )
        {
          if ( !(v8 & 0x10) )
          {
            result = i;
            goto LABEL_2;
          }
        }
      }
    }
  }
  return result;
}

//----- (0046B630) --------------------------------------------------------
int __cdecl sub_46B630(int a1, int a2, int a3)
{
  int result; // eax
  int i; // esi
  _DWORD *v5; // ecx
  int v6; // edx
  int j; // edi

  result = a1;
  if ( a1 )
  {
LABEL_2:
    for ( i = *(_DWORD *)(result + 400); i; i = *(_DWORD *)(i + 388) )
    {
      v5 = *(_DWORD **)(i + 396);
      v6 = *(_DWORD *)(i + 16);
      for ( j = *(_DWORD *)(i + 20); v5; v5 = (_DWORD *)v5[99] )
      {
        v6 += v5[4];
        j += v5[5];
      }
      if ( a2 >= v6
        && a2 <= v6 + *(_DWORD *)(i + 8)
        && a3 >= j
        && a3 <= j + *(_DWORD *)(i + 12)
        && !(*(_BYTE *)(i + 4) & 0x10) )
      {
        result = i;
        goto LABEL_2;
      }
    }
  }
  return result;
}

//----- (0046B6B0) --------------------------------------------------------
void __cdecl sub_46B6B0(unsigned __int8 *a1)
{
  int v1; // edi
  unsigned __int8 *v2; // esi
  char v3; // bl
  int v4; // eax
  int v5; // ecx
  unsigned __int8 v6; // [esp-8h] [ebp-14h]
  char v7; // [esp+10h] [ebp+4h]

  v1 = *(_DWORD *)&byte_5D4594[1064908];
  if ( *(_DWORD *)&byte_5D4594[1064908] )
  {
    v2 = a1;
    if ( *a1 )
    {
      v3 = 1;
      if ( a1[2] != 1 )
      {
        v4 = *a1;
        v5 = a1[1];
        v7 = 1;
        if ( !sub_46B4C0(*(int *)&byte_5D4594[1064908], 21, v4, v5) )
        {
          while ( 1 )
          {
            v1 = *(_DWORD *)(v1 + 396);
            if ( !v1 )
              break;
            if ( sub_46B4C0(v1, 21, *v2, v2[1]) )
              goto LABEL_9;
          }
          v3 = 0;
          v7 = 0;
        }
LABEL_9:
        v6 = *v2;
        v2[2] = v3;
        sub_4309B0(v6, v7);
      }
    }
  }
}

//----- (0046B740) --------------------------------------------------------
void sub_46B740()
{
  wchar_t *v0; // edi
  wchar_t *v1; // ebx
  int2 *v2; // ebp
  unsigned __int16 v3; // si
  int v4; // eax
  int v5; // edx
  unsigned __int16 v6; // cx
  int v7; // eax
  int v8; // esi
  int v9; // edi
  int v10; // esi
  int v11; // esi
  int v12; // edx
  int v13; // edi
  int v14; // ecx
  int v15; // ebp
  int v16; // ecx
  int v17; // ecx
  int v18; // ecx
  int v19; // ebp
  int v20; // ecx
  _DWORD *v21; // eax
  _DWORD *v22; // eax
  wchar_t *v23; // eax
  _DWORD *v24; // esi
  int v25; // eax
  int v26; // ecx
  int v27; // eax
  int v28; // eax
  int v29; // esi
  int v30; // ecx
  int v31; // eax
  int v32; // eax
  int v33; // eax
  int v34; // ecx
  int v35; // eax
  int v36; // eax
  int v37; // eax
  int i; // ebp
  int v39; // edi
  int v40; // esi
  void (__cdecl *v41)(wchar_t *, wchar_t *, int); // eax
  int v42; // eax
  int v43; // eax
  int v44; // edi
  int v45; // eax
  int v46; // eax
  int v47; // esi
  int v48; // ecx
  int v49; // ecx
  char *v50; // eax
  int v51; // eax
  char *v52; // eax
  int v53; // eax
  int v54; // esi
  wchar_t *v55; // eax
  int v56; // esi
  int v57; // ecx
  int v58; // ecx
  int v59; // edx
  int v60; // [esp+0h] [ebp-2Ch]
  wchar_t *v61; // [esp+4h] [ebp-28h]
  int v62; // [esp+4h] [ebp-28h]
  int v63; // [esp+8h] [ebp-24h]
  int v64; // [esp+Ch] [ebp-20h]
  int2 v65; // [esp+14h] [ebp-18h]
  int v66[4]; // [esp+1Ch] [ebp-10h]

  v0 = 0;
  v1 = 0;
  v63 = 0;
  v61 = 0;
  v64 = 0;
  v2 = sub_4309F0();
  v65.field_0 = (int)v2;
  v3 = v2->field_4;
  v4 = v2[3].field_0;
  v5 = v2[6].field_0;
  v66[1] = v2[4].field_4;
  v6 = v2->field_0;
  v66[0] = v4;
  v7 = v2[1].field_0;
  v66[2] = v5;
  v8 = v6 | (v3 << 16);
  v66[3] = v7;
  v60 = v8;
  sub_4776B0(0);
  if ( *(_DWORD *)&byte_5D4594[815132] || sub_477600() )
    sub_477610(0);
  else
    sub_477610(14);
  if ( *(_DWORD *)&byte_5D4594[1064904] )
  {
    sub_477610(0);
    *(_DWORD *)&byte_5D4594[1064916] = 0;
    v1 = (wchar_t *)sub_46B5B0(*(_DWORD **)&byte_5D4594[1064904], v2->field_0, v2->field_4);
    v62 = 0;
    while ( 1 )
    {
      v9 = v66[v62];
      if ( !v9 )
      {
        if ( !v62 && v2[2].field_4 == 1 )
          sub_46B4C0((int)v1, 8, v60, 0);
        goto LABEL_18;
      }
      v10 = (int)v1;
      if ( v1 )
        break;
      if ( sub_46B4C0(*(int *)&byte_5D4594[1064904], v9, v60, 0) )
        goto LABEL_14;
LABEL_18:
      if ( ++v62 >= 4 )
        goto LABEL_123;
    }
    while ( !sub_46B4C0(v10, v9, v60, 0) )
    {
      if ( v10 != *(_DWORD *)&byte_5D4594[1064904] )
      {
        v10 = *(_DWORD *)(v10 + 396);
        if ( v10 )
          continue;
      }
      goto LABEL_18;
    }
LABEL_14:
    v66[v62] = 0;
    goto LABEL_18;
  }
  if ( *(_DWORD *)&byte_5D4594[1064916] )
  {
    sub_477610(0);
    switch ( v66[0] )
    {
      case 0:
      case 8:
        if ( !(*(_BYTE *)(*(_DWORD *)&byte_5D4594[1064916] + 4) & 4) || sub_45D9B0() )
          goto LABEL_50;
        v11 = v2[1].field_4;
        v12 = v2[2].field_0;
        v13 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1064916] + 396);
        if ( !v13 )
          goto LABEL_41;
        v14 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1064916] + 16);
        if ( v14 + v11 >= 0 )
        {
          v15 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1064916] + 24);
          v16 = *(_DWORD *)(v13 + 8);
          if ( v11 + v15 > v16 )
            v11 = v16 - v15;
          v1 = 0;
        }
        else
        {
          v11 = -v14;
        }
        v17 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1064916] + 20);
        if ( v17 + v12 >= 0 )
        {
          v19 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1064916] + 28);
          v20 = *(_DWORD *)(v13 + 12);
          if ( v12 + v19 <= v20 )
          {
LABEL_41:
            *(_DWORD *)(*(_DWORD *)&byte_5D4594[1064916] + 16) += v11;
            *(_DWORD *)(*(_DWORD *)&byte_5D4594[1064916] + 20) += v12;
            v21 = *(_DWORD **)&byte_5D4594[1064916];
            if ( *(int *)(*(_DWORD *)&byte_5D4594[1064916] + 16) < 0 )
            {
              *(_DWORD *)(*(_DWORD *)&byte_5D4594[1064916] + 16) = 0;
              v21 = *(_DWORD **)&byte_5D4594[1064916];
            }
            if ( (int)v21[5] < 0 )
            {
              v21[5] = 0;
              v21 = *(_DWORD **)&byte_5D4594[1064916];
            }
            v21[6] = v21[2] + v21[4];
            *(_DWORD *)(*(_DWORD *)&byte_5D4594[1064916] + 28) = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1064916] + 12)
                                                               + *(_DWORD *)(*(_DWORD *)&byte_5D4594[1064916] + 20);
            v22 = *(_DWORD **)&byte_5D4594[1064916];
            if ( *(_DWORD *)(*(_DWORD *)&byte_5D4594[1064916] + 24) > *(int *)&byte_5D4594[3805496] )
            {
              *(_DWORD *)(*(_DWORD *)&byte_5D4594[1064916] + 24) = *(_DWORD *)&byte_5D4594[3805496];
              v22 = *(_DWORD **)&byte_5D4594[1064916];
            }
            if ( v22[7] > *(int *)&byte_5D4594[3807120] )
            {
              v22[7] = *(_DWORD *)&byte_5D4594[3807120];
              v22 = *(_DWORD **)&byte_5D4594[1064916];
            }
            v2 = (int2 *)v65.field_0;
            v22[4] = v22[6] - v22[2];
            v8 = v60;
            *(_DWORD *)(*(_DWORD *)&byte_5D4594[1064916] + 20) = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1064916] + 28)
                                                               - *(_DWORD *)(*(_DWORD *)&byte_5D4594[1064916] + 12);
LABEL_50:
            sub_46B4C0(*(int *)&byte_5D4594[1064916], 8, v8, 0);
            goto LABEL_51;
          }
          v18 = v20 - v19;
        }
        else
        {
          v18 = -v17;
        }
        v12 = v18;
        goto LABEL_41;
      case 6:
        *(_DWORD *)(*(_DWORD *)&byte_5D4594[1064916] + 4) &= 0xFFFFFFFE;
        if ( sub_46AAB0(*(_DWORD **)&byte_5D4594[1064916], v2->field_0, v2->field_4) )
        {
          sub_46B4C0(*(int *)&byte_5D4594[1064916], 6, v8, 0);
        }
        else if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[1064916] + 4) & 4 )
        {
          sub_46B4C0(*(int *)&byte_5D4594[1064916], 6, v8, 0);
        }
        v64 = 1;
        v66[0] = 0;
        goto LABEL_123;
      case 7:
        sub_46B500(*(int *)&byte_5D4594[1064916]);
        sub_46B4C0(*(int *)&byte_5D4594[1064916], 7, v8, 0);
        v64 = 1;
        v66[0] = 0;
        goto LABEL_123;
      default:
LABEL_51:
        v66[0] = 0;
        goto LABEL_123;
    }
  }
  if ( *(_DWORD *)&byte_5D4594[1064912] )
  {
    v23 = (wchar_t *)sub_46B5B0(**(_DWORD ***)&byte_5D4594[1064912], v2->field_0, v2->field_4);
    goto LABEL_98;
  }
  v24 = *(_DWORD **)&byte_5D4594[1064888];
  if ( !*(_DWORD *)&byte_5D4594[1064888] )
    goto LABEL_69;
  while ( 1 )
  {
    v25 = v24[1];
    if ( v25 & 0x20 )
    {
      if ( !(v25 & 0x10) )
      {
        v26 = v2->field_0;
        if ( v2->field_0 >= (int)v24[4] && v26 <= (int)v24[6] )
        {
          v27 = v2->field_4;
          if ( v27 >= (int)v24[5] && v27 <= (int)v24[7] )
          {
            v28 = sub_46B630((int)v24, v26, v27);
            if ( !v0 && (*(_DWORD *)(v28 + 384) || *(_WORD *)(v28 + 240)) )
              v0 = (wchar_t *)v28;
            if ( v24[1] & 8 )
              break;
          }
        }
      }
    }
    v24 = (_DWORD *)v24[97];
    if ( !v24 )
      goto LABEL_69;
  }
  v61 = v0;
  v1 = (wchar_t *)sub_46B5B0(v24, v2->field_0, v2->field_4);
  if ( !v1 )
  {
LABEL_69:
    v29 = *(_DWORD *)&byte_5D4594[1064888];
    if ( !*(_DWORD *)&byte_5D4594[1064888] )
      goto LABEL_83;
    while ( 1 )
    {
      if ( !(*(_BYTE *)(v29 + 4) & 0x70) )
      {
        v30 = v2->field_0;
        if ( v2->field_0 >= *(int *)(v29 + 16) && v30 <= *(int *)(v29 + 24) )
        {
          v31 = v2->field_4;
          if ( v31 >= *(int *)(v29 + 20) && v31 <= *(int *)(v29 + 28) )
          {
            v32 = sub_46B630(v29, v30, v31);
            if ( !v0 && (*(_DWORD *)(v32 + 384) || *(_WORD *)(v32 + 240)) )
              v0 = (wchar_t *)v32;
            if ( *(_BYTE *)(v29 + 4) & 8 )
              break;
          }
        }
      }
      v29 = *(_DWORD *)(v29 + 388);
      if ( !v29 )
        goto LABEL_83;
    }
    v61 = v0;
    v1 = (wchar_t *)sub_46B5B0((_DWORD *)v29, v2->field_0, v2->field_4);
    if ( !v1 )
    {
LABEL_83:
      v1 = *(wchar_t **)&byte_5D4594[1064888];
      if ( !*(_DWORD *)&byte_5D4594[1064888] )
        goto LABEL_113;
      while ( 1 )
      {
        v33 = *((_DWORD *)v1 + 1);
        if ( v33 & 0x40 )
        {
          if ( !(v33 & 0x10) )
          {
            v34 = v2->field_0;
            if ( v2->field_0 >= *((int *)v1 + 4) && v34 <= *((int *)v1 + 6) )
            {
              v35 = v2->field_4;
              if ( v35 >= *((int *)v1 + 5) && v35 <= *((int *)v1 + 7) )
              {
                v36 = sub_46B630((int)v1, v34, v35);
                if ( !v0 && (*(_DWORD *)(v36 + 384) || *(_WORD *)(v36 + 240)) )
                  v0 = (wchar_t *)v36;
                if ( v1[2] & 8 )
                  break;
              }
            }
          }
        }
        v1 = (wchar_t *)*((_DWORD *)v1 + 97);
        if ( !v1 )
          goto LABEL_113;
      }
      v61 = v0;
      v23 = (wchar_t *)sub_46B5B0(v1, v2->field_0, v2->field_4);
LABEL_98:
      v1 = v23;
      if ( !v23 )
        goto LABEL_113;
      goto LABEL_99;
    }
  }
LABEL_99:
  v37 = *((_DWORD *)v1 + 1);
  if ( v37 & 0x200 )
  {
    v1 = 0;
  }
  else if ( v1 )
  {
    sub_477610(0);
    for ( i = 0; i < 4; ++i )
    {
      v39 = v66[i];
      if ( v39 )
      {
        v40 = (int)v1;
        if ( sub_46B4C0((int)v1, v39, v60, 0) )
        {
LABEL_107:
          if ( !i && v66[0] == 5 )
            *(_DWORD *)&byte_5D4594[1064916] = v40;
          v66[i] = 0;
        }
        else
        {
          while ( 1 )
          {
            v40 = *(_DWORD *)(v40 + 396);
            if ( !v40 )
              break;
            if ( sub_46B4C0(v40, v39, v60, 0) )
              goto LABEL_107;
          }
        }
      }
    }
    v0 = v61;
    v2 = (int2 *)v65.field_0;
  }
LABEL_113:
  if ( !v0 && !sub_46C2A0((int)v1) )
    v0 = v1;
  if ( sub_430B30() )
  {
    if ( v0 )
    {
      v41 = (void (__cdecl *)(wchar_t *, wchar_t *, int))*((_DWORD *)v0 + 96);
      if ( v41 )
      {
        v41(v0, v0 + 18, v60);
      }
      else if ( v0[120] )
      {
        sub_4776B0(v0 + 120);
      }
    }
    else
    {
      v63 = 1;
    }
  }
LABEL_123:
  if ( !*(_DWORD *)&byte_5D4594[1064916] && v1 != *(wchar_t **)&byte_5D4594[1064900] )
  {
    if ( *(_DWORD *)&byte_5D4594[1064904] )
    {
      if ( sub_46B250(*(int *)&byte_5D4594[1064904], *(int *)&byte_5D4594[1064900]) )
        sub_46B4C0(*(int *)&byte_5D4594[1064900], 18, v60, 0);
    }
    else if ( *(_DWORD *)&byte_5D4594[1064900] )
    {
      sub_46B4C0(*(int *)&byte_5D4594[1064900], 18, v60, 0);
    }
    if ( v1 )
      sub_46B4C0((int)v1, 17, v60, 0);
    *(_DWORD *)&byte_5D4594[1064900] = v1;
  }
  if ( sub_4356B0() == 3
    && !*(_DWORD *)&byte_5D4594[1064940]
    && !sub_4372B0()
    && !sub_413A50()
    && !sub_477600()
    && !sub_4372E0() )
  {
    v42 = sub_4675B0();
    if ( v42 == 5 )
    {
      sub_477610(6);
      goto LABEL_201;
    }
    if ( v42 == 6 )
    {
      sub_477610(8);
      goto LABEL_201;
    }
    v43 = sub_476F90();
    v44 = v43;
    if ( v43 )
    {
      if ( !(*(_DWORD *)(v43 + 112) & 0x400006)
        || sub_4C3220(v43)
        || *(_DWORD *)(v44 + 112) & 2 && *(_BYTE *)(v44 + 116) & 8
        || *(_DWORD *)(v44 + 112) & 2 && *(_BYTE *)(v44 + 280) & 0x10 )
      {
        v46 = sub_4676A0();
        v47 = *(_DWORD *)&byte_5D4594[1064888];
        if ( *(_DWORD *)&byte_5D4594[1064888] )
        {
          while ( 1 )
          {
            if ( !(*(_BYTE *)(v47 + 4) & 0x10)
              && v2->field_0 >= *(int *)(v47 + 16)
              && v2->field_0 <= *(int *)(v47 + 24) )
            {
              v48 = v2->field_4;
              if ( v48 >= *(int *)(v47 + 20) && v48 <= *(int *)(v47 + 28) )
                break;
            }
            v47 = *(_DWORD *)(v47 + 388);
            if ( !v47 )
              goto LABEL_175;
          }
          if ( v47 == v46
            && ((v49 = v2->field_4,
                 v65.field_0 = v2->field_0,
                 v65.field_4 = v49,
                 v50 = sub_4676B0(),
                 v51 = sub_4281F0(&v65, (int4 *)v50),
                 v51)
             || (v52 = sub_4676C0(), v53 = sub_4281F0(&v65, (int4 *)v52), v53)) )
          {
            v63 = 1;
          }
          else if ( v47 && sub_46C2A0(v47) != 1 )
          {
            goto LABEL_201;
          }
        }
LABEL_175:
        sub_435670(&v65);
        v54 = (v65.field_0 - *(_DWORD *)(v44 + 12)) * (v65.field_0 - *(_DWORD *)(v44 + 12))
            + (v65.field_4 - *(_DWORD *)(v44 + 16)) * (v65.field_4 - *(_DWORD *)(v44 + 16));
        if ( (int)*(_DWORD *)(v44 + 112) >= 0 || sub_477680() )
        {
          if ( v54 < 15625 )
          {
            if ( *(_DWORD *)&byte_5D4594[2618908] )
            {
              v57 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[2618908] + 3680);
              if ( !(v57 & 0x200) && !sub_478030() )
              {
                if ( *(_DWORD *)(v44 + 112) & 2 && *(_BYTE *)(v44 + 280) & 0x10 )
                {
                  sub_477610(4);
                }
                else if ( *(_DWORD *)(v44 + 112) & 2 && *(_BYTE *)(v44 + 116) & 8 )
                {
                  sub_477610(3);
                }
              }
            }
          }
        }
        else
        {
          if ( v63 == 1 )
          {
            v55 = sub_4BF050((wchar_t *)v44);
            sub_4776B0(v55);
          }
          if ( v54 >= 5625 )
          {
            sub_477610(15);
          }
          else
          {
            if ( sub_40A5C0(6144) || sub_57B450((int *)v44) )
              sub_477610(2);
            else
              sub_477610(16);
            v56 = sub_430AF0();
            if ( v66[v56] == sub_430B00() )
            {
              sub_46C140(v44);
              v66[sub_430AF0()] = 0;
            }
          }
        }
      }
      else
      {
        v45 = *(_DWORD *)&byte_5D4594[1064944];
        if ( !*(_DWORD *)&byte_5D4594[1064944] )
        {
          v45 = sub_44CFC0((CHAR *)&byte_587000[143184]);
          *(_DWORD *)&byte_5D4594[1064944] = v45;
        }
        if ( *(_DWORD *)(v44 + 112) & 0x400000 && (*(_BYTE *)(v44 + 116) & 0x80) && !(*(_BYTE *)(v44 + 280) & 0xC)
          || *(_DWORD *)(v44 + 108) == v45 && !*(_DWORD *)(v44 + 276) )
        {
          sub_435670(&v65);
          if ( (v65.field_0 - *(_DWORD *)(v44 + 12)) * (v65.field_0 - *(_DWORD *)(v44 + 12))
             + (v65.field_4 - *(_DWORD *)(v44 + 16)) * (v65.field_4 - *(_DWORD *)(v44 + 16)) < 5625
            && (*(_DWORD *)(v44 + 120) & 0x1000000) == 0x1000000
            && !(*(_BYTE *)(v44 + 280) & 0xC) )
          {
            sub_477610(13);
          }
        }
      }
    }
    else if ( sub_479590() == 2 )
    {
      sub_477610(11);
    }
    else if ( sub_479590() == 3 )
    {
      sub_477610(12);
    }
  }
LABEL_201:
  v58 = v66[1];
  v59 = v66[2];
  v2[3].field_0 = v66[0];
  v2[1].field_0 = v66[3];
  v2[4].field_4 = v58;
  v2[6].field_0 = v59;
  if ( v64 == 1 )
    *(_DWORD *)&byte_5D4594[1064916] = 0;
  sub_46C200();
}
// 46BF71: variable 'v51' is possibly undefined
// 46BF88: variable 'v53' is possibly undefined

//----- (0046C140) --------------------------------------------------------
void __cdecl sub_46C140(int a1)
{
  int v2; // eax
  wchar_t *v3; // eax
  int v4; // [esp+0h] [ebp-4h]

  if ( !*(_DWORD *)&byte_5D4594[1064928] )
  {
    *(_DWORD *)&byte_5D4594[1064928] = sub_44CFC0((CHAR *)&byte_587000[143192]);
    *(_DWORD *)&byte_5D4594[1064932] = sub_44CFC0((CHAR *)&byte_587000[143200]);
    *(_DWORD *)&byte_5D4594[1064936] = sub_44CFC0((CHAR *)&byte_587000[143216]);
  }
  if ( a1 )
  {
    v2 = *(_DWORD *)(a1 + 108);
    if ( v2 == *(_DWORD *)&byte_5D4594[1064928]
      || v2 == *(_DWORD *)&byte_5D4594[1064932]
      || v2 == *(_DWORD *)&byte_5D4594[1064936]
      || sub_467B00(v2, 1) )
    {
      LOBYTE(v4) = 115;
      *(_WORD *)((char *)&v4 + 1) = sub_578B00(a1);
      sub_40EBC0(31, 0, &v4, 3);
    }
    else
    {
      sub_452D80(925, 100);
      v3 = sub_40F1D0((char *)&byte_587000[143276], 0, (const char *)&byte_587000[143232], 83);
      sub_445490(v3);
    }
  }
}

//----- (0046C200) --------------------------------------------------------
void sub_46C200()
{
  int v0; // esi
  bool v1; // zf
  int v2; // edi

  v0 = *(_DWORD *)&byte_5D4594[1064896];
  v1 = *(_DWORD *)&byte_5D4594[1064896] == 0;
  *(_DWORD *)&byte_5D4594[1064896] = 0;
  if ( !v1 )
  {
    do
    {
      v2 = *(_DWORD *)(v0 + 388);
      if ( *(_DWORD *)&byte_5D4594[1064904] == v0 )
        sub_46ADE0(v0);
      if ( *(_DWORD *)&byte_5D4594[1064908] == v0 )
        sub_46B500(0);
      if ( *(_DWORD *)&byte_5D4594[1064912] && v0 == **(_DWORD **)&byte_5D4594[1064912] )
        sub_46C6E0(**(_DWORD **)&byte_5D4594[1064912]);
      if ( *(_DWORD *)&byte_5D4594[1064900] == v0 )
        *(_DWORD *)&byte_5D4594[1064900] = 0;
      if ( *(_DWORD *)&byte_5D4594[1064916] == v0 )
        *(_DWORD *)&byte_5D4594[1064916] = 0;
      sub_46B490(v0, 2, 0, 0);
      sub_414330(*(unsigned int **)&byte_5D4594[1064884], (_QWORD *)v0);
      v0 = v2;
    }
    while ( v2 );
  }
}

//----- (0046C2A0) --------------------------------------------------------
int __cdecl sub_46C2A0(int a1)
{
  int v2; // eax

  if ( !a1 )
    return 1;
  if ( *(_BYTE *)(a1 + 4) & 0x10 )
    return 1;
  v2 = *(_DWORD *)(a1 + 396);
  if ( v2 )
  {
    while ( !(*(_BYTE *)(v2 + 4) & 0x10) )
    {
      v2 = *(_DWORD *)(v2 + 396);
      if ( !v2 )
        return 0;
    }
    return 1;
  }
  return 0;
}

//----- (0046C2E0) --------------------------------------------------------
int sub_46C2E0()
{
  int v0; // ecx
  int v1; // eax
  int v2; // esi
  int v3; // eax
  int v4; // esi
  int result; // eax
  int v6; // esi

  v0 = *(_DWORD *)&byte_5D4594[1064892];
  v1 = *(_DWORD *)&byte_5D4594[1064892];
  if ( *(_DWORD *)&byte_5D4594[1064892] )
  {
    do
    {
      v2 = *(_DWORD *)(v1 + 392);
      if ( *(_BYTE *)(v1 + 4) & 0x40 )
      {
        sub_46C370((_DWORD *)v1);
        v0 = *(_DWORD *)&byte_5D4594[1064892];
      }
      v1 = v2;
    }
    while ( v2 );
  }
  v3 = v0;
  if ( v0 )
  {
    do
    {
      v4 = *(_DWORD *)(v3 + 392);
      if ( !(*(_BYTE *)(v3 + 4) & 0x60) )
      {
        sub_46C370((_DWORD *)v3);
        v0 = *(_DWORD *)&byte_5D4594[1064892];
      }
      v3 = v4;
    }
    while ( v4 );
  }
  result = v0;
  if ( v0 )
  {
    do
    {
      v6 = *(_DWORD *)(result + 392);
      if ( *(_BYTE *)(result + 4) & 0x20 )
        sub_46C370((_DWORD *)result);
      result = v6;
    }
    while ( v6 );
  }
  return result;
}

//----- (0046C370) --------------------------------------------------------
int __cdecl sub_46C370(_DWORD *a1)
{
  int (__cdecl *v2)(_DWORD *, _DWORD *); // eax
  _DWORD *i; // esi

  if ( !a1 )
    return -2;
  if ( !(a1[1] & 0x10) )
  {
    v2 = (int (__cdecl *)(_DWORD *, _DWORD *))a1[95];
    if ( v2 )
      v2(a1, a1 + 9);
    if ( (a1[1] & 0x1000) == 4096 )
      sub_4AA030(a1, (int)(a1 + 9));
    for ( i = (_DWORD *)a1[100]; i; i = (_DWORD *)i[97] )
      sub_46C370(i);
  }
  return 0;
}

//----- (0046C3E0) --------------------------------------------------------
_DWORD *__cdecl sub_46C3E0(int a1, int a2, int a3, int a4, int a5, int a6, int (*a7)(int,int,int,int))
{
  _DWORD *result; // eax
  _DWORD *v8; // esi

  result = *(_DWORD **)&byte_5D4594[1064884];
  if ( *(_DWORD *)&byte_5D4594[1064884]
    || (result = sub_413FE0((const char *)&byte_587000[143304], 404, 576),
        (*(_DWORD *)&byte_5D4594[1064884] = result) != 0) )
  {
    result = sub_4142F0(result);
    v8 = result;
    if ( result )
    {
      if ( a1 )
        sub_46B200(result, a1);
      else
        sub_46A920((int)result);
      v8[1] = a2;
      v8[4] = a3;
      v8[5] = a4;
      *v8 = 0;
      v8[2] = a5;
      v8[3] = a6;
      *((_WORD *)v8 + 120) = 0;
      v8[6] = a5 + a3;
      v8[7] = a6 + a4;
      sub_46A9F0(v8);
      v8[95] = sub_46B370;
      v8[93] = sub_46B330;
      if ( a7 )
      {
        v8[94] = a7;
        sub_46B490((int)v8, 1, 0, 0);
      }
      else
      {
        v8[94] = sub_46B2F0;
      }
      memset(v8 + 9, 0, 0x14Cu);
      v8[92] = 0;
      result = v8;
    }
  }
  return result;
}

//----- (0046C4E0) --------------------------------------------------------
int __cdecl sub_46C4E0(_DWORD *a1)
{
  int v2; // eax
  _DWORD *v3; // eax
  _DWORD *v4; // edi

  if ( !a1 )
    return -2;
  v2 = a1[1];
  if ( !(v2 & 0x800) )
  {
    BYTE1(v2) |= 8u;
    a1[1] = v2;
    sub_46AC60((int)a1);
    if ( *(_DWORD **)&byte_5D4594[1064904] == a1 )
      sub_46ADE0((int)a1);
    if ( *(_DWORD **)&byte_5D4594[1064908] == a1 )
      sub_46B500(0);
    if ( *(_DWORD *)&byte_5D4594[1064912] && a1 == **(_DWORD ***)&byte_5D4594[1064912] )
      sub_46C6E0(**(_DWORD **)&byte_5D4594[1064912]);
    if ( *(_DWORD **)&byte_5D4594[1064900] == a1 )
      *(_DWORD *)&byte_5D4594[1064900] = 0;
    if ( *(_DWORD **)&byte_5D4594[1064916] == a1 )
      *(_DWORD *)&byte_5D4594[1064916] = 0;
    v3 = (_DWORD *)a1[100];
    if ( v3 )
    {
      do
      {
        v4 = (_DWORD *)v3[97];
        sub_46C4E0(v3);
        v3 = v4;
      }
      while ( v4 );
    }
    if ( a1[99] )
      sub_46B180(a1);
    else
      sub_46A960((int)a1);
    a1[98] = 0;
    a1[97] = *(_DWORD *)&byte_5D4594[1064896];
    *(_DWORD *)&byte_5D4594[1064896] = a1;
  }
  return 0;
}

//----- (0046C5D0) --------------------------------------------------------
int sub_46C5D0()
{
  _DWORD *v0; // eax
  _DWORD *v1; // esi

  v0 = *(_DWORD **)&byte_5D4594[1064888];
  if ( *(_DWORD *)&byte_5D4594[1064888] )
  {
    do
    {
      v1 = (_DWORD *)v0[97];
      sub_46C4E0(v0);
      v0 = v1;
    }
    while ( v1 );
  }
  sub_46C200();
  sub_4144D0(*(_DWORD **)&byte_5D4594[1064884]);
  return 0;
}

//----- (0046C610) --------------------------------------------------------
int sub_46C610()
{
  _DWORD *v0; // eax
  _DWORD *v1; // eax
  char v3[332]; // [esp+0h] [ebp-14Ch]

  v0 = sub_46C3E0(0, 12, 100, 100, 200, 200, 0);
  *(_DWORD *)&v3[20] = 4;
  sub_46AF80((int)v0, v3);
  v1 = sub_46C3E0(0, 12, 150, 150, 200, 200, 0);
  *(_DWORD *)&v3[20] = 8;
  sub_46AF80((int)v1, v3);
  return 1;
}

//----- (0046C690) --------------------------------------------------------
int __cdecl sub_46C690(int a1)
{
  _DWORD *v2; // eax

  if ( !a1 )
    return -2;
  if ( *(_DWORD *)(a1 + 396) )
    return -3;
  v2 = malloc(8u);
  if ( !v2 )
    return -1;
  *v2 = a1;
  v2[1] = *(_DWORD *)&byte_5D4594[1064912];
  *(_DWORD *)&byte_5D4594[1064912] = v2;
  return 0;
}

//----- (0046C6E0) --------------------------------------------------------
int __cdecl sub_46C6E0(int a1)
{
  int v2; // esi

  if ( !a1 )
    return -2;
  if ( !*(_DWORD *)&byte_5D4594[1064912] || **(_DWORD **)&byte_5D4594[1064912] != a1 )
    return -1;
  v2 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1064912] + 4);
  free(*(LPVOID *)&byte_5D4594[1064912]);
  *(_DWORD *)&byte_5D4594[1064912] = v2;
  return 0;
}

//----- (0046C720) --------------------------------------------------------
int sub_46C720()
{
  return *(_DWORD *)&byte_5D4594[1064916];
}

//----- (0046C730) --------------------------------------------------------
int sub_46C730()
{
  int result; // eax
  _DWORD *v1; // eax
  _DWORD *v2; // eax
  int i; // esi
  _DWORD *v4; // eax
  wchar_t *v5; // eax
  wchar_t *v6; // eax

  result = sub_4A0AD0("SelChar.wnd", sub_46C920);
  *(_DWORD *)&byte_5D4594[1082856] = result;
  if ( result )
  {
    *(_DWORD *)(result + 4) |= 0x20u;
    sub_46B300(*(int *)&byte_5D4594[1082856], sub_46CCA0);
    *(_DWORD *)&byte_5D4594[1082860] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1082856], 510);
    *(_DWORD *)&byte_5D4594[1082864] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1082856], 511);
    *(_DWORD *)&byte_5D4594[1082868] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1082856], 512);
    sub_46B2C0(*(int *)&byte_5D4594[1082860], sub_46C920);
    sub_46B120(*(_DWORD **)&byte_5D4594[1082864], *(int *)&byte_5D4594[1082860]);
    sub_46B120(*(_DWORD **)&byte_5D4594[1082868], *(int *)&byte_5D4594[1082860]);
    *(_DWORD *)&byte_5D4594[1082872] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1082856], 501);
    *(_DWORD *)&byte_5D4594[1082876] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1082856], 502);
    *(_DWORD *)&byte_5D4594[1082880] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1082856], 503);
    v1 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1082856], 504);
    sub_46AC00((int)v1, 1);
    v2 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1082856], 505);
    sub_46AC00((int)v2, 1);
    for ( i = 500; i <= 512; ++i )
    {
      v4 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1082856], i);
      if ( v4 )
        sub_46AD60((int)v4, 1024);
    }
    v5 = sub_40F1D0((char *)&byte_587000[143360], 0, (const char *)&byte_587000[143324], 341);
    sub_46AEE0(*(int *)&byte_5D4594[1082872], (int)v5);
    v6 = sub_40F1D0((char *)&byte_587000[143408], 0, (const char *)&byte_587000[143372], 342);
    sub_46AEE0(*(int *)&byte_5D4594[1082876], (int)v6);
    sub_46A9B0(
      *(_DWORD **)&byte_5D4594[1082856],
      (*(int *)&byte_5D4594[3805496] - *(int *)(*(_DWORD *)&byte_5D4594[1082856] + 8)) / 2,
      0);
    sub_46AC00(*(int *)&byte_5D4594[1082856], 1);
    sub_46ABB0(*(int *)&byte_5D4594[1082856], 0);
    result = 1;
  }
  return result;
}

//----- (0046C920) --------------------------------------------------------
int __cdecl sub_46C920(_DWORD *a1, int a2, int *a3, int a4)
{
  int result; // eax
  int v5; // esi
  int v6; // eax
  wchar_t *v7; // eax
  int v8; // edx
  int v9; // eax
  _DWORD *v10; // eax
  wchar_t *v11; // eax
  wchar_t *v12; // [esp-10h] [ebp-24h]
  wchar_t *v13; // [esp-10h] [ebp-24h]
  char v14[12]; // [esp+8h] [ebp-Ch]

  if ( a2 != 16391 )
  {
    if ( a2 == 16400 )
    {
      sub_46B490(*(int *)&byte_5D4594[1082860], 16403, a4, 0);
      sub_46B490(*(int *)&byte_5D4594[1082864], 16403, a4, 0);
      sub_46B490(*(int *)&byte_5D4594[1082868], 16403, a4, 0);
      return 0;
    }
    return 0;
  }
  v5 = sub_46B0A0(a3);
  sub_452D80(766, 100);
  if ( v5 == 501 )
  {
    v8 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1082864] + 32) + 48);
    if ( v8 >= 0 )
    {
      v9 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[2614252] + 120);
      if ( (v9 & 0x8000) != 0 )
      {
        v10 = sub_46B0C0(a1, 501);
        sub_46ABB0((int)v10, 0);
        return 0;
      }
      if ( strlen((const char *)&byte_5D4594[1278 * v8 + 1064952]) )
      {
        sub_4DC970((char *)&byte_5D4594[1278 * v8 + 1064952], (char *)&byte_5D4594[1082840]);
        sub_46ADE0(*(int *)&byte_5D4594[1082856]);
        v13 = sub_40F1D0((char *)&byte_587000[143456], 0, (const char *)&byte_587000[143420], 184);
        v11 = sub_40F1D0((char *)&byte_587000[143524], 0, (const char *)&byte_587000[143488], 183);
        sub_449A10(*(int *)&byte_5D4594[1082856], (int)v11, (int)v13, 56, sub_46CC70, sub_46CC90);
        return 0;
      }
      if ( v8 )
        nox_sprintf(v14, (const char *)&byte_587000[143568], v8);
      else
        strcpy(v14, "AUTOSAVE");
      sub_4DB130(v14);
      sub_4DB170(1, 0, 0);
      goto LABEL_25;
    }
    return 0;
  }
  if ( v5 != 502 )
  {
    if ( v5 == 503 )
    {
      if ( sub_450560() )
      {
        sub_450580();
        sub_43DDA0();
        sub_43DDD0(0);
        sub_43DE60();
        sub_446060();
        sub_46D6F0();
        return 0;
      }
LABEL_25:
      sub_46D6F0();
      return 0;
    }
    return 0;
  }
  v6 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1082864] + 32) + 48);
  if ( v6 >= 0 && strlen((const char *)&byte_5D4594[1278 * v6 + 1064952]) )
  {
    if ( sub_4372B0() )
    {
      sub_46CBD0();
    }
    else
    {
      v12 = sub_40F1D0((char *)&byte_587000[143616], 0, (const char *)&byte_587000[143580], 233);
      v7 = sub_40F1D0((char *)&byte_587000[143680], 0, (const char *)&byte_587000[143644], 232);
      sub_449A10(0, (int)v7, (int)v12, 24, sub_46CBD0, sub_44A400);
    }
    result = 0;
  }
  else
  {
    sub_452D80(925, 100);
    result = 0;
  }
  return result;
}

//----- (0046CBD0) --------------------------------------------------------
int sub_46CBD0()
{
  int result; // eax
  wchar_t *v1; // eax
  wchar_t *v2; // [esp-Ch] [ebp-1Ch]
  char v3[12]; // [esp+4h] [ebp-Ch]

  result = 0;
  if ( strlen((const char *)&byte_5D4594[1278 * *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1082864] + 32) + 48)
                                       + 1064952]) )
  {
    sub_4DC970(
      (char *)&byte_5D4594[1278 * *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1082864] + 32) + 48) + 1064952],
      v3);
    if ( !sub_4DB790(v3) )
    {
      v2 = sub_40F1D0((char *)&byte_587000[143736], 0, (const char *)&byte_587000[143700], 75);
      v1 = sub_40F1D0((char *)&byte_587000[143788], 0, (const char *)&byte_587000[143752], 74);
      sub_449A10(0, (int)v1, (int)v2, 33, 0, 0);
    }
    if ( sub_450560() )
      sub_4505B0();
    sub_44A400();
    result = sub_46D6F0();
  }
  return result;
}

//----- (0046CC70) --------------------------------------------------------
int sub_46CC70()
{
  sub_4DB130((const char *)&byte_5D4594[1082840]);
  sub_4DB170(1, 0, 0);
  return sub_46D6F0();
}

//----- (0046CC90) --------------------------------------------------------
int sub_46CC90()
{
  return sub_46ADC0(*(int *)&byte_5D4594[1082856]);
}

//----- (0046CCA0) --------------------------------------------------------
int sub_46CCA0(int a1, int a2, int a3, int a4)
{
  return 1;
}

//----- (0046CCB0) --------------------------------------------------------
int sub_46CCB0()
{
  int result; // eax

  sub_46C4E0(*(_DWORD **)&byte_5D4594[1082856]);
  result = 0;
  *(_DWORD *)&byte_5D4594[1082856] = 0;
  *(_DWORD *)&byte_5D4594[1082864] = 0;
  *(_DWORD *)&byte_5D4594[1082868] = 0;
  return result;
}

//----- (0046CCD0) --------------------------------------------------------
int __cdecl sub_46CCD0(int a1, int a2)
{
  int result; // eax
  char *v3; // esi
  char *v4; // eax
  char v5[12]; // [esp+Ch] [ebp-18h]
  char v6[12]; // [esp+18h] [ebp-Ch]

  sub_4DC970((char *)(a1 + 4), v5);
  sub_4DC970((char *)(a1 + 4), v6);
  if ( !strcmp(v5, (const char *)&byte_587000[143804]) )
    return -1;
  if ( !strcmp(v6, (const char *)&byte_587000[143816]) )
    return 1;
  v3 = sub_4DC9B0((char *)(a1 + 4));
  v4 = sub_4DC9B0((char *)(a2 + 4));
  if ( v3 == v4 )
    result = 0;
  else
    result = (int)v3 <= (int)v4 ? -1 : 1;
  return result;
}

//----- (0046CD70) --------------------------------------------------------
int __cdecl sub_46CD70(_BYTE *a1)
{
  char v2[12]; // [esp+0h] [ebp-Ch]

  if ( *a1 & 8 )
    return 10;
  sub_4DC970(a1 + 4, v2);
  return (strcmp(v2, (const char *)&byte_587000[143828]) != 0) + 13;
}

//----- (0046CDC0) --------------------------------------------------------
int __cdecl sub_46CDC0(int a1)
{
  int v1; // ebp
  int v2; // ebx
  const SYSTEMTIME *v3; // esi
  struct _FILETIME FileTime; // [esp+10h] [ebp-10h]
  FILETIME FileTime2; // [esp+18h] [ebp-8h]

  v1 = -1;
  v2 = 0;
  v3 = (const SYSTEMTIME *)(a1 + 1188);
  do
  {
    if ( strlen((const char *)&v3[-74]) )
    {
      SystemTimeToFileTime(v3, &FileTime);
      if ( v1 == -1 || CompareFileTime(&FileTime, &FileTime2) == 1 )
      {
        v1 = v2;
        FileTime2 = FileTime;
      }
    }
    ++v2;
    v3 = (const SYSTEMTIME *)((char *)v3 + 1278);
  }
  while ( v2 < 14 );
  return v1;
}

//----- (0046CE40) --------------------------------------------------------
int __cdecl sub_46CE40(int a1, int a2, int a3, _BYTE *a4)
{
  int v4; // ebp
  char *v5; // eax
  _BYTE *v6; // ebx
  int v7; // esi
  _BYTE *v8; // edi
  int v9; // esi
  int v10; // ebx
  wchar_t *v11; // eax
  wchar_t *v12; // eax
  wchar_t *v13; // eax
  wchar_t *v14; // eax
  char v15; // al
  char v16; // al
  wchar_t *v17; // eax
  char v18; // al
  char v19; // al
  char v20; // al
  int v21; // esi
  _DWORD *v22; // eax
  _DWORD *v23; // eax
  _DWORD *v24; // eax
  int result; // eax
  int v26; // esi
  wchar_t *v27; // [esp-14h] [ebp-1238h]
  wchar_t *v28; // [esp-14h] [ebp-1238h]
  wchar_t *v29; // [esp-14h] [ebp-1238h]
  wchar_t *v30; // [esp-14h] [ebp-1238h]
  wchar_t *v31; // [esp-14h] [ebp-1238h]
  wchar_t *v32; // [esp-14h] [ebp-1238h]
  wchar_t *v33; // [esp-14h] [ebp-1238h]
  wchar_t *v34; // [esp-14h] [ebp-1238h]
  wchar_t *v35; // [esp-14h] [ebp-1238h]
  wchar_t *v36; // [esp-14h] [ebp-1238h]
  wchar_t *v37; // [esp-14h] [ebp-1238h]
  wchar_t *v38; // [esp-14h] [ebp-1238h]
  wchar_t *v39; // [esp-4h] [ebp-1228h]
  int v40; // [esp+14h] [ebp-1210h]
  char v41[12]; // [esp+18h] [ebp-120Ch]
  wchar_t v42[512]; // [esp+24h] [ebp-1200h]
  CHAR DateStr[256]; // [esp+424h] [ebp-E00h]
  CHAR TimeStr[256]; // [esp+524h] [ebp-D00h]
  char v45[1024]; // [esp+624h] [ebp-C00h]
  CHAR PathName[1024]; // [esp+A24h] [ebp-800h]
  CHAR Buffer[1024]; // [esp+E24h] [ebp-400h]

  v4 = 0;
  GetCurrentDirectoryA(0x400u, &Buffer);
  v5 = sub_409E10();
  nox_sprintf(&PathName, (const char *)&byte_587000[143840], v5);
  CreateDirectoryA(&PathName, 0);
  sub_46B490(a1, 16399, 0, 0);
  sub_46B490(a2, 16399, 0, 0);
  sub_46B490(a3, 16399, 0, 0);
  nox_sprintf(&v45, (const char *)&byte_587000[143852], &PathName);
  v6 = a4;
  if ( sub_41A000(&v45, a4) )
    v4 = 1;
  v7 = 1;
  v8 = a4 + 1278;
  do
  {
    nox_sprintf(&v45, (const char *)&byte_587000[143876], &PathName, v7);
    if ( sub_41A000(&v45, v8) )
      ++v4;
    ++v7;
    v8 += 1278;
  }
  while ( v7 < 14 );
  v9 = 0;
  v40 = 0;
  while ( 1 )
  {
    v10 = (int)&v6[1278 * v9];
    if ( strlen((const char *)(v10 + 4)) )
    {
      sub_4DC970((char *)(v10 + 4), &v41);
      nox_sprintf(
        &DateStr,
        (const char *)&byte_587000[144008],
        *(_DWORD *)&byte_587000[4 * *(unsigned __int8 *)(v10 + 1274) + 29456]);
      v39 = sub_40F1D0(&DateStr, 0, (const char *)&byte_587000[144020], 667);
      v13 = sub_40F1D0((char *)&byte_587000[144092], 0, (const char *)&byte_587000[144056], 666);
      nox_swprintf(&v42, v13, v10 + 1224, v39);
      if ( !strcmp(&v41, (const char *)&byte_587000[144096]) )
      {
        nox_wcscat(&v42, (const wchar_t *)&byte_587000[144108]);
        v14 = sub_40F1D0((char *)&byte_587000[144148], 0, (const char *)&byte_587000[144112], 674);
        nox_wcscat(&v42, v14);
LABEL_56:
        v21 = sub_46CD70((_BYTE *)v10);
        sub_46B490(a1, 16397, (int)&byte_587000[145320], v21);
        sub_46B490(a3, 16397, (int)&v42, v21);
        GetDateFormatA(0x800u, 1u, (const SYSTEMTIME *)(v10 + 1188), 0, &DateStr, 256);
        GetTimeFormatA(0x800u, 0xEu, (const SYSTEMTIME *)(v10 + 1188), 0, &TimeStr, 256);
        nox_swprintf(&v42, (const wchar_t *)&byte_587000[145324], &DateStr, &TimeStr);
        sub_46B490(a2, 16397, (int)&v42, v21);
        v9 = v40;
        goto LABEL_57;
      }
      nox_wcscat(&v42, (const wchar_t *)&byte_587000[144164]);
      v15 = *(_BYTE *)(v10 + 1277);
      switch ( v15 )
      {
        case 1:
          v16 = *(_BYTE *)(v10 + 1274);
          if ( !v16 )
          {
            v27 = sub_40F1D0((char *)&byte_587000[144208], 0, (const char *)&byte_587000[144172], 688);
            nox_wcscat(&v42, v27);
            goto LABEL_56;
          }
          if ( v16 != 1 )
          {
            v28 = sub_40F1D0((char *)&byte_587000[144316], 0, (const char *)&byte_587000[144280], 692);
            nox_wcscat(&v42, v28);
            goto LABEL_56;
          }
          v17 = sub_40F1D0((char *)&byte_587000[144268], 0, (const char *)&byte_587000[144232], 690);
          break;
        case 2:
          v18 = *(_BYTE *)(v10 + 1274);
          if ( !v18 )
          {
            v29 = sub_40F1D0((char *)&byte_587000[144376], 0, (const char *)&byte_587000[144340], 699);
            nox_wcscat(&v42, v29);
            goto LABEL_56;
          }
          if ( v18 != 1 )
          {
            v30 = sub_40F1D0((char *)&byte_587000[144488], 0, (const char *)&byte_587000[144452], 703);
            nox_wcscat(&v42, v30);
            goto LABEL_56;
          }
          v17 = sub_40F1D0((char *)&byte_587000[144432], 0, (const char *)&byte_587000[144396], 701);
          break;
        case 3:
          v19 = *(_BYTE *)(v10 + 1274);
          if ( !v19 )
          {
            v31 = sub_40F1D0((char *)&byte_587000[144536], 0, (const char *)&byte_587000[144500], 710);
            nox_wcscat(&v42, v31);
            goto LABEL_56;
          }
          if ( v19 != 1 )
          {
            v32 = sub_40F1D0((char *)&byte_587000[144656], 0, (const char *)&byte_587000[144620], 714);
            nox_wcscat(&v42, v32);
            goto LABEL_56;
          }
          v17 = sub_40F1D0((char *)&byte_587000[144596], 0, (const char *)&byte_587000[144560], 712);
          break;
        case 4:
          v33 = sub_40F1D0((char *)&byte_587000[144712], 0, (const char *)&byte_587000[144676], 718);
          nox_wcscat(&v42, v33);
          goto LABEL_56;
        case 5:
          v17 = sub_40F1D0((char *)&byte_587000[144772], 0, (const char *)&byte_587000[144736], 720);
          break;
        case 6:
          v34 = sub_40F1D0((char *)&byte_587000[144832], 0, (const char *)&byte_587000[144796], 722);
          nox_wcscat(&v42, v34);
          goto LABEL_56;
        case 7:
          v35 = sub_40F1D0((char *)&byte_587000[144884], 0, (const char *)&byte_587000[144848], 724);
          nox_wcscat(&v42, v35);
          goto LABEL_56;
        case 8:
          v17 = sub_40F1D0((char *)&byte_587000[144940], 0, (const char *)&byte_587000[144904], 726);
          break;
        case 9:
          v36 = sub_40F1D0((char *)&byte_587000[145000], 0, (const char *)&byte_587000[144964], 728);
          nox_wcscat(&v42, v36);
          goto LABEL_56;
        case 10:
          v37 = sub_40F1D0((char *)&byte_587000[145064], 0, (const char *)&byte_587000[145028], 730);
          nox_wcscat(&v42, v37);
          goto LABEL_56;
        case 11:
          v20 = *(_BYTE *)(v10 + 1274);
          if ( v20 )
          {
            if ( v20 == 1 )
              v38 = sub_40F1D0((char *)&byte_587000[145184], 0, (const char *)&byte_587000[145148], 737);
            else
              v38 = sub_40F1D0((char *)&byte_587000[145232], 0, (const char *)&byte_587000[145196], 739);
            nox_wcscat(&v42, v38);
            goto LABEL_56;
          }
          v17 = sub_40F1D0((char *)&byte_587000[145124], 0, (const char *)&byte_587000[145088], 735);
          break;
        default:
          v17 = sub_40F1D0((char *)&byte_587000[145292], 0, (const char *)&byte_587000[145256], 743);
          break;
      }
      nox_wcscat(&v42, v17);
      goto LABEL_56;
    }
    sub_46B490(a1, 16397, (int)&byte_587000[143900], 3);
    if ( v9 )
    {
      v11 = sub_40F1D0((char *)&byte_587000[143948], 0, (const char *)&byte_587000[143912], 645);
      sub_46B490(a2, 16397, (int)v11, 3);
      v12 = sub_40F1D0((char *)&byte_587000[143996], 0, (const char *)&byte_587000[143960], 650);
      sub_46B490(a3, 16397, (int)v12, 3);
    }
    else
    {
      sub_46B490(a2, 16397, (int)&byte_587000[143904], 3);
      sub_46B490(a3, 16397, (int)&byte_587000[143908], 3);
    }
LABEL_57:
    v40 = ++v9;
    if ( v9 >= 14 )
      break;
    v6 = a4;
  }
  v22 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1082856], 503);
  if ( v4 <= 0 )
  {
    sub_46ABB0((int)v22, 0);
    v24 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1082856], 502);
    sub_46ABB0((int)v24, 0);
    sub_46B0C0(*(_DWORD **)&byte_5D4594[1082856], 501);
  }
  else
  {
    sub_46ABB0((int)v22, 1);
    v23 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1082856], 502);
    sub_46ABB0((int)v23, 1);
  }
  result = sub_46CDC0((int)a4);
  v26 = result;
  if ( result != -1 )
  {
    sub_46B490(a1, 16403, result, 0);
    sub_46B490(a2, 16403, v26, 0);
    result = sub_46B490(a3, 16403, v26, 0);
  }
  return result;
}

//----- (0046D580) --------------------------------------------------------
int sub_46D580()
{
  int result; // eax
  _DWORD *v1; // esi
  int v2; // eax
  wchar_t *v3; // eax
  _DWORD *v4; // esi
  wchar_t *v5; // eax
  wchar_t *v6; // eax

  result = sub_40A5C0(4096);
  if ( !result )
  {
    memset(&byte_5D4594[1064948], 0, 0x45E4u);
    sub_46CE40(
      *(int *)&byte_5D4594[1082860],
      *(int *)&byte_5D4594[1082864],
      *(int *)&byte_5D4594[1082868],
      &byte_5D4594[1064948]);
    sub_46A8C0(*(int *)&byte_5D4594[1082856]);
    sub_46ABB0(*(int *)&byte_5D4594[1082856], 1);
    sub_46ADC0(*(int *)&byte_5D4594[1082856]);
    v1 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1082856], 501);
    if ( sub_450560() && !sub_450570()
      || (v2 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[2614252] + 276), v2 == 2)
      || v2 == 1
      || v2 == 51 )
    {
      sub_46ABB0((int)v1, 0);
    }
    else
    {
      sub_46ABB0((int)v1, 1);
    }
    if ( sub_450560() )
    {
      v3 = sub_40F1D0((char *)&byte_587000[145376], 0, (const char *)&byte_587000[145340], 860);
      sub_46AEE0(*(int *)&byte_5D4594[1082880], (int)v3);
      v4 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1082856], 509);
      v5 = sub_40F1D0((char *)&byte_587000[145424], 0, (const char *)&byte_587000[145388], 862);
    }
    else
    {
      v6 = sub_40F1D0((char *)&byte_587000[145472], 0, (const char *)&byte_587000[145436], 866);
      sub_46AEE0(*(int *)&byte_5D4594[1082880], (int)v6);
      v4 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1082856], 509);
      v5 = sub_40F1D0((char *)&byte_587000[145524], 0, (const char *)&byte_587000[145488], 868);
    }
    sub_46AEE0((int)v4, (int)v5);
    result = sub_413A00(1);
  }
  return result;
}

//----- (0046D6F0) --------------------------------------------------------
int sub_46D6F0()
{
  memset(&byte_5D4594[1064948], 0, 0x45E4u);
  if ( sub_46ACC0(*(int *)&byte_5D4594[1082856]) )
    return 0;
  sub_46AC00(*(int *)&byte_5D4594[1082856], 1);
  sub_46ABB0(*(int *)&byte_5D4594[1082856], 0);
  sub_46ADE0(*(int *)&byte_5D4594[1082856]);
  sub_413A00(0);
  return 1;
}

//----- (0046D750) --------------------------------------------------------
int __cdecl sub_46D750(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10)
{
  int v10; // edi
  int v11; // ecx
  int v12; // esi

  if ( !a1 || a4 - a2 <= 0 || a5 - a3 <= 0 )
    return -1;
  v10 = a6;
  if ( a6 < 1 )
    v10 = 1;
  v11 = a7;
  if ( a7 < 0 )
    v11 = 0;
  v12 = a8;
  if ( a8 < 0 )
    v12 = 0;
  *(_DWORD *)&byte_5D4594[1082924] = a5 - a3;
  *(_DWORD *)&byte_5D4594[1082916] = a1;
  *(_DWORD *)&byte_5D4594[1082920] = a4 - a2 - (a4 - a2) % 4;
  *(_DWORD *)&byte_5D4594[1082896] = a2;
  *(_DWORD *)&byte_587000[145540] = v10;
  *(_DWORD *)&byte_5D4594[1082892] = a3;
  *(_DWORD *)&byte_587000[145544] = v11;
  *(_DWORD *)&byte_587000[145548] = v11;
  *(_DWORD *)&byte_587000[145552] = v12;
  *(_DWORD *)&byte_5D4594[1082908] = a4;
  *(_DWORD *)&byte_5D4594[1082912] = a5;
  *(_DWORD *)&byte_5D4594[1082904] = a9;
  *(_DWORD *)&byte_5D4594[1082900] = a10;
  return 0;
}

//----- (0046D830) --------------------------------------------------------
int sub_46D830()
{
  __int16 *v1; // ebp
  int v2; // ebx
  int v3; // edi
  __int16 *v4; // esi
  int v5; // [esp+4h] [ebp-Ch]
  int v6; // [esp+8h] [ebp-8h]
  int v7; // [esp+Ch] [ebp-4h]

  if ( (int)*(_DWORD *)&byte_587000[145548] < 0 )
    return 0;
  if ( (int)--*(_DWORD *)&byte_587000[145548] >= 0 )
    goto LABEL_15;
  v1 = *(__int16 **)&byte_5D4594[1082916];
  if ( !*(_DWORD *)&byte_5D4594[1082916] )
    return 0;
  v5 = *(_DWORD *)&byte_5D4594[1082896];
  v7 = *(_DWORD *)&byte_587000[145540];
  if ( *(_DWORD *)&byte_5D4594[3801780] == 1 )
  {
    v7 = 2 * *(_DWORD *)&byte_587000[145540];
    v5 = 2 * *(_DWORD *)&byte_5D4594[1082896];
  }
  v2 = *(_DWORD *)&byte_5D4594[1082892];
  v3 = 0;
  v4 = (__int16 *)(v5 + *(_DWORD *)(*(_DWORD *)&byte_5D4594[3798784] + 4 * *(_DWORD *)&byte_5D4594[1082892]));
  v6 = 0;
  while ( v6 < *(int *)&byte_5D4594[1082924] )
  {
    *v1 = sub_4A9B70(v4);
    v4 = (__int16 *)((char *)v4 + v7);
    v3 += *(_DWORD *)&byte_587000[145540];
    ++v1;
    if ( v3 >= *(int *)&byte_5D4594[1082920] )
    {
      v2 += *(_DWORD *)&byte_587000[145540];
      v3 = 0;
      v6 += *(_DWORD *)&byte_587000[145540];
      v4 = (__int16 *)(v5 + *(_DWORD *)(*(_DWORD *)&byte_5D4594[3798784] + 4 * v2));
    }
  }
  if ( (int)*(_DWORD *)&byte_587000[145552] >= 0 )
  {
    if ( --*(int *)&byte_587000[145552] >= 0 )
      *(_DWORD *)&byte_587000[145548] = *(_DWORD *)&byte_587000[145544];
LABEL_15:
    if ( *(_DWORD *)&byte_5D4594[1082904] )
      (*(void (__cdecl **)(_DWORD))&byte_5D4594[1082904])(*(_DWORD *)&byte_5D4594[1082900]);
  }
  return 1;
}

//----- (0046D950) --------------------------------------------------------
void __cdecl sub_46D950(_DWORD *a1)
{
  int v2; // edx
  char v3[1024]; // [esp+0h] [ebp-400h]

  v2 = ++*(_DWORD *)&byte_5D4594[1082928];
  if ( !a1[257] )
  {
    if ( a1[256] )
      nox_sprintf(v3, (const char *)&byte_587000[145556], a1, v2);
    else
      nox_sprintf(v3, (const char *)&byte_587000[145568], a1);
    sub_46D9D0((int)v3,
               *(int *)&byte_5D4594[1082916],
               *(LPVOID *)&byte_5D4594[1082920],
               *(int *)&byte_5D4594[1082924]);
  }
}

//----- (0046D9D0) --------------------------------------------------------
FILE *__cdecl sub_46D9D0(int a1, int a2, LPVOID lpMem, int a4)
{
  int v4; // ebp
  size_t v5; // edi
  int v6; // esi
  size_t v7; // eax
  char *v8; // eax
  unsigned int v9; // edx
  _BYTE *v10; // ecx
  unsigned int v11; // edx
  _BYTE *v12; // eax
  FILE *result; // eax
  FILE *v14; // esi
  char *v15; // ebx
  unsigned __int8 v16[14]; // [esp+10h] [ebp-38h]
  unsigned __int8 v17[40]; // [esp+20h] [ebp-28h]
  char *lpMema; // [esp+54h] [ebp+Ch]

  v4 = a4;
  v5 = (size_t)lpMem;
  v6 = a4 * (_DWORD)lpMem;
  *(_DWORD *)v17 = 40;
  *(_DWORD *)&v17[4] = lpMem;
  v7 = 3 * a4 * (_DWORD)lpMem;
  *(_DWORD *)&v17[8] = a4;
  *(_WORD *)&v17[12] = 1;
  *(_WORD *)&v17[14] = 24;
  *(_DWORD *)&v17[32] = 0;
  *(_DWORD *)&v17[16] = 0;
  *(_DWORD *)&v17[20] = 3 * a4 * (_DWORD)lpMem;
  *(_DWORD *)&v17[24] = 0;
  *(_DWORD *)&v17[28] = 0;
  *(_DWORD *)&v17[36] = 0;
  *(_WORD *)v16 = 19778;
  *(_WORD *)&v16[6] = 0;
  *(_WORD *)&v16[8] = 0;
  *(_DWORD *)&v16[10] = 54;
  *(_DWORD *)&v16[2] = v7 + 54;
  v8 = (char *)malloc(v7);
  v10 = (_BYTE *)a2;
  lpMema = v8;
  if ( v6 > 0 )
  {
    do
    {
      LOBYTE(v9) = *v10;
      v10 += 2;
      *v8 = 8 * v9;
      LOWORD(v9) = *((_WORD *)v10 - 1);
      v11 = v9 >> 2;
      v12 = v8 + 1;
      *v12 = v11 & 0xF8;
      LOWORD(v11) = *((_WORD *)v10 - 1);
      v9 = v11 >> 7;
      *++v12 = v9 & 0xF8;
      v8 = v12 + 1;
      --v6;
    }
    while ( v6 );
  }
  result = fopen((const char *)a1, "wb");
  v14 = result;
  if ( result )
  {
    fwrite(v16, 0xEu, 1u, result);
    fwrite(v17, 0x28u, 1u, v14);
    v15 = &lpMema[2 * v5 * (a4 - 1) + v5 * (a4 - 1)];
    if ( a4 > 0 )
    {
      do
      {
        fwrite(v15, v5, 3u, v14);
        v15 -= 3 * v5;
        --v4;
      }
      while ( v4 );
    }
    fclose(v14);
    free(lpMema);
  }
  return result;
}
// 46DA62: variable 'v9' is possibly undefined

//----- (0046DB00) --------------------------------------------------------
int sub_46DB00()
{
  if ( !*(_DWORD *)&byte_5D4594[1083964] )
  {
    *(_DWORD *)&byte_5D4594[1083964] = malloc(2 * *(_DWORD *)&byte_5D4594[3805496] * *(_DWORD *)&byte_5D4594[3807120]);
    strcpy((char *)&byte_5D4594[1082932], "nox");
    *(_DWORD *)&byte_5D4594[1083956] = 1;
    *(_DWORD *)&byte_5D4594[1083960] = 0;
  }
  sub_409EC0(4096);
  return sub_46D750(
           *(int *)&byte_5D4594[1083964],
           0,
           0,
           *(int *)&byte_5D4594[3805496],
           *(int *)&byte_5D4594[3807120],
           1,
           0,
           0,
           sub_46D950,
           (int)&byte_5D4594[1082932]);
}

//----- (0046DB80) --------------------------------------------------------
int sub_46DB80()
{
  int i; // esi
  int result; // eax

  for ( i = 0; i < 8; i += 4 )
  {
    sub_46B490(*(_DWORD *)&byte_5D4594[i + 1090060], 16399, 1, 0);
    sub_46B490(*(_DWORD *)&byte_5D4594[i + 1090068], 16399, 1, 0);
    sub_46B490(*(_DWORD *)&byte_5D4594[i + 1090076], 16399, 1, 0);
    sub_46B490(*(_DWORD *)&byte_5D4594[i + 1090084], 16399, 1, 0);
    result = sub_46B490(*(_DWORD *)&byte_5D4594[i + 1090092], 16399, 1, 0);
  }
  return result;
}

//----- (0046DC00) --------------------------------------------------------
int __cdecl sub_46DC00(int a1, unsigned __int8 a2, int a3)
{
  sub_46B490(a1, 16397, a3, a2);
  return 1;
}

//----- (0046DC30) --------------------------------------------------------
int sub_46DC30(int a1, unsigned __int8 a2, wchar_t *a3, ...)
{
  va_list va; // [esp+10h] [ebp+10h]

  va_start(va, a3);
  nox_vswprintf((wchar_t *)&byte_5D4594[1089000], a3, va);
  return sub_46DC00(a1, a2, (int)&byte_5D4594[1089000]);
}

//----- (0046DC60) --------------------------------------------------------
wchar_t *__cdecl sub_46DC60(int a1, unsigned __int8 a2, int a3)
{
  wchar_t *result; // eax

  if ( a3 )
    return (wchar_t *)sub_46DC00(a1, a2, a3);
  result = sub_40F1D0((char *)&byte_587000[145752], 0, (const char *)&byte_587000[145716], 1050);
  if ( result )
    result = (wchar_t *)sub_46DC00(a1, a2, (int)result);
  return result;
}

//----- (0046DCC0) --------------------------------------------------------
char *sub_46DCC0()
{
  char *result; // eax
  signed int v1; // ebx
  unsigned int v2; // esi
  unsigned int v3; // edi
  int v4; // ebp
  char *k; // esi
  int v6; // eax
  char *l; // eax
  int v8; // ecx
  int v9; // ebx
  int v10; // esi
  char *v11; // edi
  int m; // ebp
  unsigned __int8 v13; // dl
  int v14; // eax
  int v15; // ecx
  int v16; // edi
  _DWORD *v17; // eax
  _DWORD *v18; // edi
  char *v19; // eax
  int v20; // edx
  unsigned __int8 v21; // al
  int v22; // ecx
  unsigned int v23; // esi
  char *i; // eax
  int v25; // ecx
  unsigned int v26; // ebp
  int v27; // esi
  char *v28; // edi
  unsigned int j; // ebx
  unsigned __int8 v30; // dl
  int v31; // eax
  int v32; // ecx
  int v33; // ecx
  int v34; // edi
  _DWORD *v35; // eax
  _DWORD *v36; // edi
  char *v37; // eax
  int v38; // edx
  unsigned __int8 v39; // al
  int v40; // ecx
  unsigned int v41; // [esp+0h] [ebp-8h]
  wchar_t *v42; // [esp+4h] [ebp-4h]
  wchar_t *v43; // [esp+4h] [ebp-4h]

  if ( *(_DWORD *)&byte_5D4594[1090120] == 5 )
  {
    v23 = sub_416F40();
    v43 = (wchar_t *)v23;
    byte_5D4594[1090117] = 0;
    byte_5D4594[1090118] = 0;
    if ( sub_40A5C0(1) && *(_DWORD *)&byte_5D4594[2650636] & 0x40000 )
      v43 = (wchar_t *)--v23;
    for ( i = sub_416EA0(); i; i = sub_416EE0((int)i) )
    {
      v25 = *((_DWORD *)i + 920);
      if ( !(v25 & 1) || v25 & 0x20 )
      {
        if ( !*((_DWORD *)i + 527) )
          *((_DWORD *)i + 527) = 0x8000000;
      }
      else
      {
        *((_DWORD *)i + 527) |= 0x80000000;
      }
    }
    v26 = 0;
    if ( byte_5D4594[1090117] < v23 )
    {
      v27 = (int)v43;
      do
      {
        v28 = sub_416EA0();
        for ( j = -1; v28; v28 = sub_416EE0((int)v28) )
        {
          if ( (v28[2064] != 31 || !(*(_DWORD *)&byte_5D4594[2650636] & 0x40000))
            && *((int *)v28 + 527) >= v26
            && !sub_46E1E0(*((_DWORD *)v28 + 515))
            && *((int *)v28 + 527) < j )
          {
            j = *((_DWORD *)v28 + 527);
            v27 = (int)v28;
          }
        }
        v30 = byte_5D4594[1090117];
        v31 = 80 * byte_5D4594[1090117];
        *(_DWORD *)&byte_5D4594[v31 + 1084192] = *(_DWORD *)(v27 + 2060);
        v32 = *(_DWORD *)(v27 + 3680);
        if ( !(v32 & 1) || v32 & 0x20 )
        {
          v33 = *(_DWORD *)(v27 + 2108);
          if ( v33 == 0x8000000 )
          {
            *(_DWORD *)&byte_5D4594[v31 + 1084196] = 0;
          }
          else
          {
            *(_DWORD *)&byte_5D4594[v31 + 1084196] = v33;
            ++byte_5D4594[1090118];
          }
        }
        else
        {
          *(_DWORD *)&byte_5D4594[v31 + 1084196] = *(_DWORD *)(v27 + 2108) + 2147483648;
        }
        *(_DWORD *)&byte_5D4594[v31 + 1084200] = *(unsigned __int16 *)(v27 + 2148);
        *(_DWORD *)&byte_5D4594[v31 + 1084208] = *(_DWORD *)(v27 + 3680);
        v34 = 80 * v30;
        *(_DWORD *)&byte_5D4594[v34 + 1084204] = sub_46E080(v27);
        nox_wcscpy((wchar_t *)&byte_5D4594[v34 + 1084132], (const wchar_t *)(v27 + 4704));
        sub_46E170((wchar_t *)&byte_5D4594[80 * byte_5D4594[1090117] + 1084132]);
        byte_5D4594[80 * byte_5D4594[1090117] + 1084188] = *(_BYTE *)(v27 + 2251);
        v35 = sub_418C80(*(_DWORD *)(v27 + 2060));
        v36 = v35;
        if ( v35 && sub_419130((int)v35) )
        {
          v37 = sub_418AB0(*((unsigned __int8 *)v36 + 4));
          if ( v37 )
          {
            v38 = (unsigned __int8)v37[57];
            v39 = byte_5D4594[1090117];
            *(_DWORD *)&byte_5D4594[80 * byte_5D4594[1090117] + 1084184] = v38;
          }
          else
          {
            v39 = byte_5D4594[1090117];
            *(_DWORD *)&byte_5D4594[80 * byte_5D4594[1090117] + 1084184] = -1;
          }
        }
        else
        {
          v39 = byte_5D4594[1090117];
          *(_DWORD *)&byte_5D4594[80 * byte_5D4594[1090117] + 1084184] = -1;
        }
        byte_5D4594[1090117] = v39 + 1;
        v26 = j;
      }
      while ( (unsigned __int8)(v39 + 1) < (unsigned int)v43 );
    }
    for ( result = sub_416EA0(); result; result = sub_416EE0((int)result) )
    {
      v40 = *((_DWORD *)result + 920);
      if ( !(v40 & 1) || v40 & 0x20 )
      {
        if ( *((_DWORD *)result + 527) == 0x8000000 )
          *((_DWORD *)result + 527) = 0;
      }
      else
      {
        *((_DWORD *)result + 527) &= 0x7FFFFFFFu;
      }
    }
  }
  else if ( sub_40A5C0(1024) )
  {
    v1 = 2147483648;
    v41 = sub_416F40();
    v2 = sub_417DD0();
    byte_5D4594[1090116] = 0;
    v42 = (wchar_t *)v2;
    byte_5D4594[1090117] = 0;
    byte_5D4594[1090118] = 0;
    if ( sub_40A5C0(1) && *(_DWORD *)&byte_5D4594[2650636] & 0x40000 )
      --v41;
    if ( byte_5D4594[1090116] < v2 )
    {
      v3 = v2;
      do
      {
        v4 = 0x7FFFFFFF;
        for ( k = sub_418B10(); k; k = sub_418B60((int)k) )
        {
          if ( *((int *)k + 13) >= v1 && !sub_46E130((unsigned __int8)k[57]) && *((int *)k + 13) < v4 )
          {
            v4 = *((_DWORD *)k + 13);
            v3 = (unsigned int)k;
          }
        }
        v6 = 56 * byte_5D4594[1090116];
        *(_DWORD *)&byte_5D4594[v6 + 1087252] = *(_DWORD *)(v3 + 52);
        *(_DWORD *)&byte_5D4594[v6 + 1087248] = *(unsigned __int8 *)(v3 + 57);
        byte_5D4594[v6 + 1087256] = *(_BYTE *)(v3 + 56);
        nox_wcscpy((wchar_t *)&byte_5D4594[v6 + 1087204], (const wchar_t *)v3);
        sub_46E170((wchar_t *)&byte_5D4594[56 * byte_5D4594[1090116] + 1087204]);
        ++byte_5D4594[1090116];
        v1 = v4;
      }
      while ( byte_5D4594[1090116] < (unsigned int)v42 );
    }
    for ( l = sub_416EA0(); l; l = sub_416EE0((int)l) )
    {
      v8 = *((_DWORD *)l + 920);
      if ( v8 & 1 && !(v8 & 0x20) )
        *((_DWORD *)l + 535) += 0xFFFF;
    }
    v9 = -1;
    if ( byte_5D4594[1090117] < v41 )
    {
      v10 = (int)v42;
      do
      {
        v11 = sub_416EA0();
        for ( m = 0x7FFFFFFF; v11; v11 = sub_416EE0((int)v11) )
        {
          if ( (v11[2064] != 31 || !(*(_DWORD *)&byte_5D4594[2650636] & 0x40000))
            && *((int *)v11 + 535) >= v9
            && !sub_46E1E0(*((_DWORD *)v11 + 515))
            && *((int *)v11 + 535) < m )
          {
            m = *((_DWORD *)v11 + 535);
            v10 = (int)v11;
          }
        }
        v13 = byte_5D4594[1090117];
        v14 = 80 * byte_5D4594[1090117];
        *(_DWORD *)&byte_5D4594[v14 + 1084192] = *(_DWORD *)(v10 + 2060);
        v15 = *(_DWORD *)(v10 + 3680);
        if ( !(v15 & 1) || v15 & 0x20 )
        {
          *(_DWORD *)&byte_5D4594[v14 + 1084196] = *(_DWORD *)(v10 + 2140);
          ++byte_5D4594[1090118];
        }
        else
        {
          *(_DWORD *)&byte_5D4594[v14 + 1084196] = *(_DWORD *)(v10 + 2140) - 0xFFFF;
        }
        *(_DWORD *)&byte_5D4594[v14 + 1084200] = *(unsigned __int16 *)(v10 + 2148);
        *(_DWORD *)&byte_5D4594[v14 + 1084208] = *(_DWORD *)(v10 + 3680);
        v16 = 80 * v13;
        *(_DWORD *)&byte_5D4594[v16 + 1084204] = sub_46E080(v10);
        nox_wcscpy((wchar_t *)&byte_5D4594[v16 + 1084132], (const wchar_t *)(v10 + 4704));
        sub_46E170((wchar_t *)&byte_5D4594[80 * byte_5D4594[1090117] + 1084132]);
        byte_5D4594[80 * byte_5D4594[1090117] + 1084188] = *(_BYTE *)(v10 + 2251);
        v17 = sub_418C80(*(_DWORD *)(v10 + 2060));
        v18 = v17;
        if ( v17 && sub_419130((int)v17) )
        {
          v19 = sub_418AB0(*((unsigned __int8 *)v18 + 4));
          if ( v19 )
          {
            v20 = (unsigned __int8)v19[57];
            v21 = byte_5D4594[1090117];
            *(_DWORD *)&byte_5D4594[80 * byte_5D4594[1090117] + 1084184] = v20;
          }
          else
          {
            v21 = byte_5D4594[1090117];
            *(_DWORD *)&byte_5D4594[80 * byte_5D4594[1090117] + 1084184] = -1;
          }
        }
        else
        {
          v21 = byte_5D4594[1090117];
          *(_DWORD *)&byte_5D4594[80 * byte_5D4594[1090117] + 1084184] = -1;
        }
        byte_5D4594[1090117] = v21 + 1;
        v9 = m;
      }
      while ( (unsigned __int8)(v21 + 1) < v41 );
    }
    for ( result = sub_416EA0(); result; result = sub_416EE0((int)result) )
    {
      v22 = *((_DWORD *)result + 920);
      if ( v22 & 1 )
      {
        if ( !(v22 & 0x20) )
          *((_DWORD *)result + 535) -= 0xFFFF;
      }
    }
  }
  else
  {
    result = sub_46E4E0();
  }
  return result;
}

//----- (0046E080) --------------------------------------------------------
int __cdecl sub_46E080(int a1)
{
  int v1; // eax
  _DWORD *v3; // eax

  if ( sub_40A5C0(32) )
  {
    v1 = *(_DWORD *)(a1 + 2060);
    if ( v1 == *(unsigned __int16 *)&byte_5D4594[1090128] )
      return 2;
    if ( v1 == *(unsigned __int16 *)&byte_5D4594[1090130] )
      return 3;
  }
  else if ( sub_40A5C0(64) )
  {
    if ( *(_DWORD *)(a1 + 2060) == *(unsigned __int16 *)&byte_5D4594[1090132] )
      return 4;
  }
  else if ( sub_40A5C0(16) )
  {
    v3 = sub_45A6F0(*(_DWORD *)(a1 + 2060));
    if ( v3 )
    {
      if ( sub_4356C0((int)v3, 30) )
        return 1;
    }
  }
  return 0;
}

//----- (0046E130) --------------------------------------------------------
int __cdecl sub_46E130(int a1)
{
  int v1; // eax
  unsigned __int8 *i; // ecx

  v1 = 0;
  if ( !byte_5D4594[1090116] )
    return 0;
  for ( i = &byte_5D4594[1087248]; *(_DWORD *)i != a1; i += 56 )
  {
    if ( ++v1 >= (unsigned int)byte_5D4594[1090116] )
      return 0;
  }
  return 1;
}

//----- (0046E170) --------------------------------------------------------
unsigned __int16 *__cdecl sub_46E170(wchar_t *a1)
{
  unsigned __int16 *v1; // esi
  size_t v2; // edi
  unsigned __int16 *v3; // edi

  v1 = a1;
  v2 = nox_wcslen(a1);
  sub_43F840(0, v1, (int *)&a1, 0, 0);
  if ( (int)(a1 + 5) > *(int *)&byte_5D4594[1084036] )
  {
    v3 = &v1[v2];
    do
    {
      *v3 = 0;
      --v3;
      sub_43F840(0, v1, (int *)&a1, 0, 0);
    }
    while ( (int)(a1 + 5) > *(int *)&byte_5D4594[1084036] );
  }
  return v1;
}

//----- (0046E1E0) --------------------------------------------------------
int __cdecl sub_46E1E0(int a1)
{
  int v1; // eax
  unsigned __int8 *i; // ecx

  v1 = 0;
  if ( !byte_5D4594[1090117] )
    return 0;
  for ( i = &byte_5D4594[1084192]; *(_DWORD *)i != a1; i += 80 )
  {
    if ( ++v1 >= (unsigned int)byte_5D4594[1090117] )
      return 0;
  }
  return 1;
}

//----- (0046E4E0) --------------------------------------------------------
char *sub_46E4E0()
{
  int v0; // ebx
  unsigned int v1; // esi
  unsigned int v2; // edi
  signed int v3; // ebp
  char *i; // esi
  int v5; // eax
  char *j; // eax
  int v7; // ecx
  int v8; // ebx
  int v9; // esi
  char *v10; // edi
  signed int k; // ebp
  unsigned __int8 v12; // dl
  int v13; // eax
  int v14; // ecx
  int v15; // edi
  _DWORD *v16; // eax
  _DWORD *v17; // edi
  char *v18; // eax
  int v19; // edx
  unsigned __int8 v20; // al
  char *result; // eax
  int v22; // ecx
  unsigned int v23; // [esp+10h] [ebp-8h]
  wchar_t *v24; // [esp+14h] [ebp-4h]

  v0 = 0x7FFFFFFF;
  v1 = sub_417DD0();
  v24 = (wchar_t *)v1;
  v23 = sub_416F40();
  byte_5D4594[1090116] = 0;
  byte_5D4594[1090117] = 0;
  byte_5D4594[1090118] = 0;
  if ( sub_40A5C0(1) && *(_DWORD *)&byte_5D4594[2650636] & 0x40000 )
    --v23;
  if ( byte_5D4594[1090116] < v1 )
  {
    v2 = v1;
    do
    {
      v3 = 2147483648;
      for ( i = sub_418B10(); i; i = sub_418B60((int)i) )
      {
        if ( *((int *)i + 13) <= v0 && !sub_46E130((unsigned __int8)i[57]) && *((int *)i + 13) > v3 )
        {
          v3 = *((_DWORD *)i + 13);
          v2 = (unsigned int)i;
        }
      }
      v5 = 56 * byte_5D4594[1090116];
      *(_DWORD *)&byte_5D4594[v5 + 1087252] = *(_DWORD *)(v2 + 52);
      *(_DWORD *)&byte_5D4594[v5 + 1087248] = *(unsigned __int8 *)(v2 + 57);
      byte_5D4594[v5 + 1087256] = *(_BYTE *)(v2 + 56);
      nox_wcscpy((wchar_t *)&byte_5D4594[v5 + 1087204], (const wchar_t *)v2);
      sub_46E170((wchar_t *)&byte_5D4594[56 * byte_5D4594[1090116] + 1087204]);
      ++byte_5D4594[1090116];
      v0 = v3;
    }
    while ( byte_5D4594[1090116] < (unsigned int)v24 );
  }
  for ( j = sub_416EA0(); j; j = sub_416EE0((int)j) )
  {
    v7 = *((_DWORD *)j + 920);
    if ( v7 & 1 && !(v7 & 0x20) )
      *((_DWORD *)j + 534) -= 0xFFFF;
  }
  v8 = 0x7FFFFFFF;
  if ( byte_5D4594[1090117] < v23 )
  {
    v9 = (int)v24;
    do
    {
      v10 = sub_416EA0();
      for ( k = 2147483648; v10; v10 = sub_416EE0((int)v10) )
      {
        if ( (v10[2064] != 31 || !(*(_DWORD *)&byte_5D4594[2650636] & 0x40000))
          && *((int *)v10 + 534) <= v8
          && !sub_46E1E0(*((_DWORD *)v10 + 515))
          && *((int *)v10 + 534) > k )
        {
          k = *((_DWORD *)v10 + 534);
          v9 = (int)v10;
        }
      }
      v12 = byte_5D4594[1090117];
      v13 = 80 * byte_5D4594[1090117];
      *(_DWORD *)&byte_5D4594[v13 + 1084192] = *(_DWORD *)(v9 + 2060);
      v14 = *(_DWORD *)(v9 + 3680);
      if ( !(v14 & 1) || v14 & 0x20 )
      {
        *(_DWORD *)&byte_5D4594[v13 + 1084196] = *(_DWORD *)(v9 + 2136);
        ++byte_5D4594[1090118];
      }
      else
      {
        *(_DWORD *)&byte_5D4594[v13 + 1084196] = *(_DWORD *)(v9 + 2136) + 0xFFFF;
      }
      *(_DWORD *)&byte_5D4594[v13 + 1084200] = *(unsigned __int16 *)(v9 + 2148);
      v15 = 80 * v12;
      *(_DWORD *)&byte_5D4594[v15 + 1084204] = sub_46E080(v9);
      *(_DWORD *)&byte_5D4594[v15 + 1084208] = *(_DWORD *)(v9 + 3680);
      nox_wcscpy((wchar_t *)&byte_5D4594[v15 + 1084132], (const wchar_t *)(v9 + 4704));
      sub_46E170((wchar_t *)&byte_5D4594[80 * byte_5D4594[1090117] + 1084132]);
      byte_5D4594[80 * byte_5D4594[1090117] + 1084188] = *(_BYTE *)(v9 + 2251);
      v16 = sub_418C80(*(_DWORD *)(v9 + 2060));
      v17 = v16;
      if ( v16 && sub_419130((int)v16) )
      {
        v18 = sub_418AB0(*((unsigned __int8 *)v17 + 4));
        if ( v18 )
        {
          v19 = (unsigned __int8)v18[57];
          v20 = byte_5D4594[1090117];
          *(_DWORD *)&byte_5D4594[80 * byte_5D4594[1090117] + 1084184] = v19;
        }
        else
        {
          v20 = byte_5D4594[1090117];
          *(_DWORD *)&byte_5D4594[80 * byte_5D4594[1090117] + 1084184] = -1;
        }
      }
      else
      {
        v20 = byte_5D4594[1090117];
        *(_DWORD *)&byte_5D4594[80 * byte_5D4594[1090117] + 1084184] = -1;
      }
      byte_5D4594[1090117] = v20 + 1;
      v8 = k;
    }
    while ( (unsigned __int8)(v20 + 1) < v23 );
  }
  for ( result = sub_416EA0(); result; result = sub_416EE0((int)result) )
  {
    v22 = *((_DWORD *)result + 920);
    if ( v22 & 1 )
    {
      if ( !(v22 & 0x20) )
        *((_DWORD *)result + 534) += 0xFFFF;
    }
  }
  return result;
}

//----- (0046E870) --------------------------------------------------------
int sub_46E870()
{
  int v0; // ebx
  unsigned __int16 *v1; // eax
  int v2; // eax
  unsigned __int16 *v3; // eax
  unsigned __int16 *v4; // eax
  int v5; // eax
  unsigned __int16 *v6; // eax
  int v7; // eax
  unsigned __int16 *v8; // eax
  unsigned __int16 *v9; // eax
  unsigned __int16 *v10; // eax
  unsigned __int16 *v11; // eax
  unsigned __int16 *v12; // eax
  int v13; // eax
  int v14; // ecx
  unsigned __int8 *v15; // eax
  int v16; // edi
  int v17; // esi
  int v18; // ebp
  int v19; // edi
  int v20; // ebx
  _DWORD *v21; // eax
  int v22; // edx
  int v23; // ecx
  _DWORD *v24; // eax
  int v25; // edx
  _DWORD *v26; // eax
  int v27; // edx
  _DWORD *v28; // eax
  int v29; // ecx
  int v30; // esi
  int result; // eax
  int v32; // [esp-4h] [ebp-1DCh]
  int v33; // [esp-4h] [ebp-1DCh]
  int v34; // [esp-4h] [ebp-1DCh]
  int v35; // [esp-4h] [ebp-1DCh]
  int v36; // [esp-4h] [ebp-1DCh]
  int v37; // [esp-4h] [ebp-1DCh]
  int v38; // [esp-4h] [ebp-1DCh]
  int v39; // [esp-4h] [ebp-1DCh]
  int v40; // [esp-4h] [ebp-1DCh]
  int v41; // [esp+10h] [ebp-1C8h]
  int v42; // [esp+14h] [ebp-1C4h]
  int v43; // [esp+18h] [ebp-1C0h]
  int v44; // [esp+1Ch] [ebp-1BCh]
  int v45[3]; // [esp+20h] [ebp-1B8h]
  int v46; // [esp+2Ch] [ebp-1ACh]
  int v47; // [esp+30h] [ebp-1A8h]
  char v48[56]; // [esp+34h] [ebp-1A4h]
  char v49[332]; // [esp+6Ch] [ebp-16Ch]
  wchar_t v50[16]; // [esp+1B8h] [ebp-20h]

  *(_DWORD *)&byte_587000[145668] = 6;
  sub_46F030();
  v0 = sub_43F320(0);
  v46 = v0;
  *(_DWORD *)&byte_5D4594[1084036] = 80;
  if ( sub_43AF70() == 1 )
  {
    nox_swprintf(v50, (const wchar_t *)&byte_587000[145780], &byte_587000[145768]);
    sub_43F840(0, v50, &v41, &v44, *(int *)&byte_5D4594[3805496]);
  }
  else
  {
    v32 = *(_DWORD *)&byte_5D4594[3805496];
    v1 = sub_40F1D0((char *)&byte_587000[145824], 0, (const char *)&byte_587000[145788], 1641);
    sub_43F840(0, v1, &v41, &v44, v32);
  }
  v2 = v41;
  if ( v41 < 18 )
  {
    v2 = 18;
    v41 = 18;
  }
  *(_DWORD *)&byte_5D4594[1084040] = v2 + 14;
  v33 = *(_DWORD *)&byte_5D4594[3805496];
  v3 = sub_40F1D0((char *)&byte_587000[145868], 0, (const char *)&byte_587000[145832], 1649);
  sub_43F840(0, v3, &v41, &v44, v33);
  v34 = *(_DWORD *)&byte_5D4594[3805496];
  v4 = sub_40F1D0((char *)&byte_587000[145912], 0, (const char *)&byte_587000[145876], 1650);
  sub_43F840(0, v4, &v42, &v43, v34);
  v5 = v41;
  if ( v42 > v41 )
  {
    v5 = v42;
    v41 = v42;
  }
  *(_DWORD *)&byte_5D4594[1084048] = v5 + 7;
  v35 = *(_DWORD *)&byte_5D4594[3805496];
  v6 = sub_40F1D0((char *)&byte_587000[145964], 0, (const char *)&byte_587000[145928], 1657);
  sub_43F840(0, v6, &v41, &v44, v35);
  sub_43F840(0, (unsigned __int16 *)&byte_587000[145972], &v42, &v43, *(int *)&byte_5D4594[3805496]);
  v7 = v41;
  if ( v42 > v41 )
  {
    v7 = v42;
    v41 = v42;
  }
  *(_DWORD *)&byte_5D4594[1084052] = v7 + 7;
  v36 = *(_DWORD *)&byte_5D4594[3805496];
  v8 = sub_40F1D0((char *)&byte_587000[146032], 0, (const char *)&byte_587000[145996], 1667);
  sub_43F840(0, v8, &v41, &v44, v36);
  v37 = *(_DWORD *)&byte_5D4594[3805496];
  v9 = sub_40F1D0((char *)&byte_587000[146076], 0, (const char *)&byte_587000[146040], 1668);
  sub_43F840(0, v9, &v42, &v43, v37);
  if ( v42 > v41 )
    v41 = v42;
  v38 = *(_DWORD *)&byte_5D4594[3805496];
  v10 = sub_40F1D0((char *)&byte_587000[146120], 0, (const char *)&byte_587000[146084], 1671);
  sub_43F840(0, v10, &v42, &v43, v38);
  if ( v42 > v41 )
    v41 = v42;
  v39 = *(_DWORD *)&byte_5D4594[3805496];
  v11 = sub_40F1D0((char *)&byte_587000[146164], 0, (const char *)&byte_587000[146128], 1674);
  sub_43F840(0, v11, &v42, &v43, v39);
  if ( v42 > v41 )
    v41 = v42;
  v40 = *(_DWORD *)&byte_5D4594[3805496];
  v12 = sub_40F1D0((char *)&byte_587000[146212], 0, (const char *)&byte_587000[146176], 1677);
  sub_43F840(0, v12, &v42, &v43, v40);
  v13 = v41;
  if ( v42 > v41 )
  {
    v13 = v42;
    v41 = v42;
  }
  v14 = 0;
  *(_DWORD *)&byte_5D4594[1084044] = v13 + 7;
  v15 = &byte_5D4594[1084036];
  do
  {
    v16 = *(_DWORD *)v15;
    v15 += 4;
    v14 += v16;
  }
  while ( (int)v15 < (int)&byte_5D4594[1084056] );
  *(_DWORD *)&byte_5D4594[1090040] = v14;
  *(_DWORD *)&byte_5D4594[1090044] = 439 - v0;
  *(_DWORD *)&byte_5D4594[1090048] = sub_46C3E0(0, 1560, 0, v0 + 40, 1, 1, 0);
  sub_46B430(*(_DWORD **)&byte_5D4594[1090048], sub_46F060, sub_46F080, 0);
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[1090048] + 56) = 2147483648;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[1090048] + 64) = 2147483648;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[1090048] + 72) = 2147483648;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[1090048] + 80) = 2147483648;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[1090048] + 88) = 2147483648;
  memset(v49, 0, sizeof(v49));
  nox_wcscpy((wchar_t *)&v49[72], (const wchar_t *)&byte_5D4594[1090136]);
  *(_DWORD *)&v49[68] = *(_DWORD *)&byte_5D4594[2650644];
  *(_DWORD *)&v49[20] = 2147483648;
  memset(v48, 0, sizeof(v48));
  *(_WORD *)&v48[6] = 0;
  *(_DWORD *)&v48[12] = 0;
  *(_DWORD *)&v48[16] = 0;
  *(_DWORD *)&v49[28] = 2147483648;
  *(_DWORD *)&v49[36] = 2147483648;
  *(_DWORD *)&v49[44] = 2147483648;
  *(_DWORD *)&v49[52] = 2147483648;
  v17 = 0;
  v47 = 3 * v0;
  v18 = 3 * v0 + 1;
  *(_DWORD *)&v49[8] = 32;
  *(_DWORD *)&v48[2] = (unsigned __int16)(v0 + 1);
  strcpy(v48, "@");
  *(_DWORD *)&v48[8] = 1;
  v19 = 2 * (v0 + 1);
  v20 = 2 * v0;
  do
  {
    v21 = sub_4A4310(
            *(int *)&byte_5D4594[1090048],
            1088,
            v17 * *(_DWORD *)&byte_5D4594[1090040],
            v18,
            *(int *)&byte_5D4594[1090040],
            *(_DWORD *)&byte_5D4594[1090044] - v19,
            (int)v49,
            (__int16 *)v48);
    v22 = *(_DWORD *)&byte_5D4594[1084036];
    v23 = *(_DWORD *)&byte_5D4594[1090044] - v19;
    *(_DWORD *)&byte_5D4594[4 * v17 + 1090052] = v21;
    v24 = sub_4A4310((int)v21, 1088, 0, v20, v22, v23, (int)v49, (__int16 *)v48);
    v25 = *(_DWORD *)&byte_5D4594[1090044];
    *(_DWORD *)&byte_5D4594[4 * v17 + 1090060] = v24;
    v26 = sub_4A4310(
            *(_DWORD *)&byte_5D4594[4 * v17 + 1090052],
            1088,
            *(int *)&byte_5D4594[1084036],
            v20,
            *(int *)&byte_5D4594[1084040],
            v25 - v19,
            (int)v49,
            (__int16 *)v48);
    v27 = *(_DWORD *)&byte_5D4594[1090044];
    *(_DWORD *)&byte_5D4594[4 * v17 + 1090068] = v26;
    *(_DWORD *)&byte_5D4594[4 * v17 + 1090076] = sub_4A4310(
                                                   *(_DWORD *)&byte_5D4594[4 * v17 + 1090052],
                                                   1088,
                                                   *(_DWORD *)&byte_5D4594[1084036] + *(_DWORD *)&byte_5D4594[1084040],
                                                   v20,
                                                   *(int *)&byte_5D4594[1084044],
                                                   v27 - v19,
                                                   (int)v49,
                                                   (__int16 *)v48);
    v28 = sub_4A4310(
            *(_DWORD *)&byte_5D4594[4 * v17 + 1090052],
            1088,
            *(_DWORD *)&byte_5D4594[1084036] + *(_DWORD *)&byte_5D4594[1084040] + *(_DWORD *)&byte_5D4594[1084044],
            v20,
            *(int *)&byte_5D4594[1084048],
            *(_DWORD *)&byte_5D4594[1090044] - v19,
            (int)v49,
            (__int16 *)v48);
    v29 = *(_DWORD *)&byte_5D4594[1090044];
    *(_DWORD *)&byte_5D4594[4 * v17 + 1090084] = v28;
    *(_DWORD *)&byte_5D4594[4 * v17 + 1090092] = sub_4A4310(
                                                   *(_DWORD *)&byte_5D4594[4 * v17 + 1090052],
                                                   1088,
                                                   *(_DWORD *)&byte_5D4594[1084036]
                                                 + *(_DWORD *)&byte_5D4594[1084040]
                                                 + *(_DWORD *)&byte_5D4594[1084048]
                                                 + *(_DWORD *)&byte_5D4594[1084044],
                                                   v20,
                                                   *(int *)&byte_5D4594[1084052],
                                                   v29 - v19,
                                                   (int)v49,
                                                   (__int16 *)v48);
    sub_46B2C0(*(_DWORD *)&byte_5D4594[4 * v17 + 1090052], sub_46F070);
    sub_46B120(*(_DWORD **)&byte_5D4594[4 * v17 + 1090060], *(_DWORD *)&byte_5D4594[4 * v17 + 1090052]);
    sub_46B120(*(_DWORD **)&byte_5D4594[4 * v17 + 1090068], *(_DWORD *)&byte_5D4594[4 * v17 + 1090052]);
    sub_46B120(*(_DWORD **)&byte_5D4594[4 * v17 + 1090076], *(_DWORD *)&byte_5D4594[4 * v17 + 1090052]);
    sub_46B120(*(_DWORD **)&byte_5D4594[4 * v17 + 1090084], *(_DWORD *)&byte_5D4594[4 * v17 + 1090052]);
    sub_46B120(*(_DWORD **)&byte_5D4594[4 * v17 + 1090092], *(_DWORD *)&byte_5D4594[4 * v17 + 1090052]);
    ++v17;
  }
  while ( v17 < 2 );
  *(_DWORD *)&v49[8] = 2048;
  *(_DWORD *)&v49[68] = *(_DWORD *)&byte_5D4594[2589772];
  v45[0] = sub_40F1D0((char *)&byte_587000[146264], 0, (const char *)&byte_587000[146228], 1772);
  v30 = v46 + 1;
  v45[1] = 0;
  v45[2] = 0;
  *(_DWORD *)&byte_5D4594[1090100] = sub_489300(
                                       *(int *)&byte_5D4594[1090048],
                                       1088,
                                       0,
                                       v46,
                                       *(int *)&byte_5D4594[1090040],
                                       v46 + 1,
                                       v49,
                                       v45);
  *(_DWORD *)&v49[68] = *(_DWORD *)&byte_5D4594[2523948];
  v45[0] = sub_40F1D0((char *)&byte_587000[146312], 0, (const char *)&byte_587000[146276], 1782);
  *(_DWORD *)&byte_5D4594[1090112] = sub_489300(
                                       *(int *)&byte_5D4594[1090048],
                                       1088,
                                       0,
                                       v20,
                                       *(int *)&byte_5D4594[1090040],
                                       v30,
                                       v49,
                                       v45);
  *(_DWORD *)&v49[68] = *(_DWORD *)&byte_5D4594[2650644];
  v45[0] = sub_40F1D0((char *)&byte_587000[146364], 0, (const char *)&byte_587000[146328], 1790);
  *(_DWORD *)&byte_5D4594[1090108] = sub_489300(
                                       *(int *)&byte_5D4594[1090048],
                                       1088,
                                       0,
                                       v47,
                                       *(int *)&byte_5D4594[1090040],
                                       v30,
                                       v49,
                                       v45);
  *(_DWORD *)&v49[68] = *(_DWORD *)&byte_5D4594[2618904];
  v45[0] = sub_40F1D0((char *)&byte_587000[146416], 0, (const char *)&byte_587000[146380], 1798);
  *(_DWORD *)&byte_5D4594[1090104] = sub_489300(
                                       *(int *)&byte_5D4594[1090048],
                                       1088,
                                       0,
                                       0,
                                       *(int *)&byte_5D4594[1090040],
                                       v30,
                                       v49,
                                       v45);
  result = *(_DWORD *)&byte_5D4594[1090048];
  *(_DWORD *)&byte_587000[145664] = 1;
  return result;
}

//----- (0046F030) --------------------------------------------------------
wchar_t *sub_46F030()
{
  int i; // esi
  wchar_t *result; // eax

  for ( i = 0; i < 12; i += 4 )
  {
    result = sub_40F1D0(*(char **)&byte_587000[i + 145676], 0, (const char *)&byte_587000[146432], 167);
    *(_DWORD *)&byte_5D4594[i + 1084056] = result;
  }
  return result;
}

//----- (0046F060) --------------------------------------------------------
int sub_46F060()
{
  return 0;
}

//----- (0046F070) --------------------------------------------------------
int sub_46F070()
{
  return 0;
}

//----- (0046F080) --------------------------------------------------------
int __cdecl sub_46F080(int a1, int a2)
{
  char *v2; // ebp
  char *v4; // esi
  __int16 v5; // ax
  int v6; // eax
  _DWORD *v7; // eax
  int v8; // eax
  int v9; // eax
  wchar_t *v10; // eax
  wchar_t *v11; // eax
  unsigned __int8 v12; // bl
  unsigned __int8 v13; // di
  int v14; // esi
  int v15; // ebp
  int v16; // edi
  int v17; // esi
  int v18; // eax
  unsigned __int8 v19; // al
  char *v20; // eax
  wchar_t *v21; // eax
  wchar_t *v22; // edi
  wchar_t *v23; // eax
  wchar_t *v24; // eax
  int v25; // esi
  wchar_t *v26; // eax
  int v27; // [esp-14h] [ebp-38h]
  int v28; // [esp-10h] [ebp-34h]
  int v29; // [esp-10h] [ebp-34h]
  int v30; // [esp-10h] [ebp-34h]
  unsigned __int8 v31; // [esp+4h] [ebp-20h]
  unsigned __int8 v32; // [esp+4h] [ebp-20h]
  int v33; // [esp+8h] [ebp-1Ch]
  int v34; // [esp+Ch] [ebp-18h]
  char *v35; // [esp+10h] [ebp-14h]
  int v36; // [esp+14h] [ebp-10h]
  int v37; // [esp+18h] [ebp-Ch]
  int xLeft; // [esp+1Ch] [ebp-8h]
  int yTop; // [esp+20h] [ebp-4h]
  unsigned __int8 v40; // [esp+28h] [ebp+4h]

  v2 = 0;
  v35 = 0;
  if ( !sub_40A5C0(8) && *(_DWORD *)&byte_587000[145668] != 6 )
  {
    *(_DWORD *)&byte_5D4594[1090120] = *(_DWORD *)&byte_587000[145668] - 1;
    if ( *(int *)&byte_587000[145668] - 1 < 0 )
      *(_DWORD *)&byte_5D4594[1090120] = 5;
    sub_4703F0();
    *(_DWORD *)&byte_587000[145668] = 6;
    if ( !*(_DWORD *)&byte_5D4594[1090120] )
      return 1;
  }
  sub_46AA60((_DWORD *)a1, &xLeft, &yTop);
  v4 = sub_416590(0);
  if ( sub_40A5C0(1) )
  {
    v5 = sub_40A5B0();
    v6 = (unsigned __int16)sub_40A020(v5);
  }
  else
  {
    v6 = *((unsigned __int16 *)v4 + 27);
  }
  v34 = v6;
  if ( (signed char)*(_BYTE *)(a1 + 4) >= 0 )
  {
    if ( *(_DWORD *)(a2 + 20) != 0x80000000 )
      sub_49CF10(xLeft, yTop, *(_DWORD *)(a1 + 8), *(_DWORD *)(a1 + 12));
  }
  else
  {
    sub_47D2C0(*(_DWORD *)(a2 + 24), xLeft, yTop);
  }
  if ( *(_DWORD *)&byte_587000[145664]
    || *(_DWORD *)&byte_5D4594[2598000] > (unsigned int)(*(_DWORD *)&byte_5D4594[1090124]
                                                       + *(_DWORD *)&byte_5D4594[2649704]) )
  {
    *(_DWORD *)&byte_5D4594[3799524] = 1;
    *(_DWORD *)&byte_5D4594[1090124] = *(_DWORD *)&byte_5D4594[2598000];
    *(_DWORD *)&byte_587000[145672] = -1;
    v33 = 0;
    sub_46DB80();
    sub_46DCC0();
    *(_DWORD *)&byte_587000[145664] = 0;
    v7 = sub_418C80(*(int *)&byte_5D4594[2616328]);
    if ( v7 )
    {
      v2 = sub_418AB0(*((unsigned __int8 *)v7 + 4));
      v35 = v2;
    }
    if ( *(_DWORD *)&byte_5D4594[2618908] )
    {
      v8 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[2618908] + 3680);
      if ( !(v8 & 1) || v8 & 0x20 )
        v33 = 1;
    }
    v9 = *(_DWORD *)&byte_5D4594[1090120];
    if ( byte_5D4594[1090116] && (*(_DWORD *)&byte_5D4594[1090120] == 2 || *(_DWORD *)&byte_5D4594[1090120] == 3) )
    {
      v10 = sub_40F1D0((char *)&byte_587000[146504], 0, (const char *)&byte_587000[146468], 1338);
      sub_46DC60(*(int *)&byte_5D4594[1090060], 9u, (int)v10);
      sub_46DC60(*(int *)&byte_5D4594[1090068], 9u, (int)&byte_587000[146512]);
      sub_46DC60(*(int *)&byte_5D4594[1090076], 9u, (int)&byte_587000[146516]);
      v11 = sub_40F1D0((char *)&byte_587000[146556], 0, (const char *)&byte_587000[146520], 1341);
      sub_46DC60(*(int *)&byte_5D4594[1090084], 9u, (int)v11);
      sub_46DC60(*(int *)&byte_5D4594[1090092], 9u, (int)&byte_587000[146564]);
      v12 = 0;
      v31 = 0;
      if ( byte_5D4594[1090116] )
      {
        do
        {
          v13 = sub_46FEB0(v31);
          v14 = 56 * v31;
          sub_46DC30(*(int *)&byte_5D4594[1090060], v13, (wchar_t *)&byte_587000[146568], &byte_5D4594[v14 + 1087204]);
          sub_46DC30(*(int *)&byte_5D4594[1090068], v13, (wchar_t *)&byte_587000[146576]);
          sub_46DC30(*(int *)&byte_5D4594[1090076], v13, (wchar_t *)&byte_587000[146580]);
          sub_46DC30(
            *(int *)&byte_5D4594[1090084],
            v13,
            (wchar_t *)&byte_587000[146584],
            *(_DWORD *)&byte_5D4594[v14 + 1087252]);
          sub_46DC30(*(int *)&byte_5D4594[1090092], v13, (wchar_t *)&byte_587000[146592]);
          v31 = ++v12;
        }
        while ( v12 < byte_5D4594[1090116] );
      }
      else
      {
        v13 = a1;
      }
      sub_46DC30(*(int *)&byte_5D4594[1090060], v13, (wchar_t *)&byte_587000[146596]);
      sub_46DC30(*(int *)&byte_5D4594[1090068], v13, (wchar_t *)&byte_587000[146600]);
      sub_46DC30(*(int *)&byte_5D4594[1090076], v13, (wchar_t *)&byte_587000[146604]);
      sub_46DC30(*(int *)&byte_5D4594[1090084], v13, (wchar_t *)&byte_587000[146608]);
      sub_46DC30(*(int *)&byte_5D4594[1090092], v13, (wchar_t *)&byte_587000[146612]);
      v9 = *(_DWORD *)&byte_5D4594[1090120];
    }
    v36 = *(__int16 *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1090060] + 32) + 46);
    if ( byte_5D4594[1090117] && (v9 == 2 || v9 == 4 || v9 == 5) )
    {
      sub_46F8F0(0, 0);
      v9 = *(_DWORD *)&byte_5D4594[1090120];
      if ( *(_DWORD *)&byte_5D4594[1090120] == 4 )
      {
        if ( byte_5D4594[1090117] <= 3u )
          LOBYTE(a2) = byte_5D4594[1090117];
        else
          LOBYTE(a2) = 3;
      }
      else
      {
        LOBYTE(a2) = byte_5D4594[1090117];
      }
      v32 = 0;
      if ( (_BYTE)a2 )
      {
        do
        {
          v15 = 0;
          v16 = v32 >> 4;
          if ( v32 == 16 )
            sub_46F8F0(1, v36);
          if ( sub_40A5C0(1024) && v34 > 0 && *(int *)&byte_5D4594[80 * v32 + 1084196] >= v34 )
            v15 = 1;
          v17 = 80 * v32;
          v18 = *(_DWORD *)&byte_5D4594[v17 + 1084208];
          if ( !(v18 & 1) || v18 & 0x20 || v15 )
          {
            if ( *(int *)&byte_5D4594[80 * v32 + 1084184] == -1 )
            {
              v40 = 3;
              if ( v18 & 0x20 || v15 )
                v40 = 2;
            }
            else
            {
              v19 = sub_46FE60(*(_DWORD *)&byte_5D4594[80 * v32 + 1084184]);
              v40 = sub_46FEB0(v19);
              if ( byte_5D4594[80 * v32 + 1084208] & 0x20 || v15 )
                v40 -= 2;
            }
          }
          else
          {
            v40 = 9;
          }
          if ( *(_DWORD *)&byte_5D4594[80 * v32 + 1084192] == *(_DWORD *)&byte_5D4594[2616328] )
          {
            *(_DWORD *)&byte_587000[145672] = *(__int16 *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[4 * v16 + 1090060] + 32)
                                                         + 46);
            *(_DWORD *)&byte_5D4594[1088996] = v32 >> 4;
          }
          sub_46DC30(
            *(_DWORD *)&byte_5D4594[4 * v16 + 1090060],
            v40,
            (wchar_t *)&byte_587000[146616],
            &byte_5D4594[v17 + 1084132]);
          sub_46DC30(
            *(_DWORD *)&byte_5D4594[4 * v16 + 1090076],
            v40,
            (wchar_t *)&byte_587000[146624],
            *(_DWORD *)&byte_5D4594[4 * byte_5D4594[80 * v32 + 1084188] + 1084056]);
          if ( *(_DWORD *)&byte_5D4594[1090120] != 5 || *(_DWORD *)&byte_5D4594[80 * v32 + 1084196] > 0 )
            sub_46DC30(
              *(_DWORD *)&byte_5D4594[4 * v16 + 1090084],
              v40,
              (wchar_t *)&byte_587000[146632],
              *(_DWORD *)&byte_5D4594[80 * v32 + 1084196]);
          else
            sub_46DC30(*(_DWORD *)&byte_5D4594[4 * v16 + 1090084], v40, (wchar_t *)&byte_587000[146640]);
          sub_46DC30(
            *(_DWORD *)&byte_5D4594[4 * v16 + 1090092],
            v40,
            (wchar_t *)&byte_587000[146648],
            *(_DWORD *)&byte_5D4594[80 * v32 + 1084200]);
          if ( *(_DWORD *)&byte_5D4594[1090120] == 5 )
          {
            v20 = sub_417040(*(_DWORD *)&byte_5D4594[80 * v32 + 1084192]);
            if ( v20 )
              sub_46DC30(*(_DWORD *)&byte_5D4594[4 * v16 + 1090068], v40, (wchar_t *)&byte_587000[146656], v20 + 2096);
          }
          else
          {
            v21 = sub_46FB50(*(_DWORD *)&byte_5D4594[80 * v32 + 1084204], &v37);
            sub_46DC60(*(_DWORD *)&byte_5D4594[4 * v16 + 1090068], v37, (int)v21);
          }
          ++v32;
        }
        while ( v32 < (unsigned __int8)a2 );
        v9 = *(_DWORD *)&byte_5D4594[1090120];
        v2 = v35;
      }
    }
    else if ( v9 == 1 )
    {
      sub_46FFD0();
      v9 = *(_DWORD *)&byte_5D4594[1090120];
    }
    switch ( v9 )
    {
      case 1:
      case 2:
      case 4:
      case 5:
        switch ( v9 )
        {
          case 2:
            v22 = sub_40F1D0((char *)&byte_587000[146704], 0, (const char *)&byte_587000[146668], 1475);
            break;
          case 4:
            v22 = sub_40F1D0((char *)&byte_587000[146756], 0, (const char *)&byte_587000[146720], 1479);
            break;
          case 5:
            v22 = sub_40F1D0((char *)&byte_587000[146800], 0, (const char *)&byte_587000[146764], 1483);
            break;
          case 1:
            v22 = sub_40F1D0((char *)&byte_587000[146844], 0, (const char *)&byte_587000[146808], 1487);
            break;
          default:
            v22 = (wchar_t *)a2;
            break;
        }
        if ( !sub_40A5C0(1) || !(*(_DWORD *)&byte_5D4594[2650636] & 0x40000) )
        {
          if ( *(_DWORD *)&byte_5D4594[1090120] == 1 )
          {
            v28 = sub_450B10();
            v23 = sub_40F1D0((char *)&byte_587000[146900], 0, (const char *)&byte_587000[146864], 1499);
            nox_swprintf((wchar_t *)&byte_5D4594[1086692], (const wchar_t *)&byte_587000[146920], v23, v28);
          }
          else
          {
            v29 = byte_5D4594[1090118];
            v27 = (unsigned __int8)sub_46FEE0();
            v24 = sub_40F1D0((char *)&byte_587000[146968], 0, (const char *)&byte_587000[146932], 1501);
            nox_swprintf((wchar_t *)&byte_5D4594[1086692], (const wchar_t *)&byte_587000[146980], v24, v27, v29);
          }
        }
        break;
      case 3:
        if ( v2 )
        {
          v33 = 1;
          v25 = (unsigned __int8)sub_46FF70(*((_DWORD *)v2 + 13));
        }
        else
        {
          v25 = 0;
        }
        v22 = sub_40F1D0((char *)&byte_587000[147040], 0, (const char *)&byte_587000[147004], 1519);
        if ( !sub_40A5C0(1) || !(*(_DWORD *)&byte_5D4594[2650636] & 0x40000) )
        {
          v30 = byte_5D4594[1090116];
          v26 = sub_40F1D0((char *)&byte_587000[147084], 0, (const char *)&byte_587000[147048], 1525);
          nox_swprintf((wchar_t *)&byte_5D4594[1086692], (const wchar_t *)&byte_587000[147100], v26, v25, v30);
        }
        break;
      default:
        v22 = (wchar_t *)a2;
        break;
    }
    if ( v33 )
    {
      if ( sub_46ACC0(*(int *)&byte_5D4594[1090100]) )
        sub_46AC00(*(int *)&byte_5D4594[1090100], 0);
      sub_46B490(*(int *)&byte_5D4594[1090100], 16385, (int)&byte_5D4594[1086692], 0);
    }
    else if ( !sub_46ACC0(*(int *)&byte_5D4594[1090100]) )
    {
      sub_46AC00(*(int *)&byte_5D4594[1090100], 1);
    }
    sub_46B490(*(int *)&byte_5D4594[1090104], 16385, (int)v22, 0);
    sub_46FC50();
    sub_46FD80();
  }
  if ( (int)*(_DWORD *)&byte_587000[145672] >= 0 )
    sub_46FAE0();
  return 1;
}

//----- (0046F8F0) --------------------------------------------------------
wchar_t *__cdecl sub_46F8F0(int a1, int a2)
{
  int v2; // edi
  wchar_t *v3; // eax
  wchar_t *v4; // eax
  wchar_t *v6; // [esp-14h] [ebp-1Ch]
  wchar_t *v7; // [esp-14h] [ebp-1Ch]
  wchar_t *v8; // [esp-14h] [ebp-1Ch]

  v2 = a2;
  if ( a2 > 0 )
  {
    do
    {
      sub_46DC60(*(_DWORD *)&byte_5D4594[4 * a1 + 1090060], 9u, (int)&byte_587000[147124]);
      sub_46DC60(*(_DWORD *)&byte_5D4594[4 * a1 + 1090068], 9u, (int)&byte_587000[147128]);
      sub_46DC60(*(_DWORD *)&byte_5D4594[4 * a1 + 1090076], 9u, (int)&byte_587000[147132]);
      sub_46DC60(*(_DWORD *)&byte_5D4594[4 * a1 + 1090084], 9u, (int)&byte_587000[147136]);
      sub_46DC60(*(_DWORD *)&byte_5D4594[4 * a1 + 1090092], 9u, (int)&byte_587000[147140]);
      --v2;
    }
    while ( v2 );
  }
  v3 = sub_40F1D0((char *)&byte_587000[147180], 0, (const char *)&byte_587000[147144], 189);
  sub_46DC60(*(_DWORD *)&byte_5D4594[4 * a1 + 1090060], 9u, (int)v3);
  sub_46DC60(*(_DWORD *)&byte_5D4594[4 * a1 + 1090068], 9u, (int)&byte_587000[147188]);
  if ( *(_DWORD *)&byte_5D4594[1090120] == 1 )
    v6 = sub_40F1D0((char *)&byte_587000[147228], 0, (const char *)&byte_587000[147192], 193);
  else
    v6 = sub_40F1D0((char *)&byte_587000[147280], 0, (const char *)&byte_587000[147244], 195);
  sub_46DC60(*(_DWORD *)&byte_5D4594[4 * a1 + 1090076], 9u, (int)v6);
  if ( *(_DWORD *)&byte_5D4594[1090120] == 5 )
  {
    v7 = sub_40F1D0((char *)&byte_587000[147324], 0, (const char *)&byte_587000[147288], 199);
    sub_46DC60(*(_DWORD *)&byte_5D4594[4 * a1 + 1090084], 9u, (int)v7);
  }
  else
  {
    if ( *(_DWORD *)&byte_5D4594[1090120] == 1 )
      v8 = sub_40F1D0((char *)&byte_587000[147368], 0, (const char *)&byte_587000[147332], 201);
    else
      v8 = sub_40F1D0((char *)&byte_587000[147420], 0, (const char *)&byte_587000[147384], 203);
    sub_46DC60(*(_DWORD *)&byte_5D4594[4 * a1 + 1090084], 9u, (int)v8);
  }
  if ( *(_DWORD *)&byte_5D4594[1090120] == 1 )
    v4 = sub_40F1D0((char *)&byte_587000[147464], 0, (const char *)&byte_587000[147428], 207);
  else
    v4 = sub_40F1D0((char *)&byte_587000[147508], 0, (const char *)&byte_587000[147472], 209);
  return sub_46DC60(*(_DWORD *)&byte_5D4594[4 * a1 + 1090092], 9u, (int)v4);
}

//----- (0046FAE0) --------------------------------------------------------
void sub_46FAE0()
{
  int yTop; // [esp+0h] [ebp-8h]
  int v1; // [esp+4h] [ebp-4h]

  sub_46AA60(*(_DWORD **)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1088996] + 1090060], &v1, &yTop);
  yTop += *(_DWORD *)&byte_587000[145672]
        * *(__int16 *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1088996] + 1090060] + 32) + 2)
        + *(__int16 *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1088996] + 1090060] + 32) + 2)
        / 2;
  sub_434460(*(int *)&byte_5D4594[2589772]);
  sub_499B70(v1 + 1, yTop, 3);
}

//----- (0046FB50) --------------------------------------------------------
wchar_t *__cdecl sub_46FB50(int a1, _BYTE *a2)
{
  wchar_t *v2; // eax
  wchar_t *result; // eax
  wchar_t *v4; // eax
  wchar_t *v5; // eax
  wchar_t *v6; // eax

  switch ( a1 )
  {
    case 4:
      v2 = sub_40F1D0((char *)&byte_587000[147552], 0, (const char *)&byte_587000[147516], 244);
      nox_swprintf((wchar_t *)&byte_5D4594[1090024], (const wchar_t *)&byte_587000[147560], v2);
      *a2 = 4;
      result = (wchar_t *)&byte_5D4594[1090024];
      break;
    case 1:
      v4 = sub_40F1D0((char *)&byte_587000[147604], 0, (const char *)&byte_587000[147568], 250);
      nox_swprintf((wchar_t *)&byte_5D4594[1090024], (const wchar_t *)&byte_587000[147612], v4);
      result = (wchar_t *)&byte_5D4594[1090024];
      *a2 = 4;
      break;
    case 2:
      v5 = sub_40F1D0((char *)&byte_587000[147656], 0, (const char *)&byte_587000[147620], 256);
      nox_swprintf((wchar_t *)&byte_5D4594[1090024], (const wchar_t *)&byte_587000[147664], v5);
      result = (wchar_t *)&byte_5D4594[1090024];
      *a2 = 7;
      break;
    case 3:
      v6 = sub_40F1D0((char *)&byte_587000[147708], 0, (const char *)&byte_587000[147672], 262);
      nox_swprintf((wchar_t *)&byte_5D4594[1090024], (const wchar_t *)&byte_587000[147716], v6);
      *a2 = 13;
      result = (wchar_t *)&byte_5D4594[1090024];
      break;
    default:
      result = (wchar_t *)&byte_587000[147724];
      *a2 = 4;
      break;
  }
  return result;
}

//----- (0046FC50) --------------------------------------------------------
char sub_46FC50()
{
  __int16 v0; // ax
  __int16 v1; // ax
  int v2; // eax
  int v3; // eax
  wchar_t *v4; // eax
  int v6; // [esp-Ch] [ebp-Ch]
  int v7; // [esp-8h] [ebp-8h]

  if ( sub_40A220() && (!sub_40A5C0(1) || sub_40A300() || (v0 = sub_40A5B0(), sub_40A180(v0))) )
  {
    if ( !sub_40A5C0(1) || sub_40A300() || (v1 = sub_40A5B0(), LOBYTE(v2) = sub_40A180(v1), (_BYTE)v2) )
    {
      if ( sub_46ACC0(*(int *)&byte_5D4594[1090108]) )
        sub_46AC00(*(int *)&byte_5D4594[1090108], 0);
      v3 = sub_40A230();
      v7 = v3 % 60000 / 1000;
      v6 = v3 / 60000;
      v4 = sub_40F1D0((char *)&byte_587000[147764], 0, (const char *)&byte_587000[147728], 352);
      nox_swprintf((wchar_t *)&byte_5D4594[1084068], v4, v6, v7);
      LOBYTE(v2) = sub_46B490(*(int *)&byte_5D4594[1090108], 16385, (int)&byte_5D4594[1084068], 0);
    }
  }
  else
  {
    v2 = sub_46ACC0(*(int *)&byte_5D4594[1090108]);
    if ( !v2 )
      LOBYTE(v2) = sub_46AC00(*(int *)&byte_5D4594[1090108], 1);
  }
  return v2;
}

//----- (0046FD80) --------------------------------------------------------
int sub_46FD80()
{
  int result; // eax
  __int16 v1; // ax
  int v2; // eax
  wchar_t *v3; // eax
  int v4; // [esp-4h] [ebp-4h]

  if ( sub_40A5C0(4224) )
  {
    result = sub_46ACC0(*(int *)&byte_5D4594[1090112]);
    if ( !result )
      result = sub_46AC00(*(int *)&byte_5D4594[1090112], 1);
  }
  else
  {
    if ( sub_46ACC0(*(int *)&byte_5D4594[1090112]) )
      sub_46AC00(*(int *)&byte_5D4594[1090112], 0);
    if ( sub_40A5C0(1) )
    {
      v1 = sub_40A5B0();
      v2 = (unsigned __int16)sub_40A020(v1);
    }
    else
    {
      v2 = *((unsigned __int16 *)sub_416590(0) + 27);
    }
    v4 = v2;
    v3 = sub_40F1D0((char *)&byte_587000[147816], 0, (const char *)&byte_587000[147780], 390);
    nox_swprintf((wchar_t *)&byte_5D4594[1083972], v3, v4);
    result = sub_46B490(*(int *)&byte_5D4594[1090112], 16385, (int)&byte_5D4594[1083972], 0);
  }
  return result;
}

//----- (0046FE60) --------------------------------------------------------
unsigned __int8 __cdecl sub_46FE60(int a1)
{
  unsigned __int8 result; // al
  unsigned __int8 v2; // [esp+8h] [ebp-4h]

  result = 0;
  v2 = 0;
  if ( !byte_5D4594[1090116] )
    return 0;
  while ( *(_DWORD *)&byte_5D4594[56 * v2 + 1087248] != a1 )
  {
    v2 = ++result;
    if ( result >= byte_5D4594[1090116] )
      return 0;
  }
  return result;
}

//----- (0046FEB0) --------------------------------------------------------
unsigned __int8 __cdecl sub_46FEB0(unsigned __int8 a1)
{
  return byte_587000[8 * (byte_5D4594[56 * a1 + 1087256] % 10) + 145584];
}

//----- (0046FEE0) --------------------------------------------------------
char sub_46FEE0()
{
  int v0; // eax
  char v1; // bl
  unsigned __int8 *i; // edx
  int v4; // esi
  int v5; // ecx
  unsigned __int8 *v6; // eax
  int v7; // ecx
  unsigned __int8 *v8; // eax

  v0 = 0;
  v1 = 1;
  if ( !byte_5D4594[1090117] )
    return 0;
  for ( i = &byte_5D4594[1084192]; *(_DWORD *)i != *(_DWORD *)&byte_5D4594[2616328]; i += 80 )
  {
    if ( ++v0 >= (unsigned int)byte_5D4594[1090117] )
      return 0;
  }
  v4 = *(_DWORD *)&byte_5D4594[80 * v0 + 1084196];
  if ( !sub_40A5C0(1024) )
  {
    v7 = byte_5D4594[1090117];
    if ( byte_5D4594[1090117] )
    {
      v8 = &byte_5D4594[1084196];
      do
      {
        if ( *(_DWORD *)v8 > v4 )
          ++v1;
        v8 += 80;
        --v7;
      }
      while ( v7 );
    }
    return v1;
  }
  v5 = byte_5D4594[1090117];
  if ( !byte_5D4594[1090117] )
    return v1;
  v6 = &byte_5D4594[1084196];
  do
  {
    if ( *(_DWORD *)v6 < v4 )
      ++v1;
    v6 += 80;
    --v5;
  }
  while ( v5 );
  return v1;
}

//----- (0046FF70) --------------------------------------------------------
char __cdecl sub_46FF70(int a1)
{
  char v1; // bl
  int v2; // ecx
  unsigned __int8 *v3; // eax
  int v5; // ecx
  unsigned __int8 *v6; // eax

  v1 = 1;
  if ( !sub_40A5C0(1024) )
  {
    v5 = byte_5D4594[1090116];
    if ( byte_5D4594[1090116] )
    {
      v6 = &byte_5D4594[1087252];
      do
      {
        if ( *(_DWORD *)v6 > a1 )
          ++v1;
        v6 += 56;
        --v5;
      }
      while ( v5 );
    }
    return v1;
  }
  v2 = byte_5D4594[1090116];
  if ( !byte_5D4594[1090116] )
    return v1;
  v3 = &byte_5D4594[1087252];
  do
  {
    if ( *(_DWORD *)v3 < a1 )
      ++v1;
    v3 += 56;
    --v2;
  }
  while ( v2 );
  return v1;
}

//----- (0046FFD0) --------------------------------------------------------
unsigned __int8 sub_46FFD0()
{
  unsigned __int8 result; // al
  int v1; // ebx
  unsigned __int8 *v2; // ebp
  char *v3; // eax
  unsigned __int8 *v4; // esi
  unsigned __int8 v5; // al
  unsigned __int8 v6; // di
  int v7; // edx
  int v8; // eax
  int v9; // eax
  int v10; // eax
  wchar_t *v11; // eax
  int v12; // eax
  int v13; // edx
  int v14; // eax
  unsigned __int8 v15; // cl
  float v16; // [esp+0h] [ebp-4Ch]
  int v17; // [esp+14h] [ebp-38h]
  int v18; // [esp+18h] [ebp-34h]
  int v19; // [esp+1Ch] [ebp-30h]
  int v20; // [esp+20h] [ebp-2Ch]
  int v21; // [esp+24h] [ebp-28h]
  int v22; // [esp+28h] [ebp-24h]
  int v23; // [esp+2Ch] [ebp-20h]
  int v24; // [esp+30h] [ebp-1Ch]
  float v25; // [esp+34h] [ebp-18h]
  int v26; // [esp+38h] [ebp-14h]
  int v27; // [esp+3Ch] [ebp-10h]
  int v28; // [esp+40h] [ebp-Ch]
  int v29; // [esp+44h] [ebp-8h]
  int v30; // [esp+48h] [ebp-4h]

  sub_46DB80();
  sub_46F8F0(0, 0);
  result = byte_5D4594[1090117];
  v23 = 0;
  if ( byte_5D4594[1090117] )
  {
    v1 = 1;
    v2 = &byte_5D4594[1084184];
    do
    {
      v3 = sub_417040(*((_DWORD *)v2 + 2));
      v4 = (unsigned __int8 *)v3;
      if ( v3 && *((_DWORD *)v3 + 1198) )
      {
        if ( v2[24] & 1 )
        {
          LOBYTE(v21) = 9;
        }
        else if ( *(int *)v2 == -1 )
        {
          LOBYTE(v21) = 4;
        }
        else
        {
          v5 = sub_46FE60(*(_DWORD *)v2);
          LOBYTE(v21) = sub_46FEB0(v5);
        }
        if ( *((_DWORD *)v2 + 2) == *(_DWORD *)&byte_5D4594[2616328] )
        {
          *(_DWORD *)&byte_587000[145672] = *(__int16 *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1090060] + 32) + 46);
          *(_DWORD *)&byte_5D4594[1088996] = 0;
        }
        v6 = v21;
        sub_46DC30(*(int *)&byte_5D4594[1090060], v21, (wchar_t *)&byte_587000[147828], v2 - 52);
        sub_46DC30(*(int *)&byte_5D4594[1090076], v6, (wchar_t *)&byte_587000[147836], v4[4816]);
        v7 = *((_DWORD *)v2 + 2);
        v8 = v4[2282];
        LOBYTE(v22) = 4;
        if ( v7 == *(_DWORD *)&byte_5D4594[2616328] )
        {
          v9 = sub_470CD0();
          v24 = v9;
          v25 = (double)v9;
          v10 = sub_470CC0();
          v24 = v10;
          v16 = (double)v10 / v25 * 100.0;
          v8 = sub_419A70(v16);
        }
        if ( v8 > 25 )
        {
          if ( v8 <= 50 )
            LOBYTE(v22) = 15;
        }
        else
        {
          LOBYTE(v22) = 6;
        }
        sub_46DC30(*(int *)&byte_5D4594[1090084], v22, (wchar_t *)&byte_587000[147844], v8);
        sub_46DC30(
          *(int *)&byte_5D4594[1090092],
          v6,
          (wchar_t *)&byte_587000[147856],
          *(_DWORD *)&byte_5D4594[4 * v2[4] + 1084056]);
        v11 = sub_46FB50(*((_DWORD *)v2 + 5), &v26);
        sub_46DC60(*(int *)&byte_5D4594[1090068], v26, (int)v11);
        if ( v4[4824] )
        {
          sub_46AA60(*(_DWORD **)&byte_5D4594[1090068], &v19, &v18);
          sub_46AB70(*(int *)&byte_5D4594[1090068], &v28, &v27);
          v12 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1090068] + 32);
          v19 += 5;
          v18 = v18 + *(__int16 *)(v12 + 2) / 2 + *(__int16 *)(v12 + 2) * v1 - 1;
          sub_434460(*(int *)&byte_5D4594[2523948]);
          sub_4C3270(v19, v18, 2, *(int *)&byte_5D4594[2523948]);
          sub_49F500(v19 + 2, v18);
          sub_49F500(v19 + 9, v18);
          sub_49E4B0();
          sub_49F500(v19 + 9, v18);
          sub_49F500(v19 + 9, v18 + 3);
          sub_49E4B0();
          sub_49F500(v19 + 7, v18);
          sub_49F500(v19 + 7, v18 + 2);
          sub_49E4B0();
        }
        if ( v4[4825] )
        {
          sub_46AA60(*(_DWORD **)&byte_5D4594[1090068], &v17, &v20);
          sub_46AB70(*(int *)&byte_5D4594[1090068], &v30, &v29);
          v13 = v17 + 5;
          v14 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1090068] + 32);
          v15 = v4[4824];
          v17 += 5;
          if ( v15 == 1 )
            v17 = v13 + 15;
          v20 = v20 + *(__int16 *)(v14 + 2) / 2 + *(__int16 *)(v14 + 2) * v1 - 1;
          sub_434460(*(int *)&byte_5D4594[2589772]);
          sub_4C3270(v17, v20, 2, *(int *)&byte_5D4594[2589772]);
          sub_49F500(v17 + 2, v20);
          sub_49F500(v17 + 9, v20);
          sub_49E4B0();
          sub_49F500(v17 + 9, v20);
          sub_49F500(v17 + 9, v20 + 3);
          sub_49E4B0();
          sub_49F500(v17 + 7, v20);
          sub_49F500(v17 + 7, v20 + 2);
          sub_49E4B0();
        }
        ++v1;
      }
      result = v23 + 1;
      v2 += 80;
      ++v23;
    }
    while ( v23 < byte_5D4594[1090117] );
    *(_DWORD *)&byte_587000[145664] = 1;
  }
  else
  {
    *(_DWORD *)&byte_587000[145664] = 1;
  }
  return result;
}

//----- (004703F0) --------------------------------------------------------
int sub_4703F0()
{
  int result; // eax
  int v1; // edx

  *(_DWORD *)&byte_5D4594[1090120] = (*(_DWORD *)&byte_5D4594[1090120] + 1) % 6;
  result = sub_43AF70();
  v1 = *(_DWORD *)&byte_5D4594[1090120];
  if ( result || *(_DWORD *)&byte_5D4594[1090120] != 5 )
  {
    if ( *(_DWORD *)&byte_5D4594[1090120] == 1 )
    {
      result = sub_40A5C0(4096);
      v1 = *(_DWORD *)&byte_5D4594[1090120];
      if ( !result )
      {
        result = (*(_DWORD *)&byte_5D4594[1090120] + 1) / 6;
        v1 = (*(_DWORD *)&byte_5D4594[1090120] + 1) % 6;
        *(_DWORD *)&byte_5D4594[1090120] = (*(_DWORD *)&byte_5D4594[1090120] + 1) % 6;
      }
    }
  }
  else
  {
    v1 = 0;
    *(_DWORD *)&byte_5D4594[1090120] = 0;
  }
  switch ( v1 )
  {
    case 0:
      sub_46B500(0);
      sub_46AC00(*(int *)&byte_5D4594[1090048], 1);
      sub_46AC00(*(int *)&byte_5D4594[1090100], 1);
      *(_DWORD *)(*(_DWORD *)&byte_5D4594[1090052] + 4) &= 0xFFFFFFF7;
      result = *(_DWORD *)&byte_5D4594[1090056];
      *(_DWORD *)(*(_DWORD *)&byte_5D4594[1090056] + 4) &= 0xFFFFFFF7;
      break;
    case 1:
    case 2:
      sub_46A8C0(*(int *)&byte_5D4594[1090048]);
      sub_46A8C0(*(int *)&byte_5D4594[1090100]);
      sub_46AC00(*(int *)&byte_5D4594[1090100], 0);
      *(_DWORD *)(*(_DWORD *)&byte_5D4594[1090052] + 4) |= 8u;
      result = *(_DWORD *)&byte_5D4594[1090056];
      *(_DWORD *)(*(_DWORD *)&byte_5D4594[1090056] + 4) |= 8u;
      goto LABEL_10;
    case 3:
    case 4:
    case 5:
LABEL_10:
      *(_DWORD *)&byte_587000[145664] = 1;
      break;
    default:
      return result;
  }
  return result;
}

//----- (00470510) --------------------------------------------------------
int sub_470510()
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[1090048];
  if ( *(_DWORD *)&byte_5D4594[1090048] )
  {
    result = *(_DWORD *)&byte_5D4594[1090120];
    if ( *(_DWORD *)&byte_5D4594[1090120] == 2 )
    {
      *(_DWORD *)&byte_587000[145664] = 1;
    }
    else
    {
      *(_DWORD *)&byte_587000[145668] = *(_DWORD *)&byte_5D4594[1090120];
      *(_DWORD *)&byte_5D4594[1090120] = 0;
      result = sub_4703F0();
    }
  }
  return result;
}

//----- (00470550) --------------------------------------------------------
int sub_470550()
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[1090048];
  if ( *(_DWORD *)&byte_5D4594[1090048] )
  {
    result = *(_DWORD *)&byte_5D4594[1090120];
    if ( *(_DWORD *)&byte_5D4594[1090120] )
    {
      *(_DWORD *)&byte_5D4594[1090120] = 4;
      result = sub_4703F0();
    }
  }
  return result;
}

//----- (00470580) --------------------------------------------------------
BOOL sub_470580()
{
  return *(_DWORD *)&byte_5D4594[1090120] && sub_46ACC0(*(int *)&byte_5D4594[1090048]) != 1;
}

//----- (004705B0) --------------------------------------------------------
int sub_4705B0()
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[1090048];
  if ( *(_DWORD *)&byte_5D4594[1090048] )
  {
    if ( sub_46ACC0(*(int *)&byte_5D4594[1090048]) )
      sub_46AC00(*(int *)&byte_5D4594[1090048], 0);
    *(_DWORD *)&byte_5D4594[1090120] = 0;
    result = sub_4703F0();
  }
  return result;
}

//----- (004705F0) --------------------------------------------------------
char __cdecl sub_4705F0(char a1, char a2, __int16 a3)
{
  char result; // al

  result = a2;
  if ( a2 == 1 )
  {
    result = a1;
    if ( a1 != 2 && a1 )
    {
      if ( a1 == 1 )
      {
        result = a3;
        *(_WORD *)&byte_5D4594[1090128] = a3;
      }
    }
    else
    {
      *(_WORD *)&byte_5D4594[1090128] = 0;
    }
  }
  else if ( a2 == 2 )
  {
    result = a1;
    if ( a1 != 2 && a1 )
    {
      if ( a1 == 1 )
        *(_WORD *)&byte_5D4594[1090130] = a3;
    }
    else
    {
      *(_WORD *)&byte_5D4594[1090130] = 0;
    }
  }
  return result;
}

//----- (00470650) --------------------------------------------------------
char __cdecl sub_470650(char a1, __int16 a2)
{
  char result; // al

  result = a1;
  if ( a1 && a1 != 1 )
  {
    if ( a1 == 4 || a1 == 2 )
    {
      result = a2;
      *(_WORD *)&byte_5D4594[1090132] = a2;
    }
  }
  else
  {
    *(_WORD *)&byte_5D4594[1090132] = 0;
  }
  return result;
}

//----- (00470680) --------------------------------------------------------
int sub_470680()
{
  int result; // eax

  result = 0;
  *(_WORD *)&byte_5D4594[1090128] = 0;
  *(_WORD *)&byte_5D4594[1090130] = 0;
  *(_WORD *)&byte_5D4594[1090132] = 0;
  return result;
}

//----- (004706A0) --------------------------------------------------------
BOOL sub_4706A0()
{
  return *(_DWORD *)&byte_5D4594[1090048] && *(_DWORD *)&byte_5D4594[1090120];
}

//----- (004706C0) --------------------------------------------------------
int __cdecl sub_4706C0(int a1)
{
  int result; // eax

  if ( a1 && *(_DWORD *)&byte_5D4594[1090180] && sub_46ADA0(*(int *)&byte_5D4594[1090176]) & 0x10 )
    result = sub_46A8C0(*(int *)&byte_5D4594[1090176]);
  else
    result = sub_46AC00(*(int *)&byte_5D4594[1090176], 1);
  return result;
}

//----- (00470710) --------------------------------------------------------
int sub_470710()
{
  int result; // eax

  result = sub_4A0AD0((const char *)&byte_587000[147868], 0);
  *(_DWORD *)&byte_5D4594[1090176] = result;
  if ( result )
  {
    sub_46B340(result, sub_470770);
    sub_46A9B0(
      *(_DWORD **)&byte_5D4594[1090176],
      121,
      *(_DWORD *)&byte_5D4594[3807120] - *(_DWORD *)(*(_DWORD *)&byte_5D4594[1090176] + 12) - 5);
    *(_DWORD *)&byte_5D4594[1090140] = sub_43F360((char *)&byte_587000[147880]);
    sub_4706C0(0);
    result = 1;
  }
  return result;
}

//----- (00470770) --------------------------------------------------------
int __cdecl sub_470770(int a1, int a2)
{
  int v1; // ebx
  DWORD v2; // eax
  DWORD v3; // ecx
  unsigned int v4; // eax
  unsigned __int8 v5; // cl
  int v6; // esi
  int v7; // ebp
  int i; // edi
  int v9; // eax
  int v10; // eax
  int xLeft; // [esp+Ch] [ebp-8h]
  int yTop; // [esp+10h] [ebp-4h]

  v1 = a1;
  sub_46AA60((_DWORD *)a1, &xLeft, &yTop);
  if ( *(int *)&byte_5D4594[1090256] >= *(int *)&byte_587000[147864] )
  {
    *(_DWORD *)&byte_587000[147864] = *(_DWORD *)&byte_5D4594[1090256] + 10;
    v2 = GetTickCount();
    v3 = v2;
    v4 = 0x2710 / (v2 - *(_DWORD *)&byte_5D4594[1090268]);
    *(_DWORD *)&byte_5D4594[1090264] = v3;
    *(_DWORD *)&byte_5D4594[1090268] = v3;
    *(_DWORD *)&byte_5D4594[1090260] = v4;
  }
  v5 = byte_5D4594[1090248];
  if ( *(_WORD *)&byte_5D4594[1090246] )
  {
    *(_WORD *)&byte_5D4594[1090246] = 0;
    ++*(_WORD *)&byte_5D4594[2 * byte_5D4594[1090248] + 1090184];
  }
  *(_DWORD *)&byte_5D4594[1090252] = (*(_DWORD *)&byte_5D4594[1090252] + 1) % 3u;
  if ( !*(_DWORD *)&byte_5D4594[1090252] )
    byte_5D4594[1090248] = (v5 + 1) % 31;
  sub_49CF10(xLeft, yTop, *(_DWORD *)(v1 + 8), *(_DWORD *)(v1 + 12));
  sub_434390(*(int *)&byte_5D4594[2523948]);
  nox_swprintf((wchar_t *)&byte_5D4594[1090144], (const wchar_t *)&byte_587000[147888], *(_DWORD *)&byte_5D4594[1090260]);
  sub_43F840(*(int *)&byte_5D4594[1090140], (unsigned __int16 *)&byte_5D4594[1090144], &a1, 0, 0);
  sub_43F6E0(
    *(int *)&byte_5D4594[1090140],
    (__int16 *)&byte_5D4594[1090144],
    xLeft + (*(int *)(v1 + 8) - a1) / 2,
    yTop + 3);
  v6 = xLeft + 1;
  v7 = yTop + 14;
  sub_434460(*(int *)&byte_5D4594[2650656]);
  sub_49CE30(v6, v7, 30, 3);
  for ( i = 1; i < 31; ++i )
  {
    v9 = *(unsigned __int16 *)&byte_5D4594[2 * ((i + byte_5D4594[1090248]) % 31) + 1090184];
    if ( (_WORD)v9 )
    {
      v10 = v9 - 1;
      if ( v10 )
      {
        if ( v10 == 1 )
        {
          a1 = 2;
          sub_434460(*(int *)&byte_5D4594[2589772]);
        }
        else
        {
          a1 = 3;
          sub_434460(*(int *)&byte_5D4594[2618904]);
        }
      }
      else
      {
        a1 = 1;
        sub_434460(*(int *)&byte_5D4594[2650644]);
      }
      if ( a1 )
        sub_49CC70(v6, v7 - a1 + 3, 1, a1);
    }
    else
    {
      a1 = 0;
    }
    ++v6;
  }
  if ( *(_DWORD *)&byte_5D4594[2614264] / 0xFAu )
  {
    if ( *(_DWORD *)&byte_5D4594[2614264] / 0xFAu == 1 )
      sub_434390(*(int *)&byte_5D4594[2589772]);
    else
      sub_434390(*(int *)&byte_5D4594[2650644]);
  }
  else
  {
    sub_434390(*(int *)&byte_5D4594[2618904]);
  }
  nox_swprintf((wchar_t *)&byte_5D4594[1090144], (const wchar_t *)&byte_587000[147896], *(_DWORD *)&byte_5D4594[2614264]);
  sub_43F840(*(int *)&byte_5D4594[1090140], (unsigned __int16 *)&byte_5D4594[1090144], &a1, 0, 0);
  sub_43F6E0(
    *(int *)&byte_5D4594[1090140],
    (__int16 *)&byte_5D4594[1090144],
    xLeft + (*(int *)(v1 + 8) - a1) / 2,
    yTop + 22);
  sub_434460(*(int *)&byte_5D4594[2614248]);
  sub_49CC70(xLeft, yTop, *(_DWORD *)(v1 + 8), *(_DWORD *)(v1 + 12));
  ++*(_DWORD *)&byte_5D4594[1090256];
  return 1;
}

//----- (00470A50) --------------------------------------------------------
int __cdecl sub_470A50(int a1)
{
  int result; // eax

  result = a1;
  *(_DWORD *)&byte_5D4594[1090180] = a1;
  return result;
}

//----- (00470A60) --------------------------------------------------------
int sub_470A60()
{
  *(_DWORD *)&byte_5D4594[1090180] = *(_DWORD *)&byte_5D4594[1090180] == 0;
  return sub_4706C0(1);
}

//----- (00470A80) --------------------------------------------------------
void sub_470A80()
{
  ++*(_WORD *)&byte_5D4594[1090246];
}

//----- (00470A90) --------------------------------------------------------
int sub_470A90()
{
  return *(_DWORD *)&byte_5D4594[1096252];
}

//----- (00470AA0) --------------------------------------------------------
int __cdecl sub_470AA0(int a1)
{
  int result; // eax

  result = a1;
  *(_DWORD *)&byte_5D4594[1096252] = a1;
  if ( *(_DWORD *)&byte_5D4594[1093176] )
  {
    if ( a1 )
    {
      sub_46AC00(*(int *)&byte_5D4594[1093076], 0);
      result = sub_46AC00(*(int *)&byte_5D4594[1093096], 0);
    }
    else
    {
      sub_46AC00(*(int *)&byte_5D4594[1093076], 1);
      result = sub_46AC00(*(int *)&byte_5D4594[1093096], 1);
    }
  }
  return result;
}

//----- (00470B00) --------------------------------------------------------
unsigned __int8 *sub_470B00()
{
  unsigned __int8 *result; // eax

  *(_DWORD *)&byte_5D4594[1090284] = sub_4344A0(255, 0, 0);
  *(_DWORD *)&byte_5D4594[1090280] = sub_4344A0(100, 0, 0);
  *(_DWORD *)&byte_5D4594[1091964] = sub_4344A0(0, 255, 0);
  *(_DWORD *)&byte_5D4594[1092992] = sub_4344A0(0, 100, 0);
  *(_DWORD *)&byte_5D4594[1093048] = *(_DWORD *)&byte_5D4594[1090284];
  *(_DWORD *)&byte_5D4594[1093052] = *(_DWORD *)&byte_5D4594[1090280];
  *(_DWORD *)&byte_5D4594[1093068] = sub_4344A0(0, 0, 255);
  *(_DWORD *)&byte_5D4594[1093072] = sub_4344A0(0, 0, 100);
  *(_DWORD *)&byte_5D4594[1093128] = sub_4344A0(240, 0, 240);
  *(_DWORD *)&byte_5D4594[1093132] = sub_4344A0(50, 0, 50);
  *(_DWORD *)&byte_5D4594[1093148] = sub_4344A0(255, 0, 255);
  *(_DWORD *)&byte_5D4594[1093152] = sub_4344A0(50, 0, 50);
  *(_DWORD *)&byte_5D4594[1093168] = sub_4344A0(255, 0, 255);
  *(_DWORD *)&byte_5D4594[1093172] = sub_4344A0(50, 0, 50);
  result = &byte_5D4594[1094732];
  do
  {
    *((_DWORD *)result - 384) = 0;
    *(_DWORD *)result = 0;
    result += 24;
  }
  while ( (int)result < (int)&byte_5D4594[1096268] );
  return result;
}

//----- (00470C20) --------------------------------------------------------
int __cdecl sub_470C20(_DWORD *a1, _DWORD *a2)
{
  int result; // eax

  *a1 = *(_DWORD *)&byte_5D4594[1090280];
  result = *(_DWORD *)&byte_5D4594[1090284];
  *a2 = *(_DWORD *)&byte_5D4594[1090284];
  return result;
}

//----- (00470C40) --------------------------------------------------------
int __cdecl sub_470C40(int a1)
{
  int result; // eax

  *(_DWORD *)&byte_5D4594[1096264] = a1;
  if ( a1 )
  {
    result = *(_DWORD *)&byte_5D4594[1091964];
    *(_DWORD *)&byte_5D4594[1093048] = *(_DWORD *)&byte_5D4594[1091964];
    *(_DWORD *)&byte_5D4594[1093052] = *(_DWORD *)&byte_5D4594[1092992];
  }
  else
  {
    result = *(_DWORD *)&byte_5D4594[1090280];
    *(_DWORD *)&byte_5D4594[1093048] = *(_DWORD *)&byte_5D4594[1090284];
    *(_DWORD *)&byte_5D4594[1093052] = *(_DWORD *)&byte_5D4594[1090280];
  }
  return result;
}

//----- (00470C80) --------------------------------------------------------
int __cdecl sub_470C80(int a1, int a2)
{
  int result; // eax

  if ( *(_DWORD *)&byte_5D4594[2618908] )
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[2618908] + 2247) = a2;
  result = a1;
  *(_DWORD *)&byte_5D4594[1093044] = a2;
  *(_DWORD *)&byte_5D4594[1093040] = a1;
  *(_DWORD *)&byte_5D4594[1096260] = 32;
  return result;
}

//----- (00470CB0) --------------------------------------------------------
int __cdecl sub_470CB0(int a1)
{
  int result; // eax

  result = a1;
  *(_DWORD *)&byte_5D4594[1093040] = a1;
  return result;
}

//----- (00470CC0) --------------------------------------------------------
int sub_470CC0()
{
  return *(_DWORD *)&byte_5D4594[1093040];
}

//----- (00470CD0) --------------------------------------------------------
int sub_470CD0()
{
  return *(_DWORD *)&byte_5D4594[1093044];
}

//----- (00470CE0) --------------------------------------------------------
int __cdecl sub_470CE0(int a1, int a2)
{
  int result; // eax

  if ( *(_DWORD *)&byte_5D4594[2618908] )
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[2618908] + 2243) = a2;
  result = a1;
  *(_DWORD *)&byte_5D4594[1093064] = a2;
  *(_DWORD *)&byte_5D4594[1093060] = a1;
  *(_DWORD *)&byte_5D4594[1096260] = 32;
  return result;
}

//----- (00470D10) --------------------------------------------------------
int __cdecl sub_470D10(int a1)
{
  int result; // eax

  result = a1;
  *(_DWORD *)&byte_5D4594[1093060] = a1;
  return result;
}

//----- (00470D20) --------------------------------------------------------
int __cdecl sub_470D20(int a1, int a2)
{
  int result; // eax

  result = a1;
  *(_DWORD *)&byte_5D4594[1093120] = a1;
  *(_DWORD *)&byte_5D4594[1093124] = a2;
  if ( a1 != a2 )
    result = sub_4160D0(17);
  return result;
}

//----- (00470D40) --------------------------------------------------------
BOOL sub_470D40()
{
  return !sub_46ACC0(*(int *)&byte_5D4594[1093136]) || !sub_46ACC0(*(int *)&byte_5D4594[1093156]);
}

//----- (00470D70) --------------------------------------------------------
int sub_470D70()
{
  sub_46AC00(*(int *)&byte_5D4594[1093136], 1);
  return sub_46AC00(*(int *)&byte_5D4594[1093156], 1);
}

//----- (00470D90) --------------------------------------------------------
int __cdecl sub_470D90(int a1, int a2)
{
  int result; // eax

  sub_46AC00(*(int *)&byte_5D4594[1093136], 0);
  sub_46AC00(*(int *)&byte_5D4594[1093156], 0);
  result = a1;
  *(_DWORD *)&byte_5D4594[1093140] = a1;
  *(_DWORD *)&byte_5D4594[1093144] = a2;
  *(_DWORD *)&byte_5D4594[1093160] = a1;
  *(_DWORD *)&byte_5D4594[1093164] = a2;
  return result;
}

//----- (00470DD0) --------------------------------------------------------
int sub_470DD0()
{
  return *(_DWORD *)&byte_5D4594[1093060];
}

//----- (00470DE0) --------------------------------------------------------
int sub_470DE0()
{
  int result; // eax
  int v1; // ebp
  int v2; // edx
  int v3; // esi

  result = *(_DWORD *)&byte_5D4594[2616328];
  if ( *(_DWORD *)&byte_5D4594[2616328] )
  {
    v1 = *(_DWORD *)&byte_5D4594[1093040];
    if ( *(int *)&byte_5D4594[1093040] >= 1 )
    {
      result = -858993458 * *(_DWORD *)&byte_5D4594[1093044];
      v2 = 2 * *(_DWORD *)&byte_5D4594[1093044] / 5;
      v3 = v2;
      if ( *(_DWORD *)&byte_5D4594[1093040] < v2 )
      {
        *(_DWORD *)&byte_5D4594[1091960] = *(_DWORD *)&byte_5D4594[2649704] / 3u
                                         + *(_DWORD *)&byte_5D4594[1093040]
                                         * ((unsigned int)(3 * *(_DWORD *)&byte_5D4594[2649704]) >> 2)
                                         / v2;
        result = sub_4160F0(4u, *(_DWORD *)&byte_5D4594[1091960] - 1);
        if ( result )
        {
          sub_452D80(896, 66 * (v3 - v1) / v3 + 33);
          result = sub_4160D0(4);
        }
      }
    }
  }
  return result;
}

//----- (00470E90) --------------------------------------------------------
int __cdecl sub_470E90(int a1, int a2)
{
  int result; // eax

  switch ( a2 )
  {
    case 5:
      sub_4672C0();
      goto LABEL_4;
    case 8:
    case 12:
    case 16:
      result = 0;
      break;
    default:
LABEL_4:
      result = 1;
      break;
  }
  return result;
}

//----- (00470EE0) --------------------------------------------------------
int __cdecl sub_470EE0(int a1, int a2, int a3, int a4, int a5)
{
  *(_DWORD *)&byte_5D4594[1093116] = sub_46C3E0(a1, 1032, a2, a3, a4, a5, 0);
  sub_46B430(*(_DWORD **)&byte_5D4594[1093116], sub_470E90, sub_470F40, sub_4710B0);
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[1093116] + 32) = 4;
  return *(_DWORD *)&byte_5D4594[1093116];
}

//----- (00470F40) --------------------------------------------------------
int __cdecl sub_470F40(_DWORD *a1)
{
  _DWORD *v1; // ebp
  int v2; // eax
  unsigned __int8 *v3; // edi
  int v4; // ebx
  int v5; // esi
  int v6; // ecx
  int v7; // eax
  double v8; // st7
  double v9; // st6
  _DWORD *v11; // [esp-Ch] [ebp-38h]
  int v12; // [esp+10h] [ebp-1Ch]
  int v13; // [esp+14h] [ebp-18h]
  int v14; // [esp+18h] [ebp-14h]
  int v15; // [esp+1Ch] [ebp-10h]
  int v16; // [esp+20h] [ebp-Ch]
  int v17; // [esp+24h] [ebp-8h]
  int v18; // [esp+30h] [ebp+4h]

  v1 = a1;
  v2 = 5 * a1[8];
  v11 = a1;
  v18 = 1;
  v3 = &byte_5D4594[4 * v2 + 1093036];
  sub_46AA60(v11, &v14, &v16);
  sub_46AB70((int)v1, &v13, &v15);
  v4 = v13 / 2;
  v17 = v13 / 2 + v14;
  v5 = v16 + v15 / 2;
  v6 = *((int *)v3 + 2);
  if ( v6 )
    v12 = (*((int *)v3 + 1) << 8) / v6;
  else
    v18 = 0;
  *((_DWORD *)v3 + 4) = *((_DWORD *)v3 + 3);
  if ( !v18 )
    goto LABEL_15;
  if ( v12 >= 256 )
  {
    v7 = sub_4678D0();
    if ( v7 )
    {
      v8 = (double)*(unsigned __int16 *)(v7 + 292);
      v9 = (double)*(unsigned __int16 *)(v7 + 294);
      if ( v8 < v9 * *(double *)&byte_581450[9608] )
      {
        *((_DWORD *)v3 + 4) = *(_DWORD *)&byte_5D4594[2650644];
LABEL_12:
        v12 = 1;
        goto LABEL_13;
      }
      if ( v8 < v9 * *(double *)&byte_581450[9544] )
      {
        *((_DWORD *)v3 + 4) = *(_DWORD *)&byte_5D4594[2589772];
        goto LABEL_12;
      }
    }
    v18 = 0;
    goto LABEL_12;
  }
LABEL_13:
  if ( v18 )
  {
    sub_434560(1);
    sub_434580(0x40u);
    sub_4AE6F0(v17, v5, v4, v12, *((_DWORD *)v3 + 4));
    sub_434560(0);
  }
LABEL_15:
  sub_465D50((int)v1);
  return 1;
}
// 470FE2: variable 'v12' is possibly undefined

//----- (004710B0) --------------------------------------------------------
int sub_4710B0()
{
  wchar_t *v0; // eax
  wchar_t *v1; // esi
  wchar_t *v2; // eax
  int v3; // eax
  wchar_t *v4; // esi
  wchar_t *v5; // eax
  int result; // eax
  wchar_t *v7; // eax

  v0 = (wchar_t *)sub_4615C0();
  v1 = v0;
  if ( v0 )
  {
    v2 = sub_4BF050(v0);
    nox_wcscpy((wchar_t *)&byte_5D4594[1091968], v2);
    if ( v1[58] & 0xC )
    {
      v3 = *(_DWORD *)&byte_5D4594[1096292];
      if ( !*(_DWORD *)&byte_5D4594[1096292] )
      {
        v3 = sub_4E3AA0((CHAR *)&byte_587000[148392]);
        *(_DWORD *)&byte_5D4594[1096292] = v3;
      }
      v4 = (wchar_t *)sub_461600(v3);
      if ( v4 )
      {
        nox_wcscat((wchar_t *)&byte_5D4594[1091968], (const wchar_t *)&byte_587000[148400]);
        v5 = sub_4BF050(v4);
        nox_wcscat((wchar_t *)&byte_5D4594[1091968], v5);
      }
    }
    sub_4776B0((wchar_t *)&byte_5D4594[1091968]);
    result = 1;
  }
  else
  {
    v7 = sub_40F1D0((char *)&byte_587000[148444], 0, (const char *)&byte_587000[148404], 881);
    sub_4776B0(v7);
    result = 1;
  }
  return result;
}

//----- (00471160) --------------------------------------------------------
int __cdecl sub_471160(int a1, int a2, int a3, int a4, int a5)
{
  wchar_t *v5; // eax
  wchar_t *v6; // eax
  int result; // eax

  *(_DWORD *)&byte_5D4594[1093136] = sub_46C3E0(a1, 1032, a2, a3, a4, a5, 0);
  *(_DWORD *)&byte_5D4594[1093156] = sub_46C3E0(a1, 1032, a2 - 17, a3 - 15, 15, 15, 0);
  sub_46B430(*(_DWORD **)&byte_5D4594[1093136], 0, sub_471250, 0);
  v5 = sub_40F1D0((char *)&byte_587000[148504], 0, (const char *)&byte_587000[148464], 921);
  sub_46B000((wchar_t *)(*(_DWORD *)&byte_5D4594[1093136] + 36), v5);
  sub_46B430(*(_DWORD **)&byte_5D4594[1093156], 0, sub_471450, 0);
  v6 = sub_40F1D0((char *)&byte_587000[148560], 0, (const char *)&byte_587000[148520], 925);
  sub_46B000((wchar_t *)(*(_DWORD *)&byte_5D4594[1093156] + 36), v6);
  result = *(_DWORD *)&byte_5D4594[1093136];
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[1093136] + 32) = 5;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[1093156] + 32) = 6;
  return result;
}

//----- (00471250) --------------------------------------------------------
int __cdecl sub_471250(_DWORD *a1)
{
  unsigned __int8 *v1; // esi
  int v2; // edi
  unsigned __int8 *v3; // esi
  int result; // eax
  int v5; // eax
  int v6; // ecx
  int v7; // ebx
  int v8; // ebp
  int v9; // ecx
  int v10; // esi
  int v11; // edi
  double v12; // st7
  int v13; // eax
  unsigned __int8 *v14; // esi
  int v15; // [esp+10h] [ebp-1Ch]
  int v16; // [esp+14h] [ebp-18h]
  int v17; // [esp+18h] [ebp-14h]
  int v18; // [esp+1Ch] [ebp-10h]
  int v19; // [esp+20h] [ebp-Ch]
  unsigned __int8 *v20; // [esp+24h] [ebp-8h]
  float v21; // [esp+28h] [ebp-4h]
  float v22; // [esp+30h] [ebp+4h]

  v20 = &byte_5D4594[20 * a1[8] + 1093036];
  v1 = v20;
  sub_46AA60(a1, &v18, &v17);
  v2 = 1;
  if ( *((int *)v1 + 2) >= 1 )
  {
    v15 = 1;
    v5 = sub_430B40();
    v6 = *((_DWORD *)v1 + 2);
    v19 = v5;
    if ( v6 > 30 )
    {
      v15 = 0;
      v2 = 0;
    }
    v7 = (v2 + 61) / v6 - v2;
    v8 = 61 - v7;
    v22 = 0.001;
    v16 = 0;
    v21 = (double)(v2 - v6 * ((v2 + 61) / v6) + 61) / (double)v6;
    if ( v6 > 0 )
    {
      while ( 1 )
      {
        if ( v16 >= *((_DWORD *)v1 + 1) )
          v9 = *((_DWORD *)v1 + 4);
        else
          v9 = *((_DWORD *)v1 + 3);
        v10 = v8;
        v8 -= v7 + v2;
        v11 = v7;
        if ( v7 <= 0 )
          v11 = 1;
        v12 = v22 + v21;
        v22 = v12;
        if ( v12 >= *(double *)&byte_581450[9512] )
        {
          --v8;
          --v10;
          ++v11;
          v22 = v22 - *(double *)&byte_581450[9512];
        }
        sub_434460(v9);
        sub_434560(1);
        if ( v10 < 0 )
        {
          v13 = -v10;
          v10 = 0;
          v11 -= v13;
        }
        if ( v11 > 0 )
        {
          v14 = &byte_587000[8 * v10 + 147905];
          do
          {
            if ( (int)v14 >= (int)&byte_587000[148393] )
              break;
            if ( *(_DWORD *)(v14 + 3) != v19 )
            {
              sub_49CE30(v18 + *(v14 - 1), v17 + *v14, v14[1], 1);
              *(_DWORD *)(v14 + 3) = v19;
            }
            v14 += 8;
            --v11;
          }
          while ( v11 > 0 );
        }
        sub_434560(0);
        if ( ++v16 >= *((_DWORD *)v20 + 2) )
          break;
        v2 = v15;
        v1 = v20;
      }
    }
    result = 1;
  }
  else
  {
    sub_434460(*((_DWORD *)v1 + 3));
    sub_434560(1);
    v3 = &byte_587000[147905];
    do
    {
      sub_49CE30(v18 + *(v3 - 1), v17 + *v3, v3[1], 1);
      v3 += 8;
    }
    while ( (int)v3 < (int)&byte_587000[148393] );
    sub_434560(0);
    result = 1;
  }
  return result;
}

//----- (00471450) --------------------------------------------------------
int __cdecl sub_471450(_DWORD *a1)
{
  _DWORD *v1; // esi
  int v3; // [esp+4h] [ebp-10h]
  int v4; // [esp+8h] [ebp-Ch]
  WCHAR WideCharStr[4]; // [esp+Ch] [ebp-8h]

  v1 = a1;
  _itow(*(_DWORD *)&byte_5D4594[20 * a1[8] + 1093040], WideCharStr, 10);
  sub_434390(*(int *)&byte_5D4594[2523948]);
  sub_43F840(*(int *)&byte_5D4594[1096288], WideCharStr, &v3, 0, 0);
  sub_46AA60(v1, &v4, &a1);
  sub_43F6E0(*(int *)&byte_5D4594[1096288], (__int16 *)WideCharStr, v4 - v3 / 2 + 8, (int)a1 + 1);
  return 1;
}

//----- (004714E0) --------------------------------------------------------
int sub_4714E0()
{
  int v1; // edi
  unsigned __int8 *v2; // esi
  wchar_t *v3; // eax
  int v4; // eax
  wchar_t *v5; // eax
  wchar_t *v6; // eax
  int v7; // eax
  _DWORD *v8; // esi
  char *v9; // eax
  wchar_t *v10; // eax
  wchar_t *v11; // eax
  _DWORD *v12; // esi
  char *v13; // eax
  wchar_t *v14; // eax
  char v15[32]; // [esp+4h] [ebp-20h]

  if ( !*(_DWORD *)&byte_5D4594[2618908] )
    return 0;
  *(_DWORD *)&byte_5D4594[1096288] = sub_43F360((char *)&byte_587000[148576]);
  *(_DWORD *)&byte_5D4594[1096264] = 0;
  *(_DWORD *)&byte_5D4594[1096256] = 0;
  *(_DWORD *)&byte_5D4594[1096260] = 0;
  *(_DWORD *)&byte_5D4594[1091908] = 0;
  *(_DWORD *)&byte_5D4594[1091912] = 0;
  *(_DWORD *)&byte_5D4594[1091916] = *(_DWORD *)&byte_5D4594[3805496];
  *(_DWORD *)&byte_5D4594[1091920] = *(_DWORD *)&byte_5D4594[3807120];
  *(_DWORD *)&byte_5D4594[1091940] = *(_DWORD *)&byte_5D4594[3805496];
  *(_DWORD *)&byte_5D4594[1091944] = *(_DWORD *)&byte_5D4594[3807120];
  *(_DWORD *)&byte_5D4594[1091924] = 0;
  *(_DWORD *)&byte_5D4594[1091928] = 0;
  v1 = 0;
  v2 = &byte_5D4594[1092996];
  do
  {
    nox_sprintf(v15, (const char *)&byte_587000[148584], ++v1);
    *(_DWORD *)v2 = sub_42F970(v15);
    v2 += 4;
  }
  while ( (int)v2 < (int)&byte_5D4594[1093036] );
  if ( !*(_DWORD *)&byte_5D4594[1096268] )
  {
    *(_DWORD *)&byte_5D4594[1096268] = sub_44CFC0((CHAR *)&byte_587000[148600]);
    *(_DWORD *)&byte_5D4594[1096272] = sub_44CFC0((CHAR *)&byte_587000[148612]);
    *(_DWORD *)&byte_5D4594[1096276] = sub_44CFC0((CHAR *)&byte_587000[148624]);
    *(_DWORD *)&byte_5D4594[1096280] = sub_44CFC0((CHAR *)&byte_587000[148644]);
    *(_DWORD *)&byte_5D4594[1096284] = sub_44CFC0((CHAR *)&byte_587000[148656]);
  }
  *(_DWORD *)&byte_5D4594[1090276] = sub_46C3E0(
                                       0,
                                       136,
                                       *(_DWORD *)&byte_5D4594[3805496] - 91,
                                       *(_DWORD *)&byte_5D4594[3807120] - 201,
                                       91,
                                       201,
                                       0);
  sub_46AE60(*(int *)&byte_5D4594[1090276], *(int *)&byte_5D4594[1092996]);
  *(_DWORD *)&byte_5D4594[1091364] = sub_46C3E0(*(int *)&byte_5D4594[1090276], 8, 6, 166, 28, 30, 0);
  sub_46B430(*(_DWORD **)&byte_5D4594[1091364], sub_471B90, sub_471A80, 0);
  v3 = sub_40F1D0((char *)&byte_587000[148704], 0, (const char *)&byte_587000[148664], 1029);
  sub_46B000((wchar_t *)(*(_DWORD *)&byte_5D4594[1091364] + 36), v3);
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[1091364] + 32) = 2;
  *(_WORD *)&byte_5D4594[1091384] = 0;
  v4 = sub_44CF10(*(int *)&byte_5D4594[1096276]);
  if ( v4 )
  {
    sub_44D0C0(COERCE_FLOAT(&byte_5D4594[1091388]), *(_DWORD *)(v4 + 28));
    *(_DWORD *)&byte_5D4594[1091368] = &byte_5D4594[1091388];
    if ( byte_5D4594 != (unsigned __int8 *)-1091388 )
      *(_DWORD *)&byte_5D4594[1091508] |= 0x40000000u;
  }
  else
  {
    *(_DWORD *)&byte_5D4594[1091368] = 0;
  }
  *(_DWORD *)&byte_5D4594[1091380] = *(_DWORD *)&byte_5D4594[1096276];
  *(_DWORD *)&byte_5D4594[1090292] = sub_46C3E0(*(int *)&byte_5D4594[1090276], 8, 34, 166, 28, 30, 0);
  sub_46B430(*(_DWORD **)&byte_5D4594[1090292], sub_471B90, sub_471A80, 0);
  v5 = sub_40F1D0((char *)&byte_587000[148764], 0, (const char *)&byte_587000[148724], 1060);
  sub_46B000((wchar_t *)(*(_DWORD *)&byte_5D4594[1090292] + 36), v5);
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[1090292] + 32) = 0;
  *(_WORD *)&byte_5D4594[1090312] = 0;
  *(_DWORD *)&byte_5D4594[1090296] = 0;
  *(_DWORD *)&byte_5D4594[1090308] = 0;
  if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[2618908] + 2251) )
  {
    *(_DWORD *)&byte_5D4594[1090828] = sub_46C3E0(*(int *)&byte_5D4594[1090276], 8, 62, 166, 28, 30, 0);
    sub_46B430(*(_DWORD **)&byte_5D4594[1090828], sub_471B90, sub_471A80, 0);
    v6 = sub_40F1D0((char *)&byte_587000[148820], 0, (const char *)&byte_587000[148780], 1083);
    sub_46B000((wchar_t *)(*(_DWORD *)&byte_5D4594[1090828] + 36), v6);
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1090828] + 32) = 1;
    *(_WORD *)&byte_5D4594[1090848] = 0;
    v7 = sub_44CF10(*(int *)&byte_5D4594[1096272]);
    if ( v7 )
    {
      sub_44D0C0(COERCE_FLOAT(&byte_5D4594[1090852]), *(_DWORD *)(v7 + 28));
      *(_DWORD *)&byte_5D4594[1090832] = &byte_5D4594[1090852];
      if ( byte_5D4594 != (unsigned __int8 *)-1090852 )
        *(_DWORD *)&byte_5D4594[1090972] |= 0x40000000u;
    }
    else
    {
      *(_DWORD *)&byte_5D4594[1090832] = 0;
    }
    *(_DWORD *)&byte_5D4594[1090844] = *(_DWORD *)&byte_5D4594[1096272];
    *(_DWORD *)&byte_5D4594[1091900] = sub_42F970((const char *)&byte_587000[148832]);
    v8 = sub_46C3E0(*(int *)&byte_5D4594[1090276], 136, 0, 0, 91, 159, 0);
    v9 = sub_42F970((const char *)&byte_587000[148844]);
    sub_46AE60((int)v8, (int)v9);
    *(_DWORD *)&byte_5D4594[1093056] = sub_46C3E0((int)v8, 8, 60, 34, 25, 125, 0);
    sub_46B430(*(_DWORD **)&byte_5D4594[1093056], sub_472100, sub_471D10, 0);
    v10 = sub_40F1D0((char *)&byte_587000[148900], 0, (const char *)&byte_587000[148860], 1122);
    sub_46B000((wchar_t *)(*(_DWORD *)&byte_5D4594[1093056] + 36), v10);
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1093056] + 32) = 1;
    *(_DWORD *)&byte_5D4594[1093036] = sub_46C3E0((int)v8, 8, 34, 34, 25, 125, 0);
    sub_46B430(*(_DWORD **)&byte_5D4594[1093036], sub_472100, sub_471D10, 0);
    v11 = sub_40F1D0((char *)&byte_587000[148952], 0, (const char *)&byte_587000[148912], 1135);
    sub_46B000((wchar_t *)(*(_DWORD *)&byte_5D4594[1093036] + 36), v11);
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1093036] + 32) = 0;
    *(_DWORD *)&byte_5D4594[1093076] = sub_46C3E0(0, 8, 0, 0, 0, 0, 0);
    sub_46B430(*(_DWORD **)&byte_5D4594[1093076], 0, sub_471C00, 0);
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1093076] + 32) = 0;
    *(_DWORD *)&byte_5D4594[1093096] = sub_46C3E0(0, 8, 0, 0, 0, 0, 0);
    sub_46B430(*(_DWORD **)&byte_5D4594[1093096], 0, sub_471C00, 0);
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1093096] + 32) = 1;
    *(_DWORD *)&byte_5D4594[1093176] = 1;
  }
  else
  {
    *(_DWORD *)&byte_5D4594[1091900] = sub_42F970((const char *)&byte_587000[148968]);
    v12 = sub_46C3E0(*(int *)&byte_5D4594[1090276], 136, 0, 0, 91, 159, 0);
    v13 = sub_42F970((const char *)&byte_587000[148988]);
    sub_46AE60((int)v12, (int)v13);
    *(_DWORD *)&byte_5D4594[1093036] = sub_46C3E0((int)v12, 8, 34, 34, 25, 125, 0);
    sub_46B430(*(_DWORD **)&byte_5D4594[1093036], sub_472100, sub_471D10, 0);
    v14 = sub_40F1D0((char *)&byte_587000[149048], 0, (const char *)&byte_587000[149008], 1173);
    sub_46B000((wchar_t *)(*(_DWORD *)&byte_5D4594[1093036] + 36), v14);
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1093036] + 32) = 0;
    *(_DWORD *)&byte_5D4594[1093076] = sub_46C3E0(0, 24, 0, 0, 0, 0, 0);
    sub_46B430(*(_DWORD **)&byte_5D4594[1093076], 0, sub_471C00, 0);
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1093076] + 32) = 0;
  }
  sub_472280();
  sub_470B00();
  if ( sub_40A5C0(4096) )
  {
    *(_DWORD *)&byte_5D4594[1096252] = 1;
  }
  else
  {
    *(_DWORD *)&byte_5D4594[1096252] = 0;
    sub_46AC00(*(int *)&byte_5D4594[1093076], 1);
    sub_46AC00(*(int *)&byte_5D4594[1093096], 1);
  }
  return 1;
}

//----- (00471A80) --------------------------------------------------------
int __cdecl sub_471A80(_DWORD *a1)
{
  int v1; // esi
  int v2; // esi
  int v3; // eax
  int v4; // eax
  __int16 *v5; // esi
  int v6; // eax
  int v8; // [esp+4h] [ebp-14h]
  wchar_t v9[8]; // [esp+8h] [ebp-10h]

  v1 = a1[8];
  sub_46AA60(a1, &v8, &a1);
  v2 = 536 * v1;
  if ( *(_WORD *)&byte_5D4594[v2 + 1090312] )
  {
    v3 = *(_DWORD *)&byte_5D4594[v2 + 1090296];
    if ( v3 )
    {
      *(_DWORD *)(v3 + 12) = v8 + 14;
      *(_DWORD *)(*(_DWORD *)&byte_5D4594[v2 + 1090296] + 16) = (char *)a1 + 15;
      (*(void (__cdecl **)(unsigned __int8 *, _DWORD))(*(_DWORD *)&byte_5D4594[v2 + 1090296] + 300))(
        &byte_5D4594[1091908],
        *(_DWORD *)&byte_5D4594[v2 + 1090296]);
    }
    sub_434390(*(int *)&byte_5D4594[2523948]);
    nox_swprintf(v9, (const wchar_t *)&byte_587000[149064], *(unsigned __int16 *)&byte_5D4594[v2 + 1090312]);
    v4 = sub_43F320(*(int *)&byte_5D4594[1096288]);
    sub_43F6E0(*(int *)&byte_5D4594[1096288], (__int16 *)v9, v8 - 2, (int)((char *)a1 - v4 + 10));
  }
  v5 = (__int16 *)&byte_5D4594[v2 + 1090300];
  if ( v5 )
  {
    v6 = sub_43F320(*(int *)&byte_5D4594[1096288]);
    sub_43F6E0(*(int *)&byte_5D4594[1096288], v5, v8 - 2, (int)((char *)a1 - v6 + 33));
  }
  return 1;
}

//----- (00471B90) --------------------------------------------------------
int __cdecl sub_471B90(int a1, int a2)
{
  int result; // eax

  switch ( a2 )
  {
    case 5:
      if ( *(_DWORD *)&byte_5D4594[536 * *(_DWORD *)(a1 + 32) + 1090308] )
        sub_4674E0(*(_DWORD *)&byte_5D4594[536 * *(_DWORD *)(a1 + 32) + 1090308]);
      goto LABEL_5;
    case 8:
    case 12:
    case 16:
      result = 0;
      break;
    default:
LABEL_5:
      result = 1;
      break;
  }
  return result;
}

//----- (00471C00) --------------------------------------------------------
int __cdecl sub_471C00(int a1)
{
  int v1; // esi
  unsigned __int8 *v2; // ebp
  int v3; // edi
  int v4; // esi
  int v5; // ebx
  int v7; // [esp+Ch] [ebp+4h]

  v1 = *(_DWORD *)(a1 + 32);
  v7 = v1;
  v2 = &byte_5D4594[20 * v1 + 1093036];
  if ( sub_4372E0() || *(_DWORD *)&byte_5D4594[2650672] || sub_40A5C0(9437184) )
    return 1;
  if ( v1 )
    v3 = *(int *)&byte_5D4594[3805496] / 2 + 21;
  else
    v3 = *(int *)&byte_5D4594[3805496] / 2 + 15;
  v4 = *(int *)&byte_5D4594[3807120] / 2 - 48;
  v5 = 48 * *((int *)v2 + 1) / *((int *)v2 + 2);
  sub_434460(*(int *)&byte_5D4594[2650656]);
  sub_49CE30(v3, v4, 2, 48);
  sub_434460(*((_DWORD *)v2 + 3));
  sub_49CE30(v3, v4 - v5 + 48, 2, v5);
  if ( v7 )
  {
    sub_434460(*(int *)&byte_5D4594[2650648]);
  }
  else if ( *(_DWORD *)&byte_5D4594[1096264] )
  {
    sub_434460(*(int *)&byte_5D4594[2650688]);
  }
  else
  {
    sub_434460(*(int *)&byte_5D4594[2598268]);
  }
  sub_49CC70(v3 - 1, v4 - 1, 4, 50);
  return 1;
}

//----- (00471D10) --------------------------------------------------------
int __cdecl sub_471D10(int xLeft)
{
  _DWORD *v1; // ebx
  int v2; // esi
  unsigned __int8 *v3; // edi
  int v4; // ecx
  int result; // eax
  int v6; // ebx
  int *v7; // edi
  int v8; // esi
  unsigned __int8 *v9; // esi
  int v10; // edi
  int v11; // eax
  int v12; // eax
  int v13; // ecx
  int v14; // eax
  int v15; // eax
  int v16; // eax
  int yTop; // [esp+Ch] [ebp-14h]
  int v18; // [esp+10h] [ebp-10h]
  int v19; // [esp+14h] [ebp-Ch]
  unsigned __int8 *v20; // [esp+18h] [ebp-8h]
  unsigned __int8 *v21; // [esp+1Ch] [ebp-4h]

  v1 = (_DWORD *)xLeft;
  v18 = *(_DWORD *)(xLeft + 32);
  v2 = v18;
  v3 = &byte_5D4594[20 * v18 + 1093036];
  v20 = &byte_5D4594[20 * v18 + 1093036];
  if ( !v18 && *(_DWORD *)&byte_5D4594[1096264] )
  {
    sub_46AA60(*(_DWORD **)&byte_5D4594[1090276], &xLeft, &yTop);
    sub_47D2C0(*(int *)&byte_5D4594[1091900], xLeft, yTop);
  }
  sub_46AA60(v1, &xLeft, &yTop);
  xLeft += 5;
  if ( *(_DWORD *)&byte_5D4594[3799468] )
  {
    sub_434460(*(int *)&byte_5D4594[2650656]);
    sub_49CE30(xLeft, yTop, 15, 125);
  }
  v4 = *((_DWORD *)v3 + 2);
  if ( v4 )
  {
    v6 = 125 * *((_DWORD *)v3 + 1) / v4;
    sub_49CF10(xLeft, yTop, 15, 125 - v6);
    sub_434460(*((_DWORD *)v3 + 3));
    sub_434560(1);
    sub_49CE30(xLeft, yTop - v6 + 125, 15, v6);
    sub_434560(0);
    sub_49F500(xLeft, yTop - v6 + 125);
    sub_49F570(14, 0);
    sub_49E4B0();
    if ( v2 < 2 && *(_DWORD *)&byte_587000[80844] == 1 )
    {
      v19 = 64;
      v7 = (int *)&byte_5D4594[1536 * v2 + 1093188];
      v21 = &byte_5D4594[1536 * v2 + 1093188];
      do
      {
        if ( v7[2] )
        {
          v8 = *(v7 - 1) >> 4;
          if ( v8 >= 125 - v6 )
          {
            if ( *(_DWORD *)&byte_5D4594[1096264] )
              sub_434460(*((_DWORD *)v20 + 3));
            else
              sub_434460(v7[3]);
            if ( *v7 <= 2 )
              sub_49CE30(xLeft + *(v7 - 2), yTop + v8, *v7, *v7);
            else
              sub_4720C0(xLeft + *(v7 - 2), yTop + v8);
            *(v7 - 1) -= v7[1];
          }
          else
          {
            v7[2] = 0;
          }
          v2 = v18;
        }
        v7 += 6;
        --v19;
      }
      while ( v19 );
      if ( v6 > 1 )
      {
        v9 = v21;
        v10 = 64;
        do
        {
          if ( !*((_DWORD *)v9 + 2) )
          {
            v11 = sub_415FF0(1, 100, (const char *)&byte_587000[149072], 668);
            if ( v11 >= 80 )
              *(_DWORD *)v9 = (v11 >= 95) + 2;
            else
              *(_DWORD *)v9 = 1;
            v12 = sub_415FF0(0, 14, (const char *)&byte_587000[149112], 676);
            v13 = *(_DWORD *)v9;
            *((_DWORD *)v9 - 2) = v12;
            if ( v13 + v12 > 15 )
              *((_DWORD *)v9 - 2) = 15 - v13;
            *((_DWORD *)v9 - 1) = 16 * (125 - v13);
            *((_DWORD *)v9 + 1) = sub_415FF0(4, 48, (const char *)&byte_587000[149152], 684);
            *((_DWORD *)v9 + 2) = 1;
            LOBYTE(v19) = sub_415FF0(0, 64, (const char *)&byte_587000[149192], 688);
            if ( v18 )
              v14 = sub_4344A0(v19, v19, 255);
            else
              v14 = sub_4344A0(255, v19, v19);
            *((_DWORD *)v9 + 3) = v14;
          }
          v9 += 24;
          --v10;
        }
        while ( v10 );
        v2 = v18;
      }
    }
    if ( !v2 )
    {
      if ( *(int *)&byte_5D4594[1096260] <= 0 )
      {
        v16 = *(_DWORD *)&byte_5D4594[1096256] >> 3;
      }
      else
      {
        v15 = *(_DWORD *)&byte_5D4594[1096260] + *(_DWORD *)&byte_5D4594[1096256];
        *(_DWORD *)&byte_5D4594[1096256] = v15;
        --*(_DWORD *)&byte_5D4594[1096260];
        v16 = v15 >> 3;
        if ( v16 >= 10 )
        {
          v16 = 0;
          *(_DWORD *)&byte_5D4594[1096256] = 0;
        }
      }
      sub_46AE60(*(int *)&byte_5D4594[1090276], *(_DWORD *)&byte_5D4594[4 * v16 + 1092996]);
    }
    sub_472080();
    result = 1;
  }
  else
  {
    sub_49CF10(xLeft, yTop, 15, 125);
    result = 1;
  }
  return result;
}

//----- (00472080) --------------------------------------------------------
int sub_472080()
{
  int result; // eax

  result = *(int *)&byte_5D4594[1093120];
  if ( *(int *)&byte_5D4594[1093120] != *(int *)&byte_5D4594[1093124] )
  {
    result = sub_416120(0x11u);
    if ( result )
    {
      result = 0x64u / *(int *)&byte_5D4594[2649704];
      *(int *)&byte_5D4594[1093120] += 0x64u / *(int *)&byte_5D4594[2649704];
    }
  }
  return result;
}

//----- (004720C0) --------------------------------------------------------
int __cdecl sub_4720C0(int xLeft, int a2)
{
  sub_49EFA0(xLeft + 1, a2);
  sub_49CE30(xLeft, a2 + 1, 3, 1);
  return sub_49EFA0(xLeft + 1, a2 + 2);
}

//----- (00472100) --------------------------------------------------------
int __cdecl sub_472100(int a1, int a2)
{
  int result; // eax
  int v3; // [esp-4h] [ebp-4h]

  switch ( a2 )
  {
    case 7:
      v3 = *(_DWORD *)&byte_5D4594[1096252] == 1;
      *(_DWORD *)&byte_5D4594[1096252] = 1 - *(_DWORD *)&byte_5D4594[1096252];
      sub_46AC00(*(int *)&byte_5D4594[1093076], v3);
      if ( byte_5D4594[2661958] )
        sub_46AC00(*(int *)&byte_5D4594[1093096], *(_DWORD *)&byte_5D4594[1096252] == 0);
      sub_452D80(901, 100);
      goto LABEL_6;
    case 8:
    case 12:
    case 16:
      result = 0;
      break;
    default:
LABEL_6:
      result = 1;
      break;
  }
  return result;
}

//----- (004721A0) --------------------------------------------------------
int __cdecl sub_4721A0(int a1)
{
  int result; // eax

  if ( a1 )
    result = sub_46AC00(*(int *)&byte_5D4594[1090276], 0);
  else
    result = sub_46AC00(*(int *)&byte_5D4594[1090276], 1);
  return result;
}

//----- (004721D0) --------------------------------------------------------
int sub_4721D0()
{
  sub_46C4E0(*(_DWORD **)&byte_5D4594[1090276]);
  sub_46C4E0(*(_DWORD **)&byte_5D4594[1093076]);
  if ( *(_DWORD *)&byte_5D4594[1093096] )
    sub_46C4E0(*(_DWORD **)&byte_5D4594[1093096]);
  sub_4714E0();
  sub_472310();
  return sub_4721A0(*(int *)&byte_587000[80828]);
}

//----- (00472220) --------------------------------------------------------
char *sub_472220()
{
  char *result; // eax

  result = (char *)sub_477600();
  if ( !result )
  {
    result = *(char **)&byte_5D4594[1090308];
    if ( *(_DWORD *)&byte_5D4594[1090308] )
      result = sub_4674E0(*(int *)&byte_5D4594[1090308]);
  }
  return result;
}

//----- (00472240) --------------------------------------------------------
char *sub_472240()
{
  char *result; // eax

  result = (char *)sub_477600();
  if ( !result )
  {
    result = *(char **)&byte_5D4594[1090844];
    if ( *(_DWORD *)&byte_5D4594[1090844] )
      result = sub_4674E0(*(int *)&byte_5D4594[1090844]);
  }
  return result;
}

//----- (00472260) --------------------------------------------------------
char *sub_472260()
{
  char *result; // eax

  result = (char *)sub_477600();
  if ( !result )
  {
    result = *(char **)&byte_5D4594[1091380];
    if ( *(_DWORD *)&byte_5D4594[1091380] )
      result = sub_4674E0(*(int *)&byte_5D4594[1091380]);
  }
  return result;
}

//----- (00472280) --------------------------------------------------------
wchar_t *sub_472280()
{
  wchar_t *result; // eax
  char *v1; // eax
  char *v2; // eax
  char *v3; // eax

  result = *(wchar_t **)&byte_5D4594[2618908];
  if ( *(_DWORD *)&byte_5D4594[2618908] )
  {
    v1 = sub_42E8E0(38, 1);
    nox_wcsncpy((wchar_t *)&byte_5D4594[1091372], (const wchar_t *)v1, 3u);
    *(_WORD *)&byte_5D4594[1091378] = 0;
    v2 = sub_42E8E0(36, 1);
    nox_wcsncpy((wchar_t *)&byte_5D4594[1090300], (const wchar_t *)v2, 3u);
    result = *(wchar_t **)&byte_5D4594[2618908];
    *(_WORD *)&byte_5D4594[1090306] = 0;
    if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[2618908] + 2251) )
    {
      v3 = sub_42E8E0(37, 1);
      result = nox_wcsncpy((wchar_t *)&byte_5D4594[1090836], (const wchar_t *)v3, 3u);
      *(_WORD *)&byte_5D4594[1090842] = 0;
    }
  }
  return result;
}

//----- (00472310) --------------------------------------------------------
unsigned __int8 *sub_472310()
{
  unsigned __int8 *result; // eax
  int v1; // eax

  *(_WORD *)&byte_5D4594[1091384] = sub_467850(*(int *)&byte_5D4594[1096276]);
  *(_WORD *)&byte_5D4594[1090848] = sub_467850(*(int *)&byte_5D4594[1096272]);
  *(_WORD *)&byte_5D4594[1091384] = sub_467850(*(int *)&byte_5D4594[1096276]);
  *(_WORD *)&byte_5D4594[1090312] = sub_467850(*(int *)&byte_5D4594[1096268]);
  if ( *(_WORD *)&byte_5D4594[1090312] )
  {
    result = (unsigned __int8 *)sub_44CF10(*(int *)&byte_5D4594[1096268]);
    if ( result )
    {
      sub_44D0C0(COERCE_FLOAT(&byte_5D4594[1090316]), *((_DWORD *)result + 7));
      result = &byte_5D4594[1090316];
      *(_DWORD *)&byte_5D4594[1090296] = &byte_5D4594[1090316];
      if ( byte_5D4594 != (unsigned __int8 *)-1090316 )
      {
        result = (unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1090436] | 0x40000000);
        *(_DWORD *)&byte_5D4594[1090308] = *(_DWORD *)&byte_5D4594[1096268];
        *(_DWORD *)&byte_5D4594[1090436] |= 0x40000000u;
        return result;
      }
    }
    else
    {
      *(_DWORD *)&byte_5D4594[1090296] = 0;
    }
    *(_DWORD *)&byte_5D4594[1090308] = *(_DWORD *)&byte_5D4594[1096268];
  }
  else
  {
    *(_WORD *)&byte_5D4594[1090312] = sub_467850(*(int *)&byte_5D4594[1096284]);
    if ( *(_WORD *)&byte_5D4594[1090312] )
    {
      v1 = sub_44CF10(*(int *)&byte_5D4594[1096284]);
      if ( v1 )
      {
        sub_44D0C0(COERCE_FLOAT(&byte_5D4594[1090316]), *(_DWORD *)(v1 + 28));
        *(_DWORD *)&byte_5D4594[1090296] = &byte_5D4594[1090316];
        if ( byte_5D4594 != (unsigned __int8 *)-1090316 )
        {
          *(_DWORD *)&byte_5D4594[1090436] |= 0x40000000u;
          result = *(unsigned __int8 **)&byte_5D4594[1096284];
          *(_DWORD *)&byte_5D4594[1090308] = *(_DWORD *)&byte_5D4594[1096284];
          return result;
        }
      }
      else
      {
        *(_DWORD *)&byte_5D4594[1090296] = 0;
      }
      result = *(unsigned __int8 **)&byte_5D4594[1096284];
      *(_DWORD *)&byte_5D4594[1090308] = *(_DWORD *)&byte_5D4594[1096284];
    }
    else
    {
      result = (unsigned __int8 *)sub_467850(*(int *)&byte_5D4594[1096280]);
      *(_WORD *)&byte_5D4594[1090312] = (_WORD)result;
      if ( (_WORD)result )
      {
        result = (unsigned __int8 *)sub_44CF10(*(int *)&byte_5D4594[1096280]);
        if ( result )
        {
          result = (unsigned __int8 *)sub_44D0C0(COERCE_FLOAT(&byte_5D4594[1090316]), *((_DWORD *)result + 7));
          *(_DWORD *)&byte_5D4594[1090296] = &byte_5D4594[1090316];
          if ( byte_5D4594 != (unsigned __int8 *)-1090316 )
          {
            result = (unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1090436] | 0x40000000);
            *(_DWORD *)&byte_5D4594[1090308] = *(_DWORD *)&byte_5D4594[1096280];
            *(_DWORD *)&byte_5D4594[1090436] |= 0x40000000u;
            return result;
          }
        }
        else
        {
          *(_DWORD *)&byte_5D4594[1090296] = 0;
        }
        *(_DWORD *)&byte_5D4594[1090308] = *(_DWORD *)&byte_5D4594[1096280];
      }
      else
      {
        *(_DWORD *)&byte_5D4594[1090296] = 0;
        *(_DWORD *)&byte_5D4594[1090308] = 0;
      }
    }
  }
  return result;
}

//----- (004724E0) --------------------------------------------------------
int sub_4724E0()
{
  int result; // eax

  result = *(_DWORD *)&byte_587000[149232] - 10;
  *(_DWORD *)&byte_587000[149232] -= 10;
  if ( *(int *)&byte_587000[149232] < 500 )
    *(_DWORD *)&byte_587000[149232] = 500;
  return result;
}

//----- (00472500) --------------------------------------------------------
int sub_472500()
{
  int result; // eax

  result = *(_DWORD *)&byte_587000[149232] + 10;
  *(_DWORD *)&byte_587000[149232] += 10;
  if ( *(_DWORD *)&byte_587000[149232] > 4000 )
    *(_DWORD *)&byte_587000[149232] = 4000;
  return result;
}

//----- (00472520) --------------------------------------------------------
int __cdecl sub_472520(int a1)
{
  int result; // eax

  result = a1;
  *(_DWORD *)&byte_587000[149232] = a1;
  return result;
}

//----- (00472530) --------------------------------------------------------
int sub_472530()
{
  return *(_DWORD *)&byte_587000[149232];
}

//----- (00472540) --------------------------------------------------------
int __cdecl sub_472540(int a1)
{
  int v1; // edx
  int v2; // eax
  int result; // eax
  int2 a1a; // [esp+0h] [ebp-8h]

  if ( a1 == *(_DWORD *)&byte_5D4594[2614252] )
  {
    sub_435670(&a1a);
  }
  else
  {
    v1 = *(_DWORD *)(a1 + 16);
    a1a.field_0 = *(_DWORD *)(a1 + 12);
    a1a.field_4 = v1;
  }
  v2 = sub_421790(&a1a, *(int *)&byte_5D4594[1096312]);
  if ( v2 )
    *(_DWORD *)&byte_5D4594[1096312] = v2;
  else
    v2 = *(_DWORD *)&byte_5D4594[1096312];
  if ( v2 )
    result = (unsigned __int8)sub_4214A0(v2)[130];
  else
    result = 1;
  return result;
}

//----- (004725C0) --------------------------------------------------------
int4 *__cdecl sub_4725C0(int a1)
{
  int4 *result; // eax

  result = (int4 *)sub_4356C0(*(int *)&byte_5D4594[2614252], 2);
  if ( !result )
  {
    sub_437260();
    *(_DWORD *)&byte_5D4594[1096316] = sub_472540(a1);
    sub_472600(a1, *(int *)&byte_5D4594[1096316]);
    result = sub_437290();
  }
  return result;
}

//----- (00472600) --------------------------------------------------------
int __cdecl sub_472600(int a1, int a2)
{
  char *v2; // ebp
  int v3; // esi
  int v4; // kr08_4
  int v5; // ebx
  int v6; // et1
  int v7; // esi
  int v8; // ebx
  int v9; // ebp
  int v10; // eax
  int v11; // edi
  char v12; // al
  int v13; // eax
  int v14; // esi
  int v15; // ebp
  volatile unsigned __int8 *v16; // esi
  int v17; // eax
  int v18; // eax
  int v19; // eax
  int v20; // et1
  int v21; // ecx
  int v22; // ebx
  int v23; // ebp
  int v24; // esi
  int v25; // ecx
  int v26; // et1
  char v27; // al
  char v28; // dl
  int v29; // edi
  char *v30; // esi
  float *v31; // esi
  int v32; // et1
  double v33; // st7
  int v34; // et1
  double v35; // st7
  float *j; // esi
  int v37; // et1
  double v38; // st7
  _DWORD *v39; // eax
  int k; // esi
  struc_19 *v41; // eax
  int v42; // et1
  int v43; // eax
  int v44; // eax
  int v45; // edi
  _DWORD *v46; // eax
  char *v47; // eax
  int *v48; // eax
  _DWORD *v49; // eax
  _DWORD *v50; // edi
  char *v51; // eax
  int *v52; // eax
  int v53; // eax
  int v54; // eax
  char *v55; // eax
  char *v56; // eax
  _DWORD *v57; // eax
  int *v58; // eax
  int l; // esi
  BOOL v60; // eax
  int v61; // edx
  _DWORD *v62; // edi
  struc_19 *v63; // eax
  int v64; // et1
  char *v65; // eax
  int *v66; // eax
  int v68; // [esp-10h] [ebp-70h]
  int v69; // [esp+10h] [ebp-50h]
  int v70; // [esp+10h] [ebp-50h]
  int i; // [esp+14h] [ebp-4Ch]
  int v72; // [esp+14h] [ebp-4Ch]
  int v73; // [esp+14h] [ebp-4Ch]
  int v74; // [esp+18h] [ebp-48h]
  char *v75; // [esp+18h] [ebp-48h]
  int2 v76; // [esp+20h] [ebp-40h]
  int v77; // [esp+28h] [ebp-38h]
  int v78; // [esp+2Ch] [ebp-34h]
  int v79; // [esp+30h] [ebp-30h]
  int v80; // [esp+34h] [ebp-2Ch]
  int v81; // [esp+38h] [ebp-28h]
  int2 xLeft; // [esp+40h] [ebp-20h]
  int yTop; // [esp+4Ch] [ebp-14h]
  int2 v84; // [esp+50h] [ebp-10h]
  int v85; // [esp+5Ch] [ebp-4h]

  v2 = sub_437250();
  if ( !byte_5D4594[1096300] )
  {
    byte_5D4594[1096300] = sub_410D60((const char *)&byte_587000[149272]);
    byte_5D4594[1096301] = sub_410D60((const char *)&byte_587000[149292]);
  }
  sub_434560(0);
  sub_49F7F0();
  v3 = *(_DWORD *)&byte_5D4594[3805496] / 6;
  v4 = *(_DWORD *)&byte_5D4594[3807120] - *(_DWORD *)&byte_5D4594[3805496] / 6;
  yTop = v4 / 2;
  sub_49F6F0(0, 0, *(int *)&byte_5D4594[3805496], *(int *)&byte_5D4594[3807120]);
  v5 = *(_DWORD *)v2;
  if ( *(_DWORD *)v2 <= 0 )
  {
    sub_49CF10(0, v4 / 2, v3, v3);
  }
  else
  {
    sub_434460(*(int *)&byte_5D4594[2650656]);
    if ( v5 >= v3 )
    {
      sub_49CE30(0, v4 / 2, v3, v3);
    }
    else
    {
      sub_49CE30(0, v4 / 2, v5, v3);
      sub_49CF10(v5, v4 / 2, v3 - v5, v3);
    }
  }
  sub_434560(1);
  sub_434460(*(int *)&byte_5D4594[2650656]);
  sub_434580(0x5Au);
  sub_473510(-1, yTop - 1, v3 + 2, v3 + 2);
  sub_434580(0x3Cu);
  sub_473510(-2, yTop - 2, v3 + 4, v3 + 4);
  sub_434580(0x28u);
  sub_473510(-3, yTop - 3, v3 + 6, v3 + 6);
  sub_434560(0);
  sub_49F6F0(0, yTop, v3, v3);
  v6 = *(_DWORD *)&byte_587000[149232];
  v7 = v3 * v6 / 100;
  sub_435670(&v84);
  v8 = v84.field_0 - v7 / 2;
  v9 = v84.field_4 - v7 / 2;
  xLeft.field_0 = v84.field_0 - v7 / 2;
  xLeft.field_4 = v9;
  v81 = v8 / 23;
  v77 = (v8 + v7) / 23;
  v78 = (v9 + v7) / 23;
  v74 = 23 * (v8 / 23);
  v80 = 23 * (v9 / 23);
  v10 = v9 / 23;
  for ( i = v9 / 23; i <= v78; ++i )
  {
    v11 = sub_4106A0(v10);
    while ( v11 )
    {
      v12 = *(_BYTE *)(v11 + 1);
	  if ( v12 == byte_5D4594[1096300] )
		goto LABEL_37;
	  if ( v12 == byte_5D4594[1096301] )
		goto LABEL_37;
	  if ( *(_BYTE *)(v11 + 8) && *(unsigned __int8 *)(v11 + 8) != a2 )
		goto LABEL_37;
	  v13 = *(unsigned __int8 *)(v11 + 5);
      if ( v13 < v81 )
        goto LABEL_37;
      if ( v13 > v77 )
        break;
      v14 = v74 + 23 * (v13 - v81);
      if ( *(_BYTE *)(v11 + 4) & 0x10 )
      {
        v15 = *(_DWORD *)(v11 + 32);
        if ( !v15 )
          goto LABEL_37;
        v69 = 0;
        v16 = &byte_587000[149244];
        while ( 1 )
        {
          v17 = sub_410580(
                  *((_DWORD *)v16 - 1) + *(unsigned __int8 *)(v11 + 5),
                  *(_DWORD *)v16 + *(unsigned __int8 *)(v11 + 6));
          if ( v17 )
          {
            if ( *(_DWORD *)(v17 + 12) )
              goto LABEL_28;
          }
          else
          {
            v18 = sub_410580(*((_DWORD *)v16 - 1) + *(unsigned __int8 *)(v11 + 5), *(unsigned __int8 *)(v11 + 6));
            if ( v18 && *(_DWORD *)(v18 + 12)
              || (v19 = sub_410580(*(unsigned __int8 *)(v11 + 5), *(_DWORD *)v16 + *(unsigned __int8 *)(v11 + 6))) != 0
              && *(_DWORD *)(v19 + 12) )
            {
LABEL_28:
              if ( v69 < 4 )
              {
                v20 = *(_DWORD *)&byte_587000[149232];
                v21 = 8 * *(unsigned __int8 *)(v15 + 299);
                v22 = 100 * (*(int *)(v15 + 12) - xLeft.field_0) / v20;
                v85 = 100 * (*(int *)(v15 + 16) - xLeft.field_4) / v20;
                v23 = 100 * *(int *)&byte_587000[v21 + 196184] / v20;
                v24 = 100 * *(int *)&byte_587000[v21 + 196188] / v20;
                sub_434460(*(int *)&byte_5D4594[2650644]);
                sub_49F500(v22, yTop + v85);
                sub_49F570(v23, v24);
                sub_49E4B0();
                v8 = xLeft.field_0;
              }
              goto LABEL_37;
            }
          }
          v16 += 8;
          ++v69;
          if ( (int)v16 >= (int)&byte_587000[149276] )
            goto LABEL_37;
        }
      }
      if ( sub_40A5C0(0x10000) || *(_DWORD *)(v11 + 12) )
      {
        v26 = *(_DWORD *)&byte_587000[149232];
        v25 = v26;
        v76.field_0 = 100 * (v14 - v8) / v26;
        v76.field_4 = yTop + 100 * (v80 - v9) / v26;
        v27 = *(_BYTE *)(v11 + 4);
        if ( !(v27 & 4) || (v28 = *(_BYTE *)(*(_DWORD *)(v11 + 28) + 21), v28 != 3) && v28 != 2 )
        {
          if ( !(v27 & 0x20) )
            sub_4730D0(&v76, *(_BYTE *)v11, 2300 / v25);
        }
      }
LABEL_37:
      v11 = *(_DWORD *)(v11 + 24);
      v9 = xLeft.field_4;
    }
    v10 = i + 1;
    v80 += 23;
  }
  if ( byte_5D4594[2650636] & 8 )
  {
    v29 = sub_50CB00();
    v30 = (char *)sub_50CB10();
    if ( v29 >= 2 )
    {
      sub_434460(*(int *)&byte_5D4594[2618904]);
      if ( v29 - 1 > 0 )
      {
        v31 = (float *)(v30 + 8);
        v72 = v29 - 1;
        do
        {
          v32 = *(_DWORD *)&byte_587000[149232];
          v33 = *(v31 - 1);
          xLeft.field_0 = (int)(100 * ((unsigned __int64)(__int64)*(v31 - 2) - v8)) / v32;
          sub_49F500(xLeft.field_0, yTop + (int)(100 * ((unsigned __int64)(__int64)v33 - v9)) / v32);
          v34 = *(_DWORD *)&byte_587000[149232];
          v35 = v31[1];
          xLeft.field_0 = (int)(100 * ((unsigned __int64)(__int64)*v31 - v8)) / v34;
          sub_49F500(xLeft.field_0, yTop + (int)(100 * ((unsigned __int64)(__int64)v35 - v9)) / v34);
          sub_49E4B0();
          v31 += 2;
          --v72;
        }
        while ( v72 );
      }
    }
    for ( j = (float *)sub_50AAE0(); j; j = (float *)sub_50AB10() )
    {
      sub_434460(*(int *)&byte_5D4594[2650644]);
      v37 = *(_DWORD *)&byte_587000[149232];
      v38 = j[1];
      xLeft.field_0 = (int)(100 * ((unsigned __int64)(__int64)*j - v8)) / v37;
      sub_473570(xLeft.field_0, yTop + (int)(100 * ((unsigned __int64)(__int64)v38 - v9)) / v37);
    }
  }
  v73 = 0;
  if ( !*(_DWORD *)&byte_5D4594[1096304] )
  {
    *(_DWORD *)&byte_5D4594[1096304] = sub_44CFC0((CHAR *)&byte_587000[149320]);
    *(_DWORD *)&byte_5D4594[1096308] = sub_44CFC0((CHAR *)&byte_587000[149328]);
  }
  v39 = sub_418C80(*(int *)&byte_5D4594[2616328]);
  v70 = (int)v39;
  if ( v39 && sub_419130((int)v39) )
    v73 = 1;
  for ( k = sub_459EB0(); k; k = sub_459EC0(k) )
  {
    v41 = sub_4217B0((int2 *)(k + 12), 0);
    if ( v41 )
    {
      if ( BYTE2(v41->field_0[32]) != a2 )
        continue;
    }
    else if ( a2 != 1 )
    {
      continue;
    }
    v42 = *(_DWORD *)&byte_587000[149232];
    xLeft.field_0 = 100 * (*(int *)(k + 12) - v8) / v42;
    xLeft.field_4 = yTop + 100 * (*(int *)(k + 16) - v9) / v42;
    if ( !(*(_DWORD *)(k + 112) & 0x400000) || (v43 = *(_DWORD *)&byte_5D4594[2650684], !(*(_BYTE *)(k + 116) & 8)) )
      v43 = *(_DWORD *)&byte_5D4594[2650644];
    sub_434460(v43);
    v44 = *(_DWORD *)(k + 108);
    if ( v44 == *(int *)&byte_5D4594[1096304] )
    {
      if ( sub_418B10() || (v45 = sub_45A000()) == 0 )
      {
LABEL_64:
        sub_434460(*(int *)&byte_5D4594[2618904]);
        v46 = sub_418C80(*(_DWORD *)(k + 128));
        if ( v46 )
        {
          v47 = sub_418AB0(*((unsigned __int8 *)v46 + 4));
          if ( v47 )
          {
            v48 = (int *)sub_418D50((int)v47);
            sub_434460(*v48);
          }
        }
        sub_473420(&xLeft);
      }
      else
      {
        while ( !sub_4356C0(v45, 30) )
        {
          v45 = sub_45A010(v45);
          if ( !v45 )
            goto LABEL_64;
        }
      }
      continue;
    }
    if ( v44 == *(int *)&byte_5D4594[1096308] )
    {
      v49 = sub_418C80(*(_DWORD *)(k + 128));
      v50 = v49;
      if ( v49 && sub_419130((int)v49) )
      {
        v51 = sub_418AB0(*((unsigned __int8 *)v50 + 4));
        if ( v51 )
        {
          v52 = (int *)sub_418D50((int)v51);
          sub_434460(*v52);
        }
      }
      else
      {
        sub_434460(*(int *)&byte_5D4594[2523948]);
      }
      sub_4734F0(&xLeft.field_0);
      continue;
    }
    v53 = *(_DWORD *)(k + 112);
    if ( v53 & 0x10000000 )
    {
      if ( *(_DWORD *)(k + 120) & 0x1000000 )
      {
        sub_434460(*(int *)&byte_5D4594[2523948]);
        v54 = sub_4B9470(*(const char ***)(k + 436));
        v55 = sub_418AB0(v54);
        if ( v55 )
          goto LABEL_88;
        goto LABEL_89;
      }
    }
    else
    {
      if ( !(v53 & 4) )
      {
        sub_473570(xLeft.field_0, xLeft.field_4);
        continue;
      }
      if ( !sub_40A5C0(32) )
      {
        if ( k == *(int *)&byte_5D4594[2614252] )
          sub_4735C0(xLeft.field_0, xLeft.field_4);
        else
          sub_473570(xLeft.field_0, xLeft.field_4);
        continue;
      }
      v56 = sub_417040(*(_DWORD *)(k + 128));
      if ( v56 )
      {
        v81 = *((_DWORD *)v56 + 1) & 1;
        if ( v81 )
        {
          sub_434460(*(int *)&byte_5D4594[2523948]);
          v57 = sub_418C80(*(_DWORD *)(k + 128));
          if ( v57 )
          {
            v55 = *((_BYTE *)v57 + 4) == 1 ? sub_418AB0(2) : sub_418AB0(1);
            if ( v55 )
            {
LABEL_88:
              v58 = (int *)sub_418D50((int)v55);
              sub_434460(*v58);
            }
          }
LABEL_89:
          sub_4733B0(&xLeft);
          continue;
        }
      }
    }
  }
  v79 = *(_DWORD *)&byte_5D4594[2618904];
  for ( l = sub_45A000(); l; l = sub_45A010(l) )
  {
    v60 = sub_4356C0(l, 30);
    v61 = *(_DWORD *)(l + 128);
    v77 = v60;
    v62 = sub_418C80(v61);
    v68 = *(_DWORD *)(l + 128);
    v81 = (int)v62;
    v75 = sub_417040(v68);
    if ( v70 && v62 && v73 )
    {
      v76.field_0 = sub_419150(v70, (int)v62);
      if ( v76.field_0 )
        goto LABEL_103;
    }
    else
    {
      v76.field_0 = 0;
    }
    if ( v77 || l == *(_DWORD *)&byte_5D4594[2614252] || *(_BYTE *)(*(_DWORD *)&byte_5D4594[2618908] + 3680) & 1 )
    {
LABEL_103:
      v63 = sub_4217B0((int2 *)(l + 12), 0);
      if ( (!v63 || BYTE2(v63->field_0[32]) == a2) && v75 && (v75[3680] & 1) != 1 )
      {
        v64 = *(_DWORD *)&byte_587000[149232];
        xLeft.field_0 = 100 * (*(int *)(l + 12) - v8) / v64;
        xLeft.field_4 = yTop + 100 * (*(int *)(l + 16) - v9) / v64;
        if ( l == *(_DWORD *)&byte_5D4594[2614252] || v76.field_0 )
          sub_434460(v79);
        else
          sub_434460(*(int *)&byte_5D4594[2650644]);
        if ( v77 )
        {
          if ( v81 )
          {
            v65 = sub_418AB0(*(unsigned __int8 *)(v81 + 4));
            if ( v65 )
            {
              v66 = (int *)sub_418D50((int)v65);
              sub_434460(*v66);
            }
          }
          sub_473420(&xLeft);
        }
        else
        {
          sub_473570(xLeft.field_0, xLeft.field_4);
        }
      }
    }
  }
  return sub_49F860();
}

//----- (004730D0) --------------------------------------------------------
int __cdecl sub_4730D0(int2 *a1, unsigned __int8 a2, int a3)
{
  int result; // eax
  int v4; // ebx
  int v5; // edi
  int2 *v6; // ebp

  if ( *(_DWORD *)&byte_587000[149232] <= 2000 )
  {
    v4 = *(_DWORD *)&byte_5D4594[2650660];
    result = a2;
    v5 = a3 / 2;
    switch ( a2 )
    {
      case 0u:
        result = sub_473380(a1->field_0, a3 + a1->field_4, a1->field_0 + a3, a1->field_4, *(int *)&byte_5D4594[2650660]);
        break;
      case 1u:
        result = sub_473380(a1->field_0, a1->field_4, a1->field_0 + a3, a1->field_4 + a3, *(int *)&byte_5D4594[2650660]);
        break;
      case 2u:
        sub_473380(a1->field_0, a3 + a1->field_4, a1->field_0 + a3, a1->field_4, *(int *)&byte_5D4594[2650660]);
        result = sub_473380(a1->field_0, a1->field_4, a1->field_0 + a3, a1->field_4 + a3, v4);
        break;
      case 3u:
        sub_473380(a1->field_0, a1->field_4, a1->field_0 + v5, a1->field_4 + v5, *(int *)&byte_5D4594[2650660]);
        result = sub_473380(a1->field_0, a3 + a1->field_4, a3 + a1->field_0, a1->field_4, v4);
        break;
      case 4u:
        sub_473380(a1->field_0, a1->field_4, a1->field_0 + a3, a1->field_4 + a3, *(int *)&byte_5D4594[2650660]);
        result = sub_473380(v5 + a1->field_0, v5 + a1->field_4, a3 + a1->field_0, a1->field_4, v4);
        break;
      case 5u:
        sub_473380(a1->field_0, a3 + a1->field_4, a1->field_0 + a3, a1->field_4, *(int *)&byte_5D4594[2650660]);
        result = sub_473380(v5 + a1->field_0, v5 + a1->field_4, a3 + a1->field_0, a1->field_4 + a3, v4);
        break;
      case 6u:
        v6 = a1;
        sub_473380(a1->field_0, a1->field_4, a1->field_0 + a3, a1->field_4 + a3, *(int *)&byte_5D4594[2650660]);
        goto LABEL_15;
      case 7u:
        sub_473380(a1->field_0, a1->field_4, a1->field_0 + v5, a1->field_4 + v5, *(int *)&byte_5D4594[2650660]);
        result = sub_473380(v5 + a1->field_0, v5 + a1->field_4, a3 + a1->field_0, a1->field_4, v4);
        break;
      case 8u:
        sub_473380(
          v5 + a1->field_0,
          v5 + a1->field_4,
          a1->field_0 + a3,
          a1->field_4 + a3,
          *(int *)&byte_5D4594[2650660]);
        result = sub_473380(v5 + a1->field_0, v5 + a1->field_4, a3 + a1->field_0, a1->field_4, v4);
        break;
      case 9u:
        sub_473380(
          v5 + a1->field_0,
          v5 + a1->field_4,
          a1->field_0 + a3,
          a1->field_4 + a3,
          *(int *)&byte_5D4594[2650660]);
        result = sub_473380(v5 + a1->field_0, v5 + a1->field_4, a1->field_0, a1->field_4 + a3, v4);
        break;
      case 0xAu:
        v6 = a1;
        sub_473380(a1->field_0, a1->field_4, a1->field_0 + v5, a1->field_4 + v5, *(int *)&byte_5D4594[2650660]);
LABEL_15:
        result = sub_473380(v6->field_0, a3 + v6->field_4, v5 + v6->field_0, v6->field_4 + v5, v4);
        break;
      default:
        return result;
    }
  }
  else
  {
    sub_434460(*(int *)&byte_5D4594[2650660]);
    result = sub_49EFA0(a1->field_0, a1->field_4);
  }
  return result;
}

//----- (00473380) --------------------------------------------------------
int __cdecl sub_473380(int a1, int a2, int a3, int a4, int a5)
{
  sub_434460(a5);
  sub_49F500(a1, a2);
  sub_49F500(a3, a4);
  return sub_49E4B0();
}

//----- (004733B0) --------------------------------------------------------
int __cdecl sub_4733B0(_DWORD *a1)
{
  int v1; // esi
  int v2; // edi

  v1 = a1[1] + 4;
  v2 = *a1 - 2;
  sub_49F500(v2, v1);
  v1 -= 8;
  sub_49F500(v2, v1);
  sub_49E4B0();
  sub_49F500(v2, v1);
  v2 += 4;
  sub_49F500(v2, v1);
  sub_49E4B0();
  sub_49F500(v2, v1);
  v1 += 4;
  sub_49F500(v2, v1);
  sub_49E4B0();
  sub_49F500(v2, v1);
  sub_49F500(v2 - 4, v1);
  return sub_49E4B0();
}

//----- (00473420) --------------------------------------------------------
int __cdecl sub_473420(_DWORD *a1)
{
  int v1; // edi
  int v2; // esi

  v1 = a1[1] + 6;
  v2 = *a1 - 4;
  sub_49F500(v2, v1);
  v1 -= 12;
  v2 -= 2;
  sub_49F500(v2, v1);
  sub_49E4B0();
  sub_49F500(v2, v1);
  v1 += 6;
  v2 += 4;
  sub_49F500(v2, v1);
  sub_49E4B0();
  sub_49F500(v2, v1);
  v1 -= 6;
  v2 += 2;
  sub_49F500(v2, v1);
  sub_49E4B0();
  sub_49F500(v2, v1);
  v1 += 6;
  v2 += 2;
  sub_49F500(v2, v1);
  sub_49E4B0();
  sub_49F500(v2, v1);
  v1 -= 6;
  v2 += 4;
  sub_49F500(v2, v1);
  sub_49E4B0();
  sub_49F500(v2, v1);
  v1 += 12;
  v2 -= 2;
  sub_49F500(v2, v1);
  sub_49E4B0();
  sub_49F500(v2, v1);
  sub_49F500(v2 - 8, v1);
  return sub_49E4B0();
}

//----- (004734F0) --------------------------------------------------------
int __cdecl sub_4734F0(int *a1)
{
  return sub_4B0B90(*a1, a1[1], 3);
}

//----- (00473510) --------------------------------------------------------
int __cdecl sub_473510(int a1, int a2, int a3, int a4)
{
  int v4; // esi
  int v5; // edi

  sub_49F500(a1, a2);
  v4 = a1 + a3 - 1;
  sub_49F500(v4, a2);
  sub_49E4B0();
  sub_49F500(v4, a2);
  v5 = a4 - 1 + a2;
  sub_49F500(v4, v5);
  sub_49E4B0();
  sub_49F500(v4, v5);
  sub_49F500(a1, v5);
  return sub_49E4B0();
}

//----- (00473570) --------------------------------------------------------
void __cdecl sub_473570(int xLeft, int yTop)
{
  if ( *(_DWORD *)&byte_587000[149232] > 1200 )
    sub_499B70(xLeft, yTop, (*(_DWORD *)&byte_587000[149232] < 1750) + 2);
  else
    sub_499B70(xLeft, yTop, 4);
}

//----- (004735C0) --------------------------------------------------------
void __cdecl sub_4735C0(int xLeft, int yTop)
{
  if ( *(_DWORD *)&byte_587000[149232] > 1200 )
    sub_499B70(xLeft, yTop, (*(_DWORD *)&byte_587000[149232] < 1750) + 4);
  else
    sub_499B70(xLeft, yTop, 6);
}

//----- (00473610) --------------------------------------------------------
char sub_473610()
{
  int v0; // eax

  v0 = sub_477600();
  if ( v0 != 1 )
  {
    if ( byte_5D4594[1096424] & 1 )
    {
      sub_452D80(785, 100);
      v0 = *(_DWORD *)&byte_5D4594[1096424];
      LOBYTE(v0) = byte_5D4594[1096424] & 0xFE;
    }
    else
    {
      sub_452D80(784, 100);
      v0 = *(_DWORD *)&byte_5D4594[1096424];
      LOBYTE(v0) = byte_5D4594[1096424] | 1;
    }
    *(_DWORD *)&byte_5D4594[3799524] = 1;
    *(_DWORD *)&byte_5D4594[1096424] = v0;
  }
  return v0;
}

//----- (00473670) --------------------------------------------------------
int sub_473670()
{
  return byte_5D4594[1096424] & 1;
}

//----- (00473680) --------------------------------------------------------
int sub_473680()
{
  int result; // eax

  *(_DWORD *)&byte_5D4594[1096420] = sub_42F970((const char *)&byte_587000[149340]);
  result = sub_455C30();
  if ( result )
  {
    result = sub_456070();
    if ( result )
    {
      result = sub_470710();
      if ( result )
      {
        result = sub_4714E0();
        if ( result )
        {
          result = sub_45B9D0();
          if ( result )
          {
            result = sub_476E20();
            if ( result )
            {
              result = sub_4BFAD0();
              if ( result )
              {
                result = sub_465E00();
                *(_DWORD *)&byte_5D4594[1096328] = result;
                if ( result )
                {
                  result = sub_4ADAD0();
                  if ( result )
                  {
                    result = sub_48D000();
                    if ( result )
                    {
                      result = sub_4C3760();
                      if ( result )
                      {
                        result = sub_46C730();
                        if ( result )
                        {
                          result = sub_4C09D0();
                          if ( result )
                          {
                            result = sub_478110();
                            if ( result )
                            {
                              result = sub_49B3E0();
                              if ( result )
                              {
                                result = sub_4BFC90();
                                if ( result )
                                {
                                  result = sub_4BFEF0();
                                  if ( result )
                                  {
                                    result = sub_4799A0();
                                    if ( result )
                                    {
                                      result = sub_460E60();
                                      if ( result )
                                      {
                                        result = sub_450C70();
                                        *(_DWORD *)&byte_5D4594[1096352] = result;
                                        if ( result )
                                        {
                                          result = sub_46A730();
                                          if ( result )
                                          {
                                            result = sub_44E560();
                                            if ( result )
                                            {
                                              result = sub_4C3500();
                                              if ( result )
                                              {
                                                result = sub_46E870();
                                                *(_DWORD *)&byte_5D4594[1096340] = result;
                                                if ( result )
                                                {
                                                  result = sub_4465C0();
                                                  *(_DWORD *)&byte_5D4594[1096324] = result;
                                                  if ( result )
                                                  {
                                                    result = sub_4C1D80();
                                                    if ( result )
                                                    {
                                                      result = sub_445790();
                                                      if ( result )
                                                      {
                                                        result = sub_4AB260();
                                                        if ( result )
                                                        {
                                                          result = sub_445650();
                                                          if ( result )
                                                          {
                                                            result = sub_4C3390();
                                                            if ( result )
                                                            {
                                                              result = sub_48C980();
                                                              if ( result )
                                                              {
                                                                sub_450BE0();
                                                                sub_4AB4A0(0);
                                                                sub_4AB4D0(0);
                                                                if ( !*(_DWORD *)&byte_587000[80828]
                                                                  || *(_DWORD *)&byte_5D4594[2650636] & 0x40000 )
                                                                {
                                                                  sub_4721A0(0);
                                                                  sub_460EA0(0);
                                                                  sub_4674B0(0);
                                                                  sub_45D500(0);
                                                                  sub_455A00(0);
                                                                  sub_455F10(0);
                                                                }
                                                                result = 1;
                                                              }
                                                            }
                                                          }
                                                        }
                                                      }
                                                    }
                                                  }
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  return result;
}

//----- (00473840) --------------------------------------------------------
int sub_473840()
{
  sub_450BF0();
  sub_4C03E0();
  sub_46CCB0();
  sub_4AE3B0();
  sub_48D450();
  sub_4C4220();
  sub_4C12A0();
  sub_4BFD10();
  sub_49B490();
  sub_478F80();
  sub_479D10();
  sub_4AB470();
  sub_4C34A0();
  sub_445770();
  sub_456240();
  sub_455EE0();
  sub_460E90();
  sub_4505E0();
  sub_46A860();
  sub_49C7A0();
  sub_4597E0(1);
  sub_467980();
  sub_46C5D0();
  *(_DWORD *)&byte_587000[80828] = *(_DWORD *)&byte_587000[80832];
  return 1;
}

//----- (004738D0) --------------------------------------------------------
int sub_4738D0()
{
  sub_45ACA0(1);
  return 1;
}

//----- (004738E0) --------------------------------------------------------
int sub_4738E0()
{
  int result; // eax
  _DWORD *v1; // eax

  result = 1;
  if ( *(_DWORD *)&byte_5D4594[1556112] != 1 )
  {
    if ( byte_5D4594[1096424] & 1 )
    {
      v1 = sub_45A6F0(*(int *)&byte_5D4594[2616328]);
      sub_4725C0((int)v1);
    }
    result = sub_445530();
  }
  return result;
}

//----- (00473920) --------------------------------------------------------
void sub_473920()
{
  *(_DWORD *)&byte_5D4594[1096520] = 1;
}

//----- (00473930) --------------------------------------------------------
char *sub_473930()
{
  char *result; // eax

  *(_DWORD *)&byte_5D4594[1096456] = sub_42FA20((const char *)&byte_587000[149576]);
  result = sub_42FA20((const char *)&byte_587000[149592]);
  *(_DWORD *)&byte_5D4594[1096460] = result;
  return result;
}

//----- (00473960) --------------------------------------------------------
int sub_473960()
{
  int result; // eax

  result = 0;
  *(_DWORD *)&byte_5D4594[1096456] = 0;
  *(_DWORD *)&byte_5D4594[1096460] = 0;
  return result;
}

//----- (00473970) --------------------------------------------------------
void __cdecl sub_473970(int2 *a1, int2 *a2)
{
  a2->field_0 = *(_DWORD *)&byte_5D4594[1096428] + a1->field_0;
  a2->field_4 = *(_DWORD *)&byte_5D4594[1096432] + a1->field_4;
}

//----- (004739A0) --------------------------------------------------------
int __cdecl sub_4739A0(int2 *a1, int2 *a2)
{
  int result; // eax

  a2->field_0 = a1->field_0 - *(_DWORD *)&byte_5D4594[1096428];
  result = a1->field_4 - *(_DWORD *)&byte_5D4594[1096432];
  a2->field_4 = result;
  return result;
}

//----- (004739D0) --------------------------------------------------------
int __cdecl sub_4739D0(int a1)
{
  return a1 - *(_DWORD *)&byte_5D4594[1096432];
}

//----- (004739E0) --------------------------------------------------------
int __cdecl sub_4739E0(_DWORD *a1, int2 *a2, int2 *a3)
{
  int result; // eax

  a3->field_0 = a2->field_0 + *a1 - a1[4];
  result = a2->field_4;
  a3->field_4 = result + a1[1] - a1[5];
  return result;
}

//----- (00473A10) --------------------------------------------------------
int __cdecl sub_473A10(_DWORD *a1, int2 *a2, _DWORD *a3)
{
  int result; // eax

  *a3 = a2->field_0 + a1[4] - *a1;
  result = a2->field_4;
  a3[1] = result + a1[5] - a1[1];
  return result;
}

//----- (00473A40) --------------------------------------------------------
int sub_473A40()
{
  *(_DWORD *)&byte_5D4594[1096464] = malloc(sizeof(void *) * 8192);
  if ( !*(_DWORD *)&byte_5D4594[1096464] )
    return 0;
  *(_DWORD *)&byte_5D4594[1096468] = 0;
  *(_DWORD *)&byte_5D4594[1096472] = malloc(0x800u);
  if ( !*(_DWORD *)&byte_5D4594[1096472] )
    return 0;
  *(_DWORD *)&byte_5D4594[1096476] = 0;
  *(_DWORD *)&byte_5D4594[1096480] = malloc(0x800u);
  if ( !*(_DWORD *)&byte_5D4594[1096480] )
    return 0;
  *(_DWORD *)&byte_5D4594[1096484] = 0;
  *(_DWORD *)&byte_5D4594[1096488] = malloc(0x800u);
  if ( !*(_DWORD *)&byte_5D4594[1096488] )
    return 0;
  *(_DWORD *)&byte_5D4594[1096492] = 0;
  *(_DWORD *)&byte_5D4594[1096496] = malloc(0x400u);
  if ( !*(_DWORD *)&byte_5D4594[1096496] )
    return 0;
  *(_DWORD *)&byte_5D4594[1096500] = 0;
  *(_DWORD *)&byte_5D4594[1096504] = malloc(0x400u);
  if ( !*(_DWORD *)&byte_5D4594[1096504] )
    return 0;
  *(_DWORD *)&byte_5D4594[1096508] = 0;
  *(_DWORD *)&byte_5D4594[1096512] = malloc(0x400u);
  if ( !*(_DWORD *)&byte_5D4594[1096512] )
    return 0;
  *(_DWORD *)&byte_5D4594[1096516] = 0;
  return 1;
}

//----- (00473B30) --------------------------------------------------------
int sub_473B30()
{
  if ( *(_DWORD *)&byte_5D4594[1096464] )
  {
    free(*(LPVOID *)&byte_5D4594[1096464]);
    *(_DWORD *)&byte_5D4594[1096464] = 0;
    *(_DWORD *)&byte_5D4594[1096468] = 0;
  }
  if ( *(_DWORD *)&byte_5D4594[1096472] )
  {
    free(*(LPVOID *)&byte_5D4594[1096472]);
    *(_DWORD *)&byte_5D4594[1096472] = 0;
    *(_DWORD *)&byte_5D4594[1096476] = 0;
  }
  if ( *(_DWORD *)&byte_5D4594[1096480] )
  {
    free(*(LPVOID *)&byte_5D4594[1096480]);
    *(_DWORD *)&byte_5D4594[1096480] = 0;
    *(_DWORD *)&byte_5D4594[1096484] = 0;
  }
  if ( *(_DWORD *)&byte_5D4594[1096488] )
  {
    free(*(LPVOID *)&byte_5D4594[1096488]);
    *(_DWORD *)&byte_5D4594[1096488] = 0;
    *(_DWORD *)&byte_5D4594[1096492] = 0;
  }
  if ( *(_DWORD *)&byte_5D4594[1096496] )
  {
    free(*(LPVOID *)&byte_5D4594[1096496]);
    *(_DWORD *)&byte_5D4594[1096496] = 0;
    *(_DWORD *)&byte_5D4594[1096500] = 0;
  }
  if ( *(_DWORD *)&byte_5D4594[1096504] )
  {
    free(*(LPVOID *)&byte_5D4594[1096504]);
    *(_DWORD *)&byte_5D4594[1096504] = 0;
    *(_DWORD *)&byte_5D4594[1096508] = 0;
  }
  if ( *(_DWORD *)&byte_5D4594[1096512] )
  {
    free(*(LPVOID *)&byte_5D4594[1096512]);
    *(_DWORD *)&byte_5D4594[1096512] = 0;
    *(_DWORD *)&byte_5D4594[1096516] = 0;
  }
  return 1;
}

//----- (00473C10) --------------------------------------------------------
char __cdecl sub_473C10(_DWORD *a1, unsigned __int8 *a2)
{
  int v2; // eax
  unsigned __int8 *v3; // esi
  unsigned __int8 v4; // dl
  int v5; // ecx
  int v6; // ebx
  int v7; // ebp
  int v8; // eax
  int v9; // edi
  int v10; // eax
  int v11; // ecx
  int v12; // eax
  int v13; // ecx
  int v14; // eax
  int v15; // edx
  int v16; // eax
  int v17; // ecx
  int v18; // eax
  int v19; // ecx
  bool v20; // zf
  BOOL v21; // edx
  int v22; // ebx
  int v23; // ecx
  int v24; // edx
  int v25; // eax
  unsigned __int8 v26; // al
  unsigned __int8 v27; // al
  char v28; // cl
  int v29; // eax
  int v30; // eax
  int v31; // eax
  int *v32; // edi
  int v33; // eax
  int v34; // eax
  int v35; // eax
  int v36; // edx
  int v37; // eax
  int v38; // eax
  int v39; // eax
  int v40; // edx
  int v41; // eax
  int v42; // eax
  int v43; // eax
  int v44; // edx
  char *v45; // eax
  int v46; // ebx
  int v47; // ebp
  int v48; // eax
  int v49; // ecx
  int v50; // edx
  int v51; // eax
  int v52; // eax
  int v53; // eax
  _BYTE *v54; // edi
  char *v55; // eax
  int v56; // ebx
  int v57; // ebp
  int v58; // eax
  int v59; // edx
  int v60; // ecx
  int v61; // eax
  int v63; // [esp-18h] [ebp-80h]
  int v64; // [esp-14h] [ebp-7Ch]
  int v65; // [esp-10h] [ebp-78h]
  int v66; // [esp-Ch] [ebp-74h]
  int v67; // [esp-8h] [ebp-70h]
  int v68; // [esp-4h] [ebp-6Ch]
  int v69; // [esp-4h] [ebp-6Ch]
  int a3; // [esp+10h] [ebp-58h]
  int a4; // [esp+14h] [ebp-54h]
  int v72; // [esp+18h] [ebp-50h]
  int v73; // [esp+1Ch] [ebp-4Ch]
  int v74; // [esp+20h] [ebp-48h]
  int v75; // [esp+24h] [ebp-44h]
  int v76; // [esp+28h] [ebp-40h]
  int2 v77; // [esp+2Ch] [ebp-3Ch]
  int2 a2a; // [esp+34h] [ebp-34h]
  int2 a1a; // [esp+3Ch] [ebp-2Ch]
  int2 v80; // [esp+44h] [ebp-24h]
  int2 v81; // [esp+4Ch] [ebp-1Ch]
  int v82; // [esp+54h] [ebp-14h]
  int v83[3]; // [esp+5Ch] [ebp-Ch]
  int v84; // [esp+70h] [ebp+8h]

  LOBYTE(v2) = byte_5D4594[3805496];
  v3 = a2;
  a4 = *(_DWORD *)&byte_5D4594[3805496];
  v72 = 0;
  a3 = 0;
  if ( !a2 )
    return v2;
  v4 = a2[4];
  if ( !(v4 & 1) )
    return v2;
  v5 = a2[6];
  v6 = *a1 + 23 * a2[5] - a1[4];
  v82 = *a1 + 23 * a2[5] - a1[4];
  v7 = a1[1] + 23 * v5 - a1[5];
  v74 = *(_DWORD *)&byte_587000[4 * a2[3] + 149364];
  v8 = v74;
  if ( v74 == -1 )
  {
    v8 = *a2;
    v74 = *a2;
  }
  v84 = v8;
  if ( v8 )
  {
    if ( v8 == 1 && v4 & 0x40 )
      v84 = 12;
  }
  else if ( v4 & 0x40 )
  {
    v84 = 11;
  }
  if ( !*(_DWORD *)&byte_587000[80808] )
    goto LABEL_54;
  v9 = 16 * v74;
  v10 = *(_DWORD *)&byte_587000[16 * v74 + 85440];
  v11 = *(_DWORD *)&byte_587000[16 * v74 + 85448];
  a1a.field_4 = v7 + *(_DWORD *)&byte_587000[16 * v74 + 85444];
  v12 = v6 + v10;
  a2a.field_4 = v7 + *(_DWORD *)&byte_587000[16 * v74 + 85452];
  v13 = v6 + v11;
  a1a.field_0 = v12;
  a2a.field_0 = v13;
  if ( v74 == 7 || v74 == 9 )
  {
    if ( sub_4C42A0(&a1a, &a2a, &a3, &a4) )
    {
      v22 = 1;
    }
    else
    {
      v22 = 0;
      a3 = a2a.field_0;
    }
    v23 = *(_DWORD *)&byte_587000[v9 + 85508];
    a1a.field_0 = v82 + *(_DWORD *)&byte_587000[v9 + 85504];
    v24 = v82 + *(_DWORD *)&byte_587000[v9 + 85512];
    v25 = *(_DWORD *)&byte_587000[v9 + 85516];
    a1a.field_4 = v7 + v23;
    a2a.field_0 = v24;
    a2a.field_4 = v7 + v25;
    v2 = sub_4C42A0(&a1a, &a2a, &a3, &a4);
    if ( v2 )
    {
LABEL_51:
      v19 = a3;
      v2 = a4;
      goto LABEL_52;
    }
    if ( !v22 )
      return v2;
    v2 = a4;
    if ( a4 > a1a.field_0 )
    {
      v2 = a1a.field_0;
      a4 = a1a.field_0;
    }
    v19 = a3;
LABEL_52:
    if ( v19 >= v2 )
    {
      v26 = v3[4];
      v3[3] = 0;
      LOBYTE(v2) = v26 & 0xFC;
      v3[4] = v2;
      return v2;
    }
LABEL_54:
    v27 = v3[4];
    v28 = v3[4] & 2;
    if ( !v28 )
    {
      v29 = (v3[4] >> 2) & 2;
      goto LABEL_64;
    }
    if ( *(_DWORD *)&byte_5D4594[805848] && *(_DWORD *)&byte_5D4594[805844] )
    {
      if ( !*(_DWORD *)&byte_587000[80820] && *(_DWORD *)&byte_587000[154952] )
        goto LABEL_61;
      v72 = 8;
    }
    if ( *(_DWORD *)&byte_587000[80820] )
    {
LABEL_62:
      v29 = (v27 & 8 | 4u) >> 2;
LABEL_64:
      v73 = v29;
      if ( v28 && *(_DWORD *)&byte_5D4594[805844] && !(byte_5D4594[12332 * v3[1] + 2692780] & 4) )
      {
        v30 = v72;
        LOBYTE(v30) = v72 | 2;
        v72 = v30;
      }
      else
      {
        v72 |= 1u;
      }
      if ( *(_DWORD *)&byte_587000[80816] )
      {
        switch ( v74 )
        {
          case 0:
          case 3:
            v31 = v3[6];
            v77.field_0 = 23 * v3[5];
            v77.field_4 = 23 * (v31 + 1);
            v32 = (int *)(*(int (__cdecl **)(int2 *))&byte_5D4594[3807156])(&v77);
            if ( *(_DWORD *)&byte_5D4594[3801780] == 1 && v32 != (int *)31 )
            {
              v83[0] = *v32;
              v83[1] = v32[1];
              v33 = v32[2];
              v32 = v83;
              v83[2] = v33;
            }
            v77.field_0 += 23;
            v77.field_4 -= 23;
            v34 = (*(int (__cdecl **)(int2 *))&byte_5D4594[3807156])(&v77);
            goto LABEL_96;
          case 1:
          case 4:
            v35 = v3[6];
            v77.field_0 = 23 * v3[5];
            v77.field_4 = 23 * v35;
            v32 = (int *)(*(int (__cdecl **)(int2 *))&byte_5D4594[3807156])(&v77);
            if ( *(_DWORD *)&byte_5D4594[3801780] == 1 && v32 != (int *)31 )
            {
              v83[0] = *v32;
              v83[1] = v32[1];
              v36 = v32[2];
              v32 = v83;
              v83[2] = v36;
            }
            v77.field_0 += 23;
            v77.field_4 += 23;
            goto LABEL_95;
          case 7:
            v37 = v3[6];
            v77.field_0 = 23 * v3[5];
            v77.field_4 = 23 * v37;
            v32 = (int *)(*(int (__cdecl **)(int2 *))&byte_5D4594[3807156])(&v77);
            if ( *(_DWORD *)&byte_5D4594[3801780] == 1 && v32 != (int *)31 )
            {
              v83[0] = *v32;
              v83[1] = v32[1];
              v38 = v32[2];
              v32 = v83;
              v83[2] = v38;
            }
            v77.field_0 += 23;
            v34 = (*(int (__cdecl **)(int2 *))&byte_5D4594[3807156])(&v77);
            goto LABEL_96;
          case 8:
            v39 = v3[6];
            v77.field_0 = 23 * v3[5] + 11;
            v77.field_4 = 23 * v39 + 11;
            v32 = (int *)(*(int (__cdecl **)(int2 *))&byte_5D4594[3807156])(&v77);
            if ( *(_DWORD *)&byte_5D4594[3801780] == 1 && v32 != (int *)31 )
            {
              v83[0] = *v32;
              v83[1] = v32[1];
              v40 = v32[2];
              v32 = v83;
              v83[2] = v40;
            }
            v77.field_0 -= 34;
            v77.field_4 -= 34;
            goto LABEL_95;
          case 10:
            v41 = v3[6];
            v77.field_0 = 23 * v3[5];
            v77.field_4 = 23 * (v41 + 1);
            v32 = (int *)(*(int (__cdecl **)(int2 *))&byte_5D4594[3807156])(&v77);
            if ( *(_DWORD *)&byte_5D4594[3801780] == 1 && v32 != (int *)31 )
            {
              v83[0] = *v32;
              v83[1] = v32[1];
              v42 = v32[2];
              v32 = v83;
              v83[2] = v42;
            }
            v77.field_0 += 11;
            v77.field_4 -= 11;
            v34 = (*(int (__cdecl **)(int2 *))&byte_5D4594[3807156])(&v77);
            goto LABEL_96;
          default:
            v43 = v3[6];
            v77.field_0 = 23 * v3[5];
            v77.field_4 = 23 * (v43 + 1);
            v32 = (int *)(*(int (__cdecl **)(int2 *))&byte_5D4594[3807156])(&v77);
            if ( *(_DWORD *)&byte_5D4594[3801780] == 1 && v32 != (int *)31 )
            {
              v83[0] = *v32;
              v83[1] = v32[1];
              v44 = v32[2];
              v32 = v83;
              v83[2] = v44;
            }
            v77.field_0 += 23;
LABEL_95:
            v34 = (*(int (__cdecl **)(int2 *))&byte_5D4594[3807156])(&v77);
LABEL_96:
            v74 = v34;
            v45 = sub_46A3F0(v3[1], v84, v3[2], v73);
            v46 = v82 + *(_DWORD *)v45 - 51;
            v47 = -73 - *((_DWORD *)v45 + 1) + v7;
            v48 = sub_4345F0(1);
            LOBYTE(v48) = *((_BYTE *)v32 + 8);
            LOBYTE(v49) = *((_BYTE *)v32 + 4);
            LOBYTE(v50) = *(_BYTE *)v32;
            sub_433CD0(v50, v49, v48);
            if ( !(v72 & 2) )
            {
              v69 = v72;
              v66 = a4;
              v65 = a3;
              v64 = *(_DWORD *)&byte_5D4594[3807120];
              v63 = v74;
              v52 = sub_46A3B0(v3[1], v84, v3[2], v73);
              (*(void (__cdecl **)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD))&byte_5D4594[3807128])(
                v52,
                v46,
                v47,
                v32,
                v63,
                v64,
                v65,
                v66,
                0,
                v69);
              goto LABEL_106;
            }
            if ( !sub_47D380(a3, a4) )
              goto LABEL_106;
            sub_434560(1);
            sub_434580(0x80u);
            sub_47D400(*(_DWORD *)&byte_587000[80820] == 0, a1[5]);
            v68 = v47;
            v67 = v46;
            v51 = sub_46A3B0(v3[1], v84, v3[2], v73);
            break;
        }
      }
      else
      {
        v53 = v3[6];
        v77.field_0 = 23 * v3[5] + 11;
        v77.field_4 = 23 * v53 + 11;
        v54 = (_BYTE *)(*(int (__cdecl **)(int2 *))&byte_5D4594[3807156])(&v77);
        v55 = sub_46A3F0(v3[1], v84, v3[2], v73);
        v56 = v82 + *(_DWORD *)v55 - 50;
        v57 = -72 - *((_DWORD *)v55 + 1) + v7;
        v58 = sub_4345F0(1);
        LOBYTE(v59) = v54[8];
        LOBYTE(v58) = v54[4];
        LOBYTE(v60) = *v54;
        sub_433CD0(v60, v58, v59);
        if ( !(v72 & 2) )
        {
          if ( sub_47D380(a3, a4) )
          {
            sub_47D400(*(_DWORD *)&byte_587000[80820] == 0, a1[5]);
            v61 = sub_46A3B0(v3[1], v84, v3[2], v73);
            sub_47D2C0(v61, v56, v57);
            sub_47D400(0, 0);
          }
          goto LABEL_106;
        }
        if ( !sub_47D380(a3, a4) )
        {
LABEL_106:
          sub_4345F0(0);
          LOBYTE(v2) = v3[4] & 0xFC;
          v3[3] = 0;
          v3[4] = v2;
          *((_DWORD *)v3 + 3) = 1;
          return v2;
        }
        sub_434560(1);
        sub_434580(0x80u);
        sub_47D400(*(_DWORD *)&byte_587000[80820] == 0, a1[5]);
        v68 = v57;
        v67 = v56;
        v51 = sub_46A3B0(v3[1], v84, v3[2], v73);
      }
      sub_47D2C0(v51, v67, v68);
      sub_47D400(0, 0);
      sub_434560(0);
      goto LABEL_106;
    }
LABEL_61:
    v72 |= 4u;
    goto LABEL_62;
  }
  if ( v74 != 8 && v74 != 10 )
  {
    v2 = sub_4C42A0(&a1a, &a2a, &a3, &a4);
    if ( !v2 )
      return v2;
    goto LABEL_51;
  }
  v76 = v13;
  v75 = v12;
  if ( sub_4C42A0(&a1a, &a2a, &v75, &v76) )
    v73 = v76 - v75 >= 3;
  else
    v73 = 0;
  v14 = *(_DWORD *)&byte_587000[16 * v74 + 85504];
  v15 = *(_DWORD *)&byte_587000[16 * v74 + 85516];
  v80.field_4 = v7 + *(_DWORD *)&byte_587000[16 * v74 + 85508];
  v16 = v6 + v14;
  v17 = v6 + *(_DWORD *)&byte_587000[16 * v74 + 85512];
  v80.field_0 = v16;
  a3 = v16;
  v81.field_0 = v17;
  a4 = v17;
  v81.field_4 = v7 + v15;
  v18 = sub_4C42A0(&v80, &v81, &a3, &a4);
  v19 = a3;
  v20 = v18 == 0;
  v2 = a4;
  if ( v20 )
    v21 = 0;
  else
    v21 = a4 - a3 >= 3;
  if ( v73 )
  {
    if ( v21 )
    {
      if ( a3 > v75 )
      {
        v19 = v75;
        a3 = v75;
      }
      if ( v19 <= v80.field_0 )
      {
        v19 = 0;
        a3 = 0;
      }
      if ( a4 < v76 )
      {
        v2 = v76;
        a4 = v76;
      }
      if ( v2 >= v81.field_0 )
      {
        v2 = *(_DWORD *)&byte_5D4594[3805496];
        a4 = *(_DWORD *)&byte_5D4594[3805496];
      }
    }
    else
    {
      v19 = v75;
      v2 = v76;
      a3 = v75;
      a4 = v76;
      if ( v74 != 8 )
      {
        v84 = 1;
LABEL_33:
        if ( v19 == v80.field_0 )
        {
          v19 = 0;
          a3 = 0;
        }
        goto LABEL_52;
      }
      v84 = 0;
      if ( v76 == v81.field_0 )
      {
        v2 = *(_DWORD *)&byte_5D4594[3805496];
        a4 = *(_DWORD *)&byte_5D4594[3805496];
      }
    }
    goto LABEL_52;
  }
  if ( v21 )
  {
    v84 = (v74 != 8) + 13;
    if ( a4 == v81.field_0 )
    {
      v2 = *(_DWORD *)&byte_5D4594[3805496];
      a4 = *(_DWORD *)&byte_5D4594[3805496];
    }
    goto LABEL_33;
  }
  return v2;
}
// 474366: variable 'v50' is possibly undefined
// 474366: variable 'v49' is possibly undefined
// 4744A3: variable 'v60' is possibly undefined
// 4744A3: variable 'v59' is possibly undefined

//----- (004745F0) --------------------------------------------------------
int __cdecl sub_4745F0(_DWORD *a1)
{
  void (__cdecl *v1)(int, unsigned __int8 *); // ebx
  int result; // eax
  int *i; // ebp
  int v4; // esi
  int v5; // eax

  v1 = sub_476850;
  if ( *(_DWORD *)&byte_5D4594[3799624] )
    v1 = (void (__cdecl *)(int, unsigned __int8 *))sub_476AE0;
  result = *(_DWORD *)&byte_5D4594[1096484];
  for ( i = *(int **)&byte_5D4594[1096480]; *(_DWORD *)&byte_5D4594[1096484]; --*(_DWORD *)&byte_5D4594[1096484] )
  {
    v4 = *i;
    ++i;
    sub_4746C0(a1, v4);
    if ( sub_4984B0(v4) )
    {
      *(_DWORD *)(v4 + 484) = 1;
      v1((int)a1, (unsigned __int8 *)v4);
      if ( *(_BYTE *)(v4 + 280) & 0x40 )
        sub_4C4F40(a1, v4);
      sub_474E60(a1, v4);
      sub_495BB0((_DWORD *)v4, a1);
      if ( byte_5D4594[2650636] & 2 )
        sub_4BCC90(a1, v4);
      v5 = *(_DWORD *)(v4 + 480);
      *(_DWORD *)(v4 + 132) = 0;
      if ( !v5 && !*(_DWORD *)(v4 + 488) )
        *(_DWORD *)(v4 + 340) = *(_DWORD *)&byte_5D4594[2598000];
    }
    result = *(_DWORD *)&byte_5D4594[1096484] - 1;
  }
  return result;
}

//----- (004746C0) --------------------------------------------------------
int __cdecl sub_4746C0(_DWORD *a1, int a2)
{
  int v2; // edi
  int v3; // eax
  int v4; // eax
  int v5; // edi
  int v6; // eax
  int v7; // eax
  char v8; // al
  int result; // eax
  int v10; // [esp-24h] [ebp-34h]
  int v11; // [esp-24h] [ebp-34h]
  int v12; // [esp-24h] [ebp-34h]
  int v13; // [esp-24h] [ebp-34h]
  char v14; // [esp-1Ch] [ebp-2Ch]
  char v15; // [esp-1Ch] [ebp-2Ch]
  char v16; // [esp-1Ch] [ebp-2Ch]
  char v17; // [esp-1Ch] [ebp-2Ch]
  char v18; // [esp-18h] [ebp-28h]
  char v19; // [esp-18h] [ebp-28h]
  char v20; // [esp-18h] [ebp-28h]
  char v21; // [esp-18h] [ebp-28h]
  int v22; // [esp-8h] [ebp-18h]
  int v23; // [esp-8h] [ebp-18h]
  int v24; // [esp-8h] [ebp-18h]
  int v25; // [esp-8h] [ebp-18h]
  int2 v26; // [esp+8h] [ebp-8h]

  if ( sub_4356C0(a2, 0) && !sub_474B40(a2) )
    goto LABEL_37;
  if ( sub_4356C0(a2, 14) )
  {
    sub_4739E0(a1, (int2 *)(a2 + 12), &v26);
    sub_4B6720(&v26, *(int *)&byte_5D4594[2650684], 30, 31);
  }
  if ( sub_4356C0(a2, 9) && !sub_413A50() )
  {
    if ( !*(_DWORD *)&byte_5D4594[1096524] )
    {
      *(_DWORD *)&byte_5D4594[1096524] = sub_44CFC0((CHAR *)&byte_587000[149612]);
      *(_DWORD *)&byte_5D4594[1096528] = sub_44CFC0((CHAR *)&byte_587000[149632]);
    }
    if ( *(_DWORD *)(a2 + 12) != *(_DWORD *)(a2 + 32) || *(_DWORD *)(a2 + 16) != *(_DWORD *)(a2 + 36) )
      v2 = 2;
    else
      v2 = 0;
    if ( v2 > 0 )
    {
      do
      {
        v22 = sub_415FF0(3, 5, (const char *)&byte_587000[149656], 1055);
        v18 = sub_415FF0(3, 6, (const char *)&byte_587000[149696], 1051);
        v14 = sub_415FF0(2, 4, (const char *)&byte_587000[149736], 1050);
        v10 = *(_DWORD *)(a2 + 16)
            + *(__int16 *)(a2 + 104)
            + sub_415FF0(-10, 10, (const char *)&byte_587000[149776], 1048);
        v3 = sub_415FF0(-10, 10, (const char *)&byte_587000[149816], 1047);
        sub_499F60(*(int *)&byte_5D4594[1096524], *(_DWORD *)(a2 + 12) + v3, v10, 1, v14, v18, 0, 0, 0, v22);
        v23 = sub_415FF0(3, 5, (const char *)&byte_587000[149856], 1066);
        v19 = sub_415FF0(3, 6, (const char *)&byte_587000[149896], 1062);
        v15 = sub_415FF0(2, 4, (const char *)&byte_587000[149936], 1061);
        v11 = *(_DWORD *)(a2 + 16)
            + *(__int16 *)(a2 + 104)
            + sub_415FF0(-10, 10, (const char *)&byte_587000[149976], 1059);
        v4 = sub_415FF0(-10, 10, (const char *)&byte_587000[150016], 1058);
        sub_499F60(*(int *)&byte_5D4594[1096528], *(_DWORD *)(a2 + 12) + v4, v11, 1, v15, v19, 0, 0, 0, v23);
        --v2;
      }
      while ( v2 );
    }
  }
  if ( sub_4356C0(a2, 8) && !sub_413A50() )
  {
    if ( !*(_DWORD *)&byte_5D4594[1096532] )
    {
      *(_DWORD *)&byte_5D4594[1096532] = sub_44CFC0((CHAR *)&byte_587000[150056]);
      *(_DWORD *)&byte_5D4594[1096536] = sub_44CFC0((CHAR *)&byte_587000[150076]);
    }
    if ( *(_DWORD *)(a2 + 12) != *(_DWORD *)(a2 + 32) || (v5 = 1, *(_DWORD *)(a2 + 16) != *(_DWORD *)(a2 + 36)) )
      v5 = 2;
    do
    {
      v24 = sub_415FF0(3, 5, (const char *)&byte_587000[150100], 1108);
      v20 = sub_415FF0(3, 6, (const char *)&byte_587000[150140], 1104);
      v16 = sub_415FF0(2, 4, (const char *)&byte_587000[150180], 1103);
      v12 = *(_DWORD *)(a2 + 16)
          + *(__int16 *)(a2 + 104)
          + sub_415FF0(-10, 10, (const char *)&byte_587000[150220], 1101);
      v6 = sub_415FF0(-10, 10, (const char *)&byte_587000[150260], 1100);
      sub_499F60(*(int *)&byte_5D4594[1096532], *(_DWORD *)(a2 + 12) + v6, v12, 1, v16, v20, 0, 0, 0, v24);
      v25 = sub_415FF0(3, 5, (const char *)&byte_587000[150300], 1119);
      v21 = sub_415FF0(3, 6, (const char *)&byte_587000[150340], 1115);
      v17 = sub_415FF0(2, 4, (const char *)&byte_587000[150380], 1114);
      v13 = *(_DWORD *)(a2 + 16)
          + *(__int16 *)(a2 + 104)
          + sub_415FF0(-10, 10, (const char *)&byte_587000[150420], 1112);
      v7 = sub_415FF0(-10, 10, (const char *)&byte_587000[150460], 1111);
      sub_499F60(*(int *)&byte_5D4594[1096536], *(_DWORD *)(a2 + 12) + v7, v13, 1, v17, v21, 0, 0, 0, v25);
      --v5;
    }
    while ( v5 );
  }
  if ( sub_4356C0(a2, 17) )
    sub_474BE0(a1, (int *)(a2 + 12), a2, 0, 0, *(int *)&byte_5D4594[2650644], *(int *)&byte_5D4594[2589776], 1);
  if ( sub_4356C0(a2, 18) )
    sub_474BE0(a1, (int *)(a2 + 12), a2, 85, 1, *(int *)&byte_5D4594[2618904], *(int *)&byte_5D4594[2614268], 1);
  if ( sub_4356C0(a2, 20) )
    sub_474BE0(a1, (int *)(a2 + 12), a2, 170, 2, *(int *)&byte_5D4594[2650684], *(int *)&byte_5D4594[2523948], 1);
  if ( !sub_4356C0(a2, 27) || (v8 = *(_BYTE *)(a2 + 297)) != 0 && v8 != 1 && v8 != 2 )
LABEL_37:
    result = 0;
  else
    result = sub_499810((int)a1, a2);
  return result;
}

//----- (00474B40) --------------------------------------------------------
int __cdecl sub_474B40(int a1)
{
  _DWORD *v1; // edi
  _DWORD *v2; // eax
  int v3; // eax

  v1 = sub_418C80(*(int *)&byte_5D4594[2616328]);
  if ( v1 )
  {
    v2 = sub_418C80(*(_DWORD *)(a1 + 128));
    if ( v2 )
    {
      if ( *(_DWORD *)&byte_5D4594[2616328] == *(_DWORD *)(a1 + 128) || sub_419150((int)v1, (int)v2) )
        return 1;
    }
  }
  v3 = *(_DWORD *)&byte_5D4594[2614252];
  if ( a1 == *(_DWORD *)&byte_5D4594[2614252] )
    return 1;
  if ( *(_DWORD *)&byte_5D4594[2614252] )
  {
    if ( !sub_4356C0(*(int *)&byte_5D4594[2614252], 21) )
    {
      v3 = *(_DWORD *)&byte_5D4594[2614252];
      goto LABEL_9;
    }
    return 1;
  }
LABEL_9:
  if ( *(_BYTE *)(a1 + 112) & 4 )
  {
    if ( a1 != v3 )
      sub_417040(*(_DWORD *)(a1 + 128));
  }
  return 0;
}

//----- (00474BE0) --------------------------------------------------------
int __cdecl sub_474BE0(_DWORD *a1, int *a2, int a3, int a4, int a5, int a6, int a7, int a8)
{
  int *v8; // ebp
  int v9; // esi
  int v10; // eax
  int v11; // edx
  int v12; // edi
  int v13; // eax
  int v14; // ecx
  int v15; // eax
  int v16; // edi
  int v17; // ebx
  int v18; // eax
  int v19; // ecx
  int v20; // eax
  int v21; // ecx
  int v22; // eax
  int v23; // eax
  int result; // eax
  float v25; // [esp+0h] [ebp-2Ch]
  float v26; // [esp+0h] [ebp-2Ch]
  float v27; // [esp+0h] [ebp-2Ch]
  float v28; // [esp+0h] [ebp-2Ch]
  int i; // [esp+14h] [ebp-18h]
  int2 v30; // [esp+1Ch] [ebp-10h]
  int2 v31; // [esp+24h] [ebp-8h]
  float v32; // [esp+34h] [ebp+8h]

  v8 = a2;
  v9 = a8;
  for ( i = 0; i < 2; ++i )
  {
    if ( i )
    {
      v9 += 128;
      if ( v9 < 256 )
        goto LABEL_7;
    }
    else
    {
      v9 = a4 + (unsigned __int8)(10 * (byte_5D4594[2598000] + *(_BYTE *)(a3 + 128)));
      if ( v9 < 256 )
        goto LABEL_7;
    }
    v9 -= 256;
LABEL_7:
    v32 = 0.70709997;
    if ( !a5 )
      v32 = 1.0;
    v25 = (double)(2 * *(int *)&byte_587000[8 * v9 + 192088]) * v32 + (double)*v8;
    v10 = sub_419A70(v25);
    v11 = *(int *)&byte_587000[8 * v9 + 192092];
    v30.field_0 = v10;
    v26 = (double)(2 * v11) * v32 + (double)v8[1];
    v30.field_4 = sub_419A70(v26);
    v12 = v9 - 6 + (v9 - 6 < 0 ? 0x100 : 0);
    v27 = (double)(2 * *(int *)&byte_587000[8 * v12 + 192088]) * v32 + (double)*v8;
    v13 = sub_419A70(v27);
    v14 = *(int *)&byte_587000[8 * v12 + 192092];
    v31.field_0 = v13;
    v28 = (double)(2 * v14) * v32 + (double)v8[1];
    v15 = sub_419A70(v28);
    v16 = v30.field_4;
    v17 = v15;
    v18 = v8[1];
    v19 = 0;
    v31.field_4 = v17;
    if ( v30.field_4 >= v18 )
      goto LABEL_25;
    if ( a8 == 1 )
      v19 = 1;
    if ( v30.field_4 >= v18 )
    {
LABEL_25:
      if ( !a8 )
        goto LABEL_24;
    }
    if ( v19 )
    {
LABEL_24:
      if ( a5 == 1 )
      {
        v20 = *v8;
        v21 = v30.field_0;
        goto LABEL_19;
      }
      if ( a5 == 2 )
      {
        v20 = v30.field_0;
        v21 = *v8;
LABEL_19:
        v22 = 35 * (v20 - v21) / (2 * *(_DWORD *)&byte_587000[192088]);
        v16 = v22 + v30.field_4;
        v17 += v22;
      }
      v23 = *(__int16 *)(a3 + 104);
      v30.field_4 = -20 - v23 + v16;
      v31.field_4 = -20 - v23 + v17;
      sub_474DD0(a1, &v30, &v31, a6, a7);
    }
    result = i + 1;
  }
  return result;
}

//----- (00474DD0) --------------------------------------------------------
int __cdecl sub_474DD0(_DWORD *a1, int2 *a2, int2 *a3, int a4, int a5)
{
  int2 xLeft; // [esp+8h] [ebp-8h]

  sub_4739E0(a1, a2, &xLeft);
  sub_4B6720(&xLeft, a4, 10, 12);
  sub_434460(a5);
  sub_499B70(xLeft.field_0, xLeft.field_4, 3);
  sub_49F500(xLeft.field_0, xLeft.field_4);
  sub_4739E0(a1, a3, &xLeft);
  sub_49F500(xLeft.field_0, xLeft.field_4);
  sub_434460(a5);
  return sub_49E4B0();
}

//----- (00474E60) --------------------------------------------------------
int __cdecl sub_474E60(_DWORD *a1, int a2)
{
  int v2; // esi
  int v3; // eax
  _DWORD *v4; // ebp
  int v5; // edx
  char v6; // al
  int v7; // ecx
  int v8; // eax
  int v9; // edx
  int v10; // eax
  int v11; // ebx
  int v12; // ebp
  int v13; // eax
  int v14; // eax
  int v15; // eax
  int v16; // ebx
  int v17; // edi
  int v18; // eax
  int v19; // eax
  int v20; // eax
  int v21; // eax
  int v22; // eax
  int v23; // eax
  int v24; // edx
  int v25; // ebx
  int v26; // eax
  char v27; // al
  int result; // eax
  int v29; // [esp-20h] [ebp-44h]
  int v30; // [esp-1Ch] [ebp-40h]
  int v31; // [esp-1Ch] [ebp-40h]
  __int16 v32; // [esp-18h] [ebp-3Ch]
  __int16 v33; // [esp-18h] [ebp-3Ch]
  char v34; // [esp-14h] [ebp-38h]
  char v35; // [esp-14h] [ebp-38h]
  char v36; // [esp-10h] [ebp-34h]
  char v37; // [esp-10h] [ebp-34h]
  int v38; // [esp-8h] [ebp-2Ch]
  float v39; // [esp+0h] [ebp-24h]
  int v40; // [esp+0h] [ebp-24h]
  int v41; // [esp+0h] [ebp-24h]
  int2 xLeft; // [esp+14h] [ebp-10h]
  int2 a3; // [esp+1Ch] [ebp-8h]
  int v44; // [esp+2Ch] [ebp+8h]

  v2 = a2;
  if ( sub_4356C0(a2, 0) && !sub_474B40(a2) )
    goto LABEL_54;
  if ( sub_4356C0(a2, 22) )
  {
    v3 = *(_DWORD *)&byte_5D4594[1096540];
    if ( !*(_DWORD *)&byte_5D4594[1096540] )
    {
      v3 = sub_44CFC0((CHAR *)&byte_587000[150500]);
      *(_DWORD *)&byte_5D4594[1096540] = v3;
    }
    sub_499710(*(_DWORD *)(a2 + 12), *(_DWORD *)(a2 + 16), *(_WORD *)(a2 + 104), v3);
  }
  if ( sub_4356C0(a2, 3) || sub_4356C0(a2, 5) || sub_4356C0(a2, 29) || sub_4356C0(a2, 28) )
  {
    v4 = a1;
    sub_4739E0(a1, (int2 *)(a2 + 12), &xLeft);
    v5 = 5 - *(__int16 *)(a2 + 106) - *(__int16 *)(a2 + 104) - sub_419A70(*(float *)(a2 + 100));
    v6 = *(_BYTE *)(a2 + 112);
    v7 = v5 + xLeft.field_4;
    xLeft.field_4 += v5;
    if ( v6 & 4 && *(_DWORD *)(a2 + 276) == 6 )
    {
      v8 = 8 * *(unsigned __int8 *)(a2 + 297);
      v9 = *(_DWORD *)&byte_587000[v8 + 149432];
      v10 = *(_DWORD *)&byte_587000[v8 + 149436];
      xLeft.field_0 += v9;
      xLeft.field_4 = v10 + v7;
    }
    if ( sub_4356C0(a2, 29) )
    {
      sub_434600(1);
      sub_433E40(*(int *)&byte_5D4594[2650684]);
    }
    sub_4BE6D0(*(int *)&byte_5D4594[1096456], xLeft.field_0 - 64, xLeft.field_4 - 64);
    sub_434600(0);
  }
  else
  {
    v4 = a1;
  }
  if ( sub_4356C0(a2, 4) && !sub_413A50() )
  {
    v11 = sub_419A70(*(float *)(a2 + 48));
    v39 = *(float *)(a2 + 100) * 0.5;
    v44 = sub_419A70(v39);
    if ( !*(_DWORD *)&byte_5D4594[1096544] )
      *(_DWORD *)&byte_5D4594[1096544] = sub_44CFC0((CHAR *)&byte_587000[150512]);
    v12 = 2;
    do
    {
      v40 = sub_415FF0(3, 5, (const char *)&byte_587000[150536], 1307);
      v36 = sub_415FF0(3, 6, (const char *)&byte_587000[150576], 1303);
      v34 = sub_415FF0(1, 2, (const char *)&byte_587000[150616], 1302);
      v32 = sub_415FF0(0, v44, (const char *)&byte_587000[150656], 1301);
      v30 = *(_DWORD *)(v2 + 16) + sub_415FF0(-v11, v11, (const char *)&byte_587000[150696], 1300);
      v13 = sub_415FF0(-v11, v11, (const char *)&byte_587000[150736], 1299);
      sub_499F60(*(int *)&byte_5D4594[1096544], *(_DWORD *)(v2 + 12) + v13, v30, v32, v34, v36, -5, 0, 0, v40);
      --v12;
    }
    while ( v12 );
    v4 = a1;
  }
  if ( sub_4356C0(v2, 21) && !sub_413A50() )
  {
    if ( !*(_DWORD *)&byte_5D4594[1096548] )
      *(_DWORD *)&byte_5D4594[1096548] = sub_44CFC0((CHAR *)&byte_587000[150776]);
    v41 = sub_415FF0(2, 3, (const char *)&byte_587000[150796], 1335);
    v37 = sub_415FF0(3, 6, (const char *)&byte_587000[150836], 1331);
    v35 = sub_415FF0(2, 4, (const char *)&byte_587000[150876], 1330);
    v29 = sub_419A70(*(float *)(v2 + 100)) + 12;
    v14 = sub_419A70(*(float *)(v2 + 100));
    v33 = sub_415FF0(v14 + 8, v29, (const char *)&byte_587000[150916], 1329);
    v31 = *(_DWORD *)(v2 + 16) + sub_415FF0(-10, 10, (const char *)&byte_587000[150956], 1327);
    v15 = sub_415FF0(-6, 6, (const char *)&byte_587000[150996], 1326);
    sub_499F60(*(int *)&byte_5D4594[1096548], *(_DWORD *)(v2 + 12) + v15, v31, v33, v35, v37, 1, 0, 0, v41);
  }
  if ( sub_4356C0(v2, 13) && !sub_413A50() )
  {
    if ( !*(_DWORD *)&byte_5D4594[1096552] )
    {
      *(_DWORD *)&byte_5D4594[1096452] = sub_4344A0(255, 0, 255);
      *(_DWORD *)&byte_5D4594[1096436] = sub_4344A0(255, 180, 255);
      *(_DWORD *)&byte_5D4594[1096552] = 1;
    }
    sub_4739E0(v4, (int2 *)(v2 + 12), &a3);
    v16 = 10;
    do
    {
      v17 = sub_415FF0(1, 2, (const char *)&byte_587000[151036], 1366);
      v38 = sub_419A70(*(float *)(v2 + 48));
      v18 = sub_419A70(*(float *)(v2 + 48));
      v19 = sub_415FF0(-v18, v38, (const char *)&byte_587000[151076], 1369);
      xLeft.field_0 = a3.field_0 + v19;
      v20 = sub_419A70(*(float *)(v2 + 100));
      v21 = sub_415FF0(-10 - v20, 0, (const char *)&byte_587000[151116], 1370);
      xLeft.field_4 = v21 + a3.field_4 + *(__int16 *)(v2 + 104);
      v22 = sub_415FF0(3, 4, (const char *)&byte_587000[151156], 1372);
      sub_4B6720(&xLeft, *(int *)&byte_5D4594[1096452], v17 + v22, v17 + 2);
      sub_434460(*(int *)&byte_5D4594[1096436]);
      sub_499B70(xLeft.field_0, xLeft.field_4, v17);
      --v16;
    }
    while ( v16 );
  }
  if ( sub_4356C0(v2, 17) )
    sub_474BE0(v4, (int *)(v2 + 12), v2, 0, 0, *(int *)&byte_5D4594[2650644], *(int *)&byte_5D4594[2589776], 0);
  if ( sub_4356C0(v2, 18) )
    sub_474BE0(v4, (int *)(v2 + 12), v2, 85, 1, *(int *)&byte_5D4594[2618904], *(int *)&byte_5D4594[2614268], 0);
  if ( sub_4356C0(v2, 20) )
    sub_474BE0(v4, (int *)(v2 + 12), v2, 170, 2, *(int *)&byte_5D4594[2650684], *(int *)&byte_5D4594[2523948], 0);
  if ( sub_4356C0(v2, 26) )
  {
    sub_4739E0(v4, (int2 *)(v2 + 12), &xLeft);
    v23 = *(_DWORD *)(v2 + 276);
    v24 = -90 - *(__int16 *)(v2 + 104);
    v25 = xLeft.field_0 - 64;
    xLeft.field_0 -= 64;
    xLeft.field_4 += v24;
    if ( v23 == 6 )
    {
      v26 = 8 * *(unsigned __int8 *)(v2 + 297);
      xLeft.field_0 = *(_DWORD *)&byte_587000[v26 + 149504] + v25;
      xLeft.field_4 += *(_DWORD *)&byte_587000[v26 + 149508];
    }
    sub_434560(1);
    sub_434580(0x80u);
    sub_4BE6D0(*(int *)&byte_5D4594[1096460], xLeft.field_0, xLeft.field_4);
    sub_434560(0);
  }
  if ( sub_4356C0(v2, 27) && (v27 = *(_BYTE *)(v2 + 297)) != 0 && v27 != 1 && v27 != 2 )
    result = sub_499810((int)v4, v2);
  else
LABEL_54:
    result = 0;
  return result;
}

//----- (004754C0) --------------------------------------------------------
size_t __cdecl sub_4754C0(int a1)
{
  size_t result; // eax

  result = *(_DWORD *)&byte_5D4594[1096516];
  if ( *(int *)&byte_5D4594[1096516] < 256 )
  {
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1096512] + 4 * *(_DWORD *)&byte_5D4594[1096516]) = a1;
    result = ++*(_DWORD *)&byte_5D4594[1096516];
  }
  return result;
}

//----- (004754F0) --------------------------------------------------------
void __cdecl sub_4754F0(_DWORD *a1)
{
  int v1; // edx
  int v2; // ecx
  int v3; // edx
  int4 v4; // [esp+0h] [ebp-10h]

  v1 = a1[4] + a1[8];
  v4.field_0 = a1[4];
  v2 = a1[5];
  v4.field_8 = v1;
  v3 = a1[9];
  v4.field_4 = v2;
  v4.field_C = v3 + v2 + 128;
  *(_DWORD *)&byte_5D4594[1096468] = 0;
  *(_DWORD *)&byte_5D4594[1096476] = 0;
  *(_DWORD *)&byte_5D4594[1096484] = 0;
  *(_DWORD *)&byte_5D4594[1096492] = 0;
  *(_DWORD *)&byte_5D4594[1096500] = 0;
  *(_DWORD *)&byte_5D4594[1096508] = 0;
  sub_49AB00(&v4, (void (__cdecl *)(int, int))sub_475560, (int)a1);
}

//----- (00475560) --------------------------------------------------------
void __cdecl sub_475560(int a1)
{
  if ( sub_4756E0((_DWORD *)a1) )
  {
    if ( *(int *)&byte_5D4594[1096484] < 512 )
      *(_DWORD *)(*(_DWORD *)&byte_5D4594[1096480] + 4 * (*(_DWORD *)&byte_5D4594[1096484])++) = a1;
    return;
  }
  if ( sub_475740((_DWORD *)a1) )
  {
    if ( *(int *)&byte_5D4594[1096476] < 512 )
      *(_DWORD *)(*(_DWORD *)&byte_5D4594[1096472] + 4 * (*(_DWORD *)&byte_5D4594[1096476])++) = a1;
  }
  else if ( sub_4757A0(a1) )
  {
    if ( *(int *)&byte_5D4594[1096492] < 512 )
      *(_DWORD *)(*(_DWORD *)&byte_5D4594[1096488] + 4 * (*(_DWORD *)&byte_5D4594[1096492])++) = a1;
  }
  else if ( sub_4757D0((_DWORD *)a1)
         && (*(_DWORD *)&byte_587000[80836] || a1 == *(_DWORD *)&byte_5D4594[2614252] || sub_4984B0(a1)) )
  {
    if ( !*(_DWORD *)(a1 + 488) )
    {
      if ( sub_4984B0(a1) )
      {
        *(_DWORD *)(a1 + 484) = 1;
        *(_DWORD *)(a1 + 480) = 0;
      }
      else
      {
        if ( !*(_DWORD *)(a1 + 484) || *(_BYTE *)(a1 + 112) & 6 )
          return;
        *(_DWORD *)(a1 + 480) = 1;
      }
    }
    if ( (*(_DWORD *)(a1 + 480) || *(_DWORD *)(a1 + 488))
      && (unsigned int)(*(_DWORD *)&byte_5D4594[2598000] - *(_DWORD *)(a1 + 340)) > *(int *)&byte_5D4594[2649704] )
    {
      *(_DWORD *)(a1 + 480) = 0;
    }
    else if ( *(int *)&byte_5D4594[1096468] < 8192 )
    {
      *(_DWORD *)(*(_DWORD *)&byte_5D4594[1096464] + 4 * (*(_DWORD *)&byte_5D4594[1096468])++) = a1;
    }
  }
}

//----- (004756E0) --------------------------------------------------------
int __cdecl sub_4756E0(_DWORD *a1)
{
  int result; // eax
  int (__cdecl *v2)(int *, int); // esi
  int v3; // edx
  int v4; // ecx

  result = 0;
  v2 = (int (__cdecl *)(int *, int))a1[75];
  if ( v2 )
  {
    v3 = a1[30];
    v4 = a1[28];
    if ( !(v3 & 0x1000)
      && v3 & 1
      && (v2 == sub_4BCC20 || v2 == sub_4BCC60)
      && !(v4 & 0x80800000)
      && (v3 & 0x48 || v4 & 0x400000)
      && !(v3 & 0x800) )
    {
      result = 1;
    }
  }
  return result;
}

//----- (00475740) --------------------------------------------------------
int __cdecl sub_475740(_DWORD *a1)
{
  int result; // eax
  int (__cdecl *v2)(int *, int); // edx
  int v3; // ebx
  int v4; // ecx

  result = 0;
  v2 = (int (__cdecl *)(int *, int))a1[75];
  if ( v2 )
  {
    v3 = a1[30];
    v4 = a1[28];
    if ( !(v3 & 0x1000) )
    {
      if ( v3 & 1 )
      {
        result = 1;
        if ( (v2 == sub_4BCC20 || v2 == sub_4BCC60)
          && !(v4 & 0x80800000)
          && !(v3 & 0x800)
          && (v3 & 0x48 || v4 & 0x400000) )
        {
          result = 0;
        }
      }
    }
  }
  return result;
}

//----- (004757A0) --------------------------------------------------------
int __cdecl sub_4757A0(int a1)
{
  int result; // eax
  int v2; // ecx

  result = 0;
  if ( *(_DWORD *)(a1 + 300) )
  {
    v2 = *(_DWORD *)(a1 + 120);
    if ( !(v2 & 0x1000) )
    {
      if ( v2 & 0x4000 )
      {
        if ( v2 & 0x40 )
          result = 1;
      }
    }
  }
  return result;
}

//----- (004757D0) --------------------------------------------------------
int __cdecl sub_4757D0(_DWORD *a1)
{
  int result; // eax
  int v2; // ecx

  result = 0;
  if ( a1[75] )
  {
    v2 = a1[30];
    if ( !(v2 & 1) && (!(a1[28] & 0x2000) || v2 & 0x1000000) && !(v2 & 0x1000) )
      result = 1;
  }
  return result;
}

//----- (00475810) --------------------------------------------------------
int4 *__cdecl sub_475810(int *a1)
{
  int *v1; // edi
  int v2; // ebx
  int v3; // ebp
  int v4; // esi
  int v5; // eax
  int v6; // ecx
  int v7; // esi
  int v8; // ebp
  int4 *result; // eax
  int v10; // ebp
  int v11; // eax
  int v13; // edx
  int v14; // ebx
  int v15; // eax
  int i; // ebp
  int v17; // eax
  unsigned __int8 **v18; // esi
  bool j; // zf
  unsigned __int8 *v20; // eax
  int v21; // ebx
  unsigned __int8 *v22; // ecx
  int v23; // esi
  int v24; // eax
  int v25; // ebp
  int v26; // eax
  int v27; // eax
  char v28; // al
  unsigned __int8 **v29; // esi
  unsigned __int8 **v30; // esi
  int v31; // edx
  unsigned __int8 *v32; // eax
  unsigned __int8 *v33; // eax
  unsigned __int8 v34; // dl
  int *v35; // [esp+10h] [ebp-14h]
  int v36; // [esp+14h] [ebp-10h]
  unsigned __int8 **v37; // [esp+14h] [ebp-10h]
  float2 v38; // [esp+1Ch] [ebp-8h]
  int v39; // [esp+28h] [ebp+4h]
  int v40; // [esp+28h] [ebp+4h]
  int v41; // [esp+28h] [ebp+4h]

  if ( !*(_DWORD *)&byte_5D4594[1096448] )
    *(_DWORD *)&byte_5D4594[1096448] = sub_44CFC0((CHAR *)&byte_587000[151196]);
  sub_477F80();
  v1 = a1;
  *(_DWORD *)&byte_5D4594[3799496] = 0;
  v2 = a1[1];
  v39 = *a1;
  if ( v39 )
  {
    *(_DWORD *)&byte_5D4594[3799468] = 1;
    v3 = v1[3];
    v4 = v1[2] + 1;
    sub_437290();
    if ( *(_DWORD *)&byte_5D4594[3799524] )
    {
      sub_434460(*(int *)&byte_5D4594[2650656]);
      sub_49CE30(0, 0, *(int *)&byte_5D4594[3801784], v2);
      sub_49CE30(0, v3, *(int *)&byte_5D4594[3801784], *(_DWORD *)&byte_5D4594[3801788] - v3);
      sub_49CE30(0, v2, v39, v3 - v2);
      sub_49CE30(v4, v2, *(_DWORD *)&byte_5D4594[3801784] - v4, v3 - v2);
      *(_DWORD *)&byte_5D4594[3799524] = 0;
    }
    sub_434460(*(int *)&byte_5D4594[2650660]);
    sub_49CC70(v39 - 2, v2 - 2, v4 - v39 + 4, v3 - v2 + 4);
  }
  else
  {
    *(_DWORD *)&byte_5D4594[3799468] = 0;
  }
  sub_437260();
  v5 = v1[12];
  if ( v5 )
  {
    if ( v5 <= 0 )
      v1[12] = -1 - v5;
    else
      v1[12] = 1 - v5;
  }
  *(_DWORD *)&byte_5D4594[1096428] = v1[4] - *v1;
  *(_DWORD *)&byte_5D4594[1096432] = v1[5] - v1[1];
  v6 = v1[5];
  v36 = v1[4] / 23;
  *(_DWORD *)&byte_5D4594[1096516] = 0;
  v7 = v6 / 23;
  sub_496150(v1);
  v8 = 0;
  if ( !sub_40A5C0(2048) && !sub_413830()
    || sub_40A5C0(2048) && !sub_413840()
    || sub_4356C0(*(int *)&byte_5D4594[2614252], 2)
    || *(_DWORD *)&byte_5D4594[2650672] )
  {
    v8 = 1;
  }
  if ( *(_DWORD *)&byte_5D4594[1556112] || v8 )
  {
    sub_434350(*(int *)&byte_5D4594[2650656]);
    sub_440900();
    result = sub_437290();
    *(_DWORD *)&byte_5D4594[3799524] = 1;
    return result;
  }
  if ( *(_DWORD *)&byte_5D4594[1096520] )
  {
    sub_434350(*(int *)&byte_5D4594[2523948]);
    sub_440900();
    sub_434350(*(int *)&byte_5D4594[2650656]);
    *(_DWORD *)&byte_5D4594[1096520] = 0;
    result = sub_437290();
    *(_DWORD *)&byte_5D4594[3799524] = 1;
    return result;
  }
  (*(void (__cdecl **)(_DWORD))&byte_5D4594[3807132])(v1);
  v10 = 1;
  if ( *(_DWORD *)&byte_5D4594[2650636] & 0x100000
    || (v38.field_0 = (double)v1[6], v38.field_4 = (double)v1[7], v11 = sub_411160(&v38), v11 == 255)
    || v11 == -1 )
  {
    v10 = 0;
  }
  sub_4765F0((int)v1);
  sub_4754F0(v1);
  if ( v10 )
  {
    sub_481C20(v1);
    sub_4C5500(v1);
  }
  else
  {
    sub_440900();
  }
  sub_475F10(v1);
  v13 = (int)v1[9] / 23 + 4;
  v14 = v13 + v7;
  if ( v7 <= v13 + v7 )
  {
    v15 = v36;
    v40 = v36 + v1[8] / 23 + 2;
    while ( 1 )
    {
      for ( i = v15; i <= v40; ++i )
      {
        v17 = sub_410580(i, v7);
        if ( v17 && !(byte_5D4594[12332 * *(unsigned __int8 *)(v17 + 1) + 2692780] & 4) )
        {
          if ( *(_BYTE *)(v17 + 4) & 2 )
          {
            if ( *(int *)&byte_5D4594[1096508] < 256 )
              *(_DWORD *)(*(_DWORD *)&byte_5D4594[1096504] + 4 * (*(_DWORD *)&byte_5D4594[1096508])++) = v17;
          }
          else if ( *(int *)&byte_5D4594[1096500] < 256 )
          {
            *(_DWORD *)(*(_DWORD *)&byte_5D4594[1096496] + 4 * (*(_DWORD *)&byte_5D4594[1096500])++) = v17;
          }
        }
      }
      if ( ++v7 > v14 )
        break;
      v15 = v36;
    }
  }
  v18 = *(unsigned __int8 ***)&byte_5D4594[1096496];
  for ( j = (*(_DWORD *)&byte_5D4594[1096500])-- == 0; !j; --*(_DWORD *)&byte_5D4594[1096500] )
  {
    v20 = *v18;
    ++v18;
    sub_473C10(v1, v20);
    j = *(_DWORD *)&byte_5D4594[1096500] == 0;
  }
  sub_475FE0(v1);
  sub_4773C0(v1);
  qsort(*(void **)&byte_5D4594[1096464], *(size_t *)&byte_5D4594[1096468], 4u, sub_476160);
  qsort(*(void **)&byte_5D4594[1096512], *(size_t *)&byte_5D4594[1096516], 4u, sub_476240);
  v35 = *(int **)&byte_5D4594[1096464];
  v37 = *(unsigned __int8 ***)&byte_5D4594[1096512];
  v21 = 0x7FFFFFFF;
  if ( *(_DWORD *)&byte_5D4594[1096468] )
    v41 = *(_DWORD *)(**(_DWORD **)&byte_5D4594[1096464] + 16);
  else
    v41 = 0x7FFFFFFF;
  if ( *(_DWORD *)&byte_5D4594[1096516] )
  {
    v22 = **(unsigned __int8 ***)&byte_5D4594[1096512];
LABEL_51:
    v21 = sub_476080(v22);
  }
  while ( *(_DWORD *)&byte_5D4594[1096468] || *(_DWORD *)&byte_5D4594[1096516] )
  {
    if ( v41 >= v21 )
    {
      if ( *(_DWORD *)&byte_5D4594[1096516] )
      {
        sub_473C10(v1, *v37);
        v29 = v37 + 1;
        j = *(_DWORD *)&byte_5D4594[1096516] == 1;
        ++v37;
        --*(_DWORD *)&byte_5D4594[1096516];
        if ( !j )
        {
          v22 = *v29;
          goto LABEL_51;
        }
      }
      v21 = 0x7FFFFFFF;
    }
    else if ( *(_DWORD *)&byte_5D4594[1096468] )
    {
      v23 = *v35;
      v24 = (int)(v35 + 1);
      ++v35;
      if ( --*(_DWORD *)&byte_5D4594[1096468] )
        v41 = *(_DWORD *)(*(_DWORD *)v24 + 16);
      else
        v41 = 0x7FFFFFFF;
      if ( *(_DWORD *)(v23 + 108) != *(_DWORD *)&byte_5D4594[1096448] || sub_418B10() || (v25 = sub_45A000()) == 0 )
      {
LABEL_64:
        v26 = *(_DWORD *)(v23 + 112);
        if ( !(v26 & 6) || (unsigned int)(*(_DWORD *)&byte_5D4594[2598000] - *(_DWORD *)(v23 + 288)) <= 5 )
          goto LABEL_71;
        if ( v26 & 2 )
        {
          v27 = *(_DWORD *)(v23 + 276);
          if ( v27 == 9 || v27 == 10 )
            goto LABEL_71;
        }
        else if ( *(_DWORD *)&byte_5D4594[2614252] == v23 )
        {
LABEL_71:
          sub_4746C0(v1, v23);
          if ( (*(int (__cdecl **)(int *, int))(v23 + 300))(v1, v23) )
          {
            if ( byte_5D4594[2650636] & 2 )
              sub_4BCC90(v1, v23);
            v28 = *(_BYTE *)(v23 + 280);
            *(_DWORD *)(v23 + 132) = 0;
            if ( v28 & 0x40 )
              sub_4C4F40(v1, v23);
            sub_474E60(v1, v23);
            sub_495BB0((_DWORD *)v23, v1);
            if ( !*(_DWORD *)(v23 + 480) && !*(_DWORD *)(v23 + 488) )
              *(_DWORD *)(v23 + 340) = *(_DWORD *)&byte_5D4594[2598000];
            if ( sub_459DB0(v23) )
              sub_459DD0(v23, 1);
            if ( *(_DWORD *)(v23 + 112) & 0x20006 )
              sub_49A6A0(v1, v23);
          }
        }
      }
      else
      {
        while ( !sub_4356C0(v25, 30) )
        {
          v25 = sub_45A010(v25);
          if ( !v25 )
            goto LABEL_64;
        }
      }
    }
    else
    {
      v41 = 0x7FFFFFFF;
    }
  }
  sub_4AFD40();
  sub_4C5060(v1);
  v30 = *(unsigned __int8 ***)&byte_5D4594[1096504];
  v31 = *(_DWORD *)&byte_5D4594[1096508];
  if ( *(_DWORD *)&byte_587000[80812] )
  {
    --*(_DWORD *)&byte_5D4594[1096508];
    if ( v31 )
    {
      do
      {
        v32 = *v30;
        ++v30;
        sub_473C10(v1, v32);
        j = (*(_DWORD *)&byte_5D4594[1096508])-- == 0;
      }
      while ( !j );
    }
  }
  else
  {
    --*(_DWORD *)&byte_5D4594[1096508];
    if ( v31 )
    {
      do
      {
        v33 = *v30;
        ++v30;
        v34 = v33[4];
        v33[3] = 0;
        v33[4] = v34 & 0xFC;
        j = (*(_DWORD *)&byte_5D4594[1096508])-- == 0;
      }
      while ( !j );
    }
  }
  sub_44D9F0(0);
  if ( byte_5D4594[2650636] & 8 )
    sub_476270(v1);
  sub_45AB40();
  sub_437290();
  *(_DWORD *)&byte_5D4594[3799496] = 1;
  return (int4 *)sub_476680();
}

//----- (00475F10) --------------------------------------------------------
int __cdecl sub_475F10(_DWORD *a1)
{
  int *v1; // ebp
  int result; // eax
  bool i; // zf
  int v4; // esi
  int v5; // eax

  v1 = *(int **)&byte_5D4594[1096472];
  result = *(_DWORD *)&byte_5D4594[1096476] - 1;
  for ( i = (*(_DWORD *)&byte_5D4594[1096476])-- == 0; !i; --*(_DWORD *)&byte_5D4594[1096476] )
  {
    v4 = *v1;
    ++v1;
    sub_4746C0(a1, v4);
    if ( sub_4984B0(v4) )
    {
      *(_DWORD *)(v4 + 484) = 1;
      (*(void (__cdecl **)(_DWORD *, int))(v4 + 300))(a1, v4);
      if ( *(_BYTE *)(v4 + 280) & 0x40 )
        sub_4C4F40(a1, v4);
      sub_474E60(a1, v4);
      sub_495BB0((_DWORD *)v4, a1);
      if ( byte_5D4594[2650636] & 2 )
        sub_4BCC90(a1, v4);
      v5 = *(_DWORD *)(v4 + 480);
      *(_DWORD *)(v4 + 132) = 0;
      if ( !v5 && !*(_DWORD *)(v4 + 488) )
        *(_DWORD *)(v4 + 340) = *(_DWORD *)&byte_5D4594[2598000];
    }
    result = *(_DWORD *)&byte_5D4594[1096476] - 1;
    i = *(_DWORD *)&byte_5D4594[1096476] == 0;
  }
  return result;
}

//----- (00475FE0) --------------------------------------------------------
int __cdecl sub_475FE0(_DWORD *a1)
{
  int *v1; // ebp
  int result; // eax
  bool i; // zf
  int v4; // esi
  int v5; // eax

  v1 = *(int **)&byte_5D4594[1096488];
  result = *(_DWORD *)&byte_5D4594[1096492] - 1;
  for ( i = (*(_DWORD *)&byte_5D4594[1096492])-- == 0; !i; --*(_DWORD *)&byte_5D4594[1096492] )
  {
    v4 = *v1;
    ++v1;
    if ( sub_4984B0(v4) )
    {
      *(_DWORD *)(v4 + 484) = 1;
      (*(void (__cdecl **)(_DWORD *, int))(v4 + 300))(a1, v4);
      if ( byte_5D4594[2650636] & 2 )
        sub_4BCC90(a1, v4);
      v5 = *(_DWORD *)(v4 + 480);
      *(_DWORD *)(v4 + 132) = 0;
      if ( !v5 && !*(_DWORD *)(v4 + 488) )
        *(_DWORD *)(v4 + 340) = *(_DWORD *)&byte_5D4594[2598000];
    }
    result = *(_DWORD *)&byte_5D4594[1096492] - 1;
    i = *(_DWORD *)&byte_5D4594[1096492] == 0;
  }
  return result;
}

//----- (00476080) --------------------------------------------------------
int __cdecl sub_476080(unsigned __int8 *a1)
{
  int v1; // esi
  int v2; // ecx
  int result; // eax
  int v4; // edx
  int v5; // ecx

  if ( !*(_DWORD *)&byte_5D4594[2614252] )
    return 23 * a1[6] + 11;
  switch ( *a1 )
  {
    case 0u:
    case 3u:
    case 0xBu:
      v1 = -23;
      v2 = 23 * a1[5] + 22;
      result = 23 * a1[6];
      goto LABEL_5;
    case 1u:
    case 4u:
    case 0xCu:
      v1 = 23;
      v2 = 23 * a1[5];
      result = 23 * a1[6];
LABEL_5:
      v4 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[2614252] + 12) - v2;
      v5 = v1 * (*(_DWORD *)(*(_DWORD *)&byte_5D4594[2614252] + 16) - result) - 23 * v4;
      if ( v1 < 0 )
        v5 = 23 * v4 - v1 * (*(_DWORD *)(*(_DWORD *)&byte_5D4594[2614252] + 16) - result);
      if ( v5 < 0 )
        result += 22;
      break;
    default:
      result = 23 * a1[6] + 11;
      break;
  }
  return result;
}

//----- (00476160) --------------------------------------------------------
int __cdecl sub_476160(const void *a1, const void *a2)
{
  int v2; // esi
  int result; // eax

  if ( (signed char)*(_BYTE *)(*(_DWORD *)a1 + 112) >= 0 )
    v2 = *(_DWORD *)(*(_DWORD *)a1 + 16) + *(__int16 *)(*(_DWORD *)a1 + 104);
  else
    v2 = sub_4761B0(*(_DWORD *)a1);
  if ( (signed char)*(_BYTE *)(*(_DWORD *)a2 + 112) >= 0 )
    result = v2 - (*(_DWORD *)(*(_DWORD *)a2 + 16) + *(__int16 *)(*(_DWORD *)a2 + 104));
  else
    result = v2 - sub_4761B0(*(_DWORD *)a2);
  return result;
}

//----- (004761B0) --------------------------------------------------------
int __cdecl sub_4761B0(int a1)
{
  int result; // eax
  int v2; // edx
  int v3; // ecx
  int v4; // edx

  if ( !*(_DWORD *)&byte_5D4594[2614252] )
    return *(_DWORD *)(a1 + 16) + *(int *)&byte_587000[8 * *(unsigned __int8 *)(a1 + 299) + 196188] / 2;
  result = *(_DWORD *)(a1 + 16);
  v2 = 8 * *(unsigned __int8 *)(a1 + 299);
  v3 = (*(_DWORD *)(*(_DWORD *)&byte_5D4594[2614252] + 16) - result) * *(_DWORD *)&byte_587000[v2 + 196184]
     - (*(_DWORD *)(*(_DWORD *)&byte_5D4594[2614252] + 12) - *(_DWORD *)(a1 + 12))
     * *(_DWORD *)&byte_587000[v2 + 196188];
  if ( *(int *)&byte_587000[v2 + 196184] < 0 )
    v3 = (*(_DWORD *)(*(_DWORD *)&byte_5D4594[2614252] + 12) - *(_DWORD *)(a1 + 12))
       * *(_DWORD *)&byte_587000[8 * *(unsigned __int8 *)(a1 + 299) + 196188]
       - (*(_DWORD *)(*(_DWORD *)&byte_5D4594[2614252] + 16) - result)
       * *(_DWORD *)&byte_587000[8 * *(unsigned __int8 *)(a1 + 299) + 196184];
  v4 = result + *(_DWORD *)&byte_587000[8 * *(unsigned __int8 *)(a1 + 299) + 196188];
  if ( v3 >= 0 )
  {
    if ( v4 <= result )
      result += *(_DWORD *)&byte_587000[8 * *(unsigned __int8 *)(a1 + 299) + 196188];
  }
  else if ( v4 > result )
  {
    result += *(_DWORD *)&byte_587000[8 * *(unsigned __int8 *)(a1 + 299) + 196188];
  }
  return result;
}

//----- (00476240) --------------------------------------------------------
int __cdecl sub_476240(const void *a1, const void *a2)
{
  int v2; // esi

  v2 = sub_476080(*(unsigned __int8 **)a1);
  return v2 - sub_476080(*(unsigned __int8 **)a2);
}

//----- (00476270) --------------------------------------------------------
int __cdecl sub_476270(_DWORD *a1)
{
  _DWORD *v1; // esi
  int v2; // ebp
  int v3; // ebx
  int v4; // edi
  int v5; // ebx
  int v6; // ebx
  int v7; // edi
  float *v8; // eax
  int v9; // edi
  int v10; // ebx
  int v11; // edi
  int v12; // ebx
  int v13; // ebp
  __int64 v14; // rax
  int v15; // ecx
  int v16; // edx
  int v17; // ebx
  int v18; // edi
  __int16 v19; // ax
  int v21; // [esp-8h] [ebp-30h]
  int v22; // [esp-4h] [ebp-2Ch]
  float *v23; // [esp+10h] [ebp-18h]
  int v24; // [esp+14h] [ebp-14h]
  float *v25; // [esp+18h] [ebp-10h]
  int v26; // [esp+18h] [ebp-10h]
  int v27; // [esp+20h] [ebp-8h]
  int v28; // [esp+20h] [ebp-8h]
  int v29; // [esp+24h] [ebp-4h]
  int i; // [esp+2Ch] [ebp+4h]
  int v31; // [esp+2Ch] [ebp+4h]

  v27 = sub_50CB00();
  v24 = sub_50D210();
  v1 = a1;
  v23 = (float *)sub_50CB10();
  if ( v27 >= 2 )
  {
    v2 = 1;
    v3 = 0;
    for ( i = 0; ; v3 = i )
    {
      v4 = *v1 + (unsigned __int64)(__int64)v23[2 * v3] - v1[4];
      v25 = &v23[2 * v3 + 1];
      v5 = v1[1] + (unsigned __int64)(__int64)*v25 - v1[5];
      if ( i == v24 )
      {
        sub_434460(*(int *)&byte_5D4594[2650644]);
      }
      else if ( v23[2 * i] < 0.0 || *v25 < 0.0 )
      {
        sub_434460(*(int *)&byte_5D4594[2650684]);
      }
      else
      {
        sub_434460(*(int *)&byte_5D4594[2589772]);
      }
      sub_49CC70(v4 - 1, v5 - 1, 3, 3);
      sub_434460(*(int *)&byte_5D4594[2618904]);
      sub_49F500(v4, v5);
      v6 = *v1 + (unsigned __int64)(__int64)v23[2 * v2] - v1[4];
      v7 = v1[1] + (unsigned __int64)(__int64)v23[2 * v2 + 1] - v1[5];
      sub_49F500(v6, v7);
      sub_49E4B0();
      i = v2++;
      if ( v2 >= v27 )
        break;
    }
    sub_434460(*(int *)&byte_5D4594[2589772]);
    sub_49CC70(v6 - 1, v7 - 1, 3, 3);
  }
  v8 = (float *)sub_50CD30();
  v9 = *v1 + (unsigned __int64)(__int64)*v8 - v1[4];
  v10 = v1[1] + (unsigned __int64)(__int64)v8[1] - v1[5];
  sub_434460(*(int *)&byte_5D4594[2523948]);
  sub_49CC70(v9 - 2, v10 - 2, 5, 5);
  v11 = v1[4];
  v12 = v1[5];
  v26 = (__int64)((double)(v11 / 23) + 0.5);
  v13 = (__int64)((double)(v12 / 23) + 0.5);
  v28 = (__int64)((double)((*(int *)&byte_5D4594[3805496] + v11) / 23) + 0.5);
  v14 = (__int64)((double)((*(int *)&byte_5D4594[3807120] + v12) / 23) + 0.5);
  v15 = v14;
  v29 = v14;
  if ( v13 > (int)v14 )
    return v14;
  v16 = 23 * v13;
  v31 = 23 * v13;
  do
  {
    LODWORD(v14) = v26;
    v17 = v26;
    if ( v26 > v28 )
      goto LABEL_37;
    v18 = 23 * v26;
    do
    {
      if ( sub_57B500(v17, v13, 64) == -1 )
      {
        v19 = sub_50AB50(v17, v13);
        if ( v19 & 0x40 )
        {
          sub_434430(0, 255, 0);
        }
        else if ( v19 & 2 )
        {
          sub_434430(0, 255, 255);
        }
        else
        {
          if ( v19 & 1 )
          {
            sub_434430(0, 100, 100);
            goto LABEL_34;
          }
          if ( v19 & 0x3C )
          {
            v22 = 255;
LABEL_32:
            v21 = 0;
LABEL_33:
            sub_434430(255, v21, v22);
            goto LABEL_34;
          }
          if ( v19 & 0x400 )
          {
            v22 = 0;
            goto LABEL_32;
          }
          if ( v19 & 0x200 )
          {
            v22 = 0;
            v21 = 255;
            goto LABEL_33;
          }
          if ( !(v19 & 0x100) )
            goto LABEL_35;
          sub_434430(100, 100, 0);
        }
      }
      else
      {
        sub_434430(0, 0, 255);
      }
LABEL_34:
      sub_49CC70(v18 - v1[4], v31 - v1[5], 23, 23);
LABEL_35:
      LODWORD(v14) = v28;
      ++v17;
      v18 += 23;
    }
    while ( v17 <= v28 );
    v15 = v29;
    v16 = v31;
LABEL_37:
    ++v13;
    v16 += 23;
    v31 = v16;
  }
  while ( v13 <= v15 );
  return v14;
}

//----- (004765F0) --------------------------------------------------------
int __cdecl sub_4765F0(int a1)
{
  int result; // eax
  int v2; // eax

  *(_DWORD *)&byte_5D4594[1096440] = *(_DWORD *)&byte_587000[154952];
  result = *(_DWORD *)&byte_5D4594[2614252];
  *(_DWORD *)&byte_5D4594[1096444] = *(_DWORD *)&byte_587000[80820];
  if ( *(_DWORD *)&byte_5D4594[2614252] && !*(_DWORD *)&byte_5D4594[1193152] )
  {
    v2 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[2614252] + 276);
    if ( (v2 == 3 || v2 == 6 || v2 == 45)
      && (*(int *)(a1 + 16) - *(int *)&byte_5D4594[1096556] >= 4
       || *(int *)(a1 + 20) - *(int *)&byte_5D4594[1096560] >= 4) )
    {
      *(_DWORD *)&byte_587000[154952] = 0;
      *(_DWORD *)&byte_587000[80820] = 0;
    }
    result = *(_DWORD *)(a1 + 16);
    *(_DWORD *)&byte_5D4594[1096556] = *(_DWORD *)(a1 + 16);
    *(_DWORD *)&byte_5D4594[1096560] = *(_DWORD *)(a1 + 20);
  }
  return result;
}

//----- (00476680) --------------------------------------------------------
int sub_476680()
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[1096440];
  *(_DWORD *)&byte_587000[154952] = *(_DWORD *)&byte_5D4594[1096440];
  *(_DWORD *)&byte_587000[80820] = *(_DWORD *)&byte_5D4594[1096444];
  return result;
}

//----- (004766A0) --------------------------------------------------------
int __cdecl sub_4766A0(int a1)
{
  int result; // eax

  result = a1;
  if ( a1 >= 65 )
  {
    if ( a1 > 100 )
      result = 100;
    *(_DWORD *)&byte_587000[149360] = result;
  }
  else
  {
    result = 65;
    *(_DWORD *)&byte_587000[149360] = 65;
  }
  return result;
}

//----- (004766D0) --------------------------------------------------------
int sub_4766D0()
{
  return *(_DWORD *)&byte_587000[149360];
}

//----- (004766E0) --------------------------------------------------------
int sub_4766E0()
{
  return sub_476700(0, 2);
}

//----- (004766F0) --------------------------------------------------------
int sub_4766F0()
{
  return sub_476700(0, -2);
}

//----- (00476700) --------------------------------------------------------
int __cdecl sub_476700(int a1, int a2)
{
  int v2; // ebx
  char *v3; // edi
  int v4; // ebp
  int v5; // ecx
  int v6; // edx
  int v7; // eax
  int v8; // ebx
  signed int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // eax
  int v13; // ecx
  int result; // eax

  v2 = a2;
  v3 = sub_437250();
  v4 = *((_DWORD *)v3 + 8);
  if ( a2 )
  {
    do
    {
      v5 = v2 + 100 * (*(_DWORD *)&byte_5D4594[3801784] - 2 * *(_DWORD *)v3) / *(_DWORD *)&byte_5D4594[3801784];
      v6 = v5 * *(_DWORD *)&byte_5D4594[3801784] / 100;
      if ( v2 >= 0 )
        ++v2;
      else
        --v2;
      v7 = v6 - v4;
      if ( v6 - v4 < 0 )
        v7 = v4 - v6;
    }
    while ( v7 < 4 );
  }
  else
  {
    v5 = a1;
  }
  if ( v5 >= 40 )
  {
    if ( v5 > 100 )
      v5 = 100;
  }
  else
  {
    v5 = 40;
  }
  *(_DWORD *)&byte_587000[149360] = v5;
  v8 = v5 * *(_DWORD *)&byte_5D4594[3801788] / 100;
  v9 = ((*(int *)&byte_5D4594[3801784] - v5 * *(int *)&byte_5D4594[3801784] / 100) / 2) & 0xFFFFFFFC;
  *(_DWORD *)v3 = v9;
  if ( v9 < 0 )
    *((_DWORD *)v3 + 2) = 0;
  v10 = (*(int *)&byte_5D4594[3801788] - v8) / 2;
  *((_DWORD *)v3 + 1) = v10;
  if ( v10 < 0 )
    *((_DWORD *)v3 + 3) = 0;
  v11 = *(_DWORD *)&byte_5D4594[3801784] - *(_DWORD *)v3 + 2;
  LOBYTE(v11) = v11 & 0xFC;
  *((_DWORD *)v3 + 2) = v11;
  if ( v11 >= *(int *)&byte_5D4594[3801784] )
    *((_DWORD *)v3 + 2) = *(_DWORD *)&byte_5D4594[3801784] - 1;
  v12 = *(_DWORD *)&byte_5D4594[3801788] - *((_DWORD *)v3 + 1) - 1;
  *((_DWORD *)v3 + 3) = v12;
  if ( v12 >= *(int *)&byte_5D4594[3801788] )
    *((_DWORD *)v3 + 3) = *(_DWORD *)&byte_5D4594[3801788] - 1;
  v13 = *((_DWORD *)v3 + 3) - *((_DWORD *)v3 + 1) + 1;
  *((_DWORD *)v3 + 8) = *((_DWORD *)v3 + 2) - *(_DWORD *)v3 + 1;
  *((_DWORD *)v3 + 9) = v13;
  result = 1;
  *(_DWORD *)&byte_5D4594[1193188] = 1;
  *(_DWORD *)&byte_5D4594[3799524] = 1;
  return result;
}

//----- (00476850) --------------------------------------------------------
void __cdecl sub_476850(int a1, unsigned __int8 *a2)
{
  int v2; // eax
  int *v3; // eax
  int v4; // edi
  int v5; // ecx
  _DWORD *v6; // eax
  int v7; // ebx
  int v8; // ebp
  int v9; // eax
  int v10; // ecx
  int v11; // edx
  unsigned int v12; // edi
  _BYTE *v13; // eax
  unsigned int v14; // esi
  char *v15; // edx
  unsigned int v16; // ebx
  int v17; // ecx
  int v18; // ecx
  unsigned int v19; // ebp
  unsigned int v20; // ebx
  int v21; // edx
  _BYTE *v22; // esi
  char *v23; // edi
  _BYTE *v24; // esi
  int v25; // [esp+10h] [ebp-18h]
  int v26; // [esp+14h] [ebp-14h]
  int i; // [esp+14h] [ebp-14h]
  unsigned int v28; // [esp+18h] [ebp-10h]
  int v29; // [esp+1Ch] [ebp-Ch]
  int v30; // [esp+20h] [ebp-8h]
  unsigned int v31; // [esp+30h] [ebp+8h]

  if ( *((int (__cdecl **)(int *, int))a2 + 75) == sub_4BCC20 )
  {
    if ( *((_DWORD *)a2 + 28) & 0x40000 && !(*((_DWORD *)a2 + 30) & 0x1000000) )
      return;
    v2 = *(_DWORD *)(*((_DWORD *)a2 + 76) + 4);
  }
  else
  {
    v2 = *(_DWORD *)(*(_DWORD *)(*((_DWORD *)a2 + 76) + 4) + 4 * *((_DWORD *)a2 + 77));
  }
  v3 = (int *)(*(int (__cdecl **)(_DWORD))&byte_5D4594[3799492])(v2);
  if ( v3 )
  {
    v4 = *v3;
    v5 = v3[1];
    v6 = v3 + 2;
    v26 = v5;
    v7 = *(_DWORD *)&byte_5D4594[3798820];
    v8 = *v6 + *((_DWORD *)a2 + 3) - *a2;
    v9 = (int)(v6 + 2);
    v30 = v4;
    v10 = *(_DWORD *)(v9 - 4) + *((_DWORD *)a2 + 4) - *((__int16 *)a2 + 53) - *((__int16 *)a2 + 52) - a2[1];
    if ( v8 < *(int *)&byte_5D4594[3798820]
      || v8 + v4 >= *(int *)&byte_5D4594[3798820] + *(_DWORD *)&byte_5D4594[3798800]
      || v10 < *(int *)&byte_5D4594[3798824]
      || v10 + v26 >= *(int *)&byte_5D4594[3798824] + *(_DWORD *)&byte_5D4594[3798808] )
    {
      *((_DWORD *)a2 + 86) = 0;
    }
    else
    {
      v11 = *(_DWORD *)&byte_587000[154948];
      if ( *(int *)&byte_587000[154948] <= 0 )
      {
        *((_DWORD *)a2 + 86) = 0;
        v7 = *(_DWORD *)&byte_5D4594[3798820];
        v11 = *(_DWORD *)&byte_587000[154948];
      }
      if ( v11 - *((int *)a2 + 86) > 1 || v11 <= 0 )
      {
        v12 = *(_DWORD *)&byte_5D4594[3798844];
        v13 = (_BYTE *)(v9 + 1);
        v28 = *(_DWORD *)&byte_5D4594[3798844];
        v25 = *(_DWORD *)&byte_5D4594[3798844] - *(_DWORD *)&byte_5D4594[3798796];
        v14 = v8
            + *(_DWORD *)&byte_5D4594[3798796]
            + *(_DWORD *)&byte_5D4594[3798836]
            + *(_DWORD *)&byte_5D4594[3798804]
            * (v10 + *(_DWORD *)&byte_5D4594[3798840] - *(_DWORD *)&byte_5D4594[3798824])
            - v7;
        v31 = v14;
        if ( v14 >= *(int *)&byte_5D4594[3798844] )
        {
          v14 -= v25;
          v31 = v14;
        }
        if ( v26 )
        {
          v29 = v26;
          do
          {
            v15 = (char *)v14;
            for ( i = v30; i > 0; i -= v19 )
            {
              v16 = (unsigned __int8)v13[1];
              v17 = *v13 & 0xF;
              v13 += 2;
              v18 = v17 - 1;
              v19 = v16;
              if ( v18 )
              {
                if ( v18 == 1 )
                {
                  if ( (unsigned int)v15 >= v12 || (unsigned int)&v15[v16] < v12 )
                  {
                    qmemcpy(v15, v13, 4 * (v16 >> 2));
                    v24 = &v13[4 * (v16 >> 2)];
                    v23 = &v15[4 * (v16 >> 2)];
                    v13 += v16;
                    v15 += v16;
                    qmemcpy(v23, v24, v16 & 3);
                    v14 = v31;
                    v12 = v28;
                  }
                  else
                  {
                    v20 = (unsigned int)&v15[v16 - v12];
                    v19 -= v20;
                    qmemcpy(v15, v13, v19);
                    v21 = *(_DWORD *)&byte_5D4594[3798796];
                    v22 = &v13[v19];
                    v13 += v20 + v19;
                    qmemcpy(*(void **)&byte_5D4594[3798796], v22, v20);
                    v15 = (char *)(v20 + v21);
                    v14 = v31;
                    v12 = v28;
                  }
                }
              }
              else
              {
                v15 += v16;
                if ( (unsigned int)v15 >= v12 )
                  v15 -= v25;
              }
            }
            v14 += *(_DWORD *)&byte_5D4594[3798804];
            v31 = v14;
            if ( v14 >= v12 )
            {
              v14 -= v25;
              v31 = v14;
            }
            --v29;
          }
          while ( v29 );
        }
      }
      else
      {
        *((_DWORD *)a2 + 86) = v11;
      }
    }
  }
}

//----- (00476AE0) --------------------------------------------------------
int (__cdecl *__cdecl sub_476AE0(int a1, unsigned __int8 *a2))(int *a1, int a2)
{
  unsigned __int8 *v2; // ebx
  int (__cdecl *result)(int *, int); // eax
  int v4; // eax
  int v5; // edi
  int v6; // ecx
  int v7; // ebp
  char *v8; // esi
  int v9; // edx
  int v10; // ecx
  unsigned int v11; // edi
  _BYTE *v12; // esi
  int v13; // ebx
  int v14; // edx
  unsigned int v15; // ecx
  unsigned int v16; // ebx
  int v17; // ecx
  int v18; // eax
  int v19; // eax
  int v20; // ebp
  int v21; // edi
  int v22; // ebp
  int v23; // ebx
  int v24; // esi
  int v25; // [esp+10h] [ebp-1Ch]
  int v26; // [esp+14h] [ebp-18h]
  int v27; // [esp+18h] [ebp-14h]
  int v28; // [esp+18h] [ebp-14h]
  unsigned int v29; // [esp+1Ch] [ebp-10h]
  int v30; // [esp+20h] [ebp-Ch]
  int v31; // [esp+24h] [ebp-8h]
  int v32; // [esp+28h] [ebp-4h]
  void (__cdecl *v33)(unsigned int, _BYTE *, int); // [esp+34h] [ebp+8h]

  v2 = a2;
  result = (int (__cdecl *)(int *, int))*((_DWORD *)a2 + 75);
  if ( result == sub_4BCC20 )
  {
    if ( *((_DWORD *)a2 + 28) & 0x40000 && !(*((_DWORD *)a2 + 30) & 0x1000000) )
      return result;
    v4 = *(_DWORD *)(*((_DWORD *)a2 + 76) + 4);
  }
  else
  {
    v4 = *(_DWORD *)(*(_DWORD *)(*((_DWORD *)a2 + 76) + 4) + 4 * *((_DWORD *)a2 + 77));
  }
  result = (int (__cdecl *)(int *, int))(*(int (__cdecl **)(_DWORD))&byte_5D4594[3799492])(v4);
  if ( result )
  {
    if ( *(_DWORD *)&byte_5D4594[3799624] == 1
      || (v33 = (void (__cdecl *)(unsigned int, _BYTE *, int))sub_476DA0, !*(_DWORD *)&byte_587000[154956]) )
    {
      v33 = (void (__cdecl *)(unsigned int, _BYTE *, int))sub_476D70;
    }
    v5 = *(_DWORD *)result;
    v6 = *((_DWORD *)result + 1);
    v27 = *((_DWORD *)result + 1);
    v7 = *((_DWORD *)result + 2) + *((_DWORD *)v2 + 3) - *v2;
    v8 = (char *)result + 16;
    result = (int (__cdecl *)(int *, int))(*((_DWORD *)result + 3)
                                         + *((_DWORD *)v2 + 4)
                                         - *((__int16 *)v2 + 53)
                                         - *((__int16 *)v2 + 52)
                                         - v2[1]);
    v31 = v5;
    if ( v7 < *(int *)&byte_5D4594[3798820]
      || v7 + v5 >= *(int *)&byte_5D4594[3798820] + *(_DWORD *)&byte_5D4594[3798800]
      || (v9 = *(_DWORD *)&byte_5D4594[3798824], (int)result < *(int *)&byte_5D4594[3798824])
      || (int)result + v6 >= *(int *)&byte_5D4594[3798824] + *(_DWORD *)&byte_5D4594[3798808] )
    {
      *((_DWORD *)v2 + 86) = 0;
    }
    else
    {
      v10 = *(_DWORD *)&byte_587000[154948];
      if ( *(int *)&byte_587000[154948] <= 0 )
      {
        *((_DWORD *)v2 + 86) = 0;
        v9 = *(_DWORD *)&byte_5D4594[3798824];
        v10 = *(_DWORD *)&byte_587000[154948];
      }
      if ( v10 - *((int *)v2 + 86) > 1 || v10 <= 0 )
      {
        v11 = *(_DWORD *)&byte_5D4594[3798844];
        v12 = v8 + 1;
        v29 = *(_DWORD *)&byte_5D4594[3798844];
        v26 = *(_DWORD *)&byte_5D4594[3798844] - *(_DWORD *)&byte_5D4594[3798796];
        v13 = *(_DWORD *)&byte_5D4594[3798804] * ((_DWORD)result + *(_DWORD *)&byte_5D4594[3798840] - v9);
        v14 = v7 + *(_DWORD *)&byte_5D4594[3798836] - *(_DWORD *)&byte_5D4594[3798820];
        v15 = v13 + *(_DWORD *)&byte_5D4594[3798796] + 2 * v14;
        v25 = v13 + *(_DWORD *)&byte_5D4594[3798796] + 2 * v14;
        if ( v15 >= *(int *)&byte_5D4594[3798844] )
        {
          v15 -= v26;
          v25 = v15;
        }
        result = (int (__cdecl *)(int *, int))(v27 - 1);
        if ( v27 )
        {
          v30 = v27;
          do
          {
            v16 = v15;
            v28 = v31;
            if ( v31 > 0 )
            {
              do
              {
                v17 = (unsigned __int8)v12[1];
                v18 = *v12 & 0xF;
                v12 += 2;
                v19 = v18 - 1;
                v32 = v17;
                v20 = 2 * v17;
                if ( v19 )
                {
                  if ( v19 == 1 )
                  {
                    if ( v16 >= v11 || v16 + v20 < v11 )
                    {
                      v33(v16, v12, 2 * v17);
                      v12 += v20;
                      v16 += v20;
                    }
                    else
                    {
                      v21 = v16 + v20 - v29;
                      v22 = v29 - v16;
                      v33(v16, v12, v29 - v16);
                      v23 = *(_DWORD *)&byte_5D4594[3798796];
                      v24 = (int)&v12[v22];
                      v33(*(_DWORD *)&byte_5D4594[3798796], (_BYTE *)v24, v21);
                      v12 = (_BYTE *)(v21 + v24);
                      v16 = v21 + v23;
                      v11 = v29;
                    }
                  }
                }
                else
                {
                  v16 += v20;
                  if ( v16 >= v11 )
                    v16 -= v26;
                }
                v28 -= v32;
              }
              while ( v28 > 0 );
              v15 = v25;
            }
            v15 += *(_DWORD *)&byte_5D4594[3798804];
            v25 = v15;
            if ( v15 >= v11 )
            {
              v15 -= v26;
              v25 = v15;
            }
            result = (int (__cdecl *)(int *, int))--v30;
          }
          while ( v30 );
        }
      }
      else
      {
        *((_DWORD *)v2 + 86) = v10;
      }
    }
  }
  return result;
}

//----- (00476D70) --------------------------------------------------------
__int16 __cdecl sub_476D70(_DWORD *a1, int *a2, unsigned int a3)
{
  _DWORD *v3; // edi
  signed int v4; // ecx
  int *v5; // esi
  int v6; // eax

  v3 = a1;
  v4 = a3 >> 2;
  v5 = a2;
  if ( a3 >> 2 )
  {
    do
    {
      v6 = *v5;
      ++v5;
      *v3 = v6;
      ++v3;
    }
    while ( v4-- > 1 );
  }
  if ( a3 & 3 )
  {
    LOWORD(v6) = *(_WORD *)v5;
    *(_WORD *)v3 = *(_WORD *)v5;
  }
  return v6;
}

//----- (00476DA0) --------------------------------------------------------
void __cdecl sub_476DA0(unsigned int *a1, _DWORD *a2, unsigned int a3)
{
  unsigned int *v3; // edi
  signed int v4; // ecx
  _DWORD *v5; // esi

  v3 = a1;
  v4 = a3 >> 2;
  v5 = a2;
  if ( a3 >> 2 )
  {
    do
    {
      *v3 = ((*v5 & 0xFFC0FFC0) >> 1) | *v5 & 0x1F001F;
      ++v5;
      ++v3;
    }
    while ( v4-- > 1 );
  }
  if ( a3 & 3 )
  {
    *(_WORD *)v3 = ((unsigned __int16)(*(_WORD *)v5 & 0xFFC0) >> 1) | *(_WORD *)v5 & 0x1F;
  }
}

//----- (00476E00) --------------------------------------------------------
int __cdecl sub_476E00(int a1)
{
  int result; // eax

  result = a1;
  *(_DWORD *)&byte_5D4594[4 * a1 + 1096596] = *(_DWORD *)&byte_5D4594[2598000];
  return result;
}

//----- (00476E20) --------------------------------------------------------
_DWORD *sub_476E20()
{
  int v0; // esi
  char *v1; // eax
  _DWORD *v2; // esi

  v0 = 0;
  while ( 1 )
  {
    v1 = sub_42F970(*(const char **)&byte_587000[v0 + 151272]);
    *(_DWORD *)&byte_5D4594[v0 + 1096564] = v1;
    if ( !v1 )
      break;
    v0 += 4;
    if ( v0 >= 32 )
    {
      v2 = sub_46C3E0(
             0,
             64,
             (*(int *)&byte_5D4594[3805496] - 100) / 2,
             (*(int *)&byte_5D4594[3807120] - 100) / 2,
             1,
             1,
             0);
      sub_46B430(v2, 0, sub_476E90, 0);
      return v2;
    }
  }
  return 0;
}

//----- (00476E90) --------------------------------------------------------
int sub_476E90()
{
  unsigned __int8 *v0; // edi
  int v1; // esi

  v0 = &byte_587000[151208];
  v1 = 0;
  do
  {
    if ( *(_DWORD *)&byte_5D4594[v1 + 1096596] )
    {
      sub_47D2C0(
        *(_DWORD *)&byte_5D4594[v1 + 1096564],
        *(int *)&byte_5D4594[3805496] / 2 + *(_DWORD *)v0 - 16,
        *((_DWORD *)v0 + 1) + *(int *)&byte_5D4594[3807120] / 2 - 41);
      if ( (unsigned int)(*(_DWORD *)&byte_5D4594[2598000] - *(_DWORD *)&byte_5D4594[v1 + 1096596]) > 3 )
        *(_DWORD *)&byte_5D4594[v1 + 1096596] = 0;
    }
    v0 += 8;
    v1 += 4;
  }
  while ( (int)v0 < (int)&byte_587000[151272] );
  return 1;
}

//----- (00476F10) --------------------------------------------------------
int __cdecl sub_476F10(int a1)
{
  int result; // eax

  result = a1;
  if ( *(_DWORD *)&byte_5D4594[1096640] == a1 )
    *(_DWORD *)&byte_5D4594[1096640] = 0;
  if ( *(_DWORD *)&byte_5D4594[1096644] == a1 )
    *(_DWORD *)&byte_5D4594[1096644] = 0;
  return result;
}

//----- (00476F40) --------------------------------------------------------
unsigned int sub_476F40()
{
  unsigned int result; // eax

  if ( *(_DWORD *)&byte_5D4594[1096640] )
    result = sub_578B00(*(int *)&byte_5D4594[1096640]);
  else
    result = 0;
  return result;
}

//----- (00476F60) --------------------------------------------------------
int sub_476F60()
{
  int result; // eax

  if ( *(_DWORD *)&byte_5D4594[1096640] )
    result = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1096640] + 128);
  else
    result = 0;
  return result;
}

//----- (00476F80) --------------------------------------------------------
int sub_476F80()
{
  return *(_DWORD *)&byte_5D4594[1096640];
}

//----- (00476F90) --------------------------------------------------------
int sub_476F90()
{
  return *(_DWORD *)&byte_5D4594[1096644];
}

//----- (00476FA0) --------------------------------------------------------
void sub_476FA0()
{
  int2 *v0; // esi
  int2 v1; // [esp+8h] [ebp-18h]
  int4 v2; // [esp+10h] [ebp-10h]

  if ( !*(_DWORD *)&byte_5D4594[1096632] )
    *(_DWORD *)&byte_5D4594[1096632] = sub_4E3AA0((CHAR *)&byte_587000[151432]);
  v0 = sub_4309F0();
  sub_437250();
  v1 = *v0;
  sub_473970(&v1, &v1);
  *(_DWORD *)&byte_5D4594[1096640] = 0;
  *(_DWORD *)&byte_5D4594[1096644] = 0;
  *(_DWORD *)&byte_5D4594[1096628] = 0;
  v2.field_0 = v1.field_0 - 96;
  v2.field_8 = v1.field_0 + 96;
  v2.field_C = v1.field_4 + 96;
  v2.field_4 = v1.field_4 - 96;
  *(_DWORD *)&byte_5D4594[1096636] = 0;
  sub_49AB00(&v2, sub_477050, (int)&v1);
}

//----- (00477050) --------------------------------------------------------
void __cdecl sub_477050(int arg0, int a2)
{
  int v2; // esi
  int v3; // eax
  int v4; // eax
  int v5; // ecx
  char *v6; // eax
  int v7; // eax
  float v8; // ebp
  int v9; // edi
  int v10; // ebx
  int v11; // eax
  int v12; // edx
  int v13; // edi
  int v14; // ebx
  float v15; // eax
  int v16; // edx
  int v17; // eax
  int v18; // edi
  int v19; // ebx
  int v20; // eax
  int v21; // ecx
  int v22; // edi
  float v23; // [esp+0h] [ebp-24h]
  float v24; // [esp+0h] [ebp-24h]
  float v25; // [esp+0h] [ebp-24h]
  float v26; // [esp+0h] [ebp-24h]
  float2 a3; // [esp+14h] [ebp-10h]
  float2 a1; // [esp+1Ch] [ebp-8h]
  int v29; // [esp+28h] [ebp+4h]

  if ( !*(_DWORD *)&byte_5D4594[1096648] )
    *(_DWORD *)&byte_5D4594[1096648] = sub_44CFC0((CHAR *)&byte_587000[151440]);
  v2 = arg0;
  if ( arg0 != *(_DWORD *)&byte_5D4594[2614252] )
  {
    v3 = *(_DWORD *)(arg0 + 120);
    if ( (v3 & 0x8000) == 0 && (!sub_4356C0(arg0, 0) || sub_4356C0(*(int *)&byte_5D4594[2614252], 21)) )
    {
      v4 = *(_DWORD *)(arg0 + 112);
      if ( !(v4 & 2) || (v5 = *(_DWORD *)(arg0 + 116), !(v5 & 0x4000)) )
      {
        if ( v4 & 0x80400206 || *(_DWORD *)(arg0 + 108) == *(_DWORD *)&byte_5D4594[1096648] )
        {
          if ( sub_4984B0(arg0) )
          {
            if ( !(*(_BYTE *)(arg0 + 112) & 4) || (v6 = sub_417040(*(_DWORD *)(arg0 + 128))) != 0 && !(v6[3680] & 1) )
            {
              v7 = *(_DWORD *)(arg0 + 112);
              if ( (!(v7 & 0x400000) || (*(_BYTE *)(arg0 + 116) & 0x80)) && (!(v7 & 2) || *(_DWORD *)(arg0 + 276) != 10) )
              {
                v23 = (double)*(int *)(arg0 + 16) - *(float *)(arg0 + 100) - (double)*(__int16 *)(arg0 + 104);
                v29 = sub_419A70(v23);
                v24 = (double)*(int *)(v2 + 16) - *(float *)(v2 + 96) - (double)*(__int16 *)(v2 + 104);
                v8 = COERCE_FLOAT(sub_419A70(v24));
                a3.field_0 = v8;
                if ( *(_DWORD *)(v2 + 44) == 2 )
                {
                  v25 = *(float *)(v2 + 48) * *(float *)(v2 + 48);
                  LODWORD(a3.field_0) = sub_419A70(v25);
                  v17 = sub_419A70(*(float *)(v2 + 48));
                  v18 = *(_DWORD *)(v2 + 12);
                  v19 = *(_DWORD *)(v2 + 12) - v17;
                  v20 = v18 + sub_419A70(*(float *)(v2 + 48));
                  v21 = *(_DWORD *)(a2 + 4);
                  if ( v21 <= SLODWORD(v8) )
                  {
                    v8 = *(float *)&v29;
                    if ( v21 >= v29 )
                    {
                      if ( *(int *)a2 <= v19 || *(int *)a2 >= v20 )
                        return;
                      goto LABEL_38;
                    }
                  }
                  v15 = a3.field_0;
                  v16 = (*(_DWORD *)a2 - v18) * (*(_DWORD *)a2 - v18) + (v21 - LODWORD(v8)) * (v21 - LODWORD(v8));
                }
                else
                {
                  if ( *(_DWORD *)(v2 + 44) != 3 )
                    return;
                  a1.field_0 = (double)*(int *)(v2 + 12);
                  a1.field_4 = (double)SLODWORD(a3.field_0);
                  a3.field_0 = (double)*(int *)a2;
                  a3.field_4 = (double)*(int *)(a2 + 4);
                  if ( sub_57B850(&a1, (float *)(v2 + 44), &a3)
                    || (a1.field_4 = (double)v29, sub_57B850(&a1, (float *)(v2 + 44), &a3))
                    || (v9 = *(_DWORD *)(v2 + 12) + sub_419A70(*(float *)(v2 + 72)),
                        v10 = v29 + sub_419A70(*(float *)(v2 + 76)),
                        v11 = LODWORD(v8) + sub_419A70(*(float *)(v2 + 76)),
                        *(_DWORD *)a2 > v9)
                    && *(_DWORD *)a2 < *(int *)(v2 + 12)
                    && (v12 = *(_DWORD *)(a2 + 4), v12 > v10)
                    && v12 < v11 )
                  {
LABEL_38:
                    v26 = (double)*(__int16 *)(v2 + 104) + (double)*(int *)(v2 + 16) + *(float *)(v2 + 96);
                    v22 = sub_419A70(v26);
                    if ( v22 > *(int *)&byte_5D4594[1096628] )
                    {
                      *(_DWORD *)&byte_5D4594[1096628] = v22;
                      *(_DWORD *)&byte_5D4594[1096640] = v2;
                    }
                    if ( v2 != *(_DWORD *)&byte_5D4594[2614252]
                      && v22 > *(int *)&byte_5D4594[1096636]
                      && sub_57B400(v2) )
                    {
                      if ( *(_DWORD *)&byte_5D4594[2618908]
                        && *(_BYTE *)(*(_DWORD *)&byte_5D4594[2618908] + 2251) == 1
                        && *(_DWORD *)(v2 + 108) == *(_DWORD *)&byte_5D4594[1096632] )
                      {
                        if ( !*(_DWORD *)&byte_5D4594[1096644] )
                        {
                          *(_DWORD *)&byte_5D4594[1096644] = v2;
                          *(_DWORD *)&byte_5D4594[1096636] = 0;
                        }
                      }
                      else
                      {
                        *(_DWORD *)&byte_5D4594[1096636] = v22;
                        *(_DWORD *)&byte_5D4594[1096644] = v2;
                      }
                    }
                    return;
                  }
                  v13 = *(_DWORD *)(v2 + 12) + sub_419A70(*(float *)(v2 + 80));
                  v14 = v29 + sub_419A70(*(float *)(v2 + 84));
                  LODWORD(v15) = LODWORD(v8) + sub_419A70(*(float *)(v2 + 84));
                  if ( *(int *)a2 < *(int *)(v2 + 12) )
                    return;
                  if ( *(int *)a2 >= v13 )
                    return;
                  v16 = *(_DWORD *)(a2 + 4);
                  if ( v16 <= v14 )
                    return;
                }
                if ( v16 >= SLODWORD(v15) )
                  return;
                goto LABEL_38;
              }
            }
          }
        }
      }
    }
  }
}

//----- (004773C0) --------------------------------------------------------
void __cdecl sub_4773C0(_DWORD *a1)
{
  int v1; // eax
  int v2; // eax
  _DWORD *v3; // eax
  int v4; // eax
  int v5; // edx

  if ( *(_DWORD *)&byte_5D4594[1096640] )
  {
    if ( *(_BYTE *)(*(_DWORD *)&byte_5D4594[1096640] + 112) & 6
      && !sub_495A80(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1096640] + 128)) )
    {
      v4 = sub_415FF0(0, 1, (const char *)&byte_587000[151488], 440);
      if ( !v4 )
      {
        v3 = *(_DWORD **)&byte_5D4594[2598268];
        goto LABEL_15;
      }
      if ( v4 == 1 )
      {
        v3 = *(_DWORD **)&byte_5D4594[2650644];
        goto LABEL_15;
      }
    }
    else
    {
      v1 = sub_415FF0(0, 2, (const char *)&byte_587000[151448], 423);
      if ( !v1 )
      {
        v3 = *(_DWORD **)&byte_5D4594[2523948];
        goto LABEL_15;
      }
      v2 = v1 - 1;
      if ( !v2 )
      {
        v3 = *(_DWORD **)&byte_5D4594[2650684];
        goto LABEL_15;
      }
      if ( v2 == 1 )
      {
        v3 = *(_DWORD **)&byte_5D4594[2649820];
        goto LABEL_15;
      }
    }
    v3 = a1;
LABEL_15:
    v5 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1096640] + 112);
    if ( !(v5 & 0x200) )
      sub_477470(a1, (int)v3, *(int *)&byte_5D4594[1096640]);
  }
}

//----- (00477470) --------------------------------------------------------
void __cdecl sub_477470(_DWORD *a1, int a2, int a3)
{
  int v3; // ebx
  int v4; // ebx
  int v5; // esi
  int v6; // edi
  float v7; // [esp+0h] [ebp-14h]

  if ( a3 )
  {
    if ( *(_DWORD *)(a3 + 44) == 2 )
    {
      v4 = sub_419A70(*(float *)(a3 + 48));
    }
    else
    {
      if ( *(_DWORD *)(a3 + 44) != 3 )
      {
        v3 = 6;
LABEL_8:
        v5 = *a1 + *(_DWORD *)(a3 + 12) - a1[4];
        v6 = *(_DWORD *)(a3 + 16) + a1[1] - a1[5];
        sub_434460(a2);
        sub_434560(1);
        sub_434580(0x80u);
        sub_4B0B90(v5, v6, v3 - 1);
        sub_4B0B90(v5, v6, v3 + 1);
        sub_434560(0);
        sub_4B0B90(v5, v6, v3);
        return;
      }
      v7 = *(float *)(a3 + 60) + *(float *)(a3 + 56);
      v4 = sub_419A70(v7) / 2;
    }
    v3 = v4 + 6;
    goto LABEL_8;
  }
}

//----- (00477530) --------------------------------------------------------
unsigned __int8 __cdecl sub_477530(int a1)
{
  unsigned __int8 result; // al

  if ( a1 == 1 )
  {
    *(_DWORD *)&byte_5D4594[1096652] = sub_45ACA0(0);
    *(_DWORD *)&byte_5D4594[1096664] = sub_467C10();
    *(_DWORD *)&byte_5D4594[1096660] = sub_4574D0();
    *(_DWORD *)&byte_587000[80828] = 0;
    *(_DWORD *)&byte_5D4594[1096656] = sub_473670();
    if ( *(_DWORD *)&byte_5D4594[1096656] == 1 )
      sub_473610();
    sub_4512B0();
    sub_446780();
    sub_4AD9B0(1);
    sub_4C35B0(1);
    sub_46D6F0();
    result = sub_460660();
    *(_DWORD *)&byte_5D4594[1096672] = 1;
  }
  else
  {
    *(_DWORD *)&byte_5D4594[1096672] = 0;
    if ( *(_DWORD *)&byte_5D4594[1096652] )
      sub_45AD70(0);
    if ( *(_DWORD *)&byte_5D4594[1096664] )
      sub_467BB0();
    if ( *(_DWORD *)&byte_5D4594[1096660] )
      sub_457500();
    result = byte_5D4594[1096656];
    if ( *(_DWORD *)&byte_5D4594[1096656] )
      result = sub_473610();
    if ( *(_DWORD *)&byte_587000[80832] == 1 )
      *(_DWORD *)&byte_587000[80828] = 1;
  }
  return result;
}

//----- (00477600) --------------------------------------------------------
int sub_477600()
{
  return *(_DWORD *)&byte_5D4594[1096672];
}

//----- (00477610) --------------------------------------------------------
int __cdecl sub_477610(int a1)
{
  int result; // eax

  result = a1;
  *(_DWORD *)&byte_5D4594[1097200] = a1;
  return result;
}

//----- (00477620) --------------------------------------------------------
int sub_477620()
{
  return *(_DWORD *)&byte_5D4594[1097200];
}

//----- (00477630) --------------------------------------------------------
int sub_477630()
{
  return *(_DWORD *)&byte_587000[151528];
}

//----- (00477640) --------------------------------------------------------
int __cdecl sub_477640(int a1, int a2)
{
  int result; // eax

  result = a1;
  *(_DWORD *)&byte_5D4594[1097192] = a1;
  *(_DWORD *)&byte_5D4594[1097196] = a2;
  return result;
}

//----- (00477660) --------------------------------------------------------
int sub_477660()
{
  int result; // eax

  result = 0;
  *(_DWORD *)&byte_5D4594[1097192] = 0;
  *(_DWORD *)&byte_5D4594[1097196] = 0;
  return result;
}

//----- (00477670) --------------------------------------------------------
int sub_477670()
{
  return *(_DWORD *)&byte_5D4594[1097196];
}

//----- (00477680) --------------------------------------------------------
int sub_477680()
{
  return *(_DWORD *)&byte_5D4594[1097188];
}

//----- (00477690) --------------------------------------------------------
int __cdecl sub_477690(int a1)
{
  int result; // eax

  result = a1;
  *(_DWORD *)&byte_5D4594[1097188] = a1;
  return result;
}

//----- (004776A0) --------------------------------------------------------
void sub_4776A0()
{
  *(_DWORD *)&byte_5D4594[1097188] = 0;
}

//----- (004776B0) --------------------------------------------------------
void __cdecl sub_4776B0(wchar_t *a1)
{
  if ( a1 )
  {
    if ( (int)nox_wcslen(a1) >= 256 )
    {
      nox_wcsncpy((wchar_t *)&byte_5D4594[1096676], a1, 0xFFu);
      *(_WORD *)&byte_5D4594[1097186] = 0;
    }
    else
    {
      nox_wcscpy((wchar_t *)&byte_5D4594[1096676], a1);
    }
  }
  else
  {
    *(_WORD *)&byte_5D4594[1096676] = 0;
  }
}

//----- (00477710) --------------------------------------------------------
char *sub_477710()
{
  char *result; // eax

  memset(&byte_5D4594[1097220], 0, 0x44u);
  *(_DWORD *)&byte_5D4594[1097220] = sub_42FA20((const char *)&byte_587000[151532]);
  *(_DWORD *)&byte_5D4594[1097224] = sub_42FA20((const char *)&byte_587000[151548]);
  *(_DWORD *)&byte_5D4594[1097228] = sub_42FA20((const char *)&byte_587000[151560]);
  *(_DWORD *)&byte_5D4594[1097232] = sub_42FA20((const char *)&byte_587000[151576]);
  *(_DWORD *)&byte_5D4594[1097240] = sub_42FA20((const char *)&byte_587000[151588]);
  *(_DWORD *)&byte_5D4594[1097236] = sub_42FA20((const char *)&byte_587000[151604]);
  *(_DWORD *)&byte_5D4594[1097244] = sub_42FA20((const char *)&byte_587000[151616]);
  *(_DWORD *)&byte_5D4594[1097248] = sub_42FA20((const char *)&byte_587000[151632]);
  *(_DWORD *)&byte_5D4594[1097252] = sub_42FA20((const char *)&byte_587000[151652]);
  *(_DWORD *)&byte_5D4594[1097256] = sub_42FA20((const char *)&byte_587000[151668]);
  *(_DWORD *)&byte_5D4594[1097260] = sub_42FA20((const char *)&byte_587000[151688]);
  *(_DWORD *)&byte_5D4594[1097264] = sub_42FA20((const char *)&byte_587000[151700]);
  *(_DWORD *)&byte_5D4594[1097268] = sub_42FA20((const char *)&byte_587000[151712]);
  *(_DWORD *)&byte_5D4594[1097272] = sub_42FA20((const char *)&byte_587000[151724]);
  *(_DWORD *)&byte_5D4594[1097276] = sub_42FA20((const char *)&byte_587000[151736]);
  *(_DWORD *)&byte_5D4594[1097280] = sub_42FA20((const char *)&byte_587000[151748]);
  result = sub_42FA20((const char *)&byte_587000[151764]);
  *(_DWORD *)&byte_5D4594[1097284] = result;
  return result;
}

//----- (00477830) --------------------------------------------------------
char *sub_477830()
{
  int2 *v0; // edi
  char *v1; // eax
  int v2; // eax
  char *result; // eax
  int v4; // esi
  int v5; // edi
  int v6; // eax
  int v7; // [esp+Ch] [ebp-3Ch]
  int v8; // [esp+10h] [ebp-38h]
  int v9[13]; // [esp+14h] [ebp-34h]

  if ( !*(_DWORD *)&byte_5D4594[1097220] )
    sub_477710();
  v0 = sub_4309F0();
  v9[0] = 0;
  v9[1] = 0;
  v9[2] = *(_DWORD *)&byte_5D4594[3805496];
  v9[3] = *(_DWORD *)&byte_5D4594[3807120];
  v9[8] = *(_DWORD *)&byte_5D4594[3805496];
  v9[9] = *(_DWORD *)&byte_5D4594[3807120];
  v9[4] = 0;
  v9[5] = 0;
  *(_DWORD *)&byte_5D4594[1097204] = 0;
  *(_DWORD *)&byte_5D4594[1097208] = sub_43F320(0) + 4;
  if ( *(_DWORD *)&byte_5D4594[1097188] )
  {
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1097188] + 12) = v0->field_0;
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1097188] + 16) = v0->field_4;
    (*(void (__cdecl **)(int *, _DWORD))(*(_DWORD *)&byte_5D4594[1097188] + 300))(v9, *(_DWORD *)&byte_5D4594[1097188]);
  }
  if ( *(_DWORD *)&byte_5D4594[1097192] )
  {
    v1 = sub_417040(*(int *)&byte_5D4594[2616328]);
    if ( !v1 || v1[2251] )
    {
      v2 = sub_424A90(*(int *)&byte_5D4594[1097192]);
      if ( v2 )
      {
LABEL_11:
        sub_47D2C0(v2, v0->field_0 - 15, v0->field_4 - 15);
        goto LABEL_12;
      }
    }
    else
    {
      v2 = sub_425310(*(int *)&byte_5D4594[1097192], 0);
      if ( v2 )
        goto LABEL_11;
    }
  }
LABEL_12:
  result = (char *)sub_477A30(*(int *)&byte_5D4594[2523948], v0->field_0, v0->field_4);
  if ( *(_WORD *)&byte_5D4594[1096676] && *(_DWORD *)&byte_587000[80840] == 1 )
  {
    sub_43F840(0, (unsigned __int16 *)&byte_5D4594[1096676], &v8, &v7, 0);
    v4 = v0->field_0 - *(_DWORD *)&byte_5D4594[1097204];
    v5 = v0->field_4 - *(_DWORD *)&byte_5D4594[1097208];
    v6 = v7 + 4;
    v7 += 4;
    if ( v4 + v8 + 4 >= *(int *)&byte_5D4594[3805496] )
      v4 -= v8;
    if ( v4 < 0 )
      v4 = 0;
    if ( v5 + v6 < *(int *)&byte_5D4594[3807120] )
    {
      if ( v5 < 0 )
        v5 = 0;
    }
    else
    {
      v5 = *(_DWORD *)&byte_5D4594[3807120] - v6;
    }
    sub_49CF10(v4, v5, v8 + 4, v6);
    sub_434390(*(int *)&byte_5D4594[2589772]);
    sub_43FAF0(0, &byte_5D4594[1096676], v4 + 2, v5 + 2, 0, 0);
    result = *(char **)&byte_5D4594[3799468];
    if ( *(_DWORD *)&byte_5D4594[3799468] )
    {
      result = sub_437250();
      if ( v4 < *(int *)result
        || v4 + v8 + 4 > *((_DWORD *)result + 2)
        || v5 < *((_DWORD *)result + 1)
        || v7 + v5 > *((_DWORD *)result + 3) )
      {
        *(_DWORD *)&byte_5D4594[3799524] = 1;
      }
    }
  }
  return result;
}

//----- (00477A30) --------------------------------------------------------
int __cdecl sub_477A30(int a1, int a2, int a3)
{
  int v3; // edi
  int v4; // ebp
  int v5; // esi
  int v6; // eax
  __int16 *v7; // eax
  __int16 *v8; // eax
  __int16 *v9; // eax
  __int16 *v10; // eax
  __int16 *v11; // eax
  __int16 *v12; // eax
  __int16 *v13; // eax
  int2 *v14; // eax
  int v15; // esi
  int v16; // ebx
  int result; // eax
  int v18; // [esp+10h] [ebp-Ch]
  float2 v19; // [esp+14h] [ebp-8h]

  v18 = *(_DWORD *)&byte_5D4594[3799496];
  v3 = a2 - 64;
  v4 = a3 - 64;
  *(_DWORD *)&byte_5D4594[3799496] = 0;
  *(_DWORD *)&byte_5D4594[3798728] = 1;
  *(_DWORD *)&byte_5D4594[1097212] = a2 - 64;
  *(_DWORD *)&byte_5D4594[1097216] = a3 - 64;
  if ( byte_5D4594[2598000] & 1 )
    ++*(_DWORD *)&byte_5D4594[1097288];
  sub_434390(*(int *)&byte_5D4594[2589772]);
  v5 = sub_43F320(0);
  if ( sub_460650() || sub_4611A0() )
  {
    LOWORD(result) = sub_4BE6D0(*(int *)&byte_5D4594[1097240], v3, v4);
    *(_DWORD *)&byte_5D4594[3798728] = 0;
    *(_DWORD *)&byte_587000[151528] = 5;
    *(_DWORD *)&byte_5D4594[3799496] = v18;
  }
  else
  {
    v6 = *(_DWORD *)&byte_5D4594[1097200];
    if ( *(_DWORD *)&byte_5D4594[1097200] != *(_DWORD *)&byte_587000[151528] && *(_DWORD *)&byte_5D4594[1097200] != 14 )
    {
      sub_48B680(0);
      v6 = *(_DWORD *)&byte_5D4594[1097200];
    }
    switch ( v6 )
    {
      case 1:
        v10 = (__int16 *)sub_40F1D0((char *)&byte_587000[151952], 0, (const char *)&byte_587000[151916], 199);
        sub_43F6E0(0, v10, v3 + 54, a3 - v5);
        sub_4BE6D0(*(int *)&byte_5D4594[1097224], v3, v4);
        break;
      case 2:
        v7 = (__int16 *)sub_40F1D0((char *)&byte_587000[151816], 0, (const char *)&byte_587000[151780], 176);
        sub_43F6E0(0, v7, v3 + 49, v5 + a3);
        sub_4BE6D0(*(int *)&byte_5D4594[1097228], v3, v4);
        goto LABEL_16;
      case 3:
        v8 = (__int16 *)sub_40F1D0((char *)&byte_587000[151860], 0, (const char *)&byte_587000[151824], 185);
        sub_43F6E0(0, v8, v3 + 39, a3 - v5);
        sub_4BE6D0(*(int *)&byte_5D4594[1097232], v3, v4);
        break;
      case 4:
        v9 = (__int16 *)sub_40F1D0((char *)&byte_587000[151908], 0, (const char *)&byte_587000[151872], 192);
        sub_43F6E0(0, v9, v3 + 49, a3 - v5);
        sub_4BE6D0(*(int *)&byte_5D4594[1097236], v3, v4);
        break;
      case 6:
      case 7:
        v11 = (__int16 *)sub_40F1D0((char *)&byte_587000[151996], 0, (const char *)&byte_587000[151960], 207);
        sub_43F6E0(0, v11, v3 + 49, v4 + 88);
        sub_4BE6D0(*(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1097200] + 1097220], v3, v4);
        break;
      case 8:
        v12 = (__int16 *)sub_40F1D0((char *)&byte_587000[152044], 0, (const char *)&byte_587000[152008], 214);
        sub_43F6E0(0, v12, v3 + 49, a3 - v5);
        sub_4BE6D0(*(int *)&byte_5D4594[1097252], v3, v4);
        *(_DWORD *)&byte_5D4594[1097208] = 2 * v5 + 4;
        break;
      case 9:
      case 10:
      case 11:
      case 12:
        sub_4BE6D0(*(_DWORD *)&byte_5D4594[4 * v6 + 1097220], v3, v4);
        break;
      case 13:
        v13 = (__int16 *)sub_40F1D0((char *)&byte_587000[152088], 0, (const char *)&byte_587000[152052], 223);
        sub_43F6E0(0, v13, v3 + 54, v5 + a3);
        sub_4BE6D0(*(int *)&byte_5D4594[1097272], v3, v4);
LABEL_16:
        *(_DWORD *)&byte_5D4594[1097208] = -2 * v5;
        break;
      case 14:
        v14 = sub_4309F0();
        v19.field_0 = (double)(v14->field_0 - *(int *)&byte_5D4594[3805496] / 2);
        v19.field_4 = (double)(v14->field_4 - *(int *)&byte_5D4594[3807120] / 2);
		//dprintf("cur %f %f %d", v19.field_0, v19.field_4, sub_509ED0(&v19));
        v15 = sub_509ED0(&v19) / 8;
        if ( v19.field_4 * v19.field_4 + v19.field_0 * v19.field_0 > 10000.0
          || *(_DWORD *)&byte_5D4594[2614252] && *(_DWORD *)(*(_DWORD *)&byte_5D4594[2614252] + 276) == 6 )
        {
          v15 += 32;
        }
        v16 = sub_476F80();
        if ( v16 )
        {
          sub_48B680(1);
          if ( !(*(_BYTE *)(v16 + 112) & 6) || sub_495A80(*(_DWORD *)(v16 + 128)) )
            sub_48B800(*(int *)&byte_5D4594[2650684]);
          else
            sub_48B800(*(int *)&byte_5D4594[2650644]);
        }
        else
        {
          sub_48B680(0);
        }
        sub_4BE710(*(int *)&byte_5D4594[1097276], v3, v4, v15);
        sub_4345F0(0);
        break;
      case 15:
        sub_4BE6D0(*(_DWORD *)&byte_5D4594[4 * v6 + 1097220], v3, v4);
        *(_DWORD *)&byte_5D4594[1097208] = -2 * v5;
        break;
      case 16:
        sub_4BE6D0(*(_DWORD *)&byte_5D4594[4 * v6 + 1097220], v3, v4);
        *(_DWORD *)&byte_5D4594[1097208] = -v5;
        break;
      default:
        sub_4BE6D0(*(int *)&byte_5D4594[1097220], v3, v4);
        break;
    }
    result = v18;
    *(_DWORD *)&byte_5D4594[3798728] = 0;
    *(_DWORD *)&byte_587000[151528] = *(_DWORD *)&byte_5D4594[1097200];
    *(_DWORD *)&byte_5D4594[3799496] = v18;
  }
  return result;
}

//----- (00477EA0) --------------------------------------------------------
int sub_477EA0()
{
  int2 *v0; // eax
  int v1; // edi
  int v2; // esi

  v0 = sub_4309F0();
  v1 = v0->field_0;
  v2 = v0->field_4 + 22;
  sub_477A30(*(int *)&byte_5D4594[2650656], v0->field_0, v2);
  sub_477EF0(*(int *)&byte_5D4594[2614248], --v1, v2);
  return sub_477EF0(*(int *)&byte_5D4594[2614248], v1 + 2, v2);
}

//----- (00477EF0) --------------------------------------------------------
int __cdecl sub_477EF0(int a1, int a2, int a3)
{
  if ( *(_DWORD *)&byte_5D4594[1097200] == 2 )
    return sub_4C32A0(a2, a3, 5 - *(_DWORD *)&byte_5D4594[2598000] % 5u, a1);
  sub_434460(a1);
  sub_434560(1);
  sub_49F500(a2 - 4, a3 - 4);
  sub_49F570(8, 8);
  sub_49E4B0();
  sub_49F500(a2 + 4, a3 - 4);
  sub_49F570(-8, 8);
  sub_49E4B0();
  return sub_434560(0);
}

//----- (00477F80) --------------------------------------------------------
void sub_477F80()
{
  char *v0; // eax

  if ( !*(_DWORD *)&byte_5D4594[3798724] )
  {
    if ( *(_DWORD *)&byte_5D4594[3799468] )
    {
      v0 = sub_437250();
      if ( *(int *)&byte_5D4594[1097212] < *(int *)v0
        || *(int *)&byte_5D4594[1097212] + 64 >= *((int *)v0 + 2)
        || *(int *)&byte_5D4594[1097216] < *((int *)v0 + 1)
        || *(int *)&byte_5D4594[1097216] + 64 >= *((int *)v0 + 3) )
      {
        sub_434460(*(int *)&byte_5D4594[2650656]);
        sub_49CE30(*(_DWORD *)&byte_5D4594[1097212] + 32, *(_DWORD *)&byte_5D4594[1097216] + 32, 64, 64);
      }
    }
  }
}

//----- (00477FF0) --------------------------------------------------------
int sub_477FF0()
{
  return sub_4BE7B0(*(int *)&byte_5D4594[1097260]);
}

//----- (00478000) --------------------------------------------------------
int sub_478000()
{
  int result; // eax
  int v1; // eax

  sub_467CD0();
  result = *(_DWORD *)&byte_5D4594[1097196];
  if ( *(_DWORD *)&byte_5D4594[1097196] )
  {
    v1 = sub_46AE00();
    sub_46ADE0(v1);
    result = sub_477660();
  }
  return result;
}

//----- (00478030) --------------------------------------------------------
int sub_478030()
{
  return *(_DWORD *)&byte_5D4594[1098624];
}

//----- (00478040) --------------------------------------------------------
int sub_478040()
{
  __int16 v2; // [esp+0h] [ebp-2h]

  if ( !*(_DWORD *)&byte_5D4594[1098624] )
    return 0;
  v2 = 4809;
  sub_40EBC0(31, 0, &v2, 2);
  sub_467680();
  return 1;
}

//----- (00478080) --------------------------------------------------------
int __cdecl sub_478080(int a1)
{
  char *v1; // eax
  int result; // eax

  if ( *(_DWORD *)&byte_5D4594[1098624] && (v1 = sub_4780A0(a1)) != 0 )
    result = *(_DWORD *)v1;
  else
    result = 0;
  return result;
}

//----- (004780A0) --------------------------------------------------------
char *__cdecl sub_4780A0(int a1)
{
  int v1; // ebp
  unsigned __int8 *v2; // edi
  int v3; // esi
  unsigned __int8 *v4; // edx
  int v5; // eax
  unsigned __int8 *v6; // ecx

  v1 = 0;
  v2 = &byte_5D4594[1098644];
  while ( 2 )
  {
    v3 = 0;
    v4 = v2;
    do
    {
      if ( *((_DWORD *)v4 - 1) )
      {
        v5 = 0;
        v6 = v4;
        while ( *(_DWORD *)v6 != a1 )
        {
          ++v5;
          v6 += 4;
          if ( v5 >= 32 )
            goto LABEL_7;
        }
        return (char *)&byte_5D4594[140 * (v1 + 10 * v3) + 1098636];
      }
LABEL_7:
      ++v3;
      v4 += 1400;
    }
    while ( v3 < 6 );
    v2 += 140;
    ++v1;
    if ( (int)v2 < (int)&byte_5D4594[1100044] )
      continue;
    return 0;
  }
}

//----- (00478110) --------------------------------------------------------
int sub_478110()
{
  _DWORD *v0; // eax
  int result; // eax
  _DWORD *v2; // eax
  unsigned __int8 *v3; // edx
  unsigned __int8 *v4; // eax
  int v5; // ecx
  _DWORD *v6; // esi
  int v7; // [esp+4h] [ebp-8h]
  int v8; // [esp+8h] [ebp-4h]

  *(_DWORD *)&byte_5D4594[1098500] = *(_DWORD *)&byte_5D4594[3805496];
  *(_DWORD *)&byte_5D4594[1098504] = *(_DWORD *)&byte_5D4594[3807120];
  *(_DWORD *)&byte_5D4594[1098524] = *(_DWORD *)&byte_5D4594[3805496];
  *(_DWORD *)&byte_5D4594[1098492] = 0;
  *(_DWORD *)&byte_5D4594[1098496] = 0;
  *(_DWORD *)&byte_5D4594[1098528] = *(_DWORD *)&byte_5D4594[3807120];
  *(_DWORD *)&byte_5D4594[1098508] = 0;
  *(_DWORD *)&byte_5D4594[1098512] = 0;
  v0 = sub_4A0AD0((const char *)&byte_587000[152092], sub_478480);
  *(_DWORD *)&byte_5D4594[1098576] = v0;
  if ( !v0 )
    return 0;
  sub_46B430(v0, sub_478650, sub_478970, 0);
  v2 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1098576], 3806);
  sub_46B070((int)v2, sub_478E50);
  v3 = &byte_5D4594[1098636];
  do
  {
    v4 = v3;
    v5 = 6;
    do
    {
      *(_DWORD *)v4 = 0;
      v4 += 1400;
      --v5;
    }
    while ( v5 );
    v3 += 140;
  }
  while ( (int)v3 < (int)&byte_5D4594[1100036] );
  sub_478F10();
  sub_46AB70(*(int *)&byte_5D4594[1098576], &v8, &v7);
  sub_46A9B0(
    *(_DWORD **)&byte_5D4594[1098576],
    *(_DWORD *)&byte_5D4594[3805496] - v8,
    *(_DWORD *)&byte_5D4594[3807120] - v7);
  sub_46AC00(*(int *)&byte_5D4594[1098576], 1);
  sub_46ABB0(*(int *)&byte_5D4594[1098576], 0);
  *(_DWORD *)&byte_5D4594[1098400] = sub_42F970((const char *)&byte_587000[152104]);
  *(_DWORD *)&byte_5D4594[1098404] = sub_42F970((const char *)&byte_587000[152116]);
  *(_DWORD *)&byte_5D4594[1098408] = sub_42F970((const char *)&byte_587000[152132]);
  *(_DWORD *)&byte_5D4594[1098412] = sub_42F970((const char *)&byte_587000[152152]);
  *(_DWORD *)&byte_5D4594[1098416] = sub_42F970((const char *)&byte_587000[152168]);
  *(_DWORD *)&byte_5D4594[1098420] = sub_42F970((const char *)&byte_587000[152184]);
  *(_DWORD *)&byte_5D4594[1098424] = sub_42F970((const char *)&byte_587000[152200]);
  *(_DWORD *)&byte_5D4594[1098428] = sub_42F970((const char *)&byte_587000[152220]);
  *(_DWORD *)&byte_5D4594[1098432] = sub_42F970((const char *)&byte_587000[152240]);
  *(_DWORD *)&byte_5D4594[1098436] = sub_42F970((const char *)&byte_587000[152260]);
  *(_DWORD *)&byte_5D4594[1098448] = sub_42F970((const char *)&byte_587000[152288]);
  *(_DWORD *)&byte_5D4594[1098452] = sub_42F970((const char *)&byte_587000[152304]);
  *(_DWORD *)&byte_5D4594[1098440] = sub_42F970((const char *)&byte_587000[152328]);
  *(_DWORD *)&byte_5D4594[1098444] = sub_42F970((const char *)&byte_587000[152348]);
  *(_DWORD *)&byte_5D4594[1098456] = sub_42F970((const char *)&byte_587000[152376]);
  *(_DWORD *)&byte_5D4594[1098460] = sub_42F970((const char *)&byte_587000[152392]);
  *(_DWORD *)&byte_5D4594[1098464] = sub_42F970((const char *)&byte_587000[152408]);
  *(_DWORD *)&byte_5D4594[1098468] = sub_42F970((const char *)&byte_587000[152432]);
  *(_DWORD *)&byte_5D4594[1098472] = sub_42F970((const char *)&byte_587000[152456]);
  *(_DWORD *)&byte_5D4594[1098476] = sub_42F970((const char *)&byte_587000[152476]);
  *(_DWORD *)&byte_5D4594[1098480] = sub_42F970((const char *)&byte_587000[152504]);
  *(_DWORD *)&byte_5D4594[1098580] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1098576], 3807);
  *(_DWORD *)&byte_5D4594[1098584] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1098576], 3808);
  *(_DWORD *)&byte_5D4594[1098588] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1098576], 3809);
  v6 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1098576], 3806);
  sub_46AA60(v6, &byte_5D4594[1098380], &byte_5D4594[1098384]);
  sub_46AB70((int)v6, &byte_5D4594[1098388], &byte_5D4594[1098392]);
  *(_DWORD *)&byte_5D4594[1098388] += *(_DWORD *)&byte_5D4594[1098380];
  *(_DWORD *)&byte_5D4594[1098392] += *(_DWORD *)&byte_5D4594[1098384];
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1098580] + 400) + 8) = 16;
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1098580] + 400) + 12) = 12;
  sub_46AE40(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1098580] + 400), 0, -15);
  sub_4B5700(
    *(int *)&byte_5D4594[1098580],
    0,
    0,
    *(int *)&byte_5D4594[1098432],
    *(int *)&byte_5D4594[1098436],
    *(int *)&byte_5D4594[1098436]);
  result = 1;
  *(_DWORD *)&byte_5D4594[1098592] = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1098580] + 32) + 4);
  return result;
}

//----- (00478480) --------------------------------------------------------
int __cdecl sub_478480(int a1, int a2, int *a3, int a4)
{
  int result; // eax
  int v5; // esi
  int v7; // ecx
  int v8; // ecx

  if ( a2 != 16391 )
  {
    if ( a2 == 16393 )
    {
      *(_DWORD *)&byte_5D4594[1107036] = *(_DWORD *)&byte_5D4594[1098592] - a4;
      return 0;
    }
    return 0;
  }
  if ( sub_45D9B0() )
    return 0;
  v5 = sub_46B0A0(a3);
  sub_452D80(766, 100);
  switch ( v5 )
  {
    case 3801:
      if ( !*(_DWORD *)&byte_5D4594[1098624] )
        return 0;
      sub_478040();
      result = 0;
      break;
    case 3802:
      if ( !*(_DWORD *)&byte_5D4594[1098624] )
        return 0;
      if ( *(_DWORD *)&byte_5D4594[1098628] == 4 )
        sub_467680();
      sub_477610(12);
      *(_DWORD *)&byte_5D4594[1098628] = 3;
      if ( sub_467C80() )
        return 0;
      sub_467BB0();
      result = 0;
      break;
    case 3803:
      if ( !*(_DWORD *)&byte_5D4594[1098624] )
        return 0;
      sub_467650();
      *(_DWORD *)&byte_5D4594[1098628] = 4;
      result = 0;
      break;
    case 3804:
      if ( *(_DWORD *)&byte_5D4594[1098624] )
      {
        if ( *(_DWORD *)&byte_5D4594[1098628] == 4 )
          sub_467680();
        sub_477610(11);
        *(_DWORD *)&byte_5D4594[1098628] = 2;
      }
      return 0;
    case 3808:
      if ( *(int *)&byte_5D4594[1107036] - 50 >= 0 )
        v8 = *(_DWORD *)&byte_5D4594[1107036] - 50 - (*(_DWORD *)&byte_5D4594[1107036] - 50) % 50;
      else
        v8 = 0;
      *(_DWORD *)&byte_5D4594[1107036] = v8;
      sub_46B490(*(int *)&byte_5D4594[1098580], 16394, *(_DWORD *)&byte_5D4594[1098592] - v8, 0);
      result = 0;
      break;
    case 3809:
      if ( *(int *)&byte_5D4594[1107036] + 50 <= *(int *)&byte_5D4594[1098592] )
      {
        v7 = *(_DWORD *)&byte_5D4594[1107036] + 50 - (*(_DWORD *)&byte_5D4594[1107036] + 50) % 50;
        *(_DWORD *)&byte_5D4594[1107036] = *(_DWORD *)&byte_5D4594[1107036]
                                         + 50
                                         - (*(_DWORD *)&byte_5D4594[1107036] + 50) % 50;
      }
      else
      {
        v7 = *(_DWORD *)&byte_5D4594[1098592];
        *(_DWORD *)&byte_5D4594[1107036] = *(_DWORD *)&byte_5D4594[1098592];
      }
      sub_46B490(*(int *)&byte_5D4594[1098580], 16394, *(_DWORD *)&byte_5D4594[1098592] - v7, 0);
      result = 0;
      break;
    default:
      return 0;
  }
  return result;
}
// 478585: variable 'v6' is possibly undefined

//----- (00478650) --------------------------------------------------------
int __cdecl sub_478650(int a1, int a2, unsigned int a3)
{
  int v4; // eax
  int2 v5; // [esp+0h] [ebp-8h]

  v5.field_0 = (unsigned __int16)a3;
  v5.field_4 = a3 >> 16;
  if ( !sub_45D9B0() )
  {
    switch ( a2 )
    {
      case 5:
        v4 = sub_4281F0(&v5, (int4 *)&byte_5D4594[1098380]);
        if ( v4 )
        {
          if ( *(_DWORD *)&byte_5D4594[1098628] == 2 )
            sub_478730(&v5.field_0);
        }
        break;
      case 19:
        if ( *(_DWORD *)&byte_5D4594[1098628] == 2 )
        {
          sub_46B490(*(int *)&byte_5D4594[1098576], 16391, *(int *)&byte_5D4594[1098584], 0);
          return 1;
        }
        break;
      case 20:
        if ( *(_DWORD *)&byte_5D4594[1098628] == 2 )
        {
          sub_46B490(*(int *)&byte_5D4594[1098576], 16391, *(int *)&byte_5D4594[1098588], 0);
          return 1;
        }
        break;
      default:
        return 0;
    }
  }
  return 1;
}
// 478703: variable 'v4' is possibly undefined

//----- (00478730) --------------------------------------------------------
_DWORD *__cdecl sub_478730(int *a1)
{
  int v1; // ecx
  int v2; // edx
  int v3; // ecx
  _DWORD *result; // eax
  unsigned __int8 *v5; // esi
  unsigned int v6; // eax
  unsigned int v7; // ecx
  int v8; // ebp
  const void *v9; // ebx
  wchar_t *v10; // eax
  int v11; // [esp-24h] [ebp-34h]
  int v12; // [esp-20h] [ebp-30h]
  int v13; // [esp-1Ch] [ebp-2Ch]
  int v14; // [esp-18h] [ebp-28h]

  v1 = (*a1 - *(_DWORD *)&byte_5D4594[1098380]) / 50;
  v2 = (a1[1] - *(_DWORD *)&byte_5D4594[1098384] + *(_DWORD *)&byte_5D4594[1107036]) / 50;
  if ( v1 >= 6 )
    v1 = 5;
  if ( v2 >= 10 )
    v2 = 9;
  v3 = v2 + 10 * v1;
  result = *(_DWORD **)&byte_5D4594[140 * v3 + 1098640];
  v5 = &byte_5D4594[140 * v3 + 1098636];
  if ( result )
  {
    v6 = sub_4674A0();
    v7 = *((_DWORD *)v5 + 34);
    v8 = *((_DWORD *)v5 + 1);
    if ( v6 < v8 * *((_DWORD *)v5 + 34) )
      v8 = v6 / v7;
    if ( v8 )
    {
      v9 = 0;
      if ( *(_DWORD *)(*(_DWORD *)v5 + 112) & 0x13001000 )
        v9 = (const void *)(*(_DWORD *)v5 + 432);
      sub_4C05F0(1, *((_DWORD *)v5 + 34));
      v14 = *(_DWORD *)(*(_DWORD *)v5 + 108);
      v13 = *(_DWORD *)&v5[4 * *((_DWORD *)v5 + 1) + 4];
      v12 = a1[1];
      v11 = *a1;
      v10 = sub_40F1D0((char *)&byte_587000[152564], 0, (const char *)&byte_587000[152528], 328);
      result = (_DWORD *)sub_4C0430((int)v10, v11, v12, v13, v14, v9, v8, 0, sub_478850, 0);
    }
    else
    {
      result = sub_479520(v7 - v6);
    }
  }
  return result;
}

//----- (00478850) --------------------------------------------------------
void __cdecl sub_478850(int a1, __int16 a2, int a3, int a4)
{
  if ( a4 )
  {
    if ( a4 == 1 )
      sub_478880(a3, a2);
    else
      sub_4788F0(a3, a4);
  }
}

//----- (00478880) --------------------------------------------------------
void __cdecl sub_478880(int a1, __int16 a2)
{
  wchar_t *v2; // eax

  if ( sub_467B00(a1, 1) )
  {
    LOWORD(a1) = 5833;
    HIWORD(a1) = a2;
    sub_40EBC0(31, 0, &a1, 4);
  }
  else
  {
    sub_452D80(925, 100);
    v2 = sub_40F1D0((char *)&byte_587000[152612], 0, (const char *)&byte_587000[152576], 207);
    sub_445490(v2);
  }
}

//----- (004788F0) --------------------------------------------------------
void __cdecl sub_4788F0(int a1, int a2)
{
  wchar_t *v2; // eax
  char v3[5]; // [esp+8h] [ebp-8h]

  if ( sub_467B00(a1, a2) )
  {
    v3[0] = -55;
    v3[1] = 23;
    *(_WORD *)&v3[2] = a1;
    v3[4] = a2;
    sub_40EBC0(31, 0, v3, 5);
  }
  else
  {
    sub_452D80(925, 100);
    v2 = sub_40F1D0((char *)&byte_587000[152676], 0, (const char *)&byte_587000[152640], 233);
    sub_445490(v2);
  }
}

//----- (00478970) --------------------------------------------------------
int sub_478970()
{
  int result; // eax
  int2 a1; // [esp+0h] [ebp-8h]

  a1.field_0 = *(_DWORD *)&byte_5D4594[3805496] - 640;
  a1.field_4 = *(_DWORD *)&byte_5D4594[3807120] - 480;
  sub_47D2C0(
    *(int *)&byte_5D4594[1098400],
    *(_DWORD *)&byte_5D4594[3805496] - 640,
    *(_DWORD *)&byte_5D4594[3807120] - 480);
  if ( *(_DWORD *)&byte_5D4594[1098628] == 2 )
  {
    sub_47D2C0(*(int *)&byte_5D4594[1098404], a1.field_0, a1.field_4);
    sub_478C80();
    result = 1;
  }
  else if ( *(_DWORD *)&byte_5D4594[1098628] == 3 )
  {
    sub_47D2C0(*(int *)&byte_5D4594[1098408], a1.field_0, a1.field_4);
    sub_478B10(&a1);
    result = 1;
  }
  else if ( *(_DWORD *)&byte_5D4594[1098628] == 1 )
  {
    sub_47D2C0(*(int *)&byte_5D4594[1098412], a1.field_0, a1.field_4);
    sub_478A70(&a1);
    result = 1;
  }
  else
  {
    if ( *(_DWORD *)&byte_5D4594[1098628] == 4 )
    {
      sub_47D2C0(*(int *)&byte_5D4594[1098416], a1.field_0, a1.field_4);
      sub_478BC0(&a1.field_0);
    }
    result = 1;
  }
  return result;
}

//----- (00478A70) --------------------------------------------------------
int __cdecl sub_478A70(int2 *a1)
{
  _DWORD *v1; // esi
  int result; // eax
  int v3; // [esp+4h] [ebp-10h]
  int v4; // [esp+8h] [ebp-Ch]
  int v5; // [esp+Ch] [ebp-8h]
  int v6; // [esp+10h] [ebp-4h]

  v1 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1098576], 3806);
  sub_46AA60(v1, &v5, &v6);
  sub_46AB70((int)v1, &v4, &v3);
  sub_434390(*(int *)&byte_5D4594[2523948]);
  sub_47D2C0(*(int *)&byte_5D4594[1098456], a1->field_0, a1->field_4);
  result = *(_DWORD *)&byte_5D4594[1098604];
  if ( *(_DWORD *)&byte_5D4594[1098604] )
    result = sub_43FAF0(0, *(_WORD **)&byte_5D4594[1098604], v5 + 8, v6 + 8, v4 - 16, v3 - 16);
  return result;
}

//----- (00478B10) --------------------------------------------------------
wchar_t *__cdecl sub_478B10(int2 *a1)
{
  _DWORD *v1; // esi
  wchar_t *result; // eax
  int v3; // [esp+4h] [ebp-10h]
  int v4; // [esp+8h] [ebp-Ch]
  int v5; // [esp+Ch] [ebp-8h]
  int v6; // [esp+10h] [ebp-4h]

  v1 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1098576], 3806);
  sub_46AA60(v1, &v5, &v6);
  sub_46AB70((int)v1, &v4, &v3);
  sub_47D2C0(*(int *)&byte_5D4594[1098456], a1->field_0, a1->field_4);
  result = *(wchar_t **)&byte_5D4594[1098596];
  if ( *(_DWORD *)&byte_5D4594[1098596]
    || (result = sub_40F1D0(
                   (char *)&byte_587000[152740],
                   *(_DWORD **)&byte_5D4594[1098596],
                   (const char *)&byte_587000[152704],
                   597),
        (*(_DWORD *)&byte_5D4594[1098596] = result) != 0) )
  {
    result = (wchar_t *)sub_43FAF0(0, result, v5 + 8, v6 + 8, v4 - 16, v3 - 16);
  }
  return result;
}

//----- (00478BC0) --------------------------------------------------------
wchar_t *__cdecl sub_478BC0(int *a1)
{
  _DWORD *v1; // esi
  wchar_t *result; // eax
  int v3; // [esp+4h] [ebp-10h]
  int v4; // [esp+8h] [ebp-Ch]
  int v5; // [esp+Ch] [ebp-8h]
  int v6; // [esp+10h] [ebp-4h]

  v1 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1098576], 3806);
  sub_46AA60(v1, &v5, &v6);
  sub_46AB70((int)v1, &v4, &v3);
  sub_434390(*(int *)&byte_5D4594[2523948]);
  sub_47D2C0(*(int *)&byte_5D4594[1098456], *a1, a1[1]);
  result = *(wchar_t **)&byte_5D4594[1098600];
  if ( *(_DWORD *)&byte_5D4594[1098600]
    || (result = sub_40F1D0(
                   (char *)&byte_587000[152796],
                   *(_DWORD **)&byte_5D4594[1098600],
                   (const char *)&byte_587000[152760],
                   628),
        (*(_DWORD *)&byte_5D4594[1098600] = result) != 0) )
  {
    result = (wchar_t *)sub_43FAF0(0, result, v5 + 8, v6 + 8, v4 - 16, v3 - 16);
  }
  return result;
}

//----- (00478C80) --------------------------------------------------------
int sub_478C80()
{
  int v0; // edi
  int v1; // ebx
  unsigned __int8 *v2; // esi
  int v3; // edi
  int v4; // ebp
  int v6; // [esp+10h] [ebp-58h]
  unsigned __int8 *v7; // [esp+14h] [ebp-54h]
  unsigned int v8; // [esp+18h] [ebp-50h]
  int v9; // [esp+1Ch] [ebp-4Ch]
  int v10; // [esp+20h] [ebp-48h]
  wchar_t v11[32]; // [esp+28h] [ebp-40h]

  v8 = sub_4674A0();
  sub_49F7F0();
  sub_49F6F0(
    *(int *)&byte_5D4594[1098380],
    *(int *)&byte_5D4594[1098384],
    *(_DWORD *)&byte_5D4594[1098388] - *(_DWORD *)&byte_5D4594[1098380],
    *(_DWORD *)&byte_5D4594[1098392] - *(_DWORD *)&byte_5D4594[1098384]);
  v0 = *(_DWORD *)&byte_5D4594[1098380];
  v10 = *(_DWORD *)&byte_5D4594[1098380];
  v1 = *(_DWORD *)&byte_5D4594[1098384] - *(_DWORD *)&byte_5D4594[1107036];
  v2 = &byte_5D4594[1098640];
  v9 = sub_43F320(0);
  v6 = 0;
  v7 = &byte_5D4594[1098640];
  do
  {
    if ( v1 > *(int *)&byte_5D4594[1098384] - 50 )
    {
      sub_47D2C0(*(_DWORD *)&byte_5D4594[4 * (v6 % 2) + 1098424], v0, v1);
      v3 = v0 + 5;
      v4 = 6;
      do
      {
        if ( *(_DWORD *)v2 )
        {
          *(_DWORD *)(*((_DWORD *)v2 - 1) + 12) = v3 + 20;
          *(_DWORD *)(*((_DWORD *)v2 - 1) + 16) = v1 + 25;
          (*(void (__cdecl **)(unsigned __int8 *, _DWORD))(*((_DWORD *)v2 - 1) + 300))(
            &byte_5D4594[1098492],
            *((_DWORD *)v2 - 1));
          if ( v8 < *((_DWORD *)v2 + 33) )
            sub_49CF10(v3 - 5, v1, 50, 50);
          if ( *(_DWORD *)v2 > 1u )
          {
            nox_swprintf(v11, (const wchar_t *)&byte_587000[152816], *(_DWORD *)v2);
            sub_434390(*(int *)&byte_5D4594[2523948]);
            sub_43FAF0(0, v11, v3, v1 + 5, 320, 0);
          }
          nox_swprintf(v11, (const wchar_t *)&byte_587000[152824], *((_DWORD *)v2 + 33));
          sub_434390(*(int *)&byte_5D4594[2589772]);
          sub_43FAF0(0, v11, v3, v1 - v9 + 45, 320, 0);
        }
        v3 += 50;
        v2 += 1400;
        --v4;
      }
      while ( v4 );
      v2 = v7;
      v0 = v10;
    }
    v1 += 50;
    if ( v1 >= *(int *)&byte_5D4594[1098392] )
      break;
    v2 += 140;
    ++v6;
    v7 = v2;
  }
  while ( (int)v2 < (int)&byte_5D4594[1100040] );
  return sub_49F860();
}

//----- (00478E50) --------------------------------------------------------
int __cdecl sub_478E50(int a1, int a2, unsigned int a3)
{
  int v3; // ecx
  int v4; // edx
  int v5; // edx
  wchar_t **v6; // eax
  wchar_t *v7; // eax

  if ( *(_DWORD *)&byte_5D4594[1098628] == 2 )
  {
    v3 = ((unsigned __int16)a3 - *(_DWORD *)&byte_5D4594[1098380]) / 50;
    v4 = (int)((a3 >> 16) - *(_DWORD *)&byte_5D4594[1098384] + *(_DWORD *)&byte_5D4594[1107036]) / 50;
    if ( v3 >= 6 )
      v3 = 5;
    if ( v4 >= 10 )
      v4 = 9;
    v5 = 35 * (v4 + 10 * v3);
    v6 = (wchar_t **)&byte_5D4594[4 * v5 + 1098636];
    if ( *(_DWORD *)&byte_5D4594[4 * v5 + 1098640] )
    {
      *((_DWORD *)*v6 + 32) = v6[2];
      v7 = sub_4BF050(*v6);
      sub_4776B0(v7);
    }
  }
  return 1;
}

//----- (00478F10) --------------------------------------------------------
_DWORD *sub_478F10()
{
  unsigned __int8 *v0; // esi
  int v1; // ebx
  void *v2; // edi
  _DWORD *result; // eax
  unsigned __int8 *v4; // [esp+10h] [ebp-4h]

  v4 = &byte_5D4594[1098636];
  do
  {
    v0 = v4;
    v1 = 6;
    do
    {
      if ( *(_DWORD *)v0 )
        sub_45A4B0(*(_QWORD **)v0);
      *(_DWORD *)v0 = 0;
      v2 = v0 + 8;
      *((_DWORD *)v0 + 1) = 0;
      v0 += 1400;
      memset(v2, 0, 0x80u);
      *((_DWORD *)v0 - 316) = 0;
      --v1;
    }
    while ( v1 );
    result = v4 + 140;
    v4 += 140;
  }
  while ( (int)v4 < (int)&byte_5D4594[1100036] );
  *(_DWORD *)&byte_5D4594[1107036] = 0;
  return result;
}

//----- (00478F80) --------------------------------------------------------
int sub_478F80()
{
  int result; // eax

  sub_478F10();
  sub_44D8F0();
  sub_46C4E0(*(_DWORD **)&byte_5D4594[1098576]);
  result = 0;
  *(_DWORD *)&byte_5D4594[1098576] = 0;
  *(_DWORD *)&byte_5D4594[1098624] = 0;
  *(_DWORD *)&byte_5D4594[1098628] = 1;
  *(_DWORD *)&byte_5D4594[1098596] = 0;
  *(_DWORD *)&byte_5D4594[1098600] = 0;
  *(_DWORD *)&byte_5D4594[1098604] = 0;
  *(_DWORD *)&byte_5D4594[1098608] = 0;
  *(_DWORD *)&byte_5D4594[1098616] = 0;
  return result;
}

//----- (00478FD0) --------------------------------------------------------
int __cdecl sub_478FD0(const wchar_t *a1, char *a2, int a3)
{
  _DWORD *v3; // esi

  v3 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1098576], 3810);
  sub_445C20();
  *(_DWORD *)&byte_5D4594[1098624] = 1;
  *(_DWORD *)&byte_5D4594[1098628] = 1;
  sub_46AC00(*(int *)&byte_5D4594[1098576], 0);
  sub_46ABB0(*(int *)&byte_5D4594[1098576], 1);
  sub_46A8C0(*(int *)&byte_5D4594[1098576]);
  *(_DWORD *)&byte_5D4594[1098612] = *(_DWORD *)&byte_587000[80828];
  *(_DWORD *)&byte_587000[80828] = 0;
  sub_467BB0();
  if ( a1 )
    nox_wcscpy((wchar_t *)&byte_5D4594[1097300], a1);
  else
    nox_wcscpy((wchar_t *)&byte_5D4594[1097300], (const wchar_t *)&byte_5D4594[1107044]);
  sub_46AEE0((int)v3, (int)&byte_5D4594[1097300]);
  if ( strlen(a2) )
  {
    *(_DWORD *)&byte_5D4594[1098604] = sub_40F1D0(a2, &byte_5D4594[1098608], (const char *)&byte_587000[152832], 1128);
  }
  else
  {
    *(_DWORD *)&byte_5D4594[1098604] = 0;
    *(_DWORD *)&byte_5D4594[1098608] = 0;
  }
  sub_4790F0(a3);
  if ( *(_DWORD *)&byte_5D4594[1098608] )
    sub_44D900(*(int *)&byte_5D4594[1098608], 100);
  *(_DWORD *)&byte_5D4594[1107036] = 0;
  return sub_46B490(*(int *)&byte_5D4594[1098580], 16394, *(int *)&byte_5D4594[1098592], 0);
}

//----- (004790F0) --------------------------------------------------------
char *__cdecl sub_4790F0(int a1)
{
  _DWORD *v1; // esi
  char *result; // eax

  v1 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1098576], 3805);
  if ( !*(_DWORD *)&byte_5D4594[1107040] )
  {
    *(_DWORD *)&byte_5D4594[1098396] = sub_44CFC0((CHAR *)&byte_587000[152868]);
    *(_DWORD *)&byte_5D4594[1098560] = sub_44CFC0((CHAR *)&byte_587000[152880]);
    *(_DWORD *)&byte_5D4594[1098556] = sub_44CFC0((CHAR *)&byte_587000[152904]);
    *(_DWORD *)&byte_5D4594[1098564] = sub_44CFC0((CHAR *)&byte_587000[152928]);
    *(_DWORD *)&byte_5D4594[1098572] = sub_44CFC0((CHAR *)&byte_587000[152952]);
    *(_DWORD *)&byte_5D4594[1098568] = sub_44CFC0((CHAR *)&byte_587000[152976]);
    *(_DWORD *)&byte_5D4594[1098484] = sub_44CFC0((CHAR *)&byte_587000[152996]);
    *(_DWORD *)&byte_5D4594[1097292] = sub_44CFC0((CHAR *)&byte_587000[153016]);
    *(_DWORD *)&byte_5D4594[1107040] = 1;
  }
  if ( a1 == *(_DWORD *)&byte_5D4594[1098396] )
  {
    result = sub_42F970((const char *)&byte_587000[153036]);
    v1[15] = result;
  }
  else if ( a1 == *(_DWORD *)&byte_5D4594[1098560] )
  {
    result = sub_42F970((const char *)&byte_587000[153052]);
    v1[15] = result;
  }
  else if ( a1 == *(_DWORD *)&byte_5D4594[1098556] )
  {
    result = sub_42F970((const char *)&byte_587000[153076]);
    v1[15] = result;
  }
  else if ( a1 == *(_DWORD *)&byte_5D4594[1098564] )
  {
    result = sub_42F970((const char *)&byte_587000[153100]);
    v1[15] = result;
  }
  else if ( a1 == *(_DWORD *)&byte_5D4594[1098572] )
  {
    result = sub_42F970((const char *)&byte_587000[153120]);
    v1[15] = result;
  }
  else if ( a1 == *(_DWORD *)&byte_5D4594[1098568] )
  {
    result = sub_42F970((const char *)&byte_587000[153148]);
    v1[15] = result;
  }
  else if ( a1 == *(_DWORD *)&byte_5D4594[1098484] )
  {
    result = sub_42F970((const char *)&byte_587000[153172]);
    v1[15] = result;
  }
  else
  {
    if ( a1 == *(_DWORD *)&byte_5D4594[1097292] )
      result = sub_42F970((const char *)&byte_587000[153192]);
    else
      result = sub_42F970((const char *)&byte_587000[153212]);
    v1[15] = result;
  }
  return result;
}

//----- (00479280) --------------------------------------------------------
int sub_479280()
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[1098624];
  if ( *(_DWORD *)&byte_5D4594[1098624] )
  {
    sub_467680();
    *(_DWORD *)&byte_5D4594[1098624] = 0;
    *(_DWORD *)&byte_5D4594[1098628] = 0;
    sub_478F10();
    sub_44D8F0();
    sub_46AC00(*(int *)&byte_5D4594[1098576], 1);
    sub_46ABB0(*(int *)&byte_5D4594[1098576], 0);
    sub_467C10();
    sub_477610(0);
    result = *(_DWORD *)&byte_587000[80828];
    if ( !*(_DWORD *)&byte_587000[80828] && *(_DWORD *)&byte_5D4594[1098612] == 1 )
      *(_DWORD *)&byte_587000[80828] = 1;
  }
  return result;
}

//----- (00479300) --------------------------------------------------------
_DWORD *__cdecl sub_479300(int a1, int a2, int a3, __int16 a4, int a5)
{
  _DWORD *result; // eax
  _DWORD *v6; // ebx
  int *v7; // edi
  int i; // esi

  result = sub_4793C0(a1);
  v6 = result;
  if ( result )
  {
    if ( !*result )
    {
      result = sub_45A240(a1);
      *v6 = result;
      if ( !result )
        return result;
      result[30] |= 0x40000000u;
      *(_WORD *)(*v6 + 294) = a4;
      *(_WORD *)(*v6 + 292) = a4;
      if ( *(_DWORD *)(*v6 + 112) & 0x13001000 )
      {
        v7 = (int *)(*v6 + 432);
        for ( i = 0; i < 4; ++i )
        {
          if ( *(char *)(i + a5) == -1 )
            *v7 = 0;
          else
            *v7 = sub_413330(*(unsigned __int8 *)(i + a5));
          ++v7;
        }
      }
      v6[1] = 0;
    }
    v6[v6[1] + 2] = a2;
    result = (_DWORD *)(v6[1] + 1);
    v6[34] = a3;
    v6[1] = result;
  }
  return result;
}

//----- (004793C0) --------------------------------------------------------
char *__cdecl sub_4793C0(int a1)
{
  int v1; // ebx
  unsigned __int8 *v2; // esi
  int v3; // ecx
  unsigned __int8 *v4; // eax

  v1 = 0;
  v2 = &byte_5D4594[1098636];
  while ( 2 )
  {
    v3 = 0;
    v4 = v2;
    do
    {
      if ( *((_DWORD *)v4 + 1)
        && *(_DWORD *)(*(_DWORD *)v4 + 108) == a1
        && !(*(_DWORD *)(*(_DWORD *)v4 + 112) & 0x4000000) )
      {
        return (char *)&byte_5D4594[140 * (v1 + 10 * v3) + 1098636];
      }
      ++v3;
      v4 += 1400;
    }
    while ( v3 < 6 );
    v2 += 140;
    ++v1;
    if ( (int)v2 < (int)&byte_5D4594[1100036] )
      continue;
    break;
  }
  return sub_479430();
}

//----- (00479430) --------------------------------------------------------
char *sub_479430()
{
  int v0; // esi
  unsigned __int8 *v1; // edx
  int v2; // eax
  unsigned __int8 *v3; // ecx

  v0 = 0;
  v1 = &byte_5D4594[1098640];
  while ( 2 )
  {
    v2 = 0;
    v3 = v1;
    do
    {
      if ( !*(_DWORD *)v3 )
        return (char *)&byte_5D4594[140 * (v0 + 10 * v2) + 1098636];
      ++v2;
      v3 += 1400;
    }
    while ( v2 < 6 );
    v1 += 140;
    ++v0;
    if ( (int)v1 < (int)&byte_5D4594[1100040] )
      continue;
    break;
  }
  return 0;
}

//----- (00479480) --------------------------------------------------------
char *__cdecl sub_479480(int a1)
{
  char *result; // eax
  char *v2; // esi

  result = sub_4780A0(a1);
  v2 = result;
  if ( result )
  {
    sub_4794D0((int)result, a1);
    result = (char *)(*((_DWORD *)v2 + 1) - 1);
    *((_DWORD *)v2 + 1) = result;
    if ( !result )
    {
      result = (char *)sub_45A4B0(*(_QWORD **)v2);
      *(_DWORD *)v2 = 0;
      *((_DWORD *)v2 + 34) = 0;
    }
  }
  return result;
}

//----- (004794D0) --------------------------------------------------------
int __cdecl sub_4794D0(int a1, int a2)
{
  int result; // eax
  _DWORD *i; // ecx
  _DWORD *v4; // ecx
  int v5; // edx

  result = 0;
  for ( i = (_DWORD *)(a1 + 8); *i != a2; ++i )
  {
    if ( ++result >= 32 )
      return result;
  }
  if ( result < 31 )
  {
    v4 = (_DWORD *)(a1 + 4 * result + 8);
    v5 = 31 - result;
    do
    {
      result = v4[1];
      *v4 = result;
      ++v4;
      --v5;
    }
    while ( v5 );
  }
  *(_DWORD *)(a1 + 132) = 0;
  return result;
}

//----- (00479520) --------------------------------------------------------
_DWORD *__cdecl sub_479520(int a1)
{
  wchar_t *v1; // eax
  wchar_t *v2; // eax

  v1 = sub_40F1D0((char *)&byte_587000[153264], 0, (const char *)&byte_587000[153228], 1346);
  nox_swprintf((wchar_t *)&byte_5D4594[1097352], v1, a1);
  v2 = sub_40F1D0((char *)&byte_587000[153316], 0, (const char *)&byte_587000[153280], 1350);
  sub_449A10(*(int *)&byte_5D4594[1098576], (int)v2, (int)&byte_5D4594[1097352], 33, 0, 0);
  return sub_452D80(925, 100);
}

//----- (00479590) --------------------------------------------------------
int sub_479590()
{
  return *(_DWORD *)&byte_5D4594[1098628];
}

//----- (004795A0) --------------------------------------------------------
void __cdecl sub_4795A0(int a1)
{
  if ( *(_DWORD *)&byte_5D4594[1098628] == 4 )
  {
    if ( a1 != 4 )
      sub_467680();
    *(_DWORD *)&byte_5D4594[1098628] = a1;
  }
  else
  {
    *(_DWORD *)&byte_5D4594[1098628] = a1;
  }
}

void sub_479680()
{
  *(_DWORD *)&byte_5D4594[1098616] = 0;
}

//----- (004795E0) --------------------------------------------------------
int __cdecl sub_4795E0(int a1, int a2)
{
  const void *v2; // ebp
  int2 *v3; // ebx
  int result; // eax
  int v5; // esi
  wchar_t *v6; // eax
  int v7; // [esp-24h] [ebp-34h]
  int v8; // [esp-20h] [ebp-30h]
  int v9; // [esp-18h] [ebp-28h]
  int v10; // [esp-10h] [ebp-20h]

  v2 = 0;
  v3 = sub_4309F0();
  result = *(_DWORD *)&byte_5D4594[1098616];
  if ( *(_DWORD *)&byte_5D4594[1098616] != 1 )
  {
    result = sub_4676D0(a1);
    v5 = result;
    if ( result )
    {
      if ( *(_DWORD *)(result + 112) & 0x13001000 )
        v2 = (const void *)(result + 432);
      sub_4C05F0(1, a2);
      v10 = sub_467700(a1);
      v9 = *(_DWORD *)(v5 + 108);
      v8 = v3->field_4;
      v7 = v3->field_0;
      v6 = sub_40F1D0((char *)&byte_587000[153376], 0, (const char *)&byte_587000[153340], 1504);
      result = sub_4C0430((int)v6, v7, v8, a1, v9, v2, v10, 0, sub_479690, (int)&sub_479680);
      *(_DWORD *)&byte_5D4594[1098616] = 1;
    }
  }
  return result;
}

//----- (00479690) --------------------------------------------------------
int __cdecl sub_479690(int a1, __int16 a2, __int16 a3, int a4)
{
  int result; // eax

  result = a4;
  *(_DWORD *)&byte_5D4594[1098616] = 0;
  if ( a4 )
  {
    if ( a4 == 1 )
      result = sub_4796D0(a2);
    else
      result = sub_479700(a3, a4);
  }
  return result;
}

//----- (004796D0) --------------------------------------------------------
int __cdecl sub_4796D0(__int16 a1)
{
  char v2[4]; // [esp+0h] [ebp-4h]

  v2[0] = -55;
  v2[1] = 24;
  *(_WORD *)&v2[2] = a1;
  return sub_40EBC0(31, 0, v2, 4);
}

//----- (00479700) --------------------------------------------------------
int __cdecl sub_479700(__int16 a1, char a2)
{
  char v3[5]; // [esp+0h] [ebp-8h]

  v3[0] = -55;
  v3[1] = 25;
  *(_WORD *)&v3[2] = a1;
  v3[4] = a2;
  return sub_40EBC0(31, 0, v3, 5);
}

//----- (00479740) --------------------------------------------------------
void __cdecl sub_479740(int a1, unsigned int a2)
{
  const void *v2; // ebp
  int2 *v3; // ebx
  int v4; // eax
  int v5; // edi
  wchar_t *v6; // eax
  int v7; // [esp-24h] [ebp-38h]
  int v8; // [esp-20h] [ebp-34h]
  int v9; // [esp-18h] [ebp-2Ch]
  unsigned int v10; // [esp+10h] [ebp-4h]

  v2 = 0;
  v3 = sub_4309F0();
  v10 = sub_4674A0();
  if ( *(_DWORD *)&byte_5D4594[1098620] != 1 )
  {
    v4 = sub_4676D0(a1);
    v5 = v4;
    if ( v4 )
    {
      if ( *(_DWORD *)(v4 + 112) & 0x13001000 )
        v2 = (const void *)(v4 + 432);
      sub_4C05F0(1, a2);
      if ( a2 > v10 )
      {
        sub_479520(a2 - v10);
        sub_467680();
      }
      else
      {
        v9 = *(_DWORD *)(v5 + 108);
        v8 = v3->field_4;
        v7 = v3->field_0;
        v6 = sub_40F1D0((char *)&byte_587000[153424], 0, (const char *)&byte_587000[153388], 1580);
        sub_4C0430((int)v6, v7, v8, a1, v9, v2, 1, 0, sub_479820, sub_479810);
        *(_DWORD *)&byte_5D4594[1098620] = 1;
      }
    }
  }
}

//----- (00479810) --------------------------------------------------------
void sub_479810()
{
  *(_DWORD *)&byte_5D4594[1098620] = 0;
}

//----- (00479820) --------------------------------------------------------
int __cdecl sub_479820(int a1, __int16 a2)
{
  int result; // eax

  result = sub_479840(a2);
  *(_DWORD *)&byte_5D4594[1098620] = 0;
  return result;
}

//----- (00479840) --------------------------------------------------------
int __cdecl sub_479840(__int16 a1)
{
  char v2[4]; // [esp+0h] [ebp-4h]

  v2[0] = -55;
  v2[1] = 26;
  *(_WORD *)&v2[2] = a1;
  return sub_40EBC0(31, 0, v2, 4);
}

//----- (00479870) --------------------------------------------------------
BOOL sub_479870()
{
  return *(_DWORD *)&byte_5D4594[1098628] == 2;
}

//----- (00479880) --------------------------------------------------------
bool __cdecl sub_479880(_DWORD *a1)
{
  return sub_4281F0((int2 *)a1, (int4 *)&byte_5D4594[1098380]);
}

//----- (004798A0) --------------------------------------------------------
int __cdecl sub_4798A0(_DWORD *a1)
{
  int v1; // eax
  int v2; // ecx
  int v3; // edx
  int v4; // edx
  unsigned __int8 *v5; // eax

  v1 = sub_4281F0((int2 *)a1, (int4 *)&byte_5D4594[1098380]);
  if ( !v1 )
    return 0;
  v2 = (*a1 - *(_DWORD *)&byte_5D4594[1098380]) / 50;
  v3 = (a1[1] - *(_DWORD *)&byte_5D4594[1098384] + *(_DWORD *)&byte_5D4594[1107036]) / 50;
  if ( v2 >= 6 )
    v2 = 5;
  if ( v3 >= 10 )
    v3 = 9;
  v4 = 35 * (v3 + 10 * v2);
  v5 = &byte_5D4594[4 * v4 + 1098636];
  if ( !*(_DWORD *)&byte_5D4594[4 * v4 + 1098640] )
    return 0;
  *(_DWORD *)(*(_DWORD *)v5 + 128) = *((_DWORD *)v5 + 2);
  return *(_DWORD *)v5;
}
// 4798B5: variable 'v1' is possibly undefined

//----- (00479950) --------------------------------------------------------
int sub_479950()
{
  void *v2; // [esp+0h] [ebp-4h]

  if ( sub_46ACC0(*(int *)&byte_5D4594[1123524]) == 1 )
    return 0;
  byte_5D4594[1123516] = 0;
  LOWORD(v2) = 720;
  BYTE2(v2) = 0;
  sub_40EBC0(31, 0, &v2, 3);
  return 1;
}

//----- (004799A0) --------------------------------------------------------
int sub_4799A0()
{
  int result; // eax
  _DWORD *v1; // edi
  _DWORD *v2; // ebp
  _DWORD *v3; // eax
  int v4; // esi
  _DWORD *v5; // ebx
  char *v6; // eax
  _DWORD *v7; // eax
  char *v8; // [esp-18h] [ebp-1Ch]
  char *v9; // [esp-14h] [ebp-18h]
  _DWORD *v10; // [esp+0h] [ebp-4h]

  *(_DWORD *)&byte_5D4594[1107052] = sub_4344A0(240, 128, 64);
  result = sub_4A0AD0((const char *)&byte_587000[153440], sub_479B00);
  *(_DWORD *)&byte_5D4594[1123524] = result;
  if ( result )
  {
    sub_46B300(result, sub_479BE0);
    sub_46B340(*(int *)&byte_5D4594[1123524], sub_479CB0);
    sub_46B070(*(int *)&byte_5D4594[1123524], sub_479D00);
    v1 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1123524], 3904);
    v2 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1123524], 3903);
    v10 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1123524], 3902);
    v3 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1123524], 3901);
    v4 = (int)v3;
    v5 = (_DWORD *)v3[8];
    v9 = sub_42F970((const char *)&byte_587000[153452]);
    v8 = sub_42F970((const char *)&byte_587000[153464]);
    v6 = sub_42F970((const char *)&byte_587000[153476]);
    sub_4B5700((int)v1, 0, 0, (int)v6, (int)v8, (int)v9);
    sub_46B280((int)v1, v4);
    sub_46B280((int)v2, v4);
    sub_46B280((int)v10, v4);
    v5[9] = v1;
    v5[7] = v2;
    v5[8] = v10;
    v7 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1123524], 3906);
    sub_46B340((int)v7, sub_479C40);
    sub_46ABB0(*(int *)&byte_5D4594[1123524], 0);
    sub_46AC00(*(int *)&byte_5D4594[1123524], 1);
    *(_DWORD *)&byte_5D4594[1123520] = 0;
    result = 1;
  }
  return result;
}

//----- (00479B00) --------------------------------------------------------
int __cdecl sub_479B00(int a1, int a2, int *a3, int a4)
{
  int v3; // esi
  int result; // eax

  if ( a2 != 16391 )
    return 0;
  v3 = sub_46B0A0(a3);
  if ( sub_45D9B0() )
    return 0;
  sub_452D80(766, 100);
  switch ( v3 )
  {
    case 3906:
      sub_479950();
      result = 0;
      break;
    case 3907:
      sub_44D900(*(int *)&byte_5D4594[1115312], 100);
      result = 0;
      break;
    case 3908:
      byte_5D4594[1123516] = 1;
      LOWORD(a2) = 720;
      BYTE2(a2) = 1;
      sub_40EBC0(31, 0, &a2, 3);
      result = 0;
      break;
    case 3909:
      byte_5D4594[1123516] = 2;
      BYTE2(a2) = 2;
      LOWORD(a2) = 720;
      sub_40EBC0(31, 0, &a2, 3);
      return 0;
    default:
      return 0;
  }
  return result;
}
// 479B4D: variable 'v4' is possibly undefined

//----- (00479BE0) --------------------------------------------------------
int __cdecl sub_479BE0(_DWORD *a1, int a2, unsigned int a3, int a4)
{
  switch ( a2 )
  {
    case 5:
    case 6:
    case 7:
    case 9:
    case 10:
    case 11:
    case 13:
    case 14:
    case 15:
      sub_46AAB0(a1, (unsigned __int16)a3, a3 >> 16);
      break;
    default:
      return 1;
  }
  return 1;
}

//----- (00479C40) --------------------------------------------------------
int __cdecl sub_479C40(_DWORD *a1, int a2)
{
  char v2; // bl
  int yTop; // [esp+8h] [ebp-8h]
  int xLeft; // [esp+Ch] [ebp-4h]

  v2 = sub_430B40();
  if ( !sub_44D930() && (v2 & 0x7Fu) < 0x1E && v2 & 8 )
  {
    sub_46AA60(a1, &xLeft, &yTop);
    sub_49CD30(xLeft, yTop, a1[2], a1[3] - 2, *(int *)&byte_5D4594[1107052], 4);
  }
  return sub_4A81D0((int)a1, a2);
}

//----- (00479CB0) --------------------------------------------------------
int __cdecl sub_479CB0(int a1, int a2)
{
  int v2; // esi
  int v4; // [esp+4h] [ebp-8h]
  int v5; // [esp+8h] [ebp-4h]

  v2 = *(_DWORD *)(a2 + 24);
  sub_46AA60(*(_DWORD **)&byte_5D4594[1123524], &v4, &v5);
  sub_47D2C0(v2, *(_DWORD *)&byte_5D4594[3805496] - 640, *(_DWORD *)&byte_5D4594[3807120] - 480);
  return 1;
}

//----- (00479D00) --------------------------------------------------------
int sub_479D00()
{
  return 1;
}

//----- (00479D10) --------------------------------------------------------
int sub_479D10()
{
  int result; // eax

  sub_46C4E0(*(_DWORD **)&byte_5D4594[1123524]);
  result = 0;
  *(_DWORD *)&byte_5D4594[1123524] = 0;
  *(_DWORD *)&byte_5D4594[1123520] = 0;
  return result;
}

//----- (00479D30) --------------------------------------------------------
int __cdecl sub_479D30(wchar_t *a1, int a2, char *a3, const char *a4, char a5)
{
  _DWORD *v5; // esi
  _DWORD *v6; // edi
  _DWORD *v7; // eax
  _DWORD *v8; // esi
  _DWORD *v9; // esi
  _DWORD *v10; // esi
  wchar_t *v11; // eax
  _DWORD *v12; // esi
  _DWORD *v13; // esi
  _DWORD *v14; // esi
  wchar_t *v15; // eax
  int result; // eax
  char *v17; // [esp-4h] [ebp-18h]
  int v18; // [esp+Ch] [ebp-8h]
  int v19; // [esp+10h] [ebp-4h]

  v5 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1123524], 3901);
  v6 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1123524], 3910);
  sub_445C20();
  sub_46B490((int)v5, 16399, 0, 0);
  sub_46AB70(*(int *)&byte_5D4594[1123524], &v19, &v18);
  sub_46A9B0(
    *(_DWORD **)&byte_5D4594[1123524],
    *(_DWORD *)&byte_5D4594[3805496] - v19,
    *(_DWORD *)&byte_5D4594[3807120] - v18);
  sub_47A020(a3);
  nox_wcscpy((wchar_t *)&byte_5D4594[1107056], a1);
  v17 = sub_42F970(a4);
  v7 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1123524], 3905);
  sub_46AE60((int)v7, (int)v17);
  sub_46B490((int)v6, 16385, (int)&byte_5D4594[1107056], 0);
  v8 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1123524], 3908);
  if ( a5 & 1 )
  {
    sub_46ABB0((int)v8, 1);
    sub_46AC00((int)v8, 0);
    v8[5] = 5;
    v9 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1123524], 3909);
    sub_46ABB0((int)v9, 1);
    sub_46AC00((int)v9, 0);
    v9[5] = 35;
    v10 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1123524], 3906);
    v11 = sub_40F1D0((char *)&byte_587000[153524], 0, (const char *)&byte_587000[153488], 460);
  }
  else
  {
    sub_46ABB0((int)v8, 0);
    sub_46AC00((int)v8, 1);
    v12 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1123524], 3909);
    sub_46ABB0((int)v12, 0);
    sub_46AC00((int)v12, 1);
    v10 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1123524], 3906);
    v11 = sub_40F1D0((char *)&byte_587000[153576], 0, (const char *)&byte_587000[153540], 483);
  }
  sub_46AEE0((int)v10, (int)v11);
  sub_46ABB0((int)v10, 1);
  sub_46AC00((int)v10, 0);
  v10[5] = 95;
  v13 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1123524], 3907);
  sub_46ABB0((int)v13, 1);
  sub_46AC00((int)v13, 0);
  v13[5] = 65;
  if ( a5 & 2 )
  {
    v14 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1123524], 3906);
    v15 = sub_40F1D0((char *)&byte_587000[153628], 0, (const char *)&byte_587000[153592], 503);
    sub_46AEE0((int)v14, (int)v15);
  }
  sub_467C10();
  sub_45ACA0(0);
  *(_DWORD *)&byte_587000[153436] = *(_DWORD *)&byte_587000[80828];
  *(_DWORD *)&byte_587000[80828] = 0;
  sub_46ABB0(*(int *)&byte_5D4594[1123524], 1);
  sub_46A8C0(*(int *)&byte_5D4594[1123524]);
  *(_DWORD *)&byte_5D4594[1123528] = a2;
  result = sub_44D900(*(int *)&byte_5D4594[1115312], 100);
  *(_DWORD *)&byte_5D4594[1123520] = 1;
  return result;
}

//----- (0047A020) --------------------------------------------------------
wchar_t *__cdecl sub_47A020(char *a1)
{
  _DWORD *v1; // eax
  int v2; // ebp
  wchar_t *v3; // edi
  wchar_t *v4; // eax
  wchar_t *result; // eax
  size_t v6; // esi
  int v7; // ebx
  wchar_t *v8; // eax
  int v9; // [esp+10h] [ebp-18h]
  wchar_t *v10; // [esp+14h] [ebp-14h]
  int v11; // [esp+18h] [ebp-10h]
  __int16 *v12; // [esp+1Ch] [ebp-Ch]
  wchar_t v13[4]; // [esp+20h] [ebp-8h]

  *(_DWORD *)v13 = *(_DWORD *)&byte_587000[153644];
  v13[2] = *(_WORD *)&byte_587000[153648];
  v1 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1123524], 3901);
  v2 = (int)v1;
  v3 = 0;
  v12 = (__int16 *)v1[8];
  v11 = 0;
  v9 = v1[2] - 10;
  v4 = sub_40F1D0(a1, &byte_5D4594[1115312], (const char *)&byte_587000[153652], 338);
  nox_wcscpy((wchar_t *)&byte_5D4594[1107120], v4);
  result = nox_wcstok((wchar_t *)&byte_5D4594[1107120], v13);
  v10 = result;
  if ( result )
  {
    while ( 1 )
    {
      if ( !v3 )
        v3 = result;
      v6 = nox_wcslen(v3);
      sub_43F840(*(_DWORD *)(v2 + 236), v3, (int *)&a1, 0, 0);
      v7 = v6;
      if ( (int)a1 > v9 )
      {
        while ( 1 )
        {
          v6 = v7;
          if ( !v7 )
            break;
          v8 = &v3[v7];
          while ( *v8 != 32 )
          {
            --v6;
            --v8;
            if ( !v6 )
              goto LABEL_15;
          }
          if ( !v6 )
            break;
          v7 = v6 - 1;
          nox_wcsncpy((wchar_t *)&byte_5D4594[1115324], v3, v6);
          *(_WORD *)&byte_5D4594[2 * v6 + 1115324] = 0;
          sub_43F840(*(_DWORD *)(v2 + 236), (unsigned __int16 *)&byte_5D4594[1115324], (int *)&a1, 0, 0);
          if ( (int)a1 <= v9 )
            goto LABEL_16;
        }
LABEL_15:
        v6 = sub_43F9E0(*(_DWORD *)(v2 + 236), v3, v9);
      }
LABEL_16:
      nox_wcsncpy((wchar_t *)&byte_5D4594[1115324], v3, v6);
      v3 += v6;
      *(_WORD *)&byte_5D4594[2 * v6 + 1115324] = 0;
      if ( *v3 == 32 )
        ++v3;
      result = (wchar_t *)*v12;
      if ( v11 >= (int)result )
        break;
      sub_46B490(v2, 16397, (int)&byte_5D4594[1115324], -1);
      if ( nox_wcslen(v3) )
      {
        result = v10;
      }
      else
      {
        result = nox_wcstok(0, v13);
        v10 = result;
        v3 = result;
      }
      ++v11;
      if ( !result )
        break;
      result = v10;
    }
  }
  return result;
}

//----- (0047A1F0) --------------------------------------------------------
int sub_47A1F0()
{
  _DWORD *v0; // eax
  int result; // eax

  v0 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1123524], 3901);
  sub_46B490((int)v0, 16399, 0, 0);
  sub_46ABB0(*(int *)&byte_5D4594[1123524], 0);
  sub_46AC00(*(int *)&byte_5D4594[1123524], 1);
  sub_44D8F0();
  result = *(_DWORD *)&byte_587000[80828];
  *(_DWORD *)&byte_5D4594[1123520] = 0;
  if ( !*(_DWORD *)&byte_587000[80828] && *(_DWORD *)&byte_587000[153436] == 1 )
    *(_DWORD *)&byte_587000[80828] = 1;
  return result;
}

//----- (0047A260) --------------------------------------------------------
int sub_47A260()
{
  return *(_DWORD *)&byte_5D4594[1123520];
}

//----- (0047A270) --------------------------------------------------------
int sub_47A270()
{
  int result; // eax

  sub_47D150();
  if ( !*(_DWORD *)&byte_5D4594[3801780] )
    return 0;
  sub_47A310((LPCSTR)&byte_587000[153712]);
  sub_47A650();
  result = (int)malloc(336 * *(_DWORD *)&byte_5D4594[1123532]);
  *(_DWORD *)&byte_5D4594[1189584] = result;
  if ( result )
  {
    result = (int)malloc(0x12C000u);
    *(_DWORD *)&byte_5D4594[1189588] = result;
    if ( result )
    {
      result = (int)malloc(0x12C000u);
      *(_DWORD *)&byte_5D4594[1189592] = result;
      if ( result )
      {
        result = (int)malloc(0x12C000u);
        *(_DWORD *)&byte_5D4594[1189596] = result;
        if ( result )
        {
          sub_47A650();
          result = 1;
        }
      }
    }
  }
  return result;
}

//----- (0047A310) --------------------------------------------------------
DWORD __cdecl sub_47A310(LPCSTR lpPathName)
{
  DWORD result; // eax
  char *v3; // edx
  const char *v4; // ebp
  HANDLE v5; // ebx
  char *v6; // edx
  char *v7; // edx
  int v8; // [esp+10h] [ebp-348h]
  HANDLE v9; // [esp+14h] [ebp-344h]
  struct _WIN32_FIND_DATAA FindFileData; // [esp+18h] [ebp-340h]
  CHAR Buffer[512]; // [esp+158h] [ebp-200h]

  *(_DWORD *)&byte_5D4594[1189600] = 0;
  v8 = 0;
  if ( SetCurrentDirectoryA(lpPathName) || (result = GetLastError()) == 0 )
  {
    GetCurrentDirectoryA(0x200u, Buffer);
    v3 = (char *)&byte_5D4594[512 * (*(_DWORD *)&byte_5D4594[1189600])++ + 1124048];
    strcpy(v3, Buffer);
    if ( *(int *)&byte_5D4594[1189600] <= 0 )
    {
LABEL_27:
      SetCurrentDirectoryA(Buffer);
      result = SetCurrentDirectoryA((LPCSTR)&byte_587000[153752]);
    }
    else
    {
      v4 = (const char *)&byte_5D4594[1124048];
      while ( SetCurrentDirectoryA(v4) || !GetLastError() )
      {
        v5 = FindFirstFileA((LPCSTR)&byte_587000[153724], &FindFileData);
        v9 = v5;
        if ( v5 != (HANDLE)-1 )
        {
          if ( FindFileData.dwFileAttributes & 0x10
            && strcmp(FindFileData.cFileName, (const char *)&byte_587000[153728])
            && strcmp(FindFileData.cFileName, (const char *)&byte_587000[153732]) )
          {
            v6 = (char *)&byte_5D4594[512 * *(_DWORD *)&byte_5D4594[1189600] + 1124048];
            strcpy(v6, v4);
            if ( v4[strlen(v4) - 1] != 92 )
              *(_WORD *)&v6[strlen(v6)] = *(_WORD *)&byte_587000[153736];
            strcat(v6, FindFileData.cFileName);
            if ( strlen(v6) >= 0x200 )
              exit(1);
            if ( ++*(int *)&byte_5D4594[1189600] >= 128 )
              exit(1);
          }
          while ( FindNextFileA(v5, &FindFileData) )
          {
            if ( FindFileData.dwFileAttributes & 0x10
              && strcmp(FindFileData.cFileName, (const char *)&byte_587000[153740])
              && strcmp(FindFileData.cFileName, (const char *)&byte_587000[153744]) )
            {
              v7 = (char *)&byte_5D4594[512 * *(_DWORD *)&byte_5D4594[1189600] + 1124048];
              strcpy(v7, v4);
              if ( v4[strlen(v4) - 1] != 92 )
                *(_WORD *)&v7[strlen(v7)] = *(_WORD *)&byte_587000[153748];
              strcat(v7, FindFileData.cFileName);
              if ( strlen(v7) >= 0x200 )
                exit(1);
              if ( ++*(int *)&byte_5D4594[1189600] >= 128 )
                exit(1);
              v5 = v9;
            }
          }
          FindClose(v5);
        }
        v4 += 512;
        if ( ++v8 >= *(int *)&byte_5D4594[1189600] )
          goto LABEL_27;
      }
      SetCurrentDirectoryA(Buffer);
      result = SetCurrentDirectoryA((LPCSTR)&byte_587000[153720]);
    }
  }
  return result;
}

//----- (0047A650) --------------------------------------------------------
int sub_47A650()
{
  int result; // eax
  const char *v1; // ebx
  __int16 v2; // dx
  char *v3; // edi
  unsigned __int8 v4; // al
  HANDLE v5; // esi
  HANDLE v6; // [esp+8h] [ebp-24Ch]
  int v7; // [esp+Ch] [ebp-248h]
  struct _WIN32_FIND_DATAA FindFileData; // [esp+10h] [ebp-244h]
  char FileName[260]; // [esp+150h] [ebp-104h]

  result = *(_DWORD *)&byte_5D4594[1189600];
  *(_DWORD *)&byte_5D4594[1123532] = 0;
  v7 = 0;
  if ( *(_DWORD *)&byte_5D4594[1189600] > 0 )
  {
    v1 = (const char *)&byte_5D4594[1124048];
    do
    {
      v2 = *(_WORD *)&byte_587000[153760];
      strcpy(FileName, v1);
      v3 = &FileName[strlen(FileName)];
      v4 = byte_587000[153762];
      *(_DWORD *)v3 = *(_DWORD *)&byte_587000[153756];
      *((_WORD *)v3 + 2) = v2;
      v3[6] = v4;
      v5 = FindFirstFileA(FileName, &FindFileData);
      v6 = v5;
      if ( v5 != (HANDLE)-1 )
      {
        if ( *(_DWORD *)&byte_5D4594[1189584] )
        {
          strcpy((char *)(*(_DWORD *)&byte_5D4594[1189584] + 336 * *(_DWORD *)&byte_5D4594[1123532]), v1);
          strcpy(
            (char *)(336 * *(_DWORD *)&byte_5D4594[1123532] + *(_DWORD *)&byte_5D4594[1189584] + 260),
            FindFileData.cFileName);
          *(_DWORD *)(336 * *(_DWORD *)&byte_5D4594[1123532] + *(_DWORD *)&byte_5D4594[1189584] + 324) = 0;
        }
        ++*(_DWORD *)&byte_5D4594[1123532];
        for ( ; FindNextFileA(v5, &FindFileData); ++*(_DWORD *)&byte_5D4594[1123532] )
        {
          if ( *(_DWORD *)&byte_5D4594[1189584] )
          {
            strcpy((char *)(*(_DWORD *)&byte_5D4594[1189584] + 336 * *(_DWORD *)&byte_5D4594[1123532]), v1);
            strcpy(
              (char *)(336 * *(_DWORD *)&byte_5D4594[1123532] + *(_DWORD *)&byte_5D4594[1189584] + 260),
              FindFileData.cFileName);
            v5 = v6;
            *(_DWORD *)(336 * *(_DWORD *)&byte_5D4594[1123532] + *(_DWORD *)&byte_5D4594[1189584] + 324) = 0;
          }
        }
        FindClose(v5);
      }
      result = v7 + 1;
      v1 += 512;
      ++v7;
    }
    while ( v7 < *(int *)&byte_5D4594[1189600] );
  }
  return result;
}
// 47A650: using guessed type CHAR FileName[260];

//----- (0047A8C0) --------------------------------------------------------
char *__cdecl sub_47A8C0(const char *a1, char *a2)
{
  int v2; // edi
  int i; // esi
  char *result; // eax

  if ( !*(_DWORD *)&byte_5D4594[1189584] )
    return 0;
  v2 = 0;
  if ( *(int *)&byte_5D4594[1123532] <= 0 )
    return 0;
  for ( i = 0; _strcmpi((const char *)(i + *(_DWORD *)&byte_5D4594[1189584] + 260), a2); i += 336 )
  {
    if ( ++v2 >= *(int *)&byte_5D4594[1123532] )
      return 0;
  }
  result = (char *)(336 * v2 + *(_DWORD *)&byte_5D4594[1189584] + 324);
  if ( !*(_DWORD *)result )
  {
    if ( sub_47A960(a1, v2) )
      return (char *)(336 * v2 + *(_DWORD *)&byte_5D4594[1189584] + 324);
    return 0;
  }
  return result;
}

//----- (0047A960) --------------------------------------------------------
int __cdecl sub_47A960(const char *a1, int a2)
{
  int v3; // ebp
  FILE *v4; // edi
  bool v5; // zf
  int v6; // eax
  char *v8; // eax
  int v9; // esi
  unsigned __int8 v10; // dl
  char *v11; // edi
  unsigned __int8 v12; // dl
  char *v13; // edi
  void *v14; // eax
  char v15[160]; // [esp+0h] [ebp-348h]
  const char *v16; // [esp+A0h] [ebp-2A8h]
  unsigned __int8 *v17; // [esp+A4h] [ebp-2A4h]
  int v18; // [esp+B8h] [ebp-290h]
  int v19; // [esp+BCh] [ebp-28Ch]
  char v20[68]; // [esp+C0h] [ebp-288h]
  char v21[68]; // [esp+104h] [ebp-244h]
  CHAR Buffer[512]; // [esp+148h] [ebp-200h]

  GetCurrentDirectoryA(0x200u, Buffer);
  v3 = 336 * a2;
  if ( !SetCurrentDirectoryA((LPCSTR)(*(_DWORD *)&byte_5D4594[1189584] + 336 * a2)) && GetLastError() )
    return 0;
  v4 = fopen((const char *)(*(_DWORD *)&byte_5D4594[1189584] + v3 + 260), "rb");
  if ( sub_4C57C0(v4, *(int *)&byte_5D4594[1189588], &v19, &v18) )
  {
    fclose(v4);
    switch ( (unsigned __int8)a1 & 0x3F )
    {
      case 0:
        *(_DWORD *)(*(_DWORD *)&byte_5D4594[1189584] + v3 + 324) = malloc(3 * v18 * v19);
        v5 = sub_47AD60(v19, v18, *(_WORD **)(*(_DWORD *)&byte_5D4594[1189584] + v3 + 324)) == 0;
        v6 = *(_DWORD *)&byte_5D4594[1189584];
        if ( v5 )
          goto LABEL_6;
        *(_WORD *)(*(_DWORD *)&byte_5D4594[1189584] + v3 + 332) = 0;
        *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189584] + v3 + 334) = -128;
        break;
      case 1:
        *(_DWORD *)(*(_DWORD *)&byte_5D4594[1189584] + v3 + 324) = malloc(3 * v18 * v19);
        v5 = sub_47AF30(v19, v18, *(unsigned __int8 **)(*(_DWORD *)&byte_5D4594[1189584] + v3 + 324)) == 0;
        v6 = *(_DWORD *)&byte_5D4594[1189584];
        if ( v5 )
        {
LABEL_6:
          free(*(LPVOID *)(v6 + v3 + 324));
          SetCurrentDirectoryA(Buffer);
          return 0;
        }
        *(_WORD *)(*(_DWORD *)&byte_5D4594[1189584] + v3 + 332) = 0;
        *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189584] + v3 + 334) = -127;
        break;
      case 3:
      case 4:
      case 5:
      case 6:
        v8 = strrchr((const char *)(*(_DWORD *)&byte_5D4594[1189584] + v3 + 260), 46);
        v9 = (int)&v8[-v3];
        strncpy(
          v21,
          (const char *)(*(_DWORD *)&byte_5D4594[1189584] + v3 + 260),
          (size_t)&v8[-v3 - *(_DWORD *)&byte_5D4594[1189584] - 260]);
        v15[v9 - *(_DWORD *)&byte_5D4594[1189584]] = 0;
        if ( (_BYTE)a1 == 5 || (_BYTE)a1 == 6 )
        {
          v10 = byte_587000[153772];
          strcpy(v20, v21);
          v11 = &v20[strlen(v20)];
          *(_DWORD *)v11 = *(_DWORD *)&byte_587000[153768];
          v16 = v20;
          v11[4] = v10;
          v4 = fopen(v16, "rb");
          if ( v4 )
          {
            if ( !sub_4C57C0(v4, *(int *)&byte_5D4594[1189596], &v19, &v18) )
              goto LABEL_26;
          }
        }
        if ( (_BYTE)a1 == 4 || (_BYTE)a1 == 6 )
        {
          v12 = byte_587000[153784];
          strcpy(v20, v21);
          v13 = &v20[strlen(v20)];
          *(_DWORD *)v13 = *(_DWORD *)&byte_587000[153780];
          v16 = v20;
          v13[4] = v12;
          v4 = fopen(v16, "rb");
          if ( v4 )
          {
            if ( !sub_4C57C0(v4, *(int *)&byte_5D4594[1189592], &v19, &v18) )
            {
LABEL_26:
              fclose(v4);
              SetCurrentDirectoryA(Buffer);
              return 0;
            }
          }
        }
        v14 = malloc(3 * v18 * v19);
        v16 = a1;
        *(_DWORD *)(*(_DWORD *)&byte_5D4594[1189584] + v3 + 324) = v14;
        if ( !sub_47B7F0(v19, v18, *(_DWORD *)(*(_DWORD *)&byte_5D4594[1189584] + v3 + 324), (unsigned __int8)v16) )
        {
          free(*(LPVOID *)(*(_DWORD *)&byte_5D4594[1189584] + v3 + 324));
          SetCurrentDirectoryA(Buffer);
          return 0;
        }
        *(_WORD *)(*(_DWORD *)&byte_5D4594[1189584] + v3 + 332) = 0;
        *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189584] + v3 + 334) = (unsigned __int8)a1 | 0x80;
        break;
      default:
        break;
    }
  }
  fclose(v4);
  SetCurrentDirectoryA(Buffer);
  return 1;
}
// 47A960: using guessed type char var_348[160];
// 47A960: using guessed type char var_288[68];

//----- (0047AD60) --------------------------------------------------------
int __cdecl sub_47AD60(int a1, int a2, _WORD *a3)
{
  int v3; // edi
  int v4; // edx
  int i; // esi
  int v6; // ecx
  int v7; // eax
  __int16 v8; // ax
  int v9; // esi
  int v10; // edi
  int v11; // edx
  int v12; // ecx
  int v13; // eax
  __int16 v14; // ax
  __int16 v15; // bx
  int v17; // [esp+0h] [ebp-4h]
  int v18; // [esp+8h] [ebp+4h]

  v17 = 0;
  if ( a1 != 46 || a2 != 46 )
    return 0;
  v3 = 819200;
  v4 = 1;
  for ( i = 23; i > 0; --i )
  {
    v6 = 0;
    if ( v4 > 0 )
    {
      v17 += v4;
      do
      {
        v7 = i + v3;
        if ( *(_DWORD *)&byte_5D4594[3799624] == 2 )
          v8 = 8
             * (*(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + i + v3 + v6 - 409600) & 0xF8 | (32
                                                                                            * (*(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + v7 + v6 - 819200) & 0xF8)));
        else
          v8 = 4
             * (*(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + i + v3 + v6 - 409600) & 0xF8 | (32
                                                                                            * (*(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + v7 + v6 - 819200) & 0xF8)));
        *a3 = (*(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + i + v3 + v6++) >> 3) | v8;
        ++a3;
      }
      while ( v6 < v4 );
    }
    v4 += 2;
    v3 += 640;
  }
  v9 = 1;
  v10 = 833920;
  v11 = 45;
  v18 = 23;
  do
  {
    v12 = 0;
    if ( v11 > 0 )
    {
      v17 += v11;
      do
      {
        v13 = v10 + v9;
        if ( *(_DWORD *)&byte_5D4594[3799624] == 2 )
          v14 = 8
              * (*(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + v10 + v9 + v12 - 409600) & 0xF8 | (32
                                                                                                * (*(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + v13 + v12 - 819200) & 0xF8)));
        else
          v14 = 4
              * (*(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + v10 + v9 + v12 - 409600) & 0xF8 | (32
                                                                                                * (*(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + v13 + v12 - 819200) & 0xF8)));
        ++a3;
        v15 = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + v10 + v9 + v12++) >> 3;
        *(a3 - 1) = v15 | v14;
      }
      while ( v12 < v11 );
    }
    ++v9;
    v11 -= 2;
    v10 += 640;
    --v18;
  }
  while ( v18 );
  return 1;
}

//----- (0047AF30) --------------------------------------------------------
int __cdecl sub_47AF30(int a1, int a2, unsigned __int8 *a3)
{
  int v3; // edx
  int v4; // eax
  int v5; // ecx
  int v6; // eax
  int v7; // eax
  int v8; // edi
  int v9; // edx
  int v10; // eax
  int v11; // ebp
  int v12; // eax
  int v13; // edx
  int v14; // ecx
  int v15; // eax
  int i; // esi
  int v17; // esi
  int v18; // edi
  int v19; // eax
  int v20; // ebp
  int v21; // eax
  int v22; // esi
  int v23; // edi
  int v24; // ecx
  int v25; // esi
  int v26; // ecx
  int j; // edi
  int v28; // esi
  int v29; // edi
  unsigned __int8 *v30; // eax
  int v31; // ecx
  int v32; // ebx
  int v33; // ebp
  int v34; // edx
  int v35; // ecx
  int v36; // ebx
  int v37; // ecx
  int v38; // edx
  int v39; // ecx
  __int16 v40; // cx
  int v41; // edx
  _WORD *v42; // eax
  int v43; // ecx
  int v44; // ebx
  char v45; // cl
  int v46; // ebx
  int v47; // ecx
  __int16 v48; // cx
  _BYTE *v49; // ebx
  int v50; // eax
  _BYTE *v51; // ebx
  int v52; // eax
  _BYTE *v53; // ebp
  _WORD *v54; // eax
  bool v55; // zf
  int v56; // ebp
  int v57; // ecx
  int v58; // edx
  int v59; // ecx
  __int16 v60; // cx
  int v61; // edx
  _WORD *v62; // eax
  int v63; // ecx
  int v64; // ebx
  int v65; // ecx
  __int16 v66; // cx
  _BYTE *v67; // ebx
  int v68; // eax
  _BYTE *v69; // ebx
  int v70; // eax
  _BYTE *v71; // ebp
  _WORD *v72; // eax
  bool v73; // cc
  int v75; // [esp+0h] [ebp-20h]
  int v76; // [esp+0h] [ebp-20h]
  int v77; // [esp+4h] [ebp-1Ch]
  unsigned __int8 v78; // [esp+8h] [ebp-18h]
  int v79; // [esp+8h] [ebp-18h]
  unsigned __int8 v80; // [esp+Ch] [ebp-14h]
  __int16 v81; // [esp+10h] [ebp-10h]
  int v82; // [esp+14h] [ebp-Ch]
  int v83; // [esp+14h] [ebp-Ch]
  __int16 v84; // [esp+18h] [ebp-8h]
  int v85; // [esp+1Ch] [ebp-4h]
  char v86; // [esp+24h] [ebp+4h]
  _BYTE *v87; // [esp+24h] [ebp+4h]
  _BYTE *v88; // [esp+24h] [ebp+4h]
  char v89; // [esp+25h] [ebp+5h]
  char v90; // [esp+26h] [ebp+6h]
  int v91; // [esp+28h] [ebp+8h]
  int v92; // [esp+28h] [ebp+8h]
  int v93; // [esp+28h] [ebp+8h]
  int v94; // [esp+28h] [ebp+8h]
  int v95; // [esp+28h] [ebp+8h]
  int v96; // [esp+2Ch] [ebp+Ch]
  int v97; // [esp+2Ch] [ebp+Ch]

  HIWORD(v4) = 0;
  if ( a1 != 46 || a2 != 46 )
    return 0;
  HIWORD(v5) = *(_WORD *)&byte_5D4594[1189590];
  v86 = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + 1);
  v89 = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + 409601);
  v90 = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + 819201);
  LOWORD(v4) = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + 1) & 0xF8;
  LOWORD(v3) = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + 409601) & 0xF8;
  if ( *(_DWORD *)&byte_5D4594[3799624] == 2 )
    v6 = 8 * (v3 | (32 * v4));
  else
    v6 = 4 * (v3 | (32 * v4));
  LOWORD(v5) = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + 819201) >> 3;
  v7 = v5 | v6;
  v81 = v7;
  v8 = *(_DWORD *)&byte_5D4594[1189588] + 819200;
  LOWORD(v7) = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + 409600) & 0xF8;
  v78 = -1;
  LOWORD(v3) = **(_BYTE **)&byte_5D4594[1189588] & 0xF8;
  v9 = 32 * v3;
  v10 = v9 | v7;
  LOWORD(v9) = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + 819200) >> 3;
  v11 = 1;
  v12 = v9 | (4 * v10);
  v13 = 0;
  v84 = v12;
  v91 = 0;
  v14 = 0;
  v15 = 23;
  while ( v15 > 0 )
  {
    for ( i = 0; i < v11; ++i )
    {
      if ( v86 != *(_BYTE *)(v8 + v15 + i - 819200)
        || v89 != *(_BYTE *)(v8 + v15 + i - 409600)
        || v90 != *(_BYTE *)(v8 + v15 + i) )
      {
        v13 = 1;
        v78 = v14;
        v91 = 1;
        break;
      }
      v13 = v91;
    }
    ++v14;
    --v15;
    v11 += 2;
    v8 += 640;
    if ( v13 )
      goto LABEL_27;
  }
  v17 = *(_DWORD *)&byte_5D4594[1189588] + ((5 * v14 + 6400) << 7);
  v18 = 91 - 2 * v14;
  do
  {
    if ( v14 >= 46 )
      break;
    v19 = 0;
    if ( v18 > 0 )
    {
      while ( v86 == *(_BYTE *)(v19 + v17 + v14 - 819222)
           && v89 == *(_BYTE *)(v14 + v17 + v19 - 409622)
           && v90 == *(_BYTE *)(v14 + v17 + v19 - 22) )
      {
        if ( ++v19 >= v18 )
          goto LABEL_26;
      }
      v78 = v14;
      v13 = 1;
    }
LABEL_26:
    ++v14;
    v18 -= 2;
    v17 += 640;
  }
  while ( !v13 );
LABEL_27:
  v20 = 0;
  v80 = -1;
  v92 = 0;
  v21 = 45;
  v22 = *(_DWORD *)&byte_5D4594[1189588] + 848000;
  v23 = 1;
  while ( v23 <= 45 )
  {
    v24 = 0;
    if ( v23 > 0 )
    {
      while ( v86 == *(_BYTE *)(v24 + v22 + v21 - 819222)
           && v89 == *(_BYTE *)(v22 + v24 + v21 - 409622)
           && v90 == *(_BYTE *)(v22 + v24 + v21 - 22) )
      {
        if ( ++v24 >= v23 )
        {
          v20 = v92;
          goto LABEL_36;
        }
      }
      v20 = 1;
      v80 = v21;
      v92 = 1;
    }
LABEL_36:
    --v21;
    v23 += 2;
    v22 -= 640;
    if ( v20 )
      goto LABEL_48;
  }
  v93 = 2 * v21 + 1;
  v25 = 23 - v21;
  v26 = *(_DWORD *)&byte_5D4594[1189588] + ((5 * v21 + 6400) << 7);
  do
  {
    if ( v21 < 0 )
      break;
    for ( j = 0; j < v93; ++j )
    {
      if ( v86 != *(_BYTE *)(v26 + v25 + j - 819200)
        || v89 != *(_BYTE *)(v26 + v25 + j - 409600)
        || v90 != *(_BYTE *)(v26 + v25 + j) )
      {
        v80 = v21;
        v20 = 1;
        break;
      }
    }
    --v21;
    ++v25;
    v26 -= 640;
    v93 -= 2;
  }
  while ( !v20 );
LABEL_48:
  v28 = 2;
  *a3 = v78;
  v29 = 2;
  a3[1] = v80;
  v30 = a3 + 2;
  if ( v80 >= 0x17u )
    v31 = 22;
  else
    v31 = v80;
  v32 = v78;
  v77 = v78;
  if ( v78 <= v31 )
  {
    v82 = 2 * v78 + 1;
    v33 = 23 - v78;
    v34 = (5 * v78 + 6400) << 7;
    v35 = v31 - v78 + 1;
    v75 = (5 * v78 + 6400) << 7;
    v36 = v35 + v78;
    v79 = 23 - v78;
    v85 = v35;
    v77 = v36;
    while ( 1 )
    {
      v37 = v34 + v33 - 819200;
      v38 = v34 + v33 - 409600;
      LOWORD(v37) = *(_BYTE *)(v37 + *(_DWORD *)&byte_5D4594[1189588]) & 0xF8;
      LOWORD(v38) = *(_BYTE *)(v38 + *(_DWORD *)&byte_5D4594[1189588]) & 0xF8;
      if ( *(_DWORD *)&byte_5D4594[3799624] == 2 )
        v39 = 8 * (v38 | (32 * v37));
      else
        v39 = 4 * (v38 | (32 * v37));
      v40 = (*(_BYTE *)(v33 + v75 + *(_DWORD *)&byte_5D4594[1189588]) >> 3) | v39;
      if ( v40 == v81 )
      {
        v41 = 1;
        v28 += 2;
        *v30 = 1;
        v87 = v30 + 1;
        v30 += 2;
        v94 = 1;
        v29 += 2;
      }
      else if ( v40 == v84 )
      {
        *v30 = 3;
        v87 = v30 + 1;
        v30 += 2;
        v28 += 2;
        v94 = 3;
        v41 = 1;
        v29 += 2;
      }
      else
      {
        *v30 = 2;
        v42 = v30 + 1;
        v87 = v42;
        v42 = (_WORD *)((char *)v42 + 1);
        v28 += 4;
        v94 = 2;
        *v42 = v40;
        v30 = (unsigned __int8 *)(v42 + 1);
        v41 = 1;
        v29 += 3;
      }
      v43 = 1;
      v96 = 1;
      if ( v82 > 1 )
      {
        v44 = v75;
        while ( 1 )
        {
          v45 = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + v44 + v33 - 819200 + v43);
          v46 = *(_DWORD *)&byte_5D4594[1189588] + v75 + v33 - 409600;
          LOWORD(v43) = v45 & 0xF8;
          LOWORD(v46) = *(_BYTE *)(v46 + v96) & 0xF8;
          v47 = *(_DWORD *)&byte_5D4594[3799624] == 2 ? 8 * (v46 | (32 * v43)) : 4 * (v46 | (32 * v43));
          v48 = (*(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + v75 + v79 + v96) >> 3) | v47;
          if ( v48 == v81 )
          {
            if ( v94 == 1 )
            {
              ++v41;
            }
            else
            {
              v49 = v87;
              v50 = (int)(v30 + 1);
              v87 = (_BYTE *)v50;
              v30 = (unsigned __int8 *)(v50 + 1);
              *v49 = v41;
              *(v30 - 2) = 1;
              v28 += 2;
              v94 = 1;
              v41 = 1;
              v29 += 2;
            }
          }
          else if ( v48 == v84 )
          {
            if ( v94 == 3 )
            {
              ++v41;
            }
            else
            {
              v51 = v87;
              v52 = (int)(v30 + 1);
              v87 = (_BYTE *)v52;
              v30 = (unsigned __int8 *)(v52 + 1);
              *v51 = v41;
              *(v30 - 2) = 3;
              v28 += 2;
              v94 = 3;
              v41 = 1;
              v29 += 2;
            }
          }
          else if ( v94 == 2 )
          {
            *(_WORD *)v30 = v48;
            v30 += 2;
            ++v41;
            v28 += 2;
            ++v29;
          }
          else
          {
            v53 = v87;
            v54 = v30 + 1;
            v87 = v54;
            v54 = (_WORD *)((char *)v54 + 1);
            *v53 = v41;
            *((_BYTE *)v54 - 2) = 2;
            *v54 = v48;
            v30 = (unsigned __int8 *)(v54 + 1);
            v28 += 4;
            v94 = 2;
            v41 = 1;
            v29 += 3;
          }
          if ( ++v96 >= v82 )
            break;
          v44 = v75;
          v33 = v79;
          v43 = v96;
        }
        v33 = v79;
      }
      v32 = v77;
      --v33;
      *v87 = v41;
      v82 += 2;
      v55 = v85 == 1;
      v79 = v33;
      v75 += 640;
      --v85;
      if ( v55 )
        break;
      v34 = v75;
    }
  }
  if ( v32 <= v80 )
  {
    v56 = (5 * v32 + 6400) << 7;
    v76 = (5 * v32 + 6400) << 7;
    v83 = 91 - 2 * v32;
    do
    {
      v57 = *(_DWORD *)&byte_5D4594[1189588] + v56 - 819200;
      v58 = *(_DWORD *)&byte_5D4594[1189588] + v56 - 409600;
      LOWORD(v57) = *(_BYTE *)(v57 + v32 - 22) & 0xF8;
      LOWORD(v58) = *(_BYTE *)(v58 + v32 - 22) & 0xF8;
      if ( *(_DWORD *)&byte_5D4594[3799624] == 2 )
        v59 = 8 * (v58 | (32 * v57));
      else
        v59 = 4 * (v58 | (32 * v57));
      v60 = (*(_BYTE *)(v56 + *(_DWORD *)&byte_5D4594[1189588] + v32 - 22) >> 3) | v59;
      if ( v60 == v81 )
      {
        *v30 = 1;
        v61 = 1;
        v88 = v30 + 1;
        v30 += 2;
        v28 += 2;
        v95 = 1;
        v29 += 2;
      }
      else if ( v60 == v84 )
      {
        *v30 = 3;
        v88 = v30 + 1;
        v30 += 2;
        v28 += 2;
        v95 = 3;
        v61 = 1;
        v29 += 2;
      }
      else
      {
        *v30 = 2;
        v62 = v30 + 1;
        v88 = v62;
        v62 = (_WORD *)((char *)v62 + 1);
        v28 += 4;
        v95 = 2;
        *v62 = v60;
        v30 = (unsigned __int8 *)(v62 + 1);
        v61 = 1;
        v29 += 3;
      }
      v97 = 1;
      if ( v83 > 1 )
      {
        do
        {
          v63 = v97 + *(_DWORD *)&byte_5D4594[1189588] + v56 - 819200;
          LOBYTE(v63) = *(_BYTE *)(v63 + v32 - 22);
          v64 = v97 + *(_DWORD *)&byte_5D4594[1189588] + v76 - 409600;
          LOWORD(v63) = v63 & 0xF8;
          LOWORD(v64) = *(_BYTE *)(v64 + v77 - 22) & 0xF8;
          if ( *(_DWORD *)&byte_5D4594[3799624] == 2 )
            v65 = 8 * (v64 | (32 * v63));
          else
            v65 = 4 * (v64 | (32 * v63));
          v66 = (*(_BYTE *)(v97 + *(_DWORD *)&byte_5D4594[1189588] + v76 + v77 - 22) >> 3) | v65;
          if ( v66 == v81 )
          {
            if ( v95 == 1 )
            {
              ++v61;
            }
            else
            {
              v67 = v88;
              v68 = (int)(v30 + 1);
              v88 = (_BYTE *)v68;
              v30 = (unsigned __int8 *)(v68 + 1);
              *v67 = v61;
              *(v30 - 2) = 1;
              v28 += 2;
              v95 = 1;
              v61 = 1;
              v29 += 2;
            }
          }
          else if ( v66 == v84 )
          {
            if ( v95 == 3 )
            {
              ++v61;
            }
            else
            {
              v69 = v88;
              v70 = (int)(v30 + 1);
              v88 = (_BYTE *)v70;
              v30 = (unsigned __int8 *)(v70 + 1);
              *v69 = v61;
              *(v30 - 2) = 3;
              v28 += 2;
              v95 = 3;
              v61 = 1;
              v29 += 2;
            }
          }
          else if ( v95 == 2 )
          {
            *(_WORD *)v30 = v66;
            v30 += 2;
            ++v61;
            v28 += 2;
            ++v29;
          }
          else
          {
            v71 = v88;
            v72 = v30 + 1;
            v88 = v72;
            v72 = (_WORD *)((char *)v72 + 1);
            *v71 = v61;
            *((_BYTE *)v72 - 2) = 2;
            *v72 = v66;
            v30 = (unsigned __int8 *)(v72 + 1);
            v28 += 4;
            v95 = 2;
            v61 = 1;
            v29 += 3;
          }
          v56 = v76;
          v73 = v97 + 1 < v83;
          v32 = v77;
          ++v97;
        }
        while ( v73 );
      }
      ++v32;
      v56 += 640;
      v77 = v32;
      *v88 = v61;
      v76 = v56;
      v83 -= 2;
    }
    while ( v32 <= v80 );
  }
  return 1;
}
// 47AF8E: variable 'v3' is possibly undefined

//----- (0047B7F0) --------------------------------------------------------
int __cdecl sub_47B7F0(int a1, int a2, int a3, unsigned __int8 a4)
{
  int v4; // esi
  int v5; // ebp
  unsigned __int8 v6; // bl
  int i; // edx
  int v8; // edi
  int v9; // edi
  int v10; // edi
  int v11; // ebp
  int v12; // eax
  int v13; // ecx
  int j; // edi
  int v15; // edx
  int v16; // edx
  int v17; // edx
  int v18; // ebx
  int v19; // ebp
  int v20; // edi
  unsigned __int8 *v21; // ecx
  int v22; // edx
  int v23; // edx
  int v24; // edx
  int v25; // eax
  int v26; // ebp
  int v27; // edi
  unsigned __int8 *v28; // ecx
  int v29; // edx
  int v30; // edx
  int v31; // edx
  int v32; // eax
  unsigned __int8 *v34; // esi
  int v35; // edi
  int v36; // ebp
  int v37; // eax
  int v38; // ecx
  _BYTE *v39; // ecx
  __int16 v40; // dx
  __int16 v41; // dx
  _WORD *v42; // esi
  int v43; // edx
  int v44; // edx
  int v45; // ecx
  bool v46; // zf
  int v47; // esi
  __int16 v48; // dx
  __int16 v49; // dx
  _WORD *v50; // esi
  _BYTE *v51; // ecx
  char v52; // cl
  _BYTE *v53; // esi
  int v54; // ecx
  __int16 v55; // cx
  __int16 v56; // dx
  __int16 v57; // dx
  _WORD *v58; // esi
  int v59; // ecx
  int v60; // esi
  char v61; // dl
  _BYTE *v62; // esi
  __int16 v63; // dx
  __int16 v64; // dx
  _WORD *v65; // esi
  int v66; // ecx
  char v67; // dl
  _WORD *v68; // esi
  int v69; // ecx
  int v70; // edx
  int v71; // ebx
  _BYTE *v72; // edx
  int v73; // esi
  int v74; // esi
  int v75; // ecx
  int v76; // ebx
  int v77; // edx
  int v78; // ecx
  _WORD *v79; // esi
  _BYTE *v80; // edx
  int v81; // esi
  int v82; // ecx
  char v83; // cl
  _BYTE *v84; // esi
  int v85; // ecx
  char v86; // dl
  char v87; // dl
  _WORD *v88; // esi
  int v89; // esi
  char v90; // dl
  _BYTE *v91; // esi
  int v92; // esi
  int v93; // esi
  int v94; // edx
  int v95; // ecx
  int v96; // ebx
  int v97; // edx
  _WORD *v98; // esi
  _BYTE *v99; // ecx
  int v100; // esi
  int v101; // [esp+10h] [ebp-74h]
  int v102; // [esp+10h] [ebp-74h]
  int v103; // [esp+10h] [ebp-74h]
  int v104; // [esp+14h] [ebp-70h]
  int v105; // [esp+14h] [ebp-70h]
  int v106; // [esp+18h] [ebp-6Ch]
  int v107; // [esp+1Ch] [ebp-68h]
  int v108; // [esp+1Ch] [ebp-68h]
  int v109; // [esp+20h] [ebp-64h]
  unsigned __int8 v110; // [esp+24h] [ebp-60h]
  unsigned __int8 v111; // [esp+24h] [ebp-60h]
  unsigned __int8 v112; // [esp+24h] [ebp-60h]
  unsigned __int8 v113; // [esp+24h] [ebp-60h]
  int v114; // [esp+28h] [ebp-5Ch]
  unsigned __int8 v115; // [esp+28h] [ebp-5Ch]
  unsigned __int8 v116; // [esp+28h] [ebp-5Ch]
  unsigned __int8 v117; // [esp+28h] [ebp-5Ch]
  unsigned __int8 v118; // [esp+28h] [ebp-5Ch]
  int v119; // [esp+30h] [ebp-54h]
  int v120; // [esp+30h] [ebp-54h]
  unsigned __int8 v121; // [esp+30h] [ebp-54h]
  unsigned __int8 v122; // [esp+30h] [ebp-54h]
  int v123; // [esp+34h] [ebp-50h]
  int v124; // [esp+38h] [ebp-4Ch]
  int v125; // [esp+3Ch] [ebp-48h]
  __int16 v126; // [esp+60h] [ebp-24h]
  __int16 v127; // [esp+64h] [ebp-20h]
  unsigned __int8 v128; // [esp+68h] [ebp-1Ch]
  unsigned __int8 v129; // [esp+69h] [ebp-1Bh]
  unsigned __int8 v130; // [esp+6Ah] [ebp-1Ah]
  int v131; // [esp+88h] [ebp+4h]
  int v132; // [esp+88h] [ebp+4h]
  int v133; // [esp+88h] [ebp+4h]
  int v134; // [esp+88h] [ebp+4h]
  int v135; // [esp+88h] [ebp+4h]
  int v136; // [esp+88h] [ebp+4h]
  int v137; // [esp+88h] [ebp+4h]
  int v138; // [esp+88h] [ebp+4h]
  _BYTE *v139; // [esp+8Ch] [ebp+8h]
  _BYTE *v140; // [esp+8Ch] [ebp+8h]
  _BYTE *v141; // [esp+8Ch] [ebp+8h]
  _BYTE *v142; // [esp+8Ch] [ebp+8h]
  int v143; // [esp+90h] [ebp+Ch]
  int v144; // [esp+90h] [ebp+Ch]
  int v145; // [esp+90h] [ebp+Ch]
  int v146; // [esp+90h] [ebp+Ch]
  int v147; // [esp+94h] [ebp+10h]
  int v148; // [esp+94h] [ebp+10h]
  int v149; // [esp+94h] [ebp+10h]
  int v150; // [esp+94h] [ebp+10h]

  v114 = -1;
  v4 = *(_DWORD *)&byte_5D4594[1189588] + 819200;
  v128 = **(_BYTE **)&byte_5D4594[1189588];
  v129 = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + 409600);
  v130 = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + 819200);
  v5 = 0;
  v6 = **(_BYTE **)&byte_5D4594[1189588];
  v124 = 0;
  do
  {
    if ( v124 >= a2 )
      break;
    for ( i = 0; i < a1; ++i )
    {
      v8 = *(unsigned __int8 *)(v4 + i - 819200);
      if ( v128 <= v8 + 5 && v6 >= v8 - 5 )
      {
        v9 = *(unsigned __int8 *)(v4 + i - 409600);
        if ( v129 <= v9 + 5 && v129 >= v9 - 5 )
        {
          v10 = *(unsigned __int8 *)(v4 + i);
          if ( v130 <= v10 + 5 && v130 >= v10 - 5 )
            continue;
        }
      }
      v5 = 1;
      v114 = v124;
      break;
    }
    v4 += 640;
    ++v124;
  }
  while ( !v5 );
  v11 = 0;
  v123 = -1;
  v12 = a2 - 1;
  v13 = *(_DWORD *)&byte_5D4594[1189588] + ((5 * (a2 - 1) + 6400) << 7);
  do
  {
    if ( v12 < 0 )
      break;
    for ( j = 0; j < a1; ++j )
    {
      v15 = *(unsigned __int8 *)(v13 + j - 819200);
      if ( v6 > v15 + 5
        || v6 < v15 - 5
        || (v16 = *(unsigned __int8 *)(v13 + j - 409600), v129 > v16 + 5)
        || v129 < v16 - 5
        || (v17 = *(unsigned __int8 *)(v13 + j), v130 > v17 + 5)
        || v130 < v17 - 5 )
      {
        v6 = **(_BYTE **)&byte_5D4594[1189588];
        v123 = v12;
        v11 = 1;
        break;
      }
      v6 = **(_BYTE **)&byte_5D4594[1189588];
    }
    --v12;
    v13 -= 640;
  }
  while ( !v11 );
  v18 = -1;
  v119 = 0;
  v19 = 0;
  do
  {
    if ( v19 >= a1 )
      break;
    v20 = v114;
    v21 = (unsigned __int8 *)(v19 + *(_DWORD *)&byte_5D4594[1189588] + ((5 * v114 + 6400) << 7));
    while ( v20 <= v123 )
    {
      v22 = *(v21 - 819200);
      if ( v128 > v22 + 5
        || v128 < v22 - 5
        || (v23 = *(v21 - 409600), v129 > v23 + 5)
        || v129 < v23 - 5
        || (v24 = *v21, v130 > v24 + 5)
        || v130 < v24 - 5 )
      {
        v25 = 1;
        v18 = v19;
        v119 = 1;
        goto LABEL_40;
      }
      ++v20;
      v21 += 640;
    }
    v25 = v119;
LABEL_40:
    ++v19;
  }
  while ( !v25 );
  v106 = v18;
  v109 = -1;
  v120 = 0;
  v26 = a1 - 1;
  do
  {
    if ( v26 < 0 )
      break;
    v27 = v114;
    v28 = (unsigned __int8 *)(v26 + *(_DWORD *)&byte_5D4594[1189588] + ((5 * v114 + 6400) << 7));
    while ( v27 <= v123 )
    {
      v29 = *(v28 - 819200);
      if ( v128 > v29 + 5
        || v128 < v29 - 5
        || (v30 = *(v28 - 409600), v129 > v30 + 5)
        || v129 < v30 - 5
        || (v31 = *v28, v130 > v31 + 5)
        || v130 < v31 - 5 )
      {
        v32 = 1;
        v109 = v26;
        v120 = 1;
        goto LABEL_54;
      }
      ++v27;
      v28 += 640;
    }
    v32 = v120;
LABEL_54:
    --v26;
  }
  while ( !v32 );
  if ( v114 == -1 )
  {
    *(_DWORD *)a3 = 0;
    *(_DWORD *)(a3 + 4) = 0;
    *(_DWORD *)(a3 + 8) = 0;
    *(_DWORD *)(a3 + 12) = 0;
    *(_BYTE *)(a3 + 16) = 0;
    *(_BYTE *)(a3 + 17) = 0;
    *(_BYTE *)(a3 + 18) = 0;
    return 1;
  }
  *(_DWORD *)a3 = v109 - v18 + 1;
  v34 = (unsigned __int8 *)(a3 + 17);
  *(_DWORD *)(a3 + 4) = v123 - v114 + 1;
  v35 = 17;
  *(_DWORD *)(a3 + 8) = v18;
  *(_DWORD *)(a3 + 12) = v114;
  *(_BYTE *)(a3 + 16) = a4 | 0x80;
  v36 = 17;
  if ( a4 == 4 || a4 == 6 )
    sub_47D090(a1, a2);
  v37 = v114;
  if ( v114 > v123 )
    goto LABEL_208;
  v38 = a4 - 3;
  v125 = a4 - 3;
  while ( 2 )
  {
    switch ( v38 )
    {
      case 0:
        v110 = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + 640 * v37 + v18);
        if ( v128 > v110 + 5
          || v128 < v110 - 5
          || (v107 = (5 * v37 + 3200) << 7,
              v131 = *(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1189588] + v107 + v18),
              v129 > v131 + 5)
          || v129 < v131 - 5
          || (v104 = (5 * v37 + 6400) << 7,
              v132 = *(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1189588] + v104 + v18),
              v130 > v132 + 5)
          || v130 < v132 - 5 )
        {
          v104 = (5 * v37 + 6400) << 7;
          v107 = (5 * v37 + 3200) << 7;
          if ( *(_DWORD *)&byte_5D4594[3799624] == 2 )
            v40 = 8
                * ((32 * (v110 & 0xF8)) | *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + ((5 * v37 + 3200) << 7) + v18) & 0xF8);
          else
            v40 = 4
                * ((32 * (v110 & 0xF8)) | *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + ((5 * v37 + 3200) << 7) + v18) & 0xF8);
          v41 = (*(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + ((5 * v37 + 6400) << 7) + v18) >> 3) | v40;
          *v34 = 2;
          v42 = v34 + 1;
          v35 += 4;
          v39 = v42;
          v42 = (_WORD *)((char *)v42 + 1);
          v147 = 2;
          v133 = 1;
          *v42 = v41;
          v34 = (unsigned __int8 *)(v42 + 1);
          v139 = v39;
          v36 += 3;
        }
        else
        {
          v35 += 2;
          *v34 = 1;
          v147 = 1;
          v133 = 1;
          v39 = v34 + 1;
          v34 += 2;
          v139 = v39;
          v36 += 2;
        }
        v143 = v18 + 1;
        if ( v18 + 1 > v109 )
          goto LABEL_97;
        while ( 1 )
        {
          v115 = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + 640 * v37 + v143);
          if ( v128 > v115 + 5 || v128 < v115 - 5 )
            goto LABEL_88;
          v43 = *(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1189588] + v107 + v143);
          if ( v129 > v43 + 5
            || v129 < v43 - 5
            || (v44 = *(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1189588] + v104 + v143), v130 > v44 + 5)
            || v130 < v44 - 5 )
          {
            v39 = v139;
LABEL_88:
            if ( *(_DWORD *)&byte_5D4594[3799624] == 2 )
              v48 = 8 * ((32 * (v115 & 0xF8)) | *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + v107 + v143) & 0xF8);
            else
              v48 = 4 * ((32 * (v115 & 0xF8)) | *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + v107 + v143) & 0xF8);
            v49 = (*(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + v104 + v143) >> 3) | v48;
            if ( v147 == 1 )
            {
              v50 = v34 + 1;
              *v39 = v133;
              *((_BYTE *)v50 - 1) = 2;
              v39 = v50;
              v50 = (_WORD *)((char *)v50 + 1);
              v35 += 4;
              v147 = 2;
              *v50 = v49;
              v34 = (unsigned __int8 *)(v50 + 1);
              v139 = v39;
              v133 = 1;
              v36 += 3;
            }
            else
            {
              if ( ++v133 == 254 )
              {
                *v39 = -3;
                *v34 = 2;
                v35 += 2;
                v39 = v34 + 1;
                v34 += 2;
                v133 = 1;
                v139 = v39;
                v36 += 2;
              }
              *(_WORD *)v34 = v49;
              v34 += 2;
              v35 += 2;
              ++v36;
            }
            goto LABEL_96;
          }
          if ( v147 != 1 )
            break;
          v45 = v133 + 1;
          v133 = v45;
          v46 = v45 == 254;
          v39 = v139;
          if ( v46 )
          {
            *v139 = -3;
            *v34 = 1;
            v47 = (int)(v34 + 1);
LABEL_85:
            v39 = (_BYTE *)v47;
            v34 = (unsigned __int8 *)(v47 + 1);
            v35 += 2;
            v133 = 1;
            v139 = v39;
            v36 += 2;
          }
LABEL_96:
          if ( ++v143 > v109 )
          {
LABEL_97:
            *v39 = v133;
            goto LABEL_206;
          }
        }
        v47 = (int)(v34 + 1);
        v147 = 1;
        *v139 = v133;
        *(_BYTE *)(v47 - 1) = 1;
        goto LABEL_85;
      case 1:
        v101 = 640 * v37;
        v111 = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + 640 * v37 + v18);
        if ( v128 > v111 + 5
          || v128 < v111 - 5
          || v129 > *(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1189588] + ((5 * v37 + 3200) << 7) + v18) + 5
          || v129 < *(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1189588] + ((5 * v37 + 3200) << 7) + v18) - 5
          || v130 > *(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1189588] + ((5 * v37 + 6400) << 7) + v18) + 5
          || v130 < *(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1189588] + ((5 * v37 + 6400) << 7) + v18) - 5 )
        {
          v52 = *(_BYTE *)(v101 + *(_DWORD *)&byte_5D4594[1189592] + v18);
          if ( v52 == -1 )
          {
            HIBYTE(v55) = 0;
            if ( *(_DWORD *)&byte_5D4594[3799624] == 2 )
              v56 = 8
                  * ((32 * (*(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + 640 * v37 + v18) & 0xF8)) | *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + ((5 * v37 + 3200) << 7) + v18) & 0xF8);
            else
              v56 = 4
                  * ((32 * (*(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + 640 * v37 + v18) & 0xF8)) | *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + ((5 * v37 + 3200) << 7) + v18) & 0xF8);
            LOBYTE(v55) = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + ((5 * v37 + 6400) << 7) + v18) >> 3;
            v57 = v55 | v56;
            *v34 = 2;
            v58 = v34 + 1;
            v148 = 2;
            v51 = v58;
            v58 = (_WORD *)((char *)v58 + 1);
            v134 = 1;
            v140 = v51;
            *v58 = v57;
            v34 = (unsigned __int8 *)(v58 + 1);
            v35 += 4;
          }
          else
          {
            v134 = 1;
            *v34 = (16 * v52) | 4;
            v53 = v34 + 1;
            v54 = *(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1189592] + v101 + v18);
            v18 = v106;
            v148 = (16 * v54) | 4;
            v51 = v53++;
            v140 = v51;
            *v53 = *(_BYTE *)(v101 + *(_DWORD *)&byte_5D4594[1189588] + v106);
            v34 = v53 + 1;
            v35 += 3;
          }
          v36 += 3;
        }
        else
        {
          v35 += 2;
          *v34 = 1;
          v148 = 1;
          v134 = 1;
          v51 = v34 + 1;
          v34 += 2;
          v140 = v51;
          v36 += 2;
        }
        v144 = v18 + 1;
        if ( v18 + 1 > v109 )
          goto LABEL_141;
        do
        {
          v116 = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + v101 + v144);
          if ( v128 <= v116 + 5 && v128 >= v116 - 5 )
          {
            if ( v129 <= *(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1189588] + ((5 * v37 + 3200) << 7) + v144) + 5
              && v129 >= *(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1189588] + ((5 * v37 + 3200) << 7) + v144) - 5
              && v130 <= *(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1189588] + ((5 * v37 + 6400) << 7) + v144) + 5
              && v130 >= *(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1189588] + ((5 * v37 + 6400) << 7) + v144) - 5 )
            {
              if ( v148 == 1 )
              {
                v59 = v134 + 1;
                v134 = v59;
                v46 = v59 == 254;
                v51 = v140;
                if ( !v46 )
                  goto LABEL_140;
                *v140 = -3;
                *v34 = 1;
                v60 = (int)(v34 + 1);
              }
              else
              {
                v60 = (int)(v34 + 1);
                v148 = 1;
                *v140 = v134;
                *(_BYTE *)(v60 - 1) = 1;
              }
              v51 = (_BYTE *)v60;
              v34 = (unsigned __int8 *)(v60 + 1);
              v35 += 2;
              v134 = 1;
              v140 = v51;
              v36 += 2;
              goto LABEL_140;
            }
            v51 = v140;
          }
          v61 = *(_BYTE *)(v101 + *(_DWORD *)&byte_5D4594[1189592] + v144);
          if ( v61 == -1 )
          {
            if ( *(_DWORD *)&byte_5D4594[3799624] == 2 )
              v63 = 8
                  * ((32 * (v116 & 0xF8)) | *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + ((5 * v37 + 3200) << 7) + v144) & 0xF8);
            else
              v63 = 4
                  * ((32 * (v116 & 0xF8)) | *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + ((5 * v37 + 3200) << 7) + v144) & 0xF8);
            v64 = (*(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + ((5 * v37 + 6400) << 7) + v144) >> 3) | v63;
            if ( v148 != 2 )
            {
              v65 = v34 + 1;
              *v51 = v134;
              *((_BYTE *)v65 - 1) = 2;
              v51 = v65;
              v65 = (_WORD *)((char *)v65 + 1);
              v35 += 4;
              v140 = v51;
              *v65 = v64;
              v34 = (unsigned __int8 *)(v65 + 1);
              v148 = 2;
              v134 = 1;
              v36 += 3;
              goto LABEL_140;
            }
            if ( ++v134 == 254 )
            {
              *v51 = -3;
              *v34 = 2;
              v35 += 2;
              v51 = v34 + 1;
              v34 += 2;
              v134 = 1;
              v140 = v51;
              v36 += 2;
            }
            *(_WORD *)v34 = v64;
            v34 += 2;
            v35 += 2;
          }
          else
          {
            v121 = (16 * v61) | 4;
            if ( v148 != v121 )
            {
              v148 = v121;
              *v51 = v134;
              *v34 = v121;
              v62 = v34 + 1;
              v51 = v62++;
              v35 += 3;
              *v62 = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + v101 + v144);
              v34 = v62 + 1;
              v134 = 1;
              v140 = v51;
              v36 += 3;
              goto LABEL_140;
            }
            if ( ++v134 == 254 )
            {
              *v51 = -3;
              *v34 = v121;
              v51 = v34 + 1;
              v34 += 2;
              v35 += 2;
              v134 = 1;
              v140 = v51;
              v36 += 2;
            }
            ++v34;
            ++v35;
            *(v34 - 1) = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + v101 + v144);
          }
          ++v36;
LABEL_140:
          ++v144;
        }
        while ( v144 <= v109 );
LABEL_141:
        *v51 = v134;
LABEL_206:
        v18 = v106;
LABEL_207:
        if ( ++v37 <= v123 )
        {
          v38 = v125;
          continue;
        }
LABEL_208:
        *v34 = 0;
        v34[1] = 0;
        return 1;
      case 2:
        v102 = 640 * v37;
        v112 = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + 640 * v37 + v18);
        if ( v128 > v112 + 5
          || v128 < v112 - 5
          || (v108 = (5 * v37 + 3200) << 7,
              v135 = *(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1189588] + v108 + v18),
              v129 > v135 + 5)
          || v129 < v135 - 5
          || (v105 = (5 * v37 + 6400) << 7,
              v136 = *(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1189588] + v105 + v18),
              v130 > v136 + 5)
          || v130 < v136 - 5 )
        {
          v108 = (5 * v37 + 3200) << 7;
          v66 = (5 * v37 + 6400) << 7;
          v105 = v66;
          v35 += 4;
          LOBYTE(v66) = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + v66 + v18);
          v18 = v106;
          v149 = 5;
          v137 = 1;
          v126 = (*(_BYTE *)(v102 + *(_DWORD *)&byte_5D4594[1189596] + v106) >> 4) | v66 & 0xF0;
          v67 = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + v108 + v106);
          *v34 = 5;
          v68 = v34 + 1;
          v141 = v68;
          v68 = (_WORD *)((char *)v68 + 1);
          *v68 = (16 * ((16 * (v112 & 0xF0)) | v67 & 0xF0)) | v126;
          v34 = (unsigned __int8 *)(v68 + 1);
          v36 += 3;
        }
        else
        {
          v35 += 2;
          *v34 = 1;
          v141 = v34 + 1;
          v34 += 2;
          v149 = 1;
          v137 = 1;
          v36 += 2;
        }
        v69 = v18 + 1;
        v145 = v18 + 1;
        if ( v18 + 1 <= v109 )
        {
          do
          {
            v117 = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + v102 + v69);
            if ( v128 > v117 + 5
              || v128 < v117 - 5
              || (v70 = *(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1189588] + v108 + v145), v129 > v70 + 5)
              || v129 < v70 - 5
              || (v71 = *(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1189588] + v105 + v145), v130 > v71 + 5)
              || v130 < v71 - 5 )
            {
              v75 = *(_DWORD *)&byte_5D4594[1189588] + v105;
              v76 = *(_DWORD *)&byte_5D4594[1189588] + v108;
              HIWORD(v77) = HIWORD(v145);
              LOWORD(v75) = (*(_BYTE *)(*(_DWORD *)&byte_5D4594[1189596] + v102 + v145) >> 4) | *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + v105 + v145) & 0xF0;
              LOWORD(v76) = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + v108 + v145) & 0xF0;
              LOWORD(v77) = v117 & 0xF0;
              v78 = (16 * ((16 * v77) | v76)) | v75;
              if ( v149 == 5 )
              {
                if ( ++v137 == 254 )
                {
                  v80 = v141;
                  v81 = (int)(v34 + 1);
                  v141 = (_BYTE *)v81;
                  v34 = (unsigned __int8 *)(v81 + 1);
                  *v80 = -3;
                  *(v34 - 2) = 5;
                  v35 += 2;
                  v137 = 1;
                  v36 += 2;
                }
                *(_WORD *)v34 = v78;
                v34 += 2;
                v35 += 2;
                ++v36;
              }
              else
              {
                v79 = v34 + 1;
                v35 += 4;
                *v141 = v137;
                *((_BYTE *)v79 - 1) = 5;
                v141 = v79;
                v79 = (_WORD *)((char *)v79 + 1);
                v149 = 2;
                v137 = 1;
                *v79 = v78;
                v34 = (unsigned __int8 *)(v79 + 1);
                v36 += 3;
              }
            }
            else if ( v149 == 1 )
            {
              if ( ++v137 == 254 )
              {
                v72 = v141;
                v73 = (int)(v34 + 1);
                v141 = (_BYTE *)v73;
                v34 = (unsigned __int8 *)(v73 + 1);
                *v72 = -3;
                *(v34 - 2) = 1;
                v35 += 2;
                v137 = 1;
                v36 += 2;
              }
            }
            else
            {
              v74 = (int)(v34 + 1);
              v35 += 2;
              *v141 = v137;
              *(_BYTE *)(v74 - 1) = 1;
              v141 = (_BYTE *)v74;
              v34 = (unsigned __int8 *)(v74 + 1);
              v149 = 1;
              v137 = 1;
              v36 += 2;
            }
            v69 = ++v145;
          }
          while ( v145 <= v109 );
          v18 = v106;
        }
        *v141 = v137;
        goto LABEL_207;
      case 3:
        v103 = 640 * v37;
        v113 = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + 640 * v37 + v18);
        if ( v128 > v113 + 5
          || v128 < v113 - 5
          || v129 > *(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1189588] + ((5 * v37 + 3200) << 7) + v18) + 5
          || v129 < *(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1189588] + ((5 * v37 + 3200) << 7) + v18) - 5
          || v130 > *(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1189588] + ((5 * v37 + 6400) << 7) + v18) + 5
          || v130 < *(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1189588] + ((5 * v37 + 6400) << 7) + v18) - 5 )
        {
          v83 = *(_BYTE *)(v103 + *(_DWORD *)&byte_5D4594[1189592] + v18);
          v35 += 4;
          if ( v83 == -1 )
          {
            v150 = 5;
            v86 = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + ((5 * v37 + 6400) << 7) + v18);
            v18 = v106;
            v127 = (*(_BYTE *)(v103 + *(_DWORD *)&byte_5D4594[1189596] + v106) >> 4) | v86 & 0xF0;
            v87 = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + ((5 * v37 + 3200) << 7) + v106);
            *v34 = 5;
            v88 = v34 + 1;
            v142 = v88;
            v88 = (_WORD *)((char *)v88 + 1);
            v82 = 1;
            *v88 = (16 * ((16 * (v113 & 0xF0)) | v87 & 0xF0)) | v127;
            v34 = (unsigned __int8 *)(v88 + 1);
            v138 = 1;
            v36 += 3;
          }
          else
          {
            *v34 = (16 * v83) | 6;
            v84 = v34 + 1;
            v85 = *(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1189592] + v103 + v18);
            v142 = v84++;
            *v84 = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + v103 + v106);
            v18 = v106;
            ++v84;
            v150 = (16 * v85) | 6;
            v82 = 1;
            *v84 = *(_BYTE *)(v103 + *(_DWORD *)&byte_5D4594[1189596] + v106);
            v34 = v84 + 1;
            v138 = 1;
            v36 += 4;
          }
        }
        else
        {
          v82 = 1;
          v35 += 2;
          *v34 = 1;
          v142 = v34 + 1;
          v34 += 2;
          v150 = 1;
          v138 = 1;
          v36 += 2;
        }
        v146 = v18 + 1;
        if ( v18 + 1 > v109 )
          goto LABEL_205;
        while ( 1 )
        {
          v118 = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + v103 + v146);
          if ( v128 > v118 + 5 || v128 < v118 - 5 )
            goto LABEL_192;
          if ( v129 > *(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1189588] + ((5 * v37 + 3200) << 7) + v146) + 5
            || v129 < *(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1189588] + ((5 * v37 + 3200) << 7) + v146) - 5
            || v130 > *(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1189588] + ((5 * v37 + 6400) << 7) + v146) + 5
            || v130 < *(unsigned __int8 *)(*(_DWORD *)&byte_5D4594[1189588] + ((5 * v37 + 6400) << 7) + v146) - 5 )
          {
            break;
          }
          if ( v150 != 1 )
          {
            v89 = (int)(v34 + 1);
            v150 = 1;
            *v142 = v138;
            *(_BYTE *)(v89 - 1) = 1;
            goto LABEL_189;
          }
          v82 = ++v138;
          if ( v138 == 254 )
          {
            v89 = (int)(v34 + 1);
            *v142 = -3;
            *(_BYTE *)(v89 - 1) = 1;
LABEL_189:
            v82 = 1;
            v142 = (_BYTE *)v89;
            v34 = (unsigned __int8 *)(v89 + 1);
            v35 += 2;
            v138 = 1;
            v36 += 2;
          }
LABEL_204:
          if ( ++v146 > v109 )
          {
LABEL_205:
            *v142 = v82;
            goto LABEL_206;
          }
        }
        v82 = v138;
LABEL_192:
        v90 = *(_BYTE *)(v103 + *(_DWORD *)&byte_5D4594[1189592] + v146);
        if ( v90 == -1 )
        {
          HIWORD(v94) = *(_WORD *)&byte_5D4594[1189590];
          HIWORD(v95) = HIWORD(v146);
          v96 = *(_DWORD *)&byte_5D4594[1189588] + ((5 * v37 + 3200) << 7);
          LOWORD(v94) = (*(_BYTE *)(*(_DWORD *)&byte_5D4594[1189596] + v103 + v146) >> 4) | *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + ((5 * v37 + 6400) << 7) + v146) & 0xF0;
          LOWORD(v96) = *(_BYTE *)(v96 + v146) & 0xF0;
          LOWORD(v95) = v118 & 0xF0;
          v97 = (16 * ((16 * v95) | v96)) | v94;
          if ( v150 == 5 )
          {
            v82 = ++v138;
            if ( v138 == 254 )
            {
              v99 = v142;
              v100 = (int)(v34 + 1);
              v142 = (_BYTE *)v100;
              v34 = (unsigned __int8 *)(v100 + 1);
              *v99 = -3;
              *(v34 - 2) = 5;
              v82 = 1;
              v35 += 2;
              v138 = 1;
              v36 += 2;
            }
            *(_WORD *)v34 = v97;
            v34 += 2;
            v35 += 2;
            goto LABEL_203;
          }
          v98 = v34 + 1;
          v35 += 4;
          *v142 = v138;
          *((_BYTE *)v98 - 1) = 5;
          v142 = v98;
          v98 = (_WORD *)((char *)v98 + 1);
          v82 = 1;
          v150 = 5;
          *v98 = v97;
          v34 = (unsigned __int8 *)(v98 + 1);
          v138 = 1;
          v36 += 3;
        }
        else
        {
          v122 = (16 * v90) | 6;
          if ( v150 == v122 )
          {
            v138 = ++v82;
            if ( v82 == 254 )
            {
              v92 = (int)(v34 + 1);
              v35 += 2;
              *v142 = -3;
              *(_BYTE *)(v92 - 1) = v122;
              v82 = 1;
              v142 = (_BYTE *)v92;
              v34 = (unsigned __int8 *)(v92 + 1);
              v138 = 1;
              v36 += 2;
            }
            v93 = (int)(v34 + 1);
            *(_BYTE *)(v93 - 1) = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + v103 + v146);
            v34 = (unsigned __int8 *)(v93 + 1);
            ++v35;
            *(v34 - 1) = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189596] + v103 + v146);
LABEL_203:
            ++v36;
            goto LABEL_204;
          }
          v150 = v122;
          v91 = v34 + 1;
          v35 += 4;
          *v142 = v82;
          *(v91 - 1) = v122;
          v142 = v91++;
          v82 = 1;
          *v91++ = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189588] + v103 + v146);
          v138 = 1;
          *v91 = *(_BYTE *)(*(_DWORD *)&byte_5D4594[1189596] + v103 + v146);
          v34 = v91 + 1;
          v36 += 4;
        }
        goto LABEL_204;
      default:
        goto LABEL_207;
    }
  }
}

//----- (0047D090) --------------------------------------------------------
int __cdecl sub_47D090(int a1, int a2)
{
  int result; // eax
  int v3; // ecx
  int v4; // edi
  int v5; // esi
  int v6; // ebp
  char v7; // dl
  unsigned __int8 *v8; // eax
  int v9; // [esp+0h] [ebp-4h]
  int v10; // [esp+Ch] [ebp+8h]

  result = a2;
  if ( a2 > 0 )
  {
    v3 = *(_DWORD *)&byte_5D4594[1189592];
    v4 = 0;
    v9 = a2;
    do
    {
      v5 = 0;
      if ( a1 > 0 )
      {
        v6 = v4;
        do
        {
          v7 = 0;
          v8 = &byte_587000[153689];
          v10 = 0;
          do
          {
            if ( *(_BYTE *)(v3 + v6) == *(v8 - 1)
              && *(_BYTE *)(v4 + v3 + 819200 + v5 - 409600) == *v8
              && *(_BYTE *)(v4 + v3 + 819200 + v5) == v8[1] )
            {
              *(_BYTE *)(v3 + v6) = v7;
              v3 = *(_DWORD *)&byte_5D4594[1189592];
              v10 = 1;
            }
            v8 += 3;
            ++v7;
          }
          while ( (int)v8 < (int)&byte_587000[153710] );
          if ( !v10 )
          {
            *(_BYTE *)(v4 + v3 + v5) = -1;
            v3 = *(_DWORD *)&byte_5D4594[1189592];
          }
          ++v5;
          ++v6;
        }
        while ( v5 < a1 );
      }
      v4 += 640;
      result = --v9;
    }
    while ( v9 );
  }
  return result;
}

//----- (0047D150) --------------------------------------------------------
LPVOID sub_47D150()
{
  LPVOID result; // eax
  char *v1; // ecx
  int v2; // edi
  int v3; // esi

  if ( *(_DWORD *)&byte_5D4594[1189588] )
  {
    free(*(LPVOID *)&byte_5D4594[1189588]);
    *(_DWORD *)&byte_5D4594[1189588] = 0;
  }
  if ( *(_DWORD *)&byte_5D4594[1189592] )
  {
    free(*(LPVOID *)&byte_5D4594[1189592]);
    *(_DWORD *)&byte_5D4594[1189592] = 0;
  }
  result = *(LPVOID *)&byte_5D4594[1189596];
  if ( *(_DWORD *)&byte_5D4594[1189596] )
  {
    free(*(LPVOID *)&byte_5D4594[1189596]);
    *(_DWORD *)&byte_5D4594[1189596] = 0;
  }
  v1 = *(char **)&byte_5D4594[1189584];
  if ( *(_DWORD *)&byte_5D4594[1189584] )
  {
    v2 = 0;
    if ( *(_DWORD *)&byte_5D4594[1123532] > 0 )
    {
      v3 = 0;
      do
      {
        if ( *(_DWORD *)&v1[v3 + 324] )
        {
          free(*(LPVOID *)&v1[v3 + 324]);
          v1 = *(char **)&byte_5D4594[1189584];
        }
        ++v2;
        v3 += 336;
      }
      while ( v2 < *(int *)&byte_5D4594[1123532] );
    }
    free(v1);
    *(_DWORD *)&byte_5D4594[1189584] = 0;
  }
  return result;
}

//----- (0047D200) --------------------------------------------------------
int sub_47D200()
{
  if ( *(_DWORD *)&byte_5D4594[3801780] )
  {
    if ( *(_DWORD *)&byte_5D4594[3801780] == 1 )
    {
      if ( *(_DWORD *)&byte_5D4594[3801804] )
        *(_DWORD *)&byte_5D4594[3799500] = sub_4C7670;
      else
        *(_DWORD *)&byte_5D4594[3799500] = sub_4C7440;
    }
  }
  else
  {
    *(_DWORD *)&byte_5D4594[3799500] = sub_4C5EB0;
  }
  *(_DWORD *)&byte_5D4594[3799484] = 0;
  *(_DWORD *)&byte_5D4594[3799480] = 0;
  *(_DWORD *)&byte_5D4594[3799440] = 0;
  *(_DWORD *)&byte_5D4594[3799476] = 0;
  *(_DWORD *)&byte_5D4594[3799452] = 0;
  *(_DWORD *)&byte_5D4594[3799472] = 0;
  *(_DWORD *)&byte_5D4594[3799532] = 0;
  *(_DWORD *)&byte_5D4594[3799436] = 0;
  *(_DWORD *)&byte_5D4594[3799464] = 0;
  *(_DWORD *)&byte_5D4594[3799460] = 0;
  *(_DWORD *)&byte_5D4594[3799528] = 0;
  *(_DWORD *)&byte_5D4594[3799448] = 0;
  *(_DWORD *)&byte_5D4594[3799548] = 0;
  *(_DWORD *)&byte_5D4594[3799496] = 0;
  *(_DWORD *)&byte_5D4594[3799524] = 0;
  *(_DWORD *)&byte_5D4594[3799468] = 0;
  *(_DWORD *)&byte_5D4594[3799552] = 0;
  *(_DWORD *)&byte_5D4594[3799508] = 0;
  *(_DWORD *)&byte_5D4594[3799492] = sub_42FB30;
  return 1;
}

//----- (0047D2C0) --------------------------------------------------------
__int16 __cdecl sub_47D2C0(int a1, int a2, int a3)
{
  __int16 result; // ax

  if ( *(_DWORD *)&byte_5D4594[3799452] )
  {
    sub_49F7F0();
    sub_49F780(*(int *)&byte_5D4594[3799480], *(int *)&byte_5D4594[3799440]);
    sub_49F6D0(1);
  }
  (*(void (__cdecl **)(_DWORD, _DWORD, _DWORD))&byte_5D4594[3799500])(a1, a2, a3);
  if ( *(_DWORD *)&byte_5D4594[3799452] )
  {
    sub_49F860();
    *(_DWORD *)&byte_5D4594[3799452] = 0;
  }
  result = *(_WORD *)&byte_5D4594[3799496];
  *(_DWORD *)&byte_5D4594[3799484] = 0;
  *(_DWORD *)&byte_5D4594[3799548] = 0;
  if ( *(_DWORD *)&byte_5D4594[3799496] && a1 )
  {
    if ( *(_DWORD *)&byte_5D4594[3799520] != *(__int16 *)(a1 + 4)
      || *(_DWORD *)&byte_5D4594[3799512] != *(__int16 *)(a1 + 6) )
    {
      *(_DWORD *)&byte_5D4594[3799524] = 1;
    }
    *(_WORD *)(a1 + 4) = *(_WORD *)&byte_5D4594[3799520];
    result = *(_WORD *)&byte_5D4594[3799512];
    *(_WORD *)(a1 + 6) = *(_WORD *)&byte_5D4594[3799512];
  }
  return result;
}

//----- (0047D370) --------------------------------------------------------
int __cdecl sub_47D370(int a1)
{
  int result; // eax

  result = a1;
  if ( a1 < 0 )
    result = 0;
  *(_DWORD *)&byte_5D4594[3799484] = result;
  return result;
}

//----- (0047D380) --------------------------------------------------------
int __cdecl sub_47D380(int a1, int a2)
{
  int v2; // eax
  int v3; // ecx
  int v4; // edx
  int v5; // esi

  v2 = a1;
  v3 = a2;
  if ( a1 > a2 )
  {
    v2 = a2;
    v3 = a1;
  }
  v4 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 4);
  if ( v2 >= v4 )
  {
    if ( v2 >= *(int *)(*(_DWORD *)&byte_5D4594[3799572] + 12) )
      return 0;
  }
  else
  {
    v2 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 4);
  }
  v5 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 12);
  if ( v3 < v5 )
  {
    if ( v3 < v4 )
      return 0;
  }
  else
  {
    v3 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 12);
  }
  if ( v2 == v3 )
    return 0;
  if ( v2 != v4 || v3 != v5 )
  {
    *(_DWORD *)&byte_5D4594[3799480] = v2;
    *(_DWORD *)&byte_5D4594[3799440] = v3;
    *(_DWORD *)&byte_5D4594[3799452] = 1;
  }
  return 1;
}

//----- (0047D3F0) --------------------------------------------------------
int __cdecl sub_47D3F0(int a1)
{
  int result; // eax

  result = a1;
  *(_DWORD *)&byte_5D4594[3799472] = a1;
  return result;
}

//----- (0047D400) --------------------------------------------------------
int __cdecl sub_47D400(int a1, char a2)
{
  int result; // eax

  result = a1;
  *(_DWORD *)&byte_5D4594[3799552] = a1;
  *(_DWORD *)&byte_5D4594[3799508] = a2 & 1;
  return result;
}

//----- (0047D420) --------------------------------------------------------
int __cdecl sub_47D420(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int result; // eax

  *(_DWORD *)&byte_5D4594[3799548] = 1;
  *(_DWORD *)&byte_5D4594[3799532] = a1 << 16;
  *(_DWORD *)&byte_5D4594[3799436] = a2 << 16;
  *(_DWORD *)&byte_5D4594[3799464] = a3 << 16;
  result = a4 << 16;
  *(_DWORD *)&byte_5D4594[3799460] = a4 << 16;
  *(_DWORD *)&byte_5D4594[3799528] = a5 << 16;
  *(_DWORD *)&byte_5D4594[3799448] = a6 << 16;
  return result;
}

//----- (0047D480) --------------------------------------------------------
int __cdecl sub_47D480(int *a1, int a2)
{
  int result; // eax

  switch ( *(_BYTE *)(a2 + 10) & 0x3F )
  {
    case 2:
    case 7:
      sub_47D4E0(a1);
      result = 1;
      break;
    case 3:
    case 4:
    case 5:
    case 6:
      sub_47D530(a1);
      goto LABEL_4;
    default:
LABEL_4:
      result = 1;
      break;
  }
  return result;
}

//----- (0047D4E0) --------------------------------------------------------
__int16 __cdecl sub_47D4E0(_DWORD *a1)
{
  int v1; // ecx
  _WORD *v2; // edi
  __int16 result; // ax

  v1 = *a1 * a1[1];
  v2 = (_WORD *)((char *)a1 + 17);
  do
  {
    result = *v2 & 0x1F | (2 * *v2) & 0xFFC0;
    *v2 = result;
    ++v2;
  }
  while ( v1-- > 1 );
  return result;
}

//----- (0047D530) --------------------------------------------------------
char __cdecl sub_47D530(int *a1)
{
  __int16 *v1; // esi
  int v2; // ecx
  __int16 v3; // ax
  int v4; // edx
  int v5; // edi
  bool v6; // cc
  int v8; // [esp+Ch] [ebp-8h]
  int v9; // [esp+10h] [ebp-4h]

  v8 = *a1;
  v9 = a1[1];
  v1 = (__int16 *)((char *)a1 + 17);
LABEL_2:
  while ( 2 )
  {
    v2 = v8;
    do
    {
      while ( 1 )
      {
        v3 = *v1;
        ++v1;
        LOBYTE(v3) = v3 & 0xF;
        v4 = HIBYTE(v3);
        if ( (_BYTE)v3 != 2 )
          break;
        v5 = HIBYTE(v3);
        do
        {
          v3 = *v1 & 0x1F | (2 * (*v1 & 0x7FE0));
          *v1 = v3;
          ++v1;
          v6 = v5-- <= 1;
        }
        while ( !v6 );
        v6 = v2 <= v4;
        v2 -= v4;
        if ( v6 )
        {
          v6 = v9-- <= 1;
          if ( !v6 )
            goto LABEL_2;
          return v3;
        }
      }
      if ( (_BYTE)v3 == 4 )
        goto LABEL_13;
      if ( (_BYTE)v3 == 5 || (_BYTE)v3 == 6 )
      {
        v1 = (__int16 *)((char *)v1 + HIBYTE(v3));
LABEL_13:
        v1 = (__int16 *)((char *)v1 + HIBYTE(v3));
      }
      v6 = v2 <= HIBYTE(v3);
      v2 -= HIBYTE(v3);
    }
    while ( !v6 );
    v6 = v9-- <= 1;
    if ( !v6 )
      continue;
    return v3;
  }
}

//----- (0047D5B0) --------------------------------------------------------
int (__cdecl *__cdecl sub_47D5B0(int a1))(_DWORD)
{
  int (__cdecl *result)(_DWORD); // eax

  result = *(int (__cdecl **)(_DWORD))&byte_5D4594[3799492];
  *(_DWORD *)&byte_5D4594[3799492] = a1;
  return result;
}

//----- (0047D5C0) --------------------------------------------------------
int __cdecl sub_47D5C0(int a1, _DWORD *a2, _DWORD *a3, _DWORD *a4, _DWORD *a5)
{
  _DWORD *v5; // eax
  _DWORD *v6; // eax
  _DWORD *v7; // eax

  if ( a4 )
    *a4 = 0;
  if ( a5 )
    *a5 = 0;
  if ( !a1 )
    return 0;
  v5 = (_DWORD *)(*(int (__cdecl **)(_DWORD))&byte_5D4594[3799492])(a1);
  if ( !v5 )
    return 0;
  if ( a4 )
    *a4 = *v5;
  v6 = v5 + 1;
  if ( a5 )
    *a5 = *v6;
  v7 = v6 + 1;
  if ( a2 )
    *a2 += *v7;
  if ( a3 )
    *a3 += v7[1];
  return 1;
}

//----- (0047DBC0) --------------------------------------------------------
unsigned __int8 sub_47DBC0()
{
  return byte_5D4594[1193128];
}

//----- (0047DBD0) --------------------------------------------------------
int sub_47DBD0()
{
  unsigned __int8 *v0; // ecx
  int result; // eax

  v0 = &byte_5D4594[1191574];
  result = 0;
  do
  {
    *((_WORD *)v0 - 1) = 0;
    *(_WORD *)v0 = 0;
    *((_WORD *)v0 + 1) = 0;
    v0 += 6;
  }
  while ( (int)v0 < (int)&byte_5D4594[1193110] );
  strcpy((char *)&byte_5D4594[1192838], "\b");
  *(_WORD *)&byte_5D4594[1192840] = *(_WORD *)&byte_5D4594[1192838];
  *(_WORD *)&byte_5D4594[1191656] = *(_WORD *)&byte_5D4594[1192838];
  *(_WORD *)&byte_5D4594[1191658] = *(_WORD *)&byte_5D4594[1192838];
  byte_5D4594[1193144] = 0;
  *(_WORD *)&byte_5D4594[1192772] = 0;
  *(_WORD *)&byte_5D4594[1192774] = 0;
  *(_WORD *)&byte_5D4594[1192776] = 0;
  *(_WORD *)&byte_5D4594[1192820] = 0;
  *(_WORD *)&byte_5D4594[1192822] = 0;
  *(_WORD *)&byte_5D4594[1192824] = 0;
  *(_WORD *)&byte_5D4594[1192790] = 0;
  *(_WORD *)&byte_5D4594[1192792] = 0;
  *(_WORD *)&byte_5D4594[1192794] = 0;
  *(_WORD *)&byte_5D4594[1192802] = 0;
  *(_WORD *)&byte_5D4594[1192804] = 0;
  *(_WORD *)&byte_5D4594[1192806] = 0;
  *(_WORD *)&byte_5D4594[1192766] = 0;
  *(_WORD *)&byte_5D4594[1192768] = 0;
  *(_WORD *)&byte_5D4594[1192770] = 0;
  *(_WORD *)&byte_5D4594[1192814] = 0;
  *(_WORD *)&byte_5D4594[1192816] = 0;
  *(_WORD *)&byte_5D4594[1192818] = 0;
  *(_WORD *)&byte_5D4594[1192778] = 0;
  *(_WORD *)&byte_5D4594[1192780] = 0;
  *(_WORD *)&byte_5D4594[1192782] = 0;
  *(_WORD *)&byte_5D4594[1192826] = 0;
  *(_WORD *)&byte_5D4594[1192828] = 0;
  *(_WORD *)&byte_5D4594[1192830] = 0;
  *(_WORD *)&byte_5D4594[1192832] = 0;
  *(_WORD *)&byte_5D4594[1192834] = 0;
  *(_WORD *)&byte_5D4594[1192836] = 0;
  *(_WORD *)&byte_5D4594[1192842] = 0;
  *(_WORD *)&byte_5D4594[1191660] = 0;
  *(_WORD *)&byte_5D4594[1191578] = 0;
  *(_WORD *)&byte_5D4594[1191580] = 0;
  *(_WORD *)&byte_5D4594[1191582] = 0;
  strcpy((char *)&byte_5D4594[1191662], "\t");
  *(_WORD *)&byte_5D4594[1191664] = *(_WORD *)&byte_5D4594[1191662];
  *(_WORD *)&byte_5D4594[1191666] = 0;
  *(_WORD *)&byte_5D4594[1191920] = 0;
  *(_WORD *)&byte_5D4594[1191922] = 0;
  *(_WORD *)&byte_5D4594[1191924] = 0;
  strcpy((char *)&byte_5D4594[1191740], "\n");
  *(_WORD *)&byte_5D4594[1191742] = *(_WORD *)&byte_5D4594[1191740];
  *(_WORD *)&byte_5D4594[1191744] = 0;
  *(_WORD *)&byte_5D4594[1192676] = 0;
  *(_WORD *)&byte_5D4594[1192678] = 0;
  *(_WORD *)&byte_5D4594[1192680] = 0;
  *(_WORD *)&byte_5D4594[1192514] = 0;
  *(_WORD *)&byte_5D4594[1192516] = 0;
  *(_WORD *)&byte_5D4594[1192518] = 0;
  *(_WORD *)&byte_5D4594[1191896] = 0;
  *(_WORD *)&byte_5D4594[1191898] = 0;
  *(_WORD *)&byte_5D4594[1191900] = 0;
  *(_WORD *)&byte_5D4594[1191908] = 0;
  *(_WORD *)&byte_5D4594[1191910] = 0;
  *(_WORD *)&byte_5D4594[1191912] = 0;
  *(_WORD *)&byte_5D4594[1191746] = 0;
  *(_WORD *)&byte_5D4594[1191748] = 0;
  *(_WORD *)&byte_5D4594[1191750] = 0;
  *(_WORD *)&byte_5D4594[1191824] = 0;
  *(_WORD *)&byte_5D4594[1191826] = 0;
  *(_WORD *)&byte_5D4594[1191828] = 0;
  *(_WORD *)&byte_5D4594[1191986] = 0;
  *(_WORD *)&byte_5D4594[1191988] = 0;
  *(_WORD *)&byte_5D4594[1191990] = 0;
  *(_WORD *)&byte_5D4594[1191992] = 0;
  *(_WORD *)&byte_5D4594[1191994] = 0;
  *(_WORD *)&byte_5D4594[1191996] = 0;
  *(_WORD *)&byte_5D4594[1192670] = 0;
  *(_WORD *)&byte_5D4594[1192672] = 0;
  *(_WORD *)&byte_5D4594[1192674] = 0;
  *(_WORD *)&byte_5D4594[1191926] = 0;
  strcpy((char *)&byte_5D4594[1192046], "1");
  *(_WORD *)&byte_5D4594[1192048] = *(_WORD *)&byte_5D4594[1192046];
  *(_WORD *)&byte_5D4594[1191928] = 0;
  strcpy((char *)&byte_5D4594[1192052], "2");
  *(_WORD *)&byte_5D4594[1192054] = *(_WORD *)&byte_5D4594[1192052];
  *(_WORD *)&byte_5D4594[1191930] = 0;
  strcpy((char *)&byte_5D4594[1192058], "3");
  *(_WORD *)&byte_5D4594[1192060] = *(_WORD *)&byte_5D4594[1192058];
  *(_WORD *)&byte_5D4594[1191932] = 0;
  strcpy((char *)&byte_5D4594[1192022], "4");
  *(_WORD *)&byte_5D4594[1192024] = *(_WORD *)&byte_5D4594[1192022];
  *(_WORD *)&byte_5D4594[1191934] = 0;
  strcpy((char *)&byte_5D4594[1192028], "5");
  *(_WORD *)&byte_5D4594[1192030] = *(_WORD *)&byte_5D4594[1192028];
  *(_WORD *)&byte_5D4594[1191936] = 0;
  strcpy((char *)&byte_5D4594[1192034], "6");
  *(_WORD *)&byte_5D4594[1192036] = *(_WORD *)&byte_5D4594[1192034];
  *(_WORD *)&byte_5D4594[1191938] = 0;
  strcpy((char *)&byte_5D4594[1191998], "7");
  *(_WORD *)&byte_5D4594[1192000] = *(_WORD *)&byte_5D4594[1191998];
  *(_WORD *)&byte_5D4594[1191940] = 0;
  strcpy((char *)&byte_5D4594[1192004], "8");
  *(_WORD *)&byte_5D4594[1192006] = *(_WORD *)&byte_5D4594[1192004];
  *(_WORD *)&byte_5D4594[1191942] = 0;
  strcpy((char *)&byte_5D4594[1192010], "9");
  *(_WORD *)&byte_5D4594[1192012] = *(_WORD *)&byte_5D4594[1192010];
  *(_WORD *)&byte_5D4594[1191944] = 0;
  strcpy((char *)&byte_5D4594[1191914], " ");
  *(_WORD *)&byte_5D4594[1191916] = *(_WORD *)&byte_5D4594[1191914];
  *(_WORD *)&byte_5D4594[1191946] = 0;
  *(_WORD *)&byte_5D4594[1191948] = 0;
  *(_WORD *)&byte_5D4594[1191950] = 0;
  *(_WORD *)&byte_5D4594[1191952] = 0;
  *(_WORD *)&byte_5D4594[1191954] = 0;
  *(_WORD *)&byte_5D4594[1191956] = 0;
  *(_WORD *)&byte_5D4594[1191958] = 0;
  *(_WORD *)&byte_5D4594[1191960] = 0;
  *(_WORD *)&byte_5D4594[1191962] = 0;
  *(_WORD *)&byte_5D4594[1191964] = 0;
  *(_WORD *)&byte_5D4594[1191966] = 0;
  *(_WORD *)&byte_5D4594[1191968] = 0;
  *(_WORD *)&byte_5D4594[1191970] = 0;
  *(_WORD *)&byte_5D4594[1191972] = 0;
  *(_WORD *)&byte_5D4594[1191974] = 0;
  *(_WORD *)&byte_5D4594[1191976] = 0;
  *(_WORD *)&byte_5D4594[1191978] = 0;
  *(_WORD *)&byte_5D4594[1191980] = 0;
  *(_WORD *)&byte_5D4594[1191982] = 0;
  *(_WORD *)&byte_5D4594[1191984] = 0;
  *(_WORD *)&byte_5D4594[1192094] = 0;
  *(_WORD *)&byte_5D4594[1192096] = 0;
  *(_WORD *)&byte_5D4594[1192098] = 0;
  *(_WORD *)&byte_5D4594[1192100] = 0;
  *(_WORD *)&byte_5D4594[1192102] = 0;
  *(_WORD *)&byte_5D4594[1192104] = 0;
  *(_WORD *)&byte_5D4594[1192050] = 0;
  *(_WORD *)&byte_5D4594[1192056] = 0;
  *(_WORD *)&byte_5D4594[1192062] = 0;
  *(_WORD *)&byte_5D4594[1192026] = 0;
  *(_WORD *)&byte_5D4594[1192032] = 0;
  *(_WORD *)&byte_5D4594[1192038] = 0;
  *(_WORD *)&byte_5D4594[1192002] = 0;
  *(_WORD *)&byte_5D4594[1192008] = 0;
  *(_WORD *)&byte_5D4594[1192014] = 0;
  strcpy((char *)&byte_5D4594[1192064], "0");
  *(_WORD *)&byte_5D4594[1192066] = *(_WORD *)&byte_5D4594[1192064];
  *(_WORD *)&byte_5D4594[1192068] = 0;
  *(_WORD *)&byte_5D4594[1191918] = 0;
  switch ( *(_DWORD *)&byte_587000[26048] )
  {
    case 0:
    case 4:
    case 6:
    case 7:
    case 8:
    case 9:
      strcpy((char *)&byte_5D4594[1192508], "\n");
      strcpy((char *)&byte_5D4594[1192510], "\n");
      strcpy((char *)&byte_5D4594[1192016], "-");
      *(_WORD *)&byte_5D4594[1192018] = *(_WORD *)&byte_5D4594[1192016];
      *(_WORD *)&byte_5D4594[1192020] = 0;
      strcpy((char *)&byte_5D4594[1192040], "+");
      *(_WORD *)&byte_5D4594[1192042] = *(_WORD *)&byte_5D4594[1192040];
      *(_WORD *)&byte_5D4594[1192044] = 0;
      *(_WORD *)&byte_5D4594[1192512] = 0;
      strcpy((char *)&byte_5D4594[1192658], "/");
      *(_WORD *)&byte_5D4594[1192660] = *(_WORD *)&byte_5D4594[1192658];
      *(_WORD *)&byte_5D4594[1192662] = 0;
      strcpy((char *)&byte_5D4594[1192070], ".");
      *(_WORD *)&byte_5D4594[1192072] = *(_WORD *)&byte_5D4594[1192070];
      *(_WORD *)&byte_5D4594[1192074] = 0;
      strcpy((char *)&byte_5D4594[1191902], "*");
      *(_WORD *)&byte_5D4594[1191904] = *(_WORD *)&byte_5D4594[1191902];
      *(_WORD *)&byte_5D4594[1191906] = 0;
      strcpy((char *)&byte_5D4594[1191752], "a");
      strcpy((char *)&byte_5D4594[1191754], "A");
      *(_WORD *)&byte_5D4594[1191756] = 0;
      strcpy((char *)&byte_5D4594[1191860], "b");
      strcpy((char *)&byte_5D4594[1191862], "B");
      *(_WORD *)&byte_5D4594[1191864] = 0;
      strcpy((char *)&byte_5D4594[1191848], "c");
      strcpy((char *)&byte_5D4594[1191850], "C");
      *(_WORD *)&byte_5D4594[1191852] = 0;
      strcpy((char *)&byte_5D4594[1191764], "d");
      strcpy((char *)&byte_5D4594[1191766], "D");
      *(_WORD *)&byte_5D4594[1191768] = 0;
      strcpy((char *)&byte_5D4594[1191680], "e");
      strcpy((char *)&byte_5D4594[1191682], "E");
      *(_WORD *)&byte_5D4594[1191684] = 0;
      strcpy((char *)&byte_5D4594[1191770], "f");
      strcpy((char *)&byte_5D4594[1191772], "F");
      *(_WORD *)&byte_5D4594[1191774] = 0;
      strcpy((char *)&byte_5D4594[1191776], "g");
      strcpy((char *)&byte_5D4594[1191778], "G");
      *(_WORD *)&byte_5D4594[1191780] = 0;
      strcpy((char *)&byte_5D4594[1191782], "h");
      strcpy((char *)&byte_5D4594[1191784], "H");
      *(_WORD *)&byte_5D4594[1191786] = 0;
      strcpy((char *)&byte_5D4594[1191710], "i");
      strcpy((char *)&byte_5D4594[1191712], "I");
      *(_WORD *)&byte_5D4594[1191714] = 0;
      strcpy((char *)&byte_5D4594[1191788], "j");
      strcpy((char *)&byte_5D4594[1191790], "J");
      *(_WORD *)&byte_5D4594[1191792] = 0;
      strcpy((char *)&byte_5D4594[1191794], "k");
      strcpy((char *)&byte_5D4594[1191796], "K");
      *(_WORD *)&byte_5D4594[1191798] = 0;
      strcpy((char *)&byte_5D4594[1191800], "l");
      strcpy((char *)&byte_5D4594[1191802], "L");
      *(_WORD *)&byte_5D4594[1191804] = 0;
      strcpy((char *)&byte_5D4594[1191872], "m");
      strcpy((char *)&byte_5D4594[1191874], "M");
      *(_WORD *)&byte_5D4594[1191876] = 0;
      strcpy((char *)&byte_5D4594[1191866], "n");
      strcpy((char *)&byte_5D4594[1191868], "N");
      *(_WORD *)&byte_5D4594[1191870] = 0;
      strcpy((char *)&byte_5D4594[1191716], "o");
      strcpy((char *)&byte_5D4594[1191718], "O");
      *(_WORD *)&byte_5D4594[1191720] = 0;
      strcpy((char *)&byte_5D4594[1191722], "p");
      strcpy((char *)&byte_5D4594[1191724], "P");
      *(_WORD *)&byte_5D4594[1191726] = 0;
      strcpy((char *)&byte_5D4594[1191668], "q");
      strcpy((char *)&byte_5D4594[1191670], "Q");
      *(_WORD *)&byte_5D4594[1191672] = 0;
      strcpy((char *)&byte_5D4594[1191686], "r");
      strcpy((char *)&byte_5D4594[1191688], "R");
      *(_WORD *)&byte_5D4594[1191690] = 0;
      strcpy((char *)&byte_5D4594[1191758], "s");
      strcpy((char *)&byte_5D4594[1191760], "S");
      *(_WORD *)&byte_5D4594[1191762] = 0;
      strcpy((char *)&byte_5D4594[1191692], "t");
      strcpy((char *)&byte_5D4594[1191694], "T");
      *(_WORD *)&byte_5D4594[1191696] = 0;
      strcpy((char *)&byte_5D4594[1191704], "u");
      strcpy((char *)&byte_5D4594[1191706], "U");
      *(_WORD *)&byte_5D4594[1191708] = 0;
      strcpy((char *)&byte_5D4594[1191854], "v");
      strcpy((char *)&byte_5D4594[1191856], "V");
      *(_WORD *)&byte_5D4594[1191858] = 0;
      strcpy((char *)&byte_5D4594[1191674], "w");
      strcpy((char *)&byte_5D4594[1191676], "W");
      *(_WORD *)&byte_5D4594[1191678] = 0;
      strcpy((char *)&byte_5D4594[1191842], "x");
      strcpy((char *)&byte_5D4594[1191844], "X");
      *(_WORD *)&byte_5D4594[1191846] = 0;
      strcpy((char *)&byte_5D4594[1191698], "y");
      strcpy((char *)&byte_5D4594[1191700], "Y");
      *(_WORD *)&byte_5D4594[1191702] = 0;
      strcpy((char *)&byte_5D4594[1191836], "z");
      strcpy((char *)&byte_5D4594[1191838], "Z");
      *(_WORD *)&byte_5D4594[1191840] = 0;
      strcpy((char *)&byte_5D4594[1191584], "1");
      strcpy((char *)&byte_5D4594[1191586], "!");
      *(_WORD *)&byte_5D4594[1191588] = 0;
      strcpy((char *)&byte_5D4594[1191590], "2");
      strcpy((char *)&byte_5D4594[1191592], "@");
      *(_WORD *)&byte_5D4594[1191594] = 0;
      strcpy((char *)&byte_5D4594[1191596], "3");
      strcpy((char *)&byte_5D4594[1191598], "#");
      *(_WORD *)&byte_5D4594[1191600] = 0;
      strcpy((char *)&byte_5D4594[1191602], "4");
      strcpy((char *)&byte_5D4594[1191604], "$");
      *(_WORD *)&byte_5D4594[1191606] = 0;
      strcpy((char *)&byte_5D4594[1191608], "5");
      strcpy((char *)&byte_5D4594[1191610], "%");
      *(_WORD *)&byte_5D4594[1191612] = 0;
      strcpy((char *)&byte_5D4594[1191614], "6");
      strcpy((char *)&byte_5D4594[1191616], "^");
      *(_WORD *)&byte_5D4594[1191618] = 0;
      strcpy((char *)&byte_5D4594[1191620], "7");
      strcpy((char *)&byte_5D4594[1191622], "&");
      *(_WORD *)&byte_5D4594[1191624] = 0;
      strcpy((char *)&byte_5D4594[1191626], "8");
      *(_WORD *)&byte_5D4594[1191628] = *(_WORD *)&byte_5D4594[1191902];
      *(_WORD *)&byte_5D4594[1191630] = 0;
      strcpy((char *)&byte_5D4594[1191632], "9");
      strcpy((char *)&byte_5D4594[1191634], "(");
      *(_WORD *)&byte_5D4594[1191636] = 0;
      strcpy((char *)&byte_5D4594[1191638], "0");
      strcpy((char *)&byte_5D4594[1191640], ")");
      *(_WORD *)&byte_5D4594[1191642] = 0;
      strcpy((char *)&byte_5D4594[1191878], ",");
      strcpy((char *)&byte_5D4594[1191880], "<");
      *(_WORD *)&byte_5D4594[1191882] = 0;
      *(_WORD *)&byte_5D4594[1191884] = *(_WORD *)&byte_5D4594[1192070];
      strcpy((char *)&byte_5D4594[1191886], ">");
      *(_WORD *)&byte_5D4594[1191888] = 0;
      *(_WORD *)&byte_5D4594[1191890] = *(_WORD *)&byte_5D4594[1192658];
      strcpy((char *)&byte_5D4594[1191892], "?");
      *(_WORD *)&byte_5D4594[1191894] = 0;
      strcpy((char *)&byte_5D4594[1191728], "[");
      strcpy((char *)&byte_5D4594[1191730], "{");
      *(_WORD *)&byte_5D4594[1191732] = 0;
      strcpy((char *)&byte_5D4594[1191734], "]");
      strcpy((char *)&byte_5D4594[1191736], "}");
      *(_WORD *)&byte_5D4594[1191738] = 0;
      strcpy((char *)&byte_5D4594[1191806], ";");
      strcpy((char *)&byte_5D4594[1191808], ":");
      *(_WORD *)&byte_5D4594[1191810] = 0;
      strcpy((char *)&byte_5D4594[1191812], "'");
      strcpy((char *)&byte_5D4594[1191814], "\"");
      *(_WORD *)&byte_5D4594[1191816] = 0;
      strcpy((char *)&byte_5D4594[1191818], "`");
      strcpy((char *)&byte_5D4594[1191820], "~");
      *(_WORD *)&byte_5D4594[1191822] = 0;
      strcpy((char *)&byte_5D4594[1191830], "\\");
      strcpy((char *)&byte_5D4594[1191832], "|");
      *(_WORD *)&byte_5D4594[1191834] = 0;
      *(_WORD *)&byte_5D4594[1191644] = *(_WORD *)&byte_5D4594[1192016];
      strcpy((char *)&byte_5D4594[1191646], "_");
      *(_WORD *)&byte_5D4594[1191648] = 0;
      strcpy((char *)&byte_5D4594[1191650], "=");
      *(_WORD *)&byte_5D4594[1191652] = *(_WORD *)&byte_5D4594[1192040];
      *(_WORD *)&byte_5D4594[1191654] = 0;
      break;
    case 1:
      strcpy((char *)&byte_5D4594[1192508], "\n");
      strcpy((char *)&byte_5D4594[1192510], "\n");
      strcpy((char *)&byte_5D4594[1192016], "-");
      *(_WORD *)&byte_5D4594[1192018] = *(_WORD *)&byte_5D4594[1192016];
      *(_WORD *)&byte_5D4594[1192020] = 0;
      strcpy((char *)&byte_5D4594[1192040], "+");
      *(_WORD *)&byte_5D4594[1192042] = *(_WORD *)&byte_5D4594[1192040];
      *(_WORD *)&byte_5D4594[1192044] = 0;
      *(_WORD *)&byte_5D4594[1192512] = 0;
      strcpy((char *)&byte_5D4594[1192658], "/");
      *(_WORD *)&byte_5D4594[1192660] = *(_WORD *)&byte_5D4594[1192658];
      *(_WORD *)&byte_5D4594[1192662] = 0;
      strcpy((char *)&byte_5D4594[1192070], ".");
      *(_WORD *)&byte_5D4594[1192072] = *(_WORD *)&byte_5D4594[1192070];
      *(_WORD *)&byte_5D4594[1192074] = 0;
      strcpy((char *)&byte_5D4594[1191902], "*");
      *(_WORD *)&byte_5D4594[1191904] = *(_WORD *)&byte_5D4594[1191902];
      *(_WORD *)&byte_5D4594[1191906] = 0;
      strcpy((char *)&byte_5D4594[1191752], "a");
      strcpy((char *)&byte_5D4594[1191754], "A");
      *(_WORD *)&byte_5D4594[1191756] = 0;
      strcpy((char *)&byte_5D4594[1191860], "b");
      strcpy((char *)&byte_5D4594[1191862], "B");
      *(_WORD *)&byte_5D4594[1191864] = 0;
      strcpy((char *)&byte_5D4594[1191848], "c");
      strcpy((char *)&byte_5D4594[1191850], "C");
      *(_WORD *)&byte_5D4594[1191852] = 0;
      strcpy((char *)&byte_5D4594[1191764], "d");
      strcpy((char *)&byte_5D4594[1191766], "D");
      *(_WORD *)&byte_5D4594[1191768] = 0;
      strcpy((char *)&byte_5D4594[1191680], "e");
      strcpy((char *)&byte_5D4594[1191682], "E");
      *(_WORD *)&byte_5D4594[1191684] = 0;
      strcpy((char *)&byte_5D4594[1191770], "f");
      strcpy((char *)&byte_5D4594[1191772], "F");
      *(_WORD *)&byte_5D4594[1191774] = 0;
      strcpy((char *)&byte_5D4594[1191776], "g");
      strcpy((char *)&byte_5D4594[1191778], "G");
      *(_WORD *)&byte_5D4594[1191780] = 0;
      strcpy((char *)&byte_5D4594[1191782], "h");
      strcpy((char *)&byte_5D4594[1191784], "H");
      *(_WORD *)&byte_5D4594[1191786] = 0;
      strcpy((char *)&byte_5D4594[1191710], "i");
      strcpy((char *)&byte_5D4594[1191712], "I");
      *(_WORD *)&byte_5D4594[1191714] = 0;
      strcpy((char *)&byte_5D4594[1191788], "j");
      strcpy((char *)&byte_5D4594[1191790], "J");
      *(_WORD *)&byte_5D4594[1191792] = 0;
      strcpy((char *)&byte_5D4594[1191794], "k");
      strcpy((char *)&byte_5D4594[1191796], "K");
      *(_WORD *)&byte_5D4594[1191798] = 0;
      strcpy((char *)&byte_5D4594[1191800], "l");
      strcpy((char *)&byte_5D4594[1191802], "L");
      *(_WORD *)&byte_5D4594[1191804] = 0;
      strcpy((char *)&byte_5D4594[1191872], "m");
      strcpy((char *)&byte_5D4594[1191874], "M");
      *(_WORD *)&byte_5D4594[1191876] = 0;
      strcpy((char *)&byte_5D4594[1191866], "n");
      strcpy((char *)&byte_5D4594[1191868], "N");
      *(_WORD *)&byte_5D4594[1191870] = 0;
      strcpy((char *)&byte_5D4594[1191716], "o");
      strcpy((char *)&byte_5D4594[1191718], "O");
      *(_WORD *)&byte_5D4594[1191720] = 0;
      strcpy((char *)&byte_5D4594[1191722], "p");
      strcpy((char *)&byte_5D4594[1191724], "P");
      *(_WORD *)&byte_5D4594[1191726] = 0;
      strcpy((char *)&byte_5D4594[1191668], "q");
      strcpy((char *)&byte_5D4594[1191670], "Q");
      *(_WORD *)&byte_5D4594[1191672] = 0;
      strcpy((char *)&byte_5D4594[1191686], "r");
      strcpy((char *)&byte_5D4594[1191688], "R");
      *(_WORD *)&byte_5D4594[1191690] = 0;
      strcpy((char *)&byte_5D4594[1191758], "s");
      strcpy((char *)&byte_5D4594[1191760], "S");
      *(_WORD *)&byte_5D4594[1191762] = 0;
      strcpy((char *)&byte_5D4594[1191692], "t");
      strcpy((char *)&byte_5D4594[1191694], "T");
      *(_WORD *)&byte_5D4594[1191696] = 0;
      strcpy((char *)&byte_5D4594[1191704], "u");
      strcpy((char *)&byte_5D4594[1191706], "U");
      *(_WORD *)&byte_5D4594[1191708] = 0;
      strcpy((char *)&byte_5D4594[1191854], "v");
      strcpy((char *)&byte_5D4594[1191856], "V");
      *(_WORD *)&byte_5D4594[1191858] = 0;
      strcpy((char *)&byte_5D4594[1191674], "w");
      strcpy((char *)&byte_5D4594[1191676], "W");
      *(_WORD *)&byte_5D4594[1191678] = 0;
      strcpy((char *)&byte_5D4594[1191842], "x");
      strcpy((char *)&byte_5D4594[1191844], "X");
      *(_WORD *)&byte_5D4594[1191846] = 0;
      strcpy((char *)&byte_5D4594[1191698], "y");
      strcpy((char *)&byte_5D4594[1191700], "Y");
      *(_WORD *)&byte_5D4594[1191702] = 0;
      strcpy((char *)&byte_5D4594[1191836], "z");
      strcpy((char *)&byte_5D4594[1191838], "Z");
      *(_WORD *)&byte_5D4594[1191840] = 0;
      strcpy((char *)&byte_5D4594[1191584], "1");
      strcpy((char *)&byte_5D4594[1191586], "!");
      *(_WORD *)&byte_5D4594[1191588] = 0;
      strcpy((char *)&byte_5D4594[1191590], "2");
      strcpy((char *)&byte_5D4594[1191592], "\"");
      *(_WORD *)&byte_5D4594[1191594] = 0;
      strcpy((char *)&byte_5D4594[1191596], "3");
      *(_WORD *)&byte_5D4594[1191598] = 163;
      *(_WORD *)&byte_5D4594[1191600] = 0;
      strcpy((char *)&byte_5D4594[1191602], "4");
      strcpy((char *)&byte_5D4594[1191604], "$");
      *(_WORD *)&byte_5D4594[1191606] = 8364;
      strcpy((char *)&byte_5D4594[1191608], "5");
      strcpy((char *)&byte_5D4594[1191610], "%");
      *(_WORD *)&byte_5D4594[1191612] = 0;
      strcpy((char *)&byte_5D4594[1191614], "6");
      strcpy((char *)&byte_5D4594[1191616], "^");
      *(_WORD *)&byte_5D4594[1191618] = 0;
      strcpy((char *)&byte_5D4594[1191620], "7");
      strcpy((char *)&byte_5D4594[1191622], "&");
      *(_WORD *)&byte_5D4594[1191624] = 0;
      strcpy((char *)&byte_5D4594[1191626], "8");
      *(_WORD *)&byte_5D4594[1191628] = *(_WORD *)&byte_5D4594[1191902];
      *(_WORD *)&byte_5D4594[1191630] = 0;
      strcpy((char *)&byte_5D4594[1191632], "9");
      strcpy((char *)&byte_5D4594[1191634], "(");
      *(_WORD *)&byte_5D4594[1191636] = 0;
      strcpy((char *)&byte_5D4594[1191638], "0");
      strcpy((char *)&byte_5D4594[1191640], ")");
      *(_WORD *)&byte_5D4594[1191642] = 0;
      strcpy((char *)&byte_5D4594[1191878], ",");
      strcpy((char *)&byte_5D4594[1191880], "<");
      *(_WORD *)&byte_5D4594[1191882] = 0;
      *(_WORD *)&byte_5D4594[1191884] = *(_WORD *)&byte_5D4594[1192070];
      strcpy((char *)&byte_5D4594[1191886], ">");
      *(_WORD *)&byte_5D4594[1191888] = 0;
      *(_WORD *)&byte_5D4594[1191890] = *(_WORD *)&byte_5D4594[1192658];
      strcpy((char *)&byte_5D4594[1191892], "?");
      *(_WORD *)&byte_5D4594[1191894] = 0;
      strcpy((char *)&byte_5D4594[1191728], "[");
      strcpy((char *)&byte_5D4594[1191730], "{");
      *(_WORD *)&byte_5D4594[1191732] = 0;
      strcpy((char *)&byte_5D4594[1191734], "]");
      strcpy((char *)&byte_5D4594[1191736], "}");
      *(_WORD *)&byte_5D4594[1191738] = 0;
      strcpy((char *)&byte_5D4594[1191806], ";");
      strcpy((char *)&byte_5D4594[1191808], ":");
      *(_WORD *)&byte_5D4594[1191810] = 0;
      strcpy((char *)&byte_5D4594[1191812], "'");
      strcpy((char *)&byte_5D4594[1191814], "@");
      *(_WORD *)&byte_5D4594[1191816] = 0;
      strcpy((char *)&byte_5D4594[1191818], "`");
      *(_WORD *)&byte_5D4594[1191820] = 172;
      *(_WORD *)&byte_5D4594[1191822] = 166;
      strcpy((char *)&byte_5D4594[1191830], "#");
      strcpy((char *)&byte_5D4594[1191832], "~");
      *(_WORD *)&byte_5D4594[1191834] = 0;
      *(_WORD *)&byte_5D4594[1191644] = *(_WORD *)&byte_5D4594[1192016];
      strcpy((char *)&byte_5D4594[1191646], "_");
      *(_WORD *)&byte_5D4594[1191648] = 0;
      strcpy((char *)&byte_5D4594[1191650], "=");
      *(_WORD *)&byte_5D4594[1191652] = *(_WORD *)&byte_5D4594[1192040];
      *(_WORD *)&byte_5D4594[1191654] = 0;
      strcpy((char *)&byte_5D4594[1192088], "\\");
      strcpy((char *)&byte_5D4594[1192090], "|");
      *(_WORD *)&byte_5D4594[1192092] = 0;
      byte_5D4594[1193144] = -72;
      break;
    case 2:
      strcpy((char *)&byte_5D4594[1192508], "\n");
      strcpy((char *)&byte_5D4594[1192510], "\n");
      strcpy((char *)&byte_5D4594[1192016], "-");
      *(_WORD *)&byte_5D4594[1192018] = *(_WORD *)&byte_5D4594[1192016];
      *(_WORD *)&byte_5D4594[1192020] = 0;
      strcpy((char *)&byte_5D4594[1192040], "+");
      *(_WORD *)&byte_5D4594[1192042] = *(_WORD *)&byte_5D4594[1192040];
      *(_WORD *)&byte_5D4594[1192044] = 0;
      *(_WORD *)&byte_5D4594[1192512] = 0;
      strcpy((char *)&byte_5D4594[1192658], "/");
      *(_WORD *)&byte_5D4594[1192660] = *(_WORD *)&byte_5D4594[1192658];
      *(_WORD *)&byte_5D4594[1192662] = 0;
      strcpy((char *)&byte_5D4594[1192070], ",");
      *(_WORD *)&byte_5D4594[1192072] = *(_WORD *)&byte_5D4594[1192070];
      *(_WORD *)&byte_5D4594[1192074] = 0;
      strcpy((char *)&byte_5D4594[1191902], "*");
      *(_WORD *)&byte_5D4594[1191904] = *(_WORD *)&byte_5D4594[1191902];
      *(_WORD *)&byte_5D4594[1191906] = 0;
      strcpy((char *)&byte_5D4594[1191752], "a");
      strcpy((char *)&byte_5D4594[1191754], "A");
      *(_WORD *)&byte_5D4594[1191756] = 0;
      strcpy((char *)&byte_5D4594[1191860], "b");
      strcpy((char *)&byte_5D4594[1191862], "B");
      *(_WORD *)&byte_5D4594[1191864] = 0;
      strcpy((char *)&byte_5D4594[1191848], "c");
      strcpy((char *)&byte_5D4594[1191850], "C");
      *(_WORD *)&byte_5D4594[1191852] = 0;
      strcpy((char *)&byte_5D4594[1191764], "d");
      strcpy((char *)&byte_5D4594[1191766], "D");
      *(_WORD *)&byte_5D4594[1191768] = 0;
      strcpy((char *)&byte_5D4594[1191680], "e");
      strcpy((char *)&byte_5D4594[1191682], "E");
      *(_WORD *)&byte_5D4594[1191684] = 0;
      strcpy((char *)&byte_5D4594[1191770], "f");
      strcpy((char *)&byte_5D4594[1191772], "F");
      *(_WORD *)&byte_5D4594[1191774] = 0;
      strcpy((char *)&byte_5D4594[1191776], "g");
      strcpy((char *)&byte_5D4594[1191778], "G");
      *(_WORD *)&byte_5D4594[1191780] = 0;
      strcpy((char *)&byte_5D4594[1191782], "h");
      strcpy((char *)&byte_5D4594[1191784], "H");
      *(_WORD *)&byte_5D4594[1191786] = 0;
      strcpy((char *)&byte_5D4594[1191710], "i");
      strcpy((char *)&byte_5D4594[1191712], "I");
      *(_WORD *)&byte_5D4594[1191714] = 0;
      strcpy((char *)&byte_5D4594[1191788], "j");
      strcpy((char *)&byte_5D4594[1191790], "J");
      *(_WORD *)&byte_5D4594[1191792] = 0;
      strcpy((char *)&byte_5D4594[1191794], "k");
      strcpy((char *)&byte_5D4594[1191796], "K");
      *(_WORD *)&byte_5D4594[1191798] = 0;
      strcpy((char *)&byte_5D4594[1191800], "l");
      strcpy((char *)&byte_5D4594[1191802], "L");
      *(_WORD *)&byte_5D4594[1191804] = 0;
      strcpy((char *)&byte_5D4594[1191872], "m");
      strcpy((char *)&byte_5D4594[1191874], "M");
      strcpy((char *)&byte_5D4594[1191876], "");
      strcpy((char *)&byte_5D4594[1191866], "n");
      strcpy((char *)&byte_5D4594[1191868], "N");
      *(_WORD *)&byte_5D4594[1191870] = 0;
      strcpy((char *)&byte_5D4594[1191716], "o");
      strcpy((char *)&byte_5D4594[1191718], "O");
      *(_WORD *)&byte_5D4594[1191720] = 0;
      strcpy((char *)&byte_5D4594[1191722], "p");
      strcpy((char *)&byte_5D4594[1191724], "P");
      *(_WORD *)&byte_5D4594[1191726] = 0;
      strcpy((char *)&byte_5D4594[1191668], "q");
      strcpy((char *)&byte_5D4594[1191670], "Q");
      strcpy((char *)&byte_5D4594[1191672], "@");
      strcpy((char *)&byte_5D4594[1191686], "r");
      strcpy((char *)&byte_5D4594[1191688], "R");
      *(_WORD *)&byte_5D4594[1191690] = 0;
      strcpy((char *)&byte_5D4594[1191758], "s");
      strcpy((char *)&byte_5D4594[1191760], "S");
      *(_WORD *)&byte_5D4594[1191762] = 0;
      strcpy((char *)&byte_5D4594[1191692], "t");
      strcpy((char *)&byte_5D4594[1191694], "T");
      *(_WORD *)&byte_5D4594[1191696] = 0;
      strcpy((char *)&byte_5D4594[1191704], "u");
      strcpy((char *)&byte_5D4594[1191706], "U");
      *(_WORD *)&byte_5D4594[1191708] = 0;
      strcpy((char *)&byte_5D4594[1191854], "v");
      strcpy((char *)&byte_5D4594[1191856], "V");
      *(_WORD *)&byte_5D4594[1191858] = 0;
      strcpy((char *)&byte_5D4594[1191674], "w");
      strcpy((char *)&byte_5D4594[1191676], "W");
      *(_WORD *)&byte_5D4594[1191678] = 0;
      strcpy((char *)&byte_5D4594[1191842], "x");
      strcpy((char *)&byte_5D4594[1191844], "X");
      *(_WORD *)&byte_5D4594[1191846] = 0;
      strcpy((char *)&byte_5D4594[1191698], "z");
      strcpy((char *)&byte_5D4594[1191700], "Z");
      *(_WORD *)&byte_5D4594[1191702] = 0;
      strcpy((char *)&byte_5D4594[1191836], "y");
      strcpy((char *)&byte_5D4594[1191838], "Y");
      *(_WORD *)&byte_5D4594[1191840] = 0;
      strcpy((char *)&byte_5D4594[1191584], "1");
      strcpy((char *)&byte_5D4594[1191586], "!");
      *(_WORD *)&byte_5D4594[1191588] = 0;
      strcpy((char *)&byte_5D4594[1191590], "2");
      strcpy((char *)&byte_5D4594[1191592], "\"");
      *(_WORD *)&byte_5D4594[1191594] = 178;
      strcpy((char *)&byte_5D4594[1191596], "3");
      *(_WORD *)&byte_5D4594[1191598] = 167;
      *(_WORD *)&byte_5D4594[1191600] = 179;
      strcpy((char *)&byte_5D4594[1191602], "4");
      strcpy((char *)&byte_5D4594[1191604], "$");
      *(_WORD *)&byte_5D4594[1191606] = 0;
      strcpy((char *)&byte_5D4594[1191608], "5");
      strcpy((char *)&byte_5D4594[1191610], "%");
      *(_WORD *)&byte_5D4594[1191612] = 0;
      strcpy((char *)&byte_5D4594[1191614], "6");
      strcpy((char *)&byte_5D4594[1191616], "&");
      *(_WORD *)&byte_5D4594[1191618] = 0;
      strcpy((char *)&byte_5D4594[1191620], "7");
      *(_WORD *)&byte_5D4594[1191622] = *(_WORD *)&byte_5D4594[1192658];
      strcpy((char *)&byte_5D4594[1191624], "{");
      strcpy((char *)&byte_5D4594[1191626], "8");
      strcpy((char *)&byte_5D4594[1191628], "(");
      strcpy((char *)&byte_5D4594[1191630], "[");
      strcpy((char *)&byte_5D4594[1191632], "9");
      strcpy((char *)&byte_5D4594[1191634], ")");
      strcpy((char *)&byte_5D4594[1191636], "]");
      strcpy((char *)&byte_5D4594[1191638], "0");
      strcpy((char *)&byte_5D4594[1191640], "=");
      strcpy((char *)&byte_5D4594[1191642], "}");
      *(_WORD *)&byte_5D4594[1191878] = *(_WORD *)&byte_5D4594[1192070];
      strcpy((char *)&byte_5D4594[1191880], ";");
      *(_WORD *)&byte_5D4594[1191882] = 0;
      strcpy((char *)&byte_5D4594[1191884], ".");
      strcpy((char *)&byte_5D4594[1191886], ":");
      *(_WORD *)&byte_5D4594[1191888] = 0;
      *(_WORD *)&byte_5D4594[1191890] = *(_WORD *)&byte_5D4594[1192016];
      strcpy((char *)&byte_5D4594[1191892], "_");
      *(_WORD *)&byte_5D4594[1191894] = 0;
      strcpy((char *)&byte_5D4594[1191728], "");
      strcpy((char *)&byte_5D4594[1191730], "");
      *(_WORD *)&byte_5D4594[1191732] = 0;
      *(_WORD *)&byte_5D4594[1191734] = *(_WORD *)&byte_5D4594[1192040];
      *(_WORD *)&byte_5D4594[1191736] = *(_WORD *)&byte_5D4594[1191902];
      strcpy((char *)&byte_5D4594[1191738], "~");
      strcpy((char *)&byte_5D4594[1191806], "");
      strcpy((char *)&byte_5D4594[1191808], "");
      *(_WORD *)&byte_5D4594[1191810] = 0;
      strcpy((char *)&byte_5D4594[1191812], "");
      strcpy((char *)&byte_5D4594[1191814], "");
      *(_WORD *)&byte_5D4594[1191816] = 0;
      strcpy((char *)&byte_5D4594[1191818], "^");
      strcpy((char *)&byte_5D4594[1191820], "");
      *(_WORD *)&byte_5D4594[1191822] = 0;
      strcpy((char *)&byte_5D4594[1191830], "#");
      strcpy((char *)&byte_5D4594[1191832], "'");
      *(_WORD *)&byte_5D4594[1191834] = 0;
      strcpy((char *)&byte_5D4594[1191644], "");
      strcpy((char *)&byte_5D4594[1191646], "?");
      strcpy((char *)&byte_5D4594[1191648], "\\");
      *(_WORD *)&byte_5D4594[1191650] = 180;
      strcpy((char *)&byte_5D4594[1191652], "`");
      *(_WORD *)&byte_5D4594[1191654] = 0;
      strcpy((char *)&byte_5D4594[1192088], "<");
      strcpy((char *)&byte_5D4594[1192090], ">");
      strcpy((char *)&byte_5D4594[1192092], "|");
      byte_5D4594[1193144] = -72;
      break;
    case 3:
      strcpy((char *)&byte_5D4594[1192508], "\n");
      strcpy((char *)&byte_5D4594[1192510], "\n");
      strcpy((char *)&byte_5D4594[1192016], "-");
      *(_WORD *)&byte_5D4594[1192018] = *(_WORD *)&byte_5D4594[1192016];
      *(_WORD *)&byte_5D4594[1192020] = 0;
      strcpy((char *)&byte_5D4594[1192040], "+");
      *(_WORD *)&byte_5D4594[1192042] = *(_WORD *)&byte_5D4594[1192040];
      *(_WORD *)&byte_5D4594[1192044] = 0;
      *(_WORD *)&byte_5D4594[1192512] = 0;
      strcpy((char *)&byte_5D4594[1192658], "/");
      *(_WORD *)&byte_5D4594[1192660] = *(_WORD *)&byte_5D4594[1192658];
      *(_WORD *)&byte_5D4594[1192662] = 0;
      strcpy((char *)&byte_5D4594[1192070], ".");
      *(_WORD *)&byte_5D4594[1192072] = *(_WORD *)&byte_5D4594[1192070];
      *(_WORD *)&byte_5D4594[1192074] = 0;
      strcpy((char *)&byte_5D4594[1191902], "*");
      *(_WORD *)&byte_5D4594[1191904] = *(_WORD *)&byte_5D4594[1191902];
      *(_WORD *)&byte_5D4594[1191906] = 0;
      strcpy((char *)&byte_5D4594[1191752], "q");
      strcpy((char *)&byte_5D4594[1191754], "Q");
      *(_WORD *)&byte_5D4594[1191756] = 0;
      strcpy((char *)&byte_5D4594[1191860], "b");
      strcpy((char *)&byte_5D4594[1191862], "B");
      *(_WORD *)&byte_5D4594[1191864] = 0;
      strcpy((char *)&byte_5D4594[1191848], "c");
      strcpy((char *)&byte_5D4594[1191850], "C");
      *(_WORD *)&byte_5D4594[1191852] = 0;
      strcpy((char *)&byte_5D4594[1191764], "d");
      strcpy((char *)&byte_5D4594[1191766], "D");
      *(_WORD *)&byte_5D4594[1191768] = 0;
      strcpy((char *)&byte_5D4594[1191680], "e");
      strcpy((char *)&byte_5D4594[1191682], "E");
      *(_WORD *)&byte_5D4594[1191684] = 0;
      strcpy((char *)&byte_5D4594[1191770], "f");
      strcpy((char *)&byte_5D4594[1191772], "F");
      *(_WORD *)&byte_5D4594[1191774] = 0;
      strcpy((char *)&byte_5D4594[1191776], "g");
      strcpy((char *)&byte_5D4594[1191778], "G");
      *(_WORD *)&byte_5D4594[1191780] = 0;
      strcpy((char *)&byte_5D4594[1191782], "h");
      strcpy((char *)&byte_5D4594[1191784], "H");
      *(_WORD *)&byte_5D4594[1191786] = 0;
      strcpy((char *)&byte_5D4594[1191710], "i");
      strcpy((char *)&byte_5D4594[1191712], "I");
      *(_WORD *)&byte_5D4594[1191714] = 0;
      strcpy((char *)&byte_5D4594[1191788], "j");
      strcpy((char *)&byte_5D4594[1191790], "J");
      *(_WORD *)&byte_5D4594[1191792] = 0;
      strcpy((char *)&byte_5D4594[1191794], "k");
      strcpy((char *)&byte_5D4594[1191796], "K");
      *(_WORD *)&byte_5D4594[1191798] = 0;
      strcpy((char *)&byte_5D4594[1191800], "l");
      strcpy((char *)&byte_5D4594[1191802], "L");
      *(_WORD *)&byte_5D4594[1191804] = 0;
      strcpy((char *)&byte_5D4594[1191872], ",");
      strcpy((char *)&byte_5D4594[1191874], "?");
      *(_WORD *)&byte_5D4594[1191876] = 0;
      strcpy((char *)&byte_5D4594[1191866], "n");
      strcpy((char *)&byte_5D4594[1191868], "N");
      *(_WORD *)&byte_5D4594[1191870] = 0;
      strcpy((char *)&byte_5D4594[1191716], "o");
      strcpy((char *)&byte_5D4594[1191718], "O");
      *(_WORD *)&byte_5D4594[1191720] = 0;
      strcpy((char *)&byte_5D4594[1191722], "p");
      strcpy((char *)&byte_5D4594[1191724], "P");
      *(_WORD *)&byte_5D4594[1191726] = 0;
      strcpy((char *)&byte_5D4594[1191668], "a");
      strcpy((char *)&byte_5D4594[1191670], "A");
      *(_WORD *)&byte_5D4594[1191672] = 0;
      strcpy((char *)&byte_5D4594[1191686], "r");
      strcpy((char *)&byte_5D4594[1191688], "R");
      *(_WORD *)&byte_5D4594[1191690] = 0;
      strcpy((char *)&byte_5D4594[1191758], "s");
      strcpy((char *)&byte_5D4594[1191760], "S");
      *(_WORD *)&byte_5D4594[1191762] = 0;
      strcpy((char *)&byte_5D4594[1191692], "t");
      strcpy((char *)&byte_5D4594[1191694], "T");
      *(_WORD *)&byte_5D4594[1191696] = 0;
      strcpy((char *)&byte_5D4594[1191704], "u");
      strcpy((char *)&byte_5D4594[1191706], "U");
      *(_WORD *)&byte_5D4594[1191708] = 0;
      strcpy((char *)&byte_5D4594[1191854], "v");
      strcpy((char *)&byte_5D4594[1191856], "V");
      *(_WORD *)&byte_5D4594[1191858] = 0;
      strcpy((char *)&byte_5D4594[1191674], "z");
      strcpy((char *)&byte_5D4594[1191676], "Z");
      *(_WORD *)&byte_5D4594[1191678] = 0;
      strcpy((char *)&byte_5D4594[1191842], "x");
      strcpy((char *)&byte_5D4594[1191844], "X");
      *(_WORD *)&byte_5D4594[1191846] = 0;
      strcpy((char *)&byte_5D4594[1191698], "y");
      strcpy((char *)&byte_5D4594[1191700], "Y");
      *(_WORD *)&byte_5D4594[1191702] = 0;
      strcpy((char *)&byte_5D4594[1191836], "w");
      strcpy((char *)&byte_5D4594[1191838], "W");
      *(_WORD *)&byte_5D4594[1191840] = 0;
      strcpy((char *)&byte_5D4594[1191584], "&");
      strcpy((char *)&byte_5D4594[1191586], "1");
      *(_WORD *)&byte_5D4594[1191588] = 0;
      strcpy((char *)&byte_5D4594[1191590], "");
      strcpy((char *)&byte_5D4594[1191592], "2");
      strcpy((char *)&byte_5D4594[1191594], "~");
      strcpy((char *)&byte_5D4594[1191596], "\"");
      strcpy((char *)&byte_5D4594[1191598], "3");
      strcpy((char *)&byte_5D4594[1191600], "#");
      strcpy((char *)&byte_5D4594[1191602], "'");
      strcpy((char *)&byte_5D4594[1191604], "4");
      strcpy((char *)&byte_5D4594[1191606], "{");
      strcpy((char *)&byte_5D4594[1191608], "(");
      strcpy((char *)&byte_5D4594[1191610], "5");
      strcpy((char *)&byte_5D4594[1191612], "[");
      *(_WORD *)&byte_5D4594[1191614] = *(_WORD *)&byte_5D4594[1192016];
      strcpy((char *)&byte_5D4594[1191616], "6");
      strcpy((char *)&byte_5D4594[1191618], "|");
      strcpy((char *)&byte_5D4594[1191620], "");
      strcpy((char *)&byte_5D4594[1191622], "7");
      strcpy((char *)&byte_5D4594[1191624], "`");
      strcpy((char *)&byte_5D4594[1191626], "_");
      strcpy((char *)&byte_5D4594[1191628], "8");
      strcpy((char *)&byte_5D4594[1191630], "\\");
      strcpy((char *)&byte_5D4594[1191632], "");
      strcpy((char *)&byte_5D4594[1191634], "9");
      *(_WORD *)&byte_5D4594[1191636] = 0;
      strcpy((char *)&byte_5D4594[1191638], "");
      strcpy((char *)&byte_5D4594[1191640], "0");
      strcpy((char *)&byte_5D4594[1191642], "@");
      strcpy((char *)&byte_5D4594[1191878], ";");
      *(_WORD *)&byte_5D4594[1191880] = *(_WORD *)&byte_5D4594[1192070];
      *(_WORD *)&byte_5D4594[1191882] = 0;
      strcpy((char *)&byte_5D4594[1191884], ":");
      *(_WORD *)&byte_5D4594[1191886] = *(_WORD *)&byte_5D4594[1192658];
      *(_WORD *)&byte_5D4594[1191888] = 0;
      strcpy((char *)&byte_5D4594[1191890], "!");
      *(_WORD *)&byte_5D4594[1191892] = 167;
      *(_WORD *)&byte_5D4594[1191894] = 0;
      strcpy((char *)&byte_5D4594[1191728], "^");
      *(_WORD *)&byte_5D4594[1191730] = 168;
      *(_WORD *)&byte_5D4594[1191732] = 0;
      strcpy((char *)&byte_5D4594[1191734], "$");
      *(_WORD *)&byte_5D4594[1191736] = 163;
      *(_WORD *)&byte_5D4594[1191738] = 164;
      strcpy((char *)&byte_5D4594[1191806], "m");
      strcpy((char *)&byte_5D4594[1191808], "M");
      *(_WORD *)&byte_5D4594[1191810] = 0;
      strcpy((char *)&byte_5D4594[1191812], "");
      strcpy((char *)&byte_5D4594[1191814], "%");
      *(_WORD *)&byte_5D4594[1191816] = 0;
      *(_WORD *)&byte_5D4594[1191818] = 178;
      *(_WORD *)&byte_5D4594[1191820] = 0;
      *(_WORD *)&byte_5D4594[1191822] = 0;
      *(_WORD *)&byte_5D4594[1191830] = *(_WORD *)&byte_5D4594[1191902];
      strcpy((char *)&byte_5D4594[1191832], "");
      *(_WORD *)&byte_5D4594[1191834] = 0;
      strcpy((char *)&byte_5D4594[1191644], ")");
      strcpy((char *)&byte_5D4594[1191646], "");
      strcpy((char *)&byte_5D4594[1191648], "]");
      strcpy((char *)&byte_5D4594[1191650], "=");
      *(_WORD *)&byte_5D4594[1191652] = *(_WORD *)&byte_5D4594[1192040];
      strcpy((char *)&byte_5D4594[1191654], "}");
      goto LABEL_9;
    case 5:
      strcpy((char *)&byte_5D4594[1192508], "\n");
      strcpy((char *)&byte_5D4594[1192510], "\n");
      strcpy((char *)&byte_5D4594[1192016], "-");
      *(_WORD *)&byte_5D4594[1192018] = *(_WORD *)&byte_5D4594[1192016];
      *(_WORD *)&byte_5D4594[1192020] = 0;
      strcpy((char *)&byte_5D4594[1192040], "+");
      *(_WORD *)&byte_5D4594[1192042] = *(_WORD *)&byte_5D4594[1192040];
      *(_WORD *)&byte_5D4594[1192044] = 0;
      *(_WORD *)&byte_5D4594[1192512] = 0;
      strcpy((char *)&byte_5D4594[1192658], "/");
      *(_WORD *)&byte_5D4594[1192660] = *(_WORD *)&byte_5D4594[1192658];
      *(_WORD *)&byte_5D4594[1192662] = 0;
      strcpy((char *)&byte_5D4594[1192070], ".");
      *(_WORD *)&byte_5D4594[1192072] = *(_WORD *)&byte_5D4594[1192070];
      *(_WORD *)&byte_5D4594[1192074] = 0;
      strcpy((char *)&byte_5D4594[1191902], "*");
      *(_WORD *)&byte_5D4594[1191904] = *(_WORD *)&byte_5D4594[1191902];
      *(_WORD *)&byte_5D4594[1191906] = 0;
      strcpy((char *)&byte_5D4594[1191752], "a");
      strcpy((char *)&byte_5D4594[1191754], "A");
      *(_WORD *)&byte_5D4594[1191756] = 0;
      strcpy((char *)&byte_5D4594[1191860], "b");
      strcpy((char *)&byte_5D4594[1191862], "B");
      *(_WORD *)&byte_5D4594[1191864] = 0;
      strcpy((char *)&byte_5D4594[1191848], "c");
      strcpy((char *)&byte_5D4594[1191850], "C");
      *(_WORD *)&byte_5D4594[1191852] = 0;
      strcpy((char *)&byte_5D4594[1191764], "d");
      strcpy((char *)&byte_5D4594[1191766], "D");
      *(_WORD *)&byte_5D4594[1191768] = 0;
      strcpy((char *)&byte_5D4594[1191680], "e");
      strcpy((char *)&byte_5D4594[1191682], "E");
      *(_WORD *)&byte_5D4594[1191684] = 0;
      strcpy((char *)&byte_5D4594[1191770], "f");
      strcpy((char *)&byte_5D4594[1191772], "F");
      *(_WORD *)&byte_5D4594[1191774] = 0;
      strcpy((char *)&byte_5D4594[1191776], "g");
      strcpy((char *)&byte_5D4594[1191778], "G");
      *(_WORD *)&byte_5D4594[1191780] = 0;
      strcpy((char *)&byte_5D4594[1191782], "h");
      strcpy((char *)&byte_5D4594[1191784], "H");
      *(_WORD *)&byte_5D4594[1191786] = 0;
      strcpy((char *)&byte_5D4594[1191710], "i");
      strcpy((char *)&byte_5D4594[1191712], "I");
      *(_WORD *)&byte_5D4594[1191714] = 0;
      strcpy((char *)&byte_5D4594[1191788], "j");
      strcpy((char *)&byte_5D4594[1191790], "J");
      *(_WORD *)&byte_5D4594[1191792] = 0;
      strcpy((char *)&byte_5D4594[1191794], "k");
      strcpy((char *)&byte_5D4594[1191796], "K");
      *(_WORD *)&byte_5D4594[1191798] = 0;
      strcpy((char *)&byte_5D4594[1191800], "l");
      strcpy((char *)&byte_5D4594[1191802], "L");
      *(_WORD *)&byte_5D4594[1191804] = 0;
      strcpy((char *)&byte_5D4594[1191872], "m");
      strcpy((char *)&byte_5D4594[1191874], "M");
      *(_WORD *)&byte_5D4594[1191876] = 0;
      strcpy((char *)&byte_5D4594[1191866], "n");
      strcpy((char *)&byte_5D4594[1191868], "N");
      *(_WORD *)&byte_5D4594[1191870] = 0;
      strcpy((char *)&byte_5D4594[1191716], "o");
      strcpy((char *)&byte_5D4594[1191718], "O");
      *(_WORD *)&byte_5D4594[1191720] = 0;
      strcpy((char *)&byte_5D4594[1191722], "p");
      strcpy((char *)&byte_5D4594[1191724], "P");
      *(_WORD *)&byte_5D4594[1191726] = 0;
      strcpy((char *)&byte_5D4594[1191668], "q");
      strcpy((char *)&byte_5D4594[1191670], "Q");
      *(_WORD *)&byte_5D4594[1191672] = 0;
      strcpy((char *)&byte_5D4594[1191686], "r");
      strcpy((char *)&byte_5D4594[1191688], "R");
      *(_WORD *)&byte_5D4594[1191690] = 0;
      strcpy((char *)&byte_5D4594[1191758], "s");
      strcpy((char *)&byte_5D4594[1191760], "S");
      *(_WORD *)&byte_5D4594[1191762] = 0;
      strcpy((char *)&byte_5D4594[1191692], "t");
      strcpy((char *)&byte_5D4594[1191694], "T");
      *(_WORD *)&byte_5D4594[1191696] = 0;
      strcpy((char *)&byte_5D4594[1191704], "u");
      strcpy((char *)&byte_5D4594[1191706], "U");
      *(_WORD *)&byte_5D4594[1191708] = 0;
      strcpy((char *)&byte_5D4594[1191854], "v");
      strcpy((char *)&byte_5D4594[1191856], "V");
      *(_WORD *)&byte_5D4594[1191858] = 0;
      strcpy((char *)&byte_5D4594[1191674], "w");
      strcpy((char *)&byte_5D4594[1191676], "W");
      *(_WORD *)&byte_5D4594[1191678] = 0;
      strcpy((char *)&byte_5D4594[1191842], "x");
      strcpy((char *)&byte_5D4594[1191844], "X");
      *(_WORD *)&byte_5D4594[1191846] = 0;
      strcpy((char *)&byte_5D4594[1191698], "y");
      strcpy((char *)&byte_5D4594[1191700], "Y");
      *(_WORD *)&byte_5D4594[1191702] = 0;
      strcpy((char *)&byte_5D4594[1191836], "z");
      strcpy((char *)&byte_5D4594[1191838], "Z");
      *(_WORD *)&byte_5D4594[1191840] = 0;
      strcpy((char *)&byte_5D4594[1191584], "1");
      strcpy((char *)&byte_5D4594[1191586], "!");
      *(_WORD *)&byte_5D4594[1191588] = 0;
      strcpy((char *)&byte_5D4594[1191590], "2");
      strcpy((char *)&byte_5D4594[1191592], "\"");
      *(_WORD *)&byte_5D4594[1191594] = 0;
      strcpy((char *)&byte_5D4594[1191596], "3");
      *(_WORD *)&byte_5D4594[1191598] = 163;
      *(_WORD *)&byte_5D4594[1191600] = 0;
      strcpy((char *)&byte_5D4594[1191602], "4");
      strcpy((char *)&byte_5D4594[1191604], "$");
      *(_WORD *)&byte_5D4594[1191606] = 0;
      strcpy((char *)&byte_5D4594[1191608], "5");
      strcpy((char *)&byte_5D4594[1191610], "%");
      *(_WORD *)&byte_5D4594[1191612] = 0;
      strcpy((char *)&byte_5D4594[1191614], "6");
      strcpy((char *)&byte_5D4594[1191616], "&");
      *(_WORD *)&byte_5D4594[1191618] = 0;
      strcpy((char *)&byte_5D4594[1191620], "7");
      *(_WORD *)&byte_5D4594[1191622] = *(_WORD *)&byte_5D4594[1192658];
      *(_WORD *)&byte_5D4594[1191624] = 0;
      strcpy((char *)&byte_5D4594[1191626], "8");
      strcpy((char *)&byte_5D4594[1191628], "(");
      *(_WORD *)&byte_5D4594[1191630] = 0;
      strcpy((char *)&byte_5D4594[1191632], "9");
      strcpy((char *)&byte_5D4594[1191634], ")");
      *(_WORD *)&byte_5D4594[1191636] = 0;
      strcpy((char *)&byte_5D4594[1191638], "0");
      strcpy((char *)&byte_5D4594[1191640], "=");
      *(_WORD *)&byte_5D4594[1191642] = 0;
      strcpy((char *)&byte_5D4594[1191878], ",");
      strcpy((char *)&byte_5D4594[1191880], ";");
      *(_WORD *)&byte_5D4594[1191882] = 0;
      *(_WORD *)&byte_5D4594[1191884] = *(_WORD *)&byte_5D4594[1192070];
      strcpy((char *)&byte_5D4594[1191886], ":");
      *(_WORD *)&byte_5D4594[1191888] = 0;
      *(_WORD *)&byte_5D4594[1191890] = *(_WORD *)&byte_5D4594[1192016];
      strcpy((char *)&byte_5D4594[1191892], "_");
      *(_WORD *)&byte_5D4594[1191894] = 0;
      strcpy((char *)&byte_5D4594[1191728], "");
      strcpy((char *)&byte_5D4594[1191730], "");
      strcpy((char *)&byte_5D4594[1191732], "[");
      *(_WORD *)&byte_5D4594[1191734] = *(_WORD *)&byte_5D4594[1192040];
      *(_WORD *)&byte_5D4594[1191736] = *(_WORD *)&byte_5D4594[1191902];
      strcpy((char *)&byte_5D4594[1191738], "]");
      strcpy((char *)&byte_5D4594[1191806], "");
      strcpy((char *)&byte_5D4594[1191808], "");
      strcpy((char *)&byte_5D4594[1191810], "@");
      strcpy((char *)&byte_5D4594[1191812], "");
      strcpy((char *)&byte_5D4594[1191814], "");
      strcpy((char *)&byte_5D4594[1191816], "#");
      strcpy((char *)&byte_5D4594[1191818], "\\");
      strcpy((char *)&byte_5D4594[1191820], "|");
      *(_WORD *)&byte_5D4594[1191822] = 0;
      strcpy((char *)&byte_5D4594[1191830], "");
      *(_WORD *)&byte_5D4594[1191832] = 167;
      *(_WORD *)&byte_5D4594[1191834] = 0;
      strcpy((char *)&byte_5D4594[1191644], "'");
      strcpy((char *)&byte_5D4594[1191646], "?");
      *(_WORD *)&byte_5D4594[1191648] = 0;
      strcpy((char *)&byte_5D4594[1191650], "");
      strcpy((char *)&byte_5D4594[1191652], "^");
      *(_WORD *)&byte_5D4594[1191654] = 0;
LABEL_9:
      strcpy((char *)&byte_5D4594[1192088], "<");
      strcpy((char *)&byte_5D4594[1192090], ">");
      *(_WORD *)&byte_5D4594[1192092] = 0;
      byte_5D4594[1193144] = -72;
      break;
    default:
      return result;
  }
  return result;
}

//----- (0047FCE0) --------------------------------------------------------
int __stdcall sub_47FCE0(_DWORD *a1, int a2)
{
  int v2; // edx
  unsigned __int8 *v3; // eax
  int v4; // eax
  int v5; // esi

  v2 = 0;
  if ( *(int *)&byte_5D4594[3804684] <= 0 )
  {
LABEL_8:
    v4 = 16 * *(_DWORD *)&byte_5D4594[3804684];
    v5 = *(_DWORD *)&byte_5D4594[3804684] + 1;
    *(_DWORD *)&byte_5D4594[v4 + 3805516] = a1[3];
    *(_DWORD *)&byte_5D4594[v4 + 3805520] = a1[2];
    *(_DWORD *)&byte_5D4594[v4 + 3805524] = a1[21];
    *(_DWORD *)&byte_5D4594[v4 + 3805528] = a1[26];
    *(_DWORD *)&byte_5D4594[3804684] = v5;
  }
  else
  {
    v3 = &byte_5D4594[3805520];
    while ( *((_DWORD *)v3 - 1) != a1[3]
         || *(_DWORD *)v3 != a1[2]
         || *((_DWORD *)v3 + 1) != a1[21]
         || *((_DWORD *)v3 + 2) != a1[26] )
    {
      ++v2;
      v3 += 16;
      if ( v2 >= *(int *)&byte_5D4594[3804684] )
        goto LABEL_8;
    }
  }
  return 1;
}

//----- (0047FD70) --------------------------------------------------------
int sub_47FD70()
{
  int v0; // esi
  int v1; // edi
  int v2; // ebx
  wchar_t *v4; // eax
  int result; // eax
  int v6; // [esp-10h] [ebp-1Ch]
  int v7; // [esp-Ch] [ebp-18h]
  int v8; // [esp-8h] [ebp-14h]
  wchar_t *v9; // [esp-8h] [ebp-14h]

  v0 = 0;
  if ( *(_DWORD *)&byte_587000[80848] )
  {
    if ( *(_DWORD *)&byte_5D4594[805868] )
      v0 = 32;
  }
  else
  {
    v0 = 16;
  }
  if ( *(_DWORD *)&byte_5D4594[805860] )
    v0 |= 0x18u;
  if ( *(_DWORD *)&byte_5D4594[2650636] & 0x2000000 && *(_DWORD *)&byte_587000[80848] )
    v0 &= 0xFFFFFFDF;
  if ( !*(_DWORD *)&byte_587000[80804] )
    v0 |= 0x100u;
  if ( *(_DWORD *)&byte_5D4594[805864] )
    v0 |= 0x200u;
  sub_48A210(sub_47FCE0);
  v1 = sub_477620();
  sub_477610(0);
  v2 = sub_48B3E0(0);
  v8 = *(_DWORD *)&byte_5D4594[3804680] != 0 ? 16 : 8;
  v7 = *(_DWORD *)&byte_5D4594[3807120];
  v6 = *(_DWORD *)&byte_5D4594[3805496];
  if ( sub_444930(sub_401FD0(), v6, v7, v8, v0) )
  {
    printf("%s: %d\n", __FUNCTION__, 1);
    sub_477710();
    sub_477610(v1);
    sub_48B3E0(v2);
    sub_440900();
    sub_47FEF0();
    sub_49F6D0(1);
    sub_437290();
    *(_DWORD *)&byte_5D4594[3804680] = *(_DWORD *)&byte_5D4594[3801780];
    *(_DWORD *)&byte_5D4594[3805488] = *(_DWORD *)&byte_5D4594[3801808] * *(_DWORD *)&byte_5D4594[3801788];
    *(_DWORD *)&byte_5D4594[3807124] = *(_DWORD *)&byte_5D4594[3801780] == 1;
    sub_430B50(0, 0, 639, 479);
    sub_4453A0();
    result = 1;
  }
  else
  {
    v9 = sub_40F1D0("result:ERROR", 0, "C:\\NoxPost\\src\\Client\\Io\\Win95\\dxvideo.c", 213);
    v4 = sub_40F1D0("gfxDdraw.c:DXWarning", 0, "C:\\NoxPost\\src\\Client\\Io\\Win95\\dxvideo.c", 213);
    nullsub_4(0, v4, v9, 1);
    result = 0;
  }
  return result;
}
// 4514E0: using guessed type void __cdecl nullsub_4(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (0047FEF0) --------------------------------------------------------
int sub_47FEF0()
{
  unsigned __int8 *v0; // eax
  int result; // eax
  unsigned __int8 *v2; // eax

  if ( *(_DWORD *)&byte_5D4594[3799624] == 2 )
  {
    *(_DWORD *)&byte_5D4594[3807144] = sub_480250;
    *(_DWORD *)&byte_5D4594[3804676] = sub_480220;
    v0 = &byte_5D4594[2598060];
    do
    {
      *((_WORD *)v0 - 16) = 31744;
      *(_WORD *)v0 = 992;
      *((_WORD *)v0 + 16) = 31;
      *((_WORD *)v0 - 12) = -2048;
      *((_WORD *)v0 + 4) = -1024;
      *((_WORD *)v0 + 20) = -2048;
      *((_WORD *)v0 - 8) = -2048;
      *((_WORD *)v0 + 8) = 2016;
      *((_WORD *)v0 + 24) = 31;
      *((_WORD *)v0 - 4) = 248;
      *((_WORD *)v0 + 12) = 252;
      *((_WORD *)v0 + 28) = 248;
      v0 += 2;
    }
    while ( (int)v0 < (int)&byte_5D4594[2598068] );
    *(_DWORD *)&byte_5D4594[2598128] = 0;
    *(_DWORD *)&byte_5D4594[2598160] = 0;
    *(_DWORD *)&byte_5D4594[2598132] = 0;
    *(_DWORD *)&byte_5D4594[2598136] = 0;
    *(_DWORD *)&byte_5D4594[2598168] = 0;
    *(_DWORD *)&byte_5D4594[2598144] = 0;
    *(_DWORD *)&byte_5D4594[2598176] = 0;
    *(_DWORD *)&byte_5D4594[2598152] = 0;
    *(_DWORD *)&byte_5D4594[2598184] = 0;
    *(_DWORD *)&byte_5D4594[2598124] = 7;
    *(_DWORD *)&byte_5D4594[2598156] = 2;
    *(_DWORD *)&byte_5D4594[2598164] = 5;
    *(_DWORD *)&byte_5D4594[2598140] = 8;
    *(_DWORD *)&byte_5D4594[2598172] = 3;
    *(_DWORD *)&byte_5D4594[2598148] = 8;
    *(_DWORD *)&byte_5D4594[2598180] = 3;
    *(_DWORD *)&byte_5D4594[3807160] = sub_480EB0;
    result = 1;
  }
  else if ( *(_DWORD *)&byte_5D4594[3799624] == 1 )
  {
    *(_DWORD *)&byte_5D4594[3807144] = sub_4801E0;
    *(_DWORD *)&byte_5D4594[3804676] = sub_4801B0;
    v2 = &byte_5D4594[2598060];
    do
    {
      *((_WORD *)v2 - 16) = 31744;
      *(_WORD *)v2 = 992;
      *((_WORD *)v2 + 16) = 31;
      *((_WORD *)v2 - 12) = -2048;
      *((_WORD *)v2 + 4) = -2048;
      *((_WORD *)v2 + 20) = -2048;
      *((_WORD *)v2 - 8) = 31744;
      *((_WORD *)v2 + 8) = 992;
      *((_WORD *)v2 + 24) = 31;
      *((_WORD *)v2 - 4) = 248;
      *((_WORD *)v2 + 12) = 248;
      *((_WORD *)v2 + 28) = 248;
      v2 += 2;
    }
    while ( (int)v2 < (int)&byte_5D4594[2598068] );
    *(_DWORD *)&byte_5D4594[2598128] = 0;
    *(_DWORD *)&byte_5D4594[2598156] = 2;
    *(_DWORD *)&byte_5D4594[2598160] = 0;
    *(_DWORD *)&byte_5D4594[2598136] = 0;
    *(_DWORD *)&byte_5D4594[2598168] = 0;
    *(_DWORD *)&byte_5D4594[2598144] = 0;
    *(_DWORD *)&byte_5D4594[2598172] = 2;
    *(_DWORD *)&byte_5D4594[2598176] = 0;
    *(_DWORD *)&byte_5D4594[2598152] = 0;
    *(_DWORD *)&byte_5D4594[2598180] = 2;
    *(_DWORD *)&byte_5D4594[2598184] = 0;
    *(_DWORD *)&byte_5D4594[2598124] = 7;
    *(_DWORD *)&byte_5D4594[2598132] = 1;
    *(_DWORD *)&byte_5D4594[2598164] = 6;
    *(_DWORD *)&byte_5D4594[2598140] = 7;
    *(_DWORD *)&byte_5D4594[2598148] = 7;
    *(_DWORD *)&byte_5D4594[3807160] = memcpy;
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}

//----- (004800F0) --------------------------------------------------------
int sub_4800F0()
{
  int result; // eax
  int v2; // [esp-10h] [ebp-10h]
  int v3; // [esp-Ch] [ebp-Ch]
  int v4; // [esp-8h] [ebp-8h]
  int v5; // [esp-4h] [ebp-4h]

  sub_48A210(sub_47FCE0);
  v5 = (*(_DWORD *)&byte_5D4594[3804680] != 0) + 20;
  v4 = *(_DWORD *)&byte_5D4594[3804680] != 0 ? 16 : 8;
  v3 = *(_DWORD *)&byte_5D4594[3807120];
  v2 = *(_DWORD *)&byte_5D4594[3805496];
  if ( sub_444930(sub_401FD0(), v2, v3, v4, v5) )
  {
    sub_440900();
    sub_47FEF0();
    sub_49F6D0(1);
    sub_437290();
    *(_DWORD *)&byte_5D4594[3804680] = *(_DWORD *)&byte_5D4594[3801780];
    *(_DWORD *)&byte_5D4594[3805488] = *(_DWORD *)&byte_5D4594[3801808] * *(_DWORD *)&byte_5D4594[3801788];
    *(_DWORD *)&byte_5D4594[3807124] = *(_DWORD *)&byte_5D4594[3801780] == 1;
    sub_430B50(0, 0, 639, 479);
    sub_4453A0();
    result = 1;
  }
  else
  {
    MessageBoxA(0, (LPCSTR)&byte_587000[154896], (LPCSTR)&byte_587000[154880], 0);
    result = 0;
  }
  return result;
}

//----- (004801B0) --------------------------------------------------------
char __cdecl sub_4801B0(_BYTE *a2, _BYTE *a3)
{
  unsigned int v2; // edx
  unsigned int v3; // eax
  char result; // al

  HIWORD(v3) = HIWORD(a3);
  *a2 = 8 * *a3;
  LOWORD(v2) = *(_WORD *)a3;
  a2[1] = (v2 >> 2) & 0xF8;
  LOWORD(v3) = *(_WORD *)a3;
  result = (v3 >> 7) & 0xF8;
  a2[2] = result;
  return result;
}
// 4801C2: variable 'v2' is possibly undefined

//----- (004801E0) --------------------------------------------------------
_WORD *__cdecl sub_4801E0(_BYTE *a1, _WORD *a2)
{
  _WORD *result; // eax

  result = a2;
  *a2 = (*a1 >> 3) | (4 * (a1[1] & 0xF8 | (32 * (a1[2] & 0xF8))));
  return result;
}

//----- (00480220) --------------------------------------------------------
_BYTE *__cdecl sub_480220(_BYTE *a1, _BYTE *a2)
{
  unsigned int v2; // edx
  _BYTE *result; // eax

  result = a2;
  *a1 = 8 * *a2;
  LOWORD(v2) = *(_WORD *)a2;
  a1[1] = (v2 >> 3) & 0xFC;
  a1[2] = a2[1] & 0xF8;
  return result;
}
// 480232: variable 'v2' is possibly undefined

//----- (00480250) --------------------------------------------------------
_WORD *__cdecl sub_480250(_BYTE *a1, _WORD *a2)
{
  _WORD *result; // eax

  result = a2;
  *a2 = (*a1 >> 3) | (8 * (a1[1] & 0xFC | (32 * (a1[2] & 0xF8))));
  return result;
}

unsigned int __cdecl sub_480290(__m64 *a1, int a2, int a3, unsigned int *a4, unsigned int *a5)
{
	DebugBreak();
	return 0;
}
#if 0
//----- (00480290) --------------------------------------------------------
unsigned int __cdecl sub_480290(__m64 *a1, int a2, int a3, unsigned int *a4, unsigned int *a5)
{
  unsigned int result; // eax
  __m64 *v6; // esi
  __m64 v7; // mm3
  __m64 v8; // mm4
  __m64 v9; // mm3
  __m64 v10; // mm5
  __m64 v11; // mm4
  __m64 v12; // mm6
  __m64 v13; // mm3
  __m64 v14; // mm5
  int v15; // ecx
  __m64 v16; // mm6
  __m64 v17; // mm7
  __m64 v18; // mm1
  __m64 v19; // mm2
  __m64 v20; // mm7
  __m64 v21; // mm3
  __m64 v22; // mm6
  __m64 v23; // mm6
  __m64 v24; // mm4
  __m64 v25; // mm5
  int v26; // edi
  __m64 v27; // mm2
  __m64 v28; // mm6
  __m64 v29; // mm3
  __m64 v30; // mm1
  __m64 v31; // mm0
  __m64 *v32; // esi
  __m64 v33; // mm1
  __m64 v34; // mm2
  __m64 v35; // mm4
  __m64 v36; // mm0
  __m64 v37; // mm5
  __m64 v38; // mm0
  bool v39; // zf
  __m64 v40; // mm2
  __m64 v41; // mm6
  __m64 v42; // mm1
  __m64 v43; // mm0
  __m64 v44; // mm1
  __m64 v45; // mm2
  __m64 v46; // mm0
  bool v47; // cc
  __m64 *v48; // esi
  __m64 v49; // mm3
  __m64 v50; // mm3
  __m64 v51; // mm4
  __m64 v52; // mm3
  __m64 v53; // mm5
  __m64 v54; // mm4
  __m64 v55; // mm5
  __m64 v56; // mm4
  __m64 v57; // mm5
  __m64 v58; // mm2
  __m64 v59; // mm1
  __m64 v60; // mm0
  __m64 v61; // mm2
  __m64 v62; // mm0
  bool v63; // cc
  int v64; // ecx
  __m64 v65; // [esp+Ch] [ebp-18h]
  __m64 v66; // [esp+14h] [ebp-10h]
  __m64 v67; // [esp+1Ch] [ebp-8h]

  result = (unsigned int)a4;
  if ( a5[2] | a5[1] | *a5 )
  {
    v6 = a1;
    v7 = _mm_cvtsi32_si64(*a5);
    v8 = _mm_cvtsi32_si64(a5[1]);
    v9 = _m_punpcklwd(v7, v7);
    v10 = _mm_cvtsi32_si64(a5[2]);
    v11 = _m_punpcklwd(v8, v8);
    v12 = _mm_cvtsi32_si64(*a4);
    v13 = _m_punpckldq(v9, v9);
    v14 = _m_punpcklwd(v10, v10);
    v15 = a3;
    v16 = _m_punpcklwd(v12, v12);
    v17 = _mm_cvtsi32_si64(a4[1]);
    v18 = _m_punpckldq(v11, v11);
    v65 = _m_psllwi(v13, 2u);
    v19 = _m_punpckldq(v14, v14);
    v20 = _m_punpcklwd(v17, v17);
    v21 = _m_paddw(_m_pmullw(v13, *(__m64 *)&byte_587000[154916]), _m_punpckldq(v16, v16));
    v22 = _mm_cvtsi32_si64(a4[2]);
    v23 = _m_punpcklwd(v22, v22);
    v66 = _m_psllwi(v18, 2u);
    v67 = _m_psllwi(v19, 2u);
    v24 = _m_paddw(_m_pmullw(v18, *(__m64 *)&byte_587000[154916]), _m_punpckldq(v20, v20));
    v25 = _m_paddw(_m_pmullw(v19, *(__m64 *)&byte_587000[154916]), _m_punpckldq(v23, v23));
    v26 = a2 - 8;
    while ( 1 )
    {
      v27 = (__m64)v6->m64_u64;
      v28 = v21;
      v29 = _m_paddw(v21, v65);
      v30 = _m_psrlw(_m_pand((__m64)v6->m64_u64, *(__m64 *)&byte_5D4594[2598060]), *(__m64 *)&byte_5D4594[2598156]);
      v31 = _m_pmullw(
              _m_psrlw(_m_pand((__m64)v6->m64_u64, *(__m64 *)&byte_5D4594[2598028]), *(__m64 *)&byte_5D4594[2598124]),
              _m_psrlwi(v28, 8u));
      v32 = v6 + 1;
      v33 = _m_psrlw(
              _m_pand(_m_pmullw(v30, _m_psrlwi(v24, 8u)), *(__m64 *)&byte_5D4594[2598068]),
              *(__m64 *)&byte_5D4594[2598164]);
      v34 = _m_pmullw(_m_psllwi(_m_pand(v27, *(__m64 *)&byte_5D4594[2598092]), 3u), _m_psrlwi(v25, 8u));
      v35 = _m_paddw(v24, v66);
      v36 = _m_por(_m_psrlw(_m_pand(v31, *(__m64 *)&byte_5D4594[2598036]), *(__m64 *)&byte_5D4594[2598132]), v33);
      if ( (int)v32 >= *(int *)&byte_5D4594[3798844] )
        v32 = (__m64 *)((char *)v32 + *(_DWORD *)&byte_5D4594[3798796] - *(_DWORD *)&byte_5D4594[3798844]);
      v37 = _m_paddw(v25, v67);
      v26 += 8;
      v38 = _m_por(v36, _m_psrlwi(_m_pand(v34, *(__m64 *)&byte_5D4594[2598100]), 0xBu));
      v39 = v15 == 4;
      v47 = v15 < 4;
      v15 -= 4;
      if ( v47 )
        break;
      *(__m64 *)v26 = v38;
      if ( v39 )
        return result;
      v40 = (__m64)v32->m64_u64;
      v41 = v29;
      v21 = _m_paddw(v29, v65);
      v42 = _m_psrlw(_m_pand((__m64)v32->m64_u64, *(__m64 *)&byte_5D4594[2598060]), *(__m64 *)&byte_5D4594[2598156]);
      v43 = _m_pmullw(
              _m_psrlw(_m_pand((__m64)v32->m64_u64, *(__m64 *)&byte_5D4594[2598028]), *(__m64 *)&byte_5D4594[2598124]),
              _m_psrlwi(v41, 8u));
      v6 = v32 + 1;
      v44 = _m_psrlw(
              _m_pand(_m_pmullw(v42, _m_psrlwi(v35, 8u)), *(__m64 *)&byte_5D4594[2598068]),
              *(__m64 *)&byte_5D4594[2598164]);
      v45 = _m_pmullw(_m_psllwi(_m_pand(v40, *(__m64 *)&byte_5D4594[2598092]), 3u), _m_psrlwi(v37, 8u));
      v24 = _m_paddw(v35, v66);
      v46 = _m_por(_m_psrlw(_m_pand(v43, *(__m64 *)&byte_5D4594[2598036]), *(__m64 *)&byte_5D4594[2598132]), v44);
      if ( (int)v6 >= *(int *)&byte_5D4594[3798844] )
        v6 = (__m64 *)((char *)v6 + *(_DWORD *)&byte_5D4594[3798796] - *(_DWORD *)&byte_5D4594[3798844]);
      v25 = _m_paddw(v37, v67);
      v26 += 8;
      v38 = _m_por(v46, _m_psrlwi(_m_pand(v45, *(__m64 *)&byte_5D4594[2598100]), 0xBu));
      v47 = v15 < 4;
      v15 -= 4;
      if ( v47 )
        break;
      *(__m64 *)v26 = v38;
      if ( v47 )
        return result;
    }
  }
  else
  {
    v48 = a1;
    v49 = _mm_cvtsi32_si64(*a4);
    v50 = _m_punpcklwd(v49, v49);
    v26 = a2 - 8;
    v51 = _mm_cvtsi32_si64(a4[1]);
    v52 = _m_punpckldq(v50, v50);
    v53 = _mm_cvtsi32_si64(a4[2]);
    v54 = _m_punpcklwd(v51, v51);
    v15 = a3;
    v55 = _m_punpcklwd(v53, v53);
    v56 = _m_punpckldq(v54, v54);
    v57 = _m_punpckldq(v55, v55);
    while ( 1 )
    {
      v58 = (__m64)v48->m64_u64;
      v59 = _m_psrlw(_m_pand((__m64)v48->m64_u64, *(__m64 *)&byte_5D4594[2598060]), *(__m64 *)&byte_5D4594[2598156]);
      v60 = _m_pmullw(
              _m_psrlw(_m_pand((__m64)v48->m64_u64, *(__m64 *)&byte_5D4594[2598028]), *(__m64 *)&byte_5D4594[2598124]),
              _m_psrlwi(v52, 8u));
      ++v48;
      v61 = _m_pmullw(_m_psllwi(_m_pand(v58, *(__m64 *)&byte_5D4594[2598092]), 3u), _m_psrlwi(v57, 8u));
      v62 = _m_por(
              _m_psrlw(_m_pand(v60, *(__m64 *)&byte_5D4594[2598036]), *(__m64 *)&byte_5D4594[2598132]),
              _m_psrlw(
                _m_pand(_m_pmullw(v59, _m_psrlwi(v56, 8u)), *(__m64 *)&byte_5D4594[2598068]),
                *(__m64 *)&byte_5D4594[2598164]));
      if ( (int)v48 >= *(int *)&byte_5D4594[3798844] )
        v48 = (__m64 *)((char *)v48 + *(_DWORD *)&byte_5D4594[3798796] - *(_DWORD *)&byte_5D4594[3798844]);
      v26 += 8;
      v38 = _m_por(v62, _m_psrlwi(_m_pand(v61, *(__m64 *)&byte_5D4594[2598100]), 0xBu));
      v63 = v15 < 4;
      v15 -= 4;
      if ( v63 )
        break;
      *(__m64 *)v26 = v38;
      if ( v63 )
        return result;
    }
  }
  result = _mm_cvtsi64_si32(v38);
  *(_WORD *)v26 = result;
  v64 = v15 + 3;
  if ( v64 )
  {
    result >>= 16;
    *(_WORD *)(v26 + 2) = result;
    if ( v64 != 1 )
    {
      result = _mm_cvtsi64_si32(_m_psrlqi(v38, 0x20u));
      *(_WORD *)(v26 + 4) = result;
    }
  }
  return result;
}
#endif

__int16 __cdecl sub_4805A0(int a1, __m64 *a2, int a3, unsigned int *a4, unsigned int *a5)
{
	DebugBreak();
	return 0;
}
#if 0
//----- (004805A0) --------------------------------------------------------
__int16 __cdecl sub_4805A0(int a1, __m64 *a2, int a3, unsigned int *a4, unsigned int *a5)
{
  __int16 result; // ax
  __m64 *v6; // esi
  __m64 v7; // mm3
  __m64 v8; // mm4
  __m64 v9; // mm3
  __m64 v10; // mm5
  __m64 v11; // mm4
  __m64 v12; // mm6
  __m64 v13; // mm3
  __m64 v14; // mm5
  int v15; // ecx
  __m64 v16; // mm6
  __m64 v17; // mm7
  __m64 v18; // mm1
  __m64 v19; // mm2
  __m64 v20; // mm7
  __m64 v21; // mm3
  __m64 v22; // mm6
  __m64 v23; // mm6
  __m64 v24; // mm4
  __m64 v25; // mm5
  __m64 *v26; // edi
  __m64 v27; // mm2
  __m64 v28; // mm6
  __m64 v29; // mm1
  __m64 v30; // mm0
  __m64 v31; // mm1
  __m64 v32; // mm2
  __m64 v33; // mm0
  bool v34; // cc
  __int16 *v35; // esi
  __m64 v36; // [esp+Ch] [ebp-20h]
  __m64 v37; // [esp+14h] [ebp-18h]
  __m64 v38; // [esp+1Ch] [ebp-10h]
  __m64 v39; // [esp+24h] [ebp-8h]

  result = (__int16)a4;
  v6 = a2;
  v7 = _mm_cvtsi32_si64(*a5);
  v8 = _mm_cvtsi32_si64(a5[1]);
  v9 = _m_punpcklwd(v7, v7);
  v10 = _mm_cvtsi32_si64(a5[2]);
  v11 = _m_punpcklwd(v8, v8);
  v12 = _mm_cvtsi32_si64(*a4);
  v13 = _m_punpckldq(v9, v9);
  v14 = _m_punpcklwd(v10, v10);
  v15 = a3;
  v16 = _m_punpcklwd(v12, v12);
  v17 = _mm_cvtsi32_si64(a4[1]);
  v18 = _m_punpckldq(v11, v11);
  v36 = _m_psllwi(v13, 2u);
  v19 = _m_punpckldq(v14, v14);
  v20 = _m_punpcklwd(v17, v17);
  v21 = _m_paddw(_m_pmullw(v13, *(__m64 *)&byte_587000[154924]), _m_punpckldq(v16, v16));
  v22 = _mm_cvtsi32_si64(a4[2]);
  v23 = _m_punpcklwd(v22, v22);
  v37 = _m_psllwi(v18, 2u);
  v38 = _m_psllwi(v19, 2u);
  v24 = _m_paddw(_m_pmullw(v18, *(__m64 *)&byte_587000[154924]), _m_punpckldq(v20, v20));
  v25 = _m_paddw(_m_pmullw(v19, *(__m64 *)&byte_587000[154924]), _m_punpckldq(v23, v23));
  v26 = (__m64 *)(a1 - 8);
  while ( 1 )
  {
    v27 = (__m64)v6->m64_u64;
    v28 = v21;
    v21 = _m_paddw(v21, v36);
    v29 = _m_psrlw(_m_pand((__m64)v6->m64_u64, *(__m64 *)&byte_5D4594[2598060]), *(__m64 *)&byte_5D4594[2598156]);
    v30 = _m_pmullw(
            _m_psrlw(_m_pand((__m64)v6->m64_u64, *(__m64 *)&byte_5D4594[2598028]), *(__m64 *)&byte_5D4594[2598124]),
            _m_psrlwi(v28, 8u));
    ++v6;
    v31 = _m_psrlw(
            _m_pand(_m_pmullw(v29, _m_psrlwi(v24, 8u)), *(__m64 *)&byte_5D4594[2598068]),
            *(__m64 *)&byte_5D4594[2598164]);
    v24 = _m_paddw(v24, v37);
    v32 = _m_pand(
            _m_pmullw(_m_psllwi(_m_pand(v27, *(__m64 *)&byte_5D4594[2598092]), 3u), _m_psrlwi(v25, 8u)),
            *(__m64 *)&byte_5D4594[2598100]);
    v25 = _m_paddw(v25, v38);
    ++v26;
    v33 = _m_por(
            _m_por(_m_psrlw(_m_pand(v30, *(__m64 *)&byte_5D4594[2598036]), *(__m64 *)&byte_5D4594[2598132]), v31),
            _m_psrlwi(v32, 0xBu));
    if ( v15 < 4 )
      break;
    v26->m64_u64 = (unsigned __int64)v33;
    v34 = v15 <= 4;
    v15 -= 4;
    if ( v34 )
      goto LABEL_7;
  }
  v39 = v33;
  v35 = (__int16 *)&v39;
  do
  {
    result = *v35;
    ++v35;
    LOWORD(v26->m64_i32[0]) = result;
    v26 = (__m64 *)((char *)v26 + 2);
    v34 = v15-- <= 1;
  }
  while ( !v34 );
LABEL_7:
  _m_femms();
  return result;
}
#endif


__int16 __cdecl sub_480700(int a1, __m64 *a2, int a3, unsigned int *a4, unsigned int *a5)
{
	DebugBreak();
	return 0;
}

#if 0
//----- (00480700) --------------------------------------------------------
__int16 __cdecl sub_480700(int a1, __m64 *a2, int a3, unsigned int *a4, unsigned int *a5)
{
  __int16 result; // ax
  __m64 *v6; // esi
  __m64 v7; // mm3
  __m64 v8; // mm4
  __m64 v9; // mm3
  __m64 v10; // mm5
  __m64 v11; // mm4
  __m64 v12; // mm6
  __m64 v13; // mm3
  __m64 v14; // mm5
  int v15; // ecx
  __m64 v16; // mm6
  __m64 v17; // mm7
  __m64 v18; // mm1
  __m64 v19; // mm2
  __m64 v20; // mm7
  __m64 v21; // mm3
  __m64 v22; // mm6
  __m64 v23; // mm6
  __m64 v24; // mm4
  __m64 v25; // mm5
  __m64 *v26; // edi
  __m64 v27; // mm2
  __m64 v28; // mm6
  __m64 v29; // mm1
  __m64 v30; // mm0
  __m64 v31; // mm1
  __m64 v32; // mm2
  __m64 v33; // mm0
  bool v34; // cc
  __int16 *v35; // esi
  __m64 v36; // [esp+Ch] [ebp-20h]
  __m64 v37; // [esp+14h] [ebp-18h]
  __m64 v38; // [esp+1Ch] [ebp-10h]
  __m64 v39; // [esp+24h] [ebp-8h]

  result = (__int16)a4;
  v6 = a2;
  v7 = _mm_cvtsi32_si64(*a5);
  v8 = _mm_cvtsi32_si64(a5[1]);
  v9 = _m_punpcklwd(v7, v7);
  v10 = _mm_cvtsi32_si64(a5[2]);
  v11 = _m_punpcklwd(v8, v8);
  v12 = _mm_cvtsi32_si64(*a4);
  v13 = _m_punpckldq(v9, v9);
  v14 = _m_punpcklwd(v10, v10);
  v15 = a3;
  v16 = _m_punpcklwd(v12, v12);
  v17 = _mm_cvtsi32_si64(a4[1]);
  v18 = _m_punpckldq(v11, v11);
  v36 = _m_psllwi(v13, 2u);
  v19 = _m_punpckldq(v14, v14);
  v20 = _m_punpcklwd(v17, v17);
  v21 = _m_paddw(_m_pmullw(v13, *(__m64 *)&byte_587000[154932]), _m_punpckldq(v16, v16));
  v22 = _mm_cvtsi32_si64(a4[2]);
  v23 = _m_punpcklwd(v22, v22);
  v37 = _m_psllwi(v18, 2u);
  v38 = _m_psllwi(v19, 2u);
  v24 = _m_paddw(_m_pmullw(v18, *(__m64 *)&byte_587000[154932]), _m_punpckldq(v20, v20));
  v25 = _m_paddw(_m_pmullw(v19, *(__m64 *)&byte_587000[154932]), _m_punpckldq(v23, v23));
  v26 = (__m64 *)(a1 - 8);
  while ( 1 )
  {
    v27 = (__m64)v6->m64_u64;
    v28 = v21;
    v21 = _m_paddw(v21, v36);
    v29 = _m_psrlw(_m_pand((__m64)v6->m64_u64, *(__m64 *)&byte_5D4594[3804404]), *(__m64 *)&byte_5D4594[3804452]);
    v30 = _m_pmullw(
            _m_psrlw(_m_pand((__m64)v6->m64_u64, *(__m64 *)&byte_5D4594[3804396]), *(__m64 *)&byte_5D4594[3804444]),
            _m_psrlwi(v28, 8u));
    ++v6;
    v31 = _m_psrlw(
            _m_pand(_m_pmullw(v29, _m_psrlwi(v24, 8u)), *(__m64 *)&byte_5D4594[3804428]),
            *(__m64 *)&byte_5D4594[3804500]);
    v24 = _m_paddw(v24, v37);
    v32 = _m_pand(
            _m_pmullw(
              _m_psllw(_m_pand(v27, *(__m64 *)&byte_5D4594[3804412]), *(__m64 *)&byte_5D4594[3804460]),
              _m_psrlwi(v25, 8u)),
            *(__m64 *)&byte_5D4594[3804436]);
    v25 = _m_paddw(v25, v38);
    ++v26;
    v33 = _m_por(
            _m_por(_m_psrlw(_m_pand(v30, *(__m64 *)&byte_5D4594[3804420]), *(__m64 *)&byte_5D4594[3804492]), v31),
            _m_psrlw(v32, *(__m64 *)&byte_5D4594[3804508]));
    if ( v15 < 4 )
      break;
    v26->m64_u64 = (unsigned __int64)v33;
    v34 = v15 <= 4;
    v15 -= 4;
    if ( v34 )
      goto LABEL_7;
  }
  v39 = v33;
  v35 = (__int16 *)&v39;
  do
  {
    result = *v35;
    ++v35;
    LOWORD(v26->m64_i32[0]) = result;
    v26 = (__m64 *)((char *)v26 + 2);
    v34 = v15-- <= 1;
  }
  while ( !v34 );
LABEL_7:
  _m_femms();
  return result;
}
#endif

//----- (00480860) --------------------------------------------------------
void __cdecl sub_480860(WORD *a1, WORD *a2, int a3, int *a4, int *a5)
{
  WORD *dword_975384 = *(_DWORD *)&byte_5D4594[3804656];
  WORD *dword_97538C = *(_DWORD *)&byte_5D4594[3804664];
  WORD *dword_975394 = *(_DWORD *)&byte_5D4594[3804672];
  WORD dword_975260 = *(_WORD *)&byte_5D4594[3804364];
  WORD dword_975264 = *(_WORD *)&byte_5D4594[3804368];
  WORD dword_975268 = *(_WORD *)&byte_5D4594[3804372];
  WORD dword_97526C = *(_WORD *)&byte_5D4594[3804376];
  WORD dword_975270 = *(_WORD *)&byte_5D4594[3804380];
  WORD dword_975274 = *(_WORD *)&byte_5D4594[3804384];

  while ( a3 > 0 )
  {
    *a1 = (dword_97538C[((a4[2] * ((*a2 & dword_975268) << dword_975274)) >> 16) & 0xFF]
        | dword_975384[((a4[1] * ((*a2 & dword_975264) >> dword_975270)) >> 16) & 0xFF]
        | dword_975394[((a4[0] * ((*a2 & dword_975260) >> dword_97526C)) >> 16) & 0xFF]);
    a4[0] += a5[0];
    a4[1] += a5[1];
    a4[2] += a5[2];
    ++a1;
    ++a2;
    --a3;
  }
}

//----- (00480950) --------------------------------------------------------
int __cdecl sub_480950(int *a1, int *a2, int a3, int a4, int a5)
{
  int v5; // ecx
  int result; // eax
  int v7; // edx
  unsigned int v8; // eax
  int v9; // edi
  int v10; // ecx
  int v11; // edx
  int *v12; // eax
  int v13; // edi
  int v14; // ebx
  int v15; // edx
  int v16; // ebp
  int v17; // edi
  __m64 *v18; // ebx
  int v19; // eax
  int v20; // eax
  int v21[3]; // [esp+10h] [ebp-18h]
  int v22[3]; // [esp+1Ch] [ebp-Ch]
  __m64 *v23; // [esp+2Ch] [ebp+4h]

  v5 = *a1;
  result = a1[1] - *(_DWORD *)&byte_5D4594[3798824];
  v7 = *a1 - *(_DWORD *)&byte_5D4594[3798820];
  if ( v7 >= 0 && result >= 0 && v7 < *(int *)&byte_5D4594[3798800] && result < *(int *)&byte_5D4594[3798808] )
  {
    v8 = *(_DWORD *)&byte_5D4594[3798804] * (*(_DWORD *)&byte_5D4594[3798840] + result)
       + *(_DWORD *)&byte_5D4594[3798796]
       + 2 * (*(_DWORD *)&byte_5D4594[3798836] + v7);
    if ( v8 >= *(int *)&byte_5D4594[3798844] )
      v8 += *(_DWORD *)&byte_5D4594[3798796] - *(_DWORD *)&byte_5D4594[3798844];
    if ( *(_WORD *)&byte_5D4594[2650636] & 0x800 )
    {
      if ( 2 * a4 + v8 < *(int *)&byte_5D4594[3798844] )
      {
        result = (*(int (__cdecl **)(_DWORD, _DWORD, _DWORD))&byte_5D4594[3807160])(a5, v8, 2 * a4);
      }
      else
      {
        v9 = *(_DWORD *)&byte_5D4594[3798844] - v8;
        (*(void (__cdecl **)(_DWORD, _DWORD, _DWORD))&byte_5D4594[3807160])(
          a5,
          v8,
          *(_DWORD *)&byte_5D4594[3798844] - v8);
        result = (*(int (__cdecl **)(_DWORD, _DWORD, _DWORD))&byte_5D4594[3807160])(
                   a5 + v9,
                   *(_DWORD *)&byte_5D4594[3798796],
                   2 * a4 - v9);
      }
    }
    else
    {
      v23 = (__m64 *)v8;
      v10 = v5 - 23 * *a2 - *(_DWORD *)&byte_5D4594[2650676];
      v11 = 12 * a3 + 280 * *a2;
      v12 = (int *)&byte_5D4594[v11 + 2598288];
      v13 = *(_DWORD *)&byte_5D4594[4
                                  * ((*(int *)&byte_5D4594[v11 + 2598568] - *(int *)&byte_5D4594[v11 + 2598288]) >> 8)
                                  + 2615304];
      v22[0] = *(_DWORD *)&byte_5D4594[4
                                     * ((*(int *)&byte_5D4594[v11 + 2598568] - *(int *)&byte_5D4594[v11 + 2598288]) >> 8)
                                     + 2615304];
      v14 = *(_DWORD *)&byte_5D4594[4
                                  * ((*(int *)&byte_5D4594[v11 + 2598572] - *(int *)&byte_5D4594[v11 + 2598292]) >> 8)
                                  + 2615304];
      v22[1] = *(_DWORD *)&byte_5D4594[4
                                     * ((*(int *)&byte_5D4594[v11 + 2598572] - *(int *)&byte_5D4594[v11 + 2598292]) >> 8)
                                     + 2615304];
      v15 = *(_DWORD *)&byte_5D4594[4
                                  * ((*(int *)&byte_5D4594[v11 + 2598576] - *(int *)&byte_5D4594[v11 + 2598296]) >> 8)
                                  + 2615304];
      v22[2] = v15;
      v21[0] = *v12;
      v16 = v12[1];
      v21[1] = v12[1];
      v21[2] = v12[2];
      if ( v10 <= 0 )
      {
        v17 = 23;
      }
      else
      {
        v21[2] += v10 * v15;
        v21[0] += v10 * v13;
        v21[1] = v10 * v14 + v16;
        v17 = 23 - v10;
      }
      if ( v17 > a4 )
        v17 = a4;
      v18 = v23;
      while ( 1 )
      {
        sub_480290(v18, a5, v17, (unsigned int *)v21, (unsigned int *)v22);
        v18 = (__m64 *)((char *)v18 + 2 * v17);
        a5 += 2 * v17;
        if ( (unsigned int)v18 >= *(int *)&byte_5D4594[3798844] )
          v18 = (__m64 *)((char *)v18 - 2 * ((*(int *)&byte_5D4594[3798844] - *(int *)&byte_5D4594[3798796]) >> 1));
        result = a4 - v17;
        a4 -= v17;
        if ( a4 <= 0 )
          break;
        v17 = 23;
        if ( result < 23 )
          v17 = result;
        v19 = *a2 + 1;
        *a2 = v19;
        v20 = 12 * a3 + 280 * v19;
        v21[0] = *(_DWORD *)&byte_5D4594[v20 + 2598288];
        v21[1] = *(_DWORD *)&byte_5D4594[v20 + 2598292];
        v21[2] = *(_DWORD *)&byte_5D4594[v20 + 2598296];
        v22[0] = *(_DWORD *)&byte_5D4594[4
                                       * ((*(int *)&byte_5D4594[v20 + 2598568]
                                         - *(int *)&byte_5D4594[v20 + 2598288]) >> 8)
                                       + 2615304];
        v22[1] = *(_DWORD *)&byte_5D4594[4
                                       * ((*(int *)&byte_5D4594[v20 + 2598572]
                                         - *(int *)&byte_5D4594[v20 + 2598292]) >> 8)
                                       + 2615304];
        v22[2] = *(_DWORD *)&byte_5D4594[4
                                       * ((*(int *)&byte_5D4594[v20 + 2598576]
                                         - *(int *)&byte_5D4594[v20 + 2598296]) >> 8)
                                       + 2615304];
      }
    }
  }
  return result;
}

//----- (00480BE0) --------------------------------------------------------
void __cdecl sub_480BE0(_DWORD *a1, int *a2, int a3, int a4, int a5)
{
  _BYTE *v6; // ebp
  int v7; // edi
  int v9; // ecx
  int v10; // eax
  int v11; // esi
  int v12; // edi
  int v13; // ebx
  int v16; // ecx
  int v17; // edi
  int v18; // eax
  int v20; // [esp+10h] [ebp-14h]
  int v21; // [esp+14h] [ebp-10h]
  int v22; // [esp+18h] [ebp-Ch]
  int v23; // [esp+1Ch] [ebp-8h]
  int v24; // [esp+20h] [ebp-4h]
  int v25; // [esp+28h] [ebp+4h]
  int v26; // [esp+30h] [ebp+Ch]
  void (__cdecl *maprgb)(const BYTE *, WORD *);
  BYTE *x1 = *(_BYTE **)&byte_5D4594[3798844];
  BYTE *x2 = *(_BYTE **)&byte_5D4594[3798796];

  v6 = (_BYTE *)(*(_DWORD *)&byte_5D4594[3798804]
               * (*(_DWORD *)&byte_5D4594[3798840] + a1[1] - *(_DWORD *)&byte_5D4594[3798824])
               + *(_DWORD *)&byte_5D4594[3798796]
               + 2 * (*(_DWORD *)&byte_5D4594[3798836] + *a1 - *(_DWORD *)&byte_5D4594[3798820]));
  if ( v6 >= x1 )
    v6 += x2 - x1;
  if ( byte_5D4594[2650637] & 8 )
  {
    if ( (unsigned int)&v6[2 * a4] < x1 )
    {
      (*(int (__cdecl **)(_DWORD, _DWORD, _DWORD))&byte_5D4594[3807160])(a5, v6, 2 * a4);
    }
    else
    {
      v7 = x1 - v6;
      (*(void (__cdecl **)(_DWORD, _DWORD, _DWORD))&byte_5D4594[3807160])(
        a5,
        v6,
        x1 - v6);
      (*(int (__cdecl **)(_DWORD, _DWORD, _DWORD))&byte_5D4594[3807160])(
                 a5 + v7,
                 *(_DWORD *)&byte_5D4594[3798796],
                 2 * a4 - v7);
    }
  }
  else
  {
    v9 = *a1 - 23 * *a2 - *(_DWORD *)&byte_5D4594[2650676];
    v21 = 12 * a3;
    v10 = 12 * a3 + 280 * *a2;
    v11 = *(_DWORD *)&byte_5D4594[v10 + 2598288];
    v12 = *(_DWORD *)&byte_5D4594[v10 + 2598292];
    v13 = *(_DWORD *)&byte_5D4594[v10 + 2598296];
    v22 = *(_DWORD *)&byte_5D4594[4 * ((*(int *)&byte_5D4594[v10 + 2598568] - v11) >> 8) + 2615304];
    v23 = *(_DWORD *)&byte_5D4594[4 * ((*(int *)&byte_5D4594[v10 + 2598572] - v12) >> 8) + 2615304];
    v24 = *(_DWORD *)&byte_5D4594[4 * ((*(int *)&byte_5D4594[v10 + 2598576] - v13) >> 8) + 2615304];
    if ( v9 <= 0 )
    {
      v25 = 23;
    }
    else
    {
      v12 += v9 * *(_DWORD *)&byte_5D4594[4 * ((*(int *)&byte_5D4594[v10 + 2598572] - v12) >> 8) + 2615304];
      v11 += v9 * v22;
      v13 += v9 * v24;
      v25 = 23 - v9;
    }
    if ( v25 > a4 )
      v25 = a4;
    while ( 1 )
    {
      for (v26 = v25; v26; --v26)
      {
        BYTE r, g, b;
        WORD x = *(_WORD *)v6;

        r = (v13 * (x & 0x1Fu)) >> 13;
        g = (v12 * ((x >> 2) & 0xF8)) >> 16;
        b = (v11 * ((x >> 7) & 0xF8)) >> 16;
        *(WORD *)a5 = (r >> 3) | ((g & 0xF8) << 2) | ((b & 0xF8) << 7);
        // maprgb = *(void **)&byte_5D4594[3807144];
        // maprgb(tmp, v20);

        v6 += 2;
        a5 += 2;
        if ( v6 >= x1 )
          v6 = x2;
        v11 += v22;
        v12 += v23;
        v13 += v24;
      }
      v16 = a4 - v25;
      a4 = v16;
      if ( v16 <= 0 )
        break;
      v25 = 23;
      if ( v16 < 23 )
        v25 = v16;
      v17 = *a2 + 1;
      *a2 = v17;
      v18 = v21 + 280 * v17;
      v11 = *(_DWORD *)&byte_5D4594[v18 + 2598288];
      v12 = *(_DWORD *)&byte_5D4594[v18 + 2598292];
      v13 = *(_DWORD *)&byte_5D4594[v18 + 2598296];
      v22 = *(_DWORD *)&byte_5D4594[4 * ((*(int *)&byte_5D4594[v18 + 2598568] - v11) >> 8) + 2615304];
      v23 = *(_DWORD *)&byte_5D4594[4 * ((*(int *)&byte_5D4594[v18 + 2598572] - v12) >> 8) + 2615304];
      v24 = *(_DWORD *)&byte_5D4594[4 * ((*(int *)&byte_5D4594[v18 + 2598576] - v13) >> 8) + 2615304];
    }
  }
}

//----- (00480EB0) --------------------------------------------------------
_WORD *__cdecl sub_480EB0(_WORD *a1, __int16 *a2, int a3)
{
  __int16 *v3; // esi
  _WORD *v4; // edi
  int v5; // ecx
  __int16 v6; // ax

  v3 = a2;
  v4 = a1;
  v5 = a3;
  do
  {
    v6 = *v3;
    ++v3;
    *v4 = v6 & 0x1F | (2 * v6) & 0xFFC0;
    ++v4;
  }
  while ( v5-- > 1 );
  return v4;
}

//----- (00480EF0) --------------------------------------------------------
int *__cdecl sub_480EF0(int a1, int a2, int a3, int *a4, int *a5, int a6, int a7, int a8, int a9)
{
  int *result; // eax
  int v10; // ebx
  char v11; // cl
  int v12; // esi
  int v13; // edx
  int *v14; // ebp
  int v15; // edi
  char *v16; // ebp
  int v17; // ecx
  int v18; // esi
  int v19; // esi
  int v20; // edx
  int v21; // edx
  int v22; // ecx
  int v23; // edx
  int v24; // eax
  int v25; // ecx
  int v26; // esi
  int v27; // ecx
  int i; // esi
  char v29; // al
  unsigned int v30; // ecx
  const void *v31; // esi
  int v32; // edi
  int j; // esi
  char v34; // al
  char v35; // dl
  int v36; // ecx
  int v37; // esi
  unsigned __int8 v38; // dl
  char v39; // al
  int v40; // [esp+10h] [ebp-48h]
  int v41; // [esp+14h] [ebp-44h]
  void (__cdecl *v42)(char *, char *, int, int *, int *); // [esp+18h] [ebp-40h]
  int v43; // [esp+1Ch] [ebp-3Ch]
  int v44; // [esp+20h] [ebp-38h]
  int2 v45; // [esp+24h] [ebp-34h]
  int2 v46; // [esp+2Ch] [ebp-2Ch]
  int v47; // [esp+34h] [ebp-24h]
  int v48; // [esp+38h] [ebp-20h]
  int v49; // [esp+3Ch] [ebp-1Ch]
  int v50[3]; // [esp+40h] [ebp-18h]
  int v51[3]; // [esp+4Ch] [ebp-Ch]
  char *v52; // [esp+60h] [ebp+8h]
  int v53; // [esp+64h] [ebp+Ch]
  int v54; // [esp+64h] [ebp+Ch]
  int v55; // [esp+70h] [ebp+18h]
  int v56; // [esp+74h] [ebp+1Ch]
  unsigned __int8 v57; // [esp+7Ch] [ebp+24h]
  unsigned __int8 v58; // [esp+7Ch] [ebp+24h]
  unsigned __int8 v59; // [esp+7Ch] [ebp+24h]
  unsigned __int8 v60; // [esp+7Ch] [ebp+24h]
  unsigned __int8 v61; // [esp+7Ch] [ebp+24h]

  result = (int *)a1;
  v10 = 0;
  v44 = 0;
  if ( a1 )
  {
    v11 = *(_BYTE *)(a1 + 10);
    v45.field_4 = 0;
    v45.field_0 = 0;
    v46.field_4 = 0;
    v46.field_0 = 0;
    if ( (v11 & 0x3F) == 3 )
    {
      v42 = (void (__cdecl *)(char *, char *, int, int *, int *))sub_480700;
      if ( !*(_DWORD *)&byte_5D4594[3801804] )
        v42 = (void (__cdecl *)(char *, char *, int, int *, int *))sub_480860;
      result = (int *)sub_42FB30(a1);
      if ( result )
      {
        v12 = *result;
        v13 = result[1] - a9;
        v43 = *result;
        v40 = *result;
        v41 = v13;
        if ( v13 > 0 )
        {
          v14 = result + 3;
          result = (int *)(result[2] + a2);
          v15 = *v14;
          v16 = (char *)v14 + 5;
          v17 = v15 + a3;
          v53 = v15 + a3;
          if ( (int)result <= *(int *)&byte_5D4594[3807116] && v17 <= *(int *)&byte_5D4594[3807152] )
          {
            if ( (int)result < *(int *)&byte_5D4594[3807140] )
            {
              if ( (int)result + v12 < *(int *)&byte_5D4594[3807140] )
                return result;
              v10 = *(int *)&byte_5D4594[3807140] - (int)result;
              v40 = v12 - (*(int *)&byte_5D4594[3807140] - (int)result);
              result = *(int **)&byte_5D4594[3807140];
            }
            if ( (int)result + v40 > *(int *)&byte_5D4594[3807116] )
              v40 = *(int *)&byte_5D4594[3807116] - (int)result;
            if ( v17 < *(int *)&byte_5D4594[3807136] )
            {
              if ( v13 + v17 < *(int *)&byte_5D4594[3807136] )
                return result;
              v18 = *(int *)&byte_5D4594[3807136] - v17;
              v17 = *(int *)&byte_5D4594[3807136];
              v13 -= v18;
              v53 = *(int *)&byte_5D4594[3807136];
              v41 = v13;
              v44 = v18;
            }
            if ( v13 + v17 > *(int *)&byte_5D4594[3807152] )
            {
              v13 = *(int *)&byte_5D4594[3807152] - v17;
              v41 = *(int *)&byte_5D4594[3807152] - v17;
            }
            if ( v40 > 0 && v13 > 0 )
            {
              v19 = a6;
              if ( a6 < v17 )
                v19 = v17;
              if ( v13 + v17 > v19 )
                v41 = v19 - v17;
              if ( a7 <= (int)result + v10 )
              {
                v20 = 0;
              }
              else
              {
                v20 = a7 - v10 - (int)result;
                v10 = a7 - (int)result;
                v40 -= v20;
              }
              if ( a8 < (int)result + v40 + v10 )
                v40 = a8 - v10 - (int)result;
              if ( v40 > 0 )
              {
                v21 = *(int *)(*(_DWORD *)&byte_5D4594[3798784] + 4 * v17) + 2 * ((int)result + v20);
                v22 = a4[1];
                v52 = (char *)v21;
                v23 = *a4;
                v49 = a4[2] << 8;
                v23 <<= 8;
                v24 = (*a5 << 8) - v23;
                v47 = v23;
                v48 = v22 << 8;
                v25 = a5[1] << 8;
                v26 = a5[2] << 8;
                v50[0] = v24 / v43;
                v50[1] = (v25 - v48) / v43;
                v50[2] = (v26 - v49) / v43;
                if ( v44 > 0 )
                {
                  v27 = v44;
                  do
                  {
                    for ( i = v43; i > 0; i -= v57 )
                    {
                      v29 = *v16;
                      v57 = v16[1];
                      v16 += 2;
                      LOBYTE(a1) = v29;
                      if ( v29 == 2 )
                        v16 += 2 * v57;
                    }
                    --v27;
                  }
                  while ( v27 );
                }
                v46.field_4 = v53;
                sub_473970(&v46, &v45);
                v30 = 0;
                v31 = 0;
                result = (int *)(v41 - 1);
                if ( v41 )
                {
                  v56 = v41;
                  while ( 1 )
                  {
                    v32 = 0;
                    v54 = 0;
                    v55 = 0;
                    if ( *(_DWORD *)&byte_587000[80820] || !(v45.field_4 & 1) )
                    {
                      if ( v10 <= 0 )
                      {
                        v35 = a1;
                      }
                      else
                      {
                        do
                        {
                          v35 = *v16;
                          v59 = v16[1];
                          v16 += 2;
                          LOBYTE(a1) = v35;
                          if ( v35 == 2 )
                            v16 += 2 * v59;
                          v32 += v59;
                        }
                        while ( v32 < v10 );
                      }
                      if ( v32 <= v10 )
                      {
                        v36 = v40;
                      }
                      else
                      {
                        v36 = v40;
                        v37 = v40;
                        if ( v32 - v10 <= v40 )
                          v37 = v32 - v10;
                        if ( v35 == 2 )
                        {
                          v51[0] = v47 + v10 * v50[0];
                          v51[1] = v48 + v10 * v50[1];
                          v51[2] = v49 + v10 * v50[2];
                          v42(v52, &v16[-2 * (v32 - v10)], v37, v51, v50);
                          v36 = v40;
                          v54 = 2 * v37;
                        }
                        v55 = 0;
                      }
                      if ( v32 < v36 + v10 )
                      {
                        do
                        {
                          v38 = v16[1];
                          LOBYTE(a1) = *v16;
                          v16 += 2;
                          v60 = v38;
                          if ( (_BYTE)a1 == 2 )
                          {
                            if ( v38 > v10 + v36 - v32 )
                            {
                              v55 = v32 + v38 - v36 - v10;
                              v60 = -(char)(v32 + -(char)v36 - v10);
                            }
                            v51[0] = v47 + v50[0] * v32;
                            v51[2] = v49 + v50[2] * v32;
                            v51[1] = v48 + v50[1] * v32;
                            v42(&v52[2 * (v32 - v10)], v16, v60, v51, v50);
                            v36 = v40;
                            v16 += 2 * v60;
                          }
                          v32 += v60;
                          v54 += 2 * v60;
                        }
                        while ( v32 < v36 + v10 );
                        if ( v55 )
                        {
                          if ( (_BYTE)a1 == 2 )
                            v16 += 2 * v55;
                          v32 += v55;
                        }
                      }
                      for ( ; v32 < v43; v32 += v61 )
                      {
                        v39 = *v16;
                        v61 = v16[1];
                        v16 += 2;
                        LOBYTE(a1) = v39;
                        if ( v39 == 2 )
                          v16 += 2 * v61;
                      }
                    }
                    else
                    {
                      if ( v31 && v30 )
                        qmemcpy(v52, v31, v30);
                      for ( j = v43; j > 0; j -= v58 )
                      {
                        v34 = *v16;
                        v58 = v16[1];
                        v16 += 2;
                        LOBYTE(a1) = v34;
                        if ( v34 == 2 )
                          v16 += 2 * v58;
                      }
                    }
                    v31 = v52;
                    v52 += *(int *)&byte_5D4594[3801808];
                    ++v45.field_4;
                    result = (int *)--v56;
                    if ( !v56 )
                      break;
                    v30 = v54;
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  return result;
}

//----- (00481410) --------------------------------------------------------
void sub_481410()
{
  *(_DWORD *)&byte_587000[154948] = -1;
}

//----- (00481420) --------------------------------------------------------
int sub_481420()
{
  int result; // eax

  result = *(_DWORD *)&byte_587000[154956];
  if ( *(_DWORD *)&byte_587000[154956] )
  {
    *(_DWORD *)&byte_587000[154940] = sub_4815E0;
    *(_DWORD *)&byte_587000[154944] = sub_481900;
  }
  else
  {
    *(_DWORD *)&byte_587000[154940] = sub_481770;
    *(_DWORD *)&byte_587000[154944] = nullsub_8;
  }
  *(_DWORD *)&byte_5D4594[1193188] = 1;
  return result;
}
// 481BE0: using guessed type void nullsub_8();

//----- (00481470) --------------------------------------------------------
int __cdecl sub_481470(_DWORD *a1)
{
  unsigned __int16 v1; // dx
  int v2; // eax
  int v3; // esi
  int v4; // ebx
  int v5; // ecx
  int result; // eax

  LOBYTE(v1) = 0;
  v2 = a1[1] + 45 * *a1;
  HIBYTE(v1) = byte_5D4594[v2 + 2616332];
  v3 = v1;
  v4 = *(_DWORD *)&byte_5D4594[4 * (((byte_5D4594[v2 + 2616333] << 8) - v1) >> 8) + 2615304];
  v5 = 0;
  do
  {
    v5 += 12;
    *(_DWORD *)&byte_5D4594[280 * *a1 + 2598276 + v5] = v3;
    v3 += v4;
  }
  while ( v5 < 276 );
  result = 35 * *a1;
  *(_DWORD *)&byte_5D4594[280 * *a1 + 2598284] = a1[1];
  return result;
}

//----- (004814F0) --------------------------------------------------------
int __cdecl sub_4814F0(_DWORD *a1)
{
  int v1; // eax
  int v2; // ecx
  int v3; // edx
  int v4; // esi
  int v5; // edi
  unsigned __int8 *v6; // eax
  int result; // eax
  int v8; // [esp+10h] [ebp-Ch]
  int v9; // [esp+14h] [ebp-8h]
  int v10; // [esp+18h] [ebp-4h]

  v1 = 12 * (a1[1] + 45 * *a1);
  v2 = *(_DWORD *)&byte_5D4594[v1 + 2618924] >> 8;
  v3 = *(_DWORD *)&byte_5D4594[v1 + 2618928] >> 8;
  v8 = *(_DWORD *)&byte_5D4594[4 * (((*(int *)&byte_5D4594[v1 + 2618936] >> 8) - v2) >> 8) + 2615304];
  v4 = *(_DWORD *)&byte_5D4594[v1 + 2618932] >> 8;
  v9 = *(_DWORD *)&byte_5D4594[4 * (((*(int *)&byte_5D4594[v1 + 2618940] >> 8) - v3) >> 8) + 2615304];
  v10 = *(_DWORD *)&byte_5D4594[4 * (((*(int *)&byte_5D4594[v1 + 2618944] >> 8) - v4) >> 8) + 2615304];
  v5 = 0;
  do
  {
    v6 = &byte_5D4594[280 * *a1 + 2598288 + v5];
    v5 += 12;
    *(_DWORD *)v6 = v2;
    *((_DWORD *)v6 + 1) = v3;
    v3 += v9;
    *((_DWORD *)v6 + 2) = v4;
    v2 += v8;
    v4 += v10;
  }
  while ( v5 < 276 );
  result = 7 * *a1;
  *(_DWORD *)&byte_5D4594[280 * *a1 + 2598284] = a1[1];
  return result;
}

//----- (004815E0) --------------------------------------------------------
char __cdecl sub_4815E0(_DWORD *a1, int a2)
{
  unsigned int v2; // ebx
  int v3; // eax
  char *v4; // esi
  unsigned int v5; // edi
  int v6; // eax
  int v7; // edx
  unsigned int v8; // ebp
  signed int v9; // eax
  char *v10; // edi
  char *v11; // esi
  char v12; // cl
  char *v14; // [esp+10h] [ebp+4h]
  int i; // [esp+14h] [ebp+8h]

  v2 = *(_DWORD *)&byte_5D4594[3798804] * (*(_DWORD *)&byte_5D4594[3798840] + a1[1] - *(_DWORD *)&byte_5D4594[3798824])
     + *(_DWORD *)&byte_5D4594[3798796]
     + ((*(_DWORD *)&byte_5D4594[3798836] + *a1 - *(_DWORD *)&byte_5D4594[3798820]) << byte_5D4594[3807124]);
  if ( v2 >= *(int *)&byte_5D4594[3798844] )
    v2 += *(_DWORD *)&byte_5D4594[3798796] - *(_DWORD *)&byte_5D4594[3798844];
  v3 = sub_42FB30(a2);
  v4 = (char *)v3;
  v14 = (char *)v3;
  if ( v3 )
  {
    v5 = *(_DWORD *)&byte_5D4594[3798844];
    if ( v2 + *(int *)&byte_5D4594[3799236] >= *(int *)&byte_5D4594[3798844] )
    {
      v6 = 0;
      for ( i = 0; ; v6 = i )
      {
        v7 = *(_DWORD *)&byte_5D4594[v6 + 3799052] << byte_5D4594[3807124];
        v8 = *(_DWORD *)&byte_5D4594[v6 + 3799244] << byte_5D4594[3807124];
        if ( v2 + v7 + v8 < v5 )
        {
          qmemcpy((void *)(v7 + v2), v4, 4 * (v8 >> 2));
          v11 = &v4[4 * (v8 >> 2)];
          v10 = (char *)(v7 + v2 + 4 * (v8 >> 2));
          v12 = v8;
        }
        else
        {
          v9 = v5 - v7 - v2;
          if ( v9 > 0 )
          {
            qmemcpy((void *)(v7 + v2), v4, v9);
            qmemcpy(*(void **)&byte_5D4594[3798796], &v14[v9], v8 - v9);
            v5 = *(_DWORD *)&byte_5D4594[3798844];
            v2 += *(_DWORD *)&byte_5D4594[3798796] - *(_DWORD *)&byte_5D4594[3798844];
            goto LABEL_13;
          }
          v2 += *(_DWORD *)&byte_5D4594[3798796] - v5;
          qmemcpy((void *)(v7 + v2), v4, 4 * (v8 >> 2));
          v11 = &v4[4 * (v8 >> 2)];
          v10 = (char *)(v7 + v2 + 4 * (v8 >> 2));
          v12 = v8;
        }
        qmemcpy(v10, v11, v12 & 3);
        v5 = *(_DWORD *)&byte_5D4594[3798844];
LABEL_13:
        v2 += *(_DWORD *)&byte_5D4594[3798804];
        v14 += v8;
        LOBYTE(v3) = i + 4;
        i += 4;
        if ( i >= 184 )
          return v3;
        v4 = v14;
      }
    }
	else
	{
      if ( *(_DWORD *)&byte_5D4594[3799624] )
        LOBYTE(v3) = sub_4831C0(v3, v2);
      else
        LOBYTE(v3) = sub_482910(v3, v2);
	}
  }
  return v3;
}

//----- (00481770) --------------------------------------------------------
char *__cdecl sub_481770(_DWORD *a1, int a2, unsigned __int16 a3)
{
  int v3; // ebp
  unsigned __int8 v4; // cl
  unsigned int v5; // edx
  unsigned int v6; // esi
  int v7; // ebx
  int v8; // eax
  int v9; // edi
  int v10; // ebx
  char *result; // eax
  int v12; // [esp+Ch] [ebp+Ch]

  if ( !*(_DWORD *)&byte_587000[154956] && (byte_5D4594[60 * a3 + 2682246] & 1) == 1 )
    *(_DWORD *)&byte_5D4594[1193156] = 1;
  v3 = *(_DWORD *)&byte_5D4594[60 * a3 + 2682236];
  v4 = byte_5D4594[3807124];
  v5 = *(_DWORD *)&byte_5D4594[3798844];
  v6 = *(_DWORD *)&byte_5D4594[3798804] * (*(_DWORD *)&byte_5D4594[3798840] + a1[1] - *(_DWORD *)&byte_5D4594[3798824])
     + *(_DWORD *)&byte_5D4594[3798796]
     + ((*(_DWORD *)&byte_5D4594[3798836] + *a1 - *(_DWORD *)&byte_5D4594[3798820]) << byte_5D4594[3807124]);
  if ( v6 >= *(int *)&byte_5D4594[3798844] )
    v6 += *(_DWORD *)&byte_5D4594[3798796] - *(_DWORD *)&byte_5D4594[3798844];
  if ( v6 + *(_DWORD *)&byte_5D4594[3799236] < *(int *)&byte_5D4594[3798844] )
  {
    if ( *(_DWORD *)&byte_5D4594[3799624] )
      result = (char *)sub_484450(v3, v6);
    else
      result = (char *)sub_483FE0(v3, v6);
  }
  else
  {
    v7 = 0;
    v12 = 0;
    while ( 1 )
    {
      v8 = *(_DWORD *)&byte_5D4594[v7 + 3799052] << v4;
      v9 = *(_DWORD *)&byte_5D4594[v7 + 3799244] << v4;
      if ( v6 + v9 + v8 < v5 )
      {
        result = (char *)sub_49D1C0(v6 + v8, v3, v9);
        v5 = *(_DWORD *)&byte_5D4594[3798844];
      }
      else
      {
        v10 = v5 - v8 - v6;
        if ( v10 <= 0 )
        {
          v6 += *(_DWORD *)&byte_5D4594[3798796] - v5;
          result = (char *)sub_49D1C0(v6 + v8, v3, v9);
          v5 = *(_DWORD *)&byte_5D4594[3798844];
          v7 = v12;
        }
        else
        {
          sub_49D1C0(v6 + v8, v3, v5 - v8 - v6);
          sub_49D1C0(*(int *)&byte_5D4594[3798796], v3, v9 - v10);
          v5 = *(_DWORD *)&byte_5D4594[3798844];
          v7 = v12;
          result = (char *)(*(_DWORD *)&byte_5D4594[3798796] - *(_DWORD *)&byte_5D4594[3798844]);
          v6 += *(_DWORD *)&byte_5D4594[3798796] - *(_DWORD *)&byte_5D4594[3798844];
        }
      }
      v7 += 4;
      v6 += *(_DWORD *)&byte_5D4594[3798804];
      v12 = v7;
      if ( v7 >= 184 )
        break;
      v4 = byte_5D4594[3807124];
    }
  }
  return result;
}

//----- (00481900) --------------------------------------------------------
char __cdecl sub_481900(_DWORD *a1, _DWORD *a2)
{
  int v2; // ebx
  int v3; // esi
  int v4; // edx
  int v5; // ebp
  int v6; // eax
  int v7; // edi
  int v8; // edi
  int v9; // eax
  _BYTE *v10; // ebx
  int v11; // ebp
  unsigned int v12; // esi
  unsigned int v13; // edi
  char *v14; // ebp
  char *v15; // edx
  int v16; // ebx
  char *v17; // edi
  unsigned int v18; // ecx
  char *v19; // esi
  unsigned int v20; // eax
  char *v21; // esi
  int v22; // eax
  int v24; // [esp+10h] [ebp-1Ch]
  unsigned __int8 v25; // [esp+14h] [ebp-18h]
  char *v26; // [esp+14h] [ebp-18h]
  char *v27; // [esp+18h] [ebp-14h]
  int v28; // [esp+1Ch] [ebp-10h]
  unsigned __int8 v29; // [esp+20h] [ebp-Ch]
  int v30; // [esp+28h] [ebp-4h]
  unsigned int v31; // [esp+30h] [ebp+4h]
  unsigned __int8 v32; // [esp+34h] [ebp+8h]
  char *v33; // [esp+34h] [ebp+8h]

  v2 = *(_DWORD *)&byte_5D4594[3798824];
  v3 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[60 * *a2 + 2682220]
                 + 4 * (a2[1] + *(unsigned __int16 *)&byte_5D4594[60 * *a2 + 2682234]));
  v4 = a2[2];
  v5 = *(_DWORD *)&byte_5D4594[3798836];
  v6 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[60 * v4 + 2678380]
                 + 4 * (a2[3] + *(unsigned __int16 *)&byte_5D4594[60 * v4 + 2678394]));
  v7 = *(_DWORD *)&byte_5D4594[3798840];
  *(_DWORD *)&byte_5D4594[4 * v4 + 2523980] = 1;
  v8 = *(_DWORD *)&byte_5D4594[3798804] * (v7 + a1[1] - v2)
     + *(_DWORD *)&byte_5D4594[3798796]
     + ((v5 + *a1 - *(_DWORD *)&byte_5D4594[3798820]) << byte_5D4594[3807124]);
  v9 = sub_42FB30(v6);
  if ( v9 )
  {
    v32 = *(_BYTE *)v9;
    v25 = *(_BYTE *)(v9 + 1);
    v10 = (_BYTE *)(v9 + 2);
    v9 = sub_42FB30(v3);
    v11 = v9;
    if ( v9 )
    {
      v12 = *(_DWORD *)&byte_5D4594[3798844];
      v9 = v32;
      v13 = *(_DWORD *)&byte_5D4594[3798804] * v32 + v8;
      v31 = v13;
      v14 = (char *)((*(_DWORD *)&byte_5D4594[4 * v32 + 3798860] << byte_5D4594[3807124]) + v11);
      v27 = v14;
      if ( v13 >= *(int *)&byte_5D4594[3798844] )
      {
        v13 += *(_DWORD *)&byte_5D4594[3798796] - *(_DWORD *)&byte_5D4594[3798844];
        v31 = v13;
      }
      v28 = v32;
      v30 = v25;
      if ( v32 <= (int)v25 )
      {
        do
        {
          v24 = *(_DWORD *)&byte_5D4594[4 * v9 + 3799244];
          v26 = v14;
          v15 = (char *)(v13 + (*(_DWORD *)&byte_5D4594[4 * v9 + 3799052] << byte_5D4594[3807124]));
          if ( v24 > 0 )
          {
            do
            {
              LOBYTE(v9) = *v10;
              v29 = v10[1];
              v33 = v10 + 2;
              v16 = v29 << byte_5D4594[3807124];
              switch ( (_BYTE)v9 )
              {
                case 2:
                  if ( (unsigned int)&v15[v16] < v12 )
                  {
                    v19 = v33;
                    v18 = v29 << byte_5D4594[3807124];
                    v17 = v15;
                  }
                  else
                  {
                    qmemcpy(v15, v33, v12 - (_DWORD)v15);
                    v17 = *(char **)&byte_5D4594[3798796];
                    v18 = v16 - (v12 - (_DWORD)v15);
                    v19 = &v33[v12 - (_DWORD)v15];
                  }
                  qmemcpy(v17, v19, v18);
                  v12 = *(_DWORD *)&byte_5D4594[3798844];
                  v13 = v31;
                  v33 += v16;
                  break;
                case 3:
				  if ( (unsigned int)&v15[v16] < v12 )
				  {
                    qmemcpy(v15, v14, v16);
				  }
				  else
                  {
                    v20 = v12 - (_DWORD)v15;
                    qmemcpy(v15, v14, v20);
                    v14 = v26;
                    qmemcpy(*(void **)&byte_5D4594[3798796], &v26[v20], v16 - v20);
				  }
                  v12 = *(_DWORD *)&byte_5D4594[3798844];
                  v13 = v31;
                  break;
                case 1:
                  break;
                default:
                  return v9;
              }
              v15 += v16;
              v22 = v24 - v29;
              v14 += v16;
              v24 -= v29;
              v26 = v14;
              if ( (unsigned int)v15 >= v12 )
                v15 += *(_DWORD *)&byte_5D4594[3798796] - v12;
              v10 = v33;
            }
            while ( v22 > 0 );
            v9 = v28;
          }
          v14 = &v27[*(_DWORD *)&byte_5D4594[4 * v9 + 3799244] << byte_5D4594[3807124]];
          v13 += *(_DWORD *)&byte_5D4594[3798804];
          v27 += *(_DWORD *)&byte_5D4594[4 * v9 + 3799244] << byte_5D4594[3807124];
          v31 = v13;
          if ( v13 >= v12 )
          {
            v13 += *(_DWORD *)&byte_5D4594[3798796] - v12;
            v31 = v13;
          }
          v28 = ++v9;
        }
        while ( v9 <= v30 );
      }
    }
  }
  return v9;
}

//----- (00481BF0) --------------------------------------------------------
void __cdecl sub_481BF0(int a1, int a2)
{
  int i; // esi

  for ( i = a2; i; i = *(_DWORD *)(i + 16) )
    (*(int (__cdecl **)(int, int))&byte_587000[154944])(a1, i);
}
// 5ACD40: invalid function type has been ignored

#if 1
//----- (00481C20) --------------------------------------------------------
int __cdecl sub_481C20(int *a1)
{
  int v1; // esi
  int v2; // edx
  int v3; // esi
  int v4; // eax
  bool v5; // sf
  int v6; // ecx
  int v7; // edx
  int v8; // eax
  int v9; // edx
  int v10; // esi
  int v11; // ebx
  int v12; // eax
  int v13; // ecx
  int v14; // esi
  int v15; // edi
  int v16; // edi
  int v17; // esi
  bool v18; // cc
  int v19; // esi
  int v20; // edi
  int v21; // eax
  int v22; // esi
  int v23; // edi
  int v24; // ecx
  int v25; // eax
  int v26; // ebx
  int v27; // ecx
  int v28; // esi
  char v29; // al
  int v30; // esi
  int v31; // edi
  int v32; // edi
  int v33; // esi
  int result; // eax
  unsigned __int8 *v35; // ebx
  int v36; // eax
  int v37; // eax
  int v38; // edx
  char *v39; // esi
  unsigned int v40; // eax
  int v41; // eax
  char *v42; // edi
  char *v43; // edi
  char *v44; // esi
  char v45; // cl
  bool v46; // zf
  int v47; // eax
  unsigned __int8 *v48; // eax
  int v49; // ecx
  int v50; // eax
  unsigned __int8 *v51; // esi
  int v52; // eax
  int *v53; // ebx
  int v54; // esi
  int v55; // eax
  unsigned int v56; // ecx
  unsigned int v57; // eax
  int v58; // eax
  int v59; // edi
  int v60; // edx
  int v61; // esi
  int v62; // [esp-8h] [ebp-54h]
  int v63; // [esp-8h] [ebp-54h]
  int v64; // [esp-8h] [ebp-54h]
  int v65; // [esp-8h] [ebp-54h]
  int2 v66; // [esp+Ch] [ebp-40h]
  int2 v67; // [esp+14h] [ebp-38h]
  int2 v68; // [esp+1Ch] [ebp-30h]
  int v69; // [esp+24h] [ebp-28h]
  int v70; // [esp+28h] [ebp-24h]
  int v71; // [esp+2Ch] [ebp-20h]
  int v72; // [esp+30h] [ebp-1Ch]
  int j; // [esp+34h] [ebp-18h]
  unsigned int v74; // [esp+38h] [ebp-14h]
  unsigned __int8 *v75; // [esp+3Ch] [ebp-10h]
  int v76; // [esp+40h] [ebp-Ch]
  int i; // [esp+44h] [ebp-8h]
  unsigned __int8 *v78; // [esp+48h] [ebp-4h]
  int v79; // [esp+54h] [ebp+8h]
  int v80; // [esp+54h] [ebp+8h]

  ++*(_DWORD *)&byte_587000[154948];
  v1 = a1[4];
  v2 = *a1;
  v78 = (unsigned __int8 *)(a1[5] - a1[1]);
  v3 = v1 - v2;
  v72 = v3;
  if ( !*(_DWORD *)&byte_587000[154956] )
  {
    if ( *(_DWORD *)&byte_5D4594[1193156] != 1 )
      goto LABEL_9;
    *(_DWORD *)&byte_587000[154960] = 0;
    *(_DWORD *)&byte_587000[154956] = 1;
    sub_481420();
  }
  if ( *(_DWORD *)&byte_5D4594[1193156] == 1
    && !*(_DWORD *)&byte_587000[154960]
    && !(*(_DWORD *)&byte_5D4594[2598000] % 0x1Eu)
    && !sub_482570(a1) )
  {
    *(_DWORD *)&byte_5D4594[1193156] = 0;
    *(_DWORD *)&byte_587000[154956] = *(_DWORD *)&byte_587000[154960];
    sub_481420();
  }
LABEL_9:
  if ( *(_DWORD *)&byte_5D4594[1193188] )
  {
    sub_4826A0(a1);
    *(_DWORD *)&byte_5D4594[1193188] = 0;
    goto LABEL_60;
  }
  if ( v3 >= *(int *)&byte_5D4594[3798820] + 23 )
  {
    v71 = *(_DWORD *)&byte_5D4594[3801784] + v3;
    if ( *(int *)&byte_5D4594[3801784] + v3 <= *(int *)&byte_5D4594[3798800]
                                                + *(_DWORD *)&byte_5D4594[3798820]
                                                - 46
      || *(int *)&byte_5D4594[3798812] + *(int *)&byte_5D4594[3798828] - 1 >= 128 )
    {
      goto LABEL_36;
    }
    if ( v71 > *(int *)&byte_5D4594[3798800] + *(int *)&byte_5D4594[3798820] )
    {
      sub_4826A0(a1);
      goto LABEL_36;
    }
    v7 = *(_DWORD *)&byte_5D4594[3798828] + 1;
    *(_DWORD *)&byte_5D4594[3798828] = v7;
    v8 = *(_DWORD *)&byte_5D4594[3798820] + 46;
    *(_DWORD *)&byte_5D4594[3798820] += 46;
    j = *(_DWORD *)&byte_5D4594[3798812] + v7 - 2;
    v9 = *(_DWORD *)&byte_5D4594[3798836] + 46;
    *(_DWORD *)&byte_5D4594[3798836] += 46;
    if ( *(int *)&byte_5D4594[3798836] >= *(int *)&byte_5D4594[3798800] )
    {
      *(_DWORD *)&byte_5D4594[3798836] = v9 - *(_DWORD *)&byte_5D4594[3798800];
      v10 = ++*(_DWORD *)&byte_5D4594[3798840];
      if ( *(int *)&byte_5D4594[3798840] >= *(int *)&byte_5D4594[3798808] )
        *(_DWORD *)&byte_5D4594[3798840] = v10 - *(_DWORD *)&byte_5D4594[3798808];
    }
    v4 = *(_DWORD *)&byte_5D4594[3798800] + v8 - 92;
  }
  else
  {
    if ( *(int *)&byte_5D4594[3798828] <= 0 )
      goto LABEL_36;
    if ( v3 < *(int *)&byte_5D4594[3798820] - 23 )
    {
      sub_4826A0(a1);
      goto LABEL_36;
    }
    v4 = *(_DWORD *)&byte_5D4594[3798820] - 46;
    j = --*(_DWORD *)&byte_5D4594[3798828];
    *(_DWORD *)&byte_5D4594[3798820] -= 46;
    *(_DWORD *)&byte_5D4594[3798836] -= 46;
    if ( *(int *)&byte_5D4594[3798836] < 0 )
    {
      v6 = *(int *)&byte_5D4594[3798840] - 1;
      v5 = *(int *)&byte_5D4594[3798840] - 1 < 0;
      *(_DWORD *)&byte_5D4594[3798836] += *(_DWORD *)&byte_5D4594[3798800];
      --*(int *)&byte_5D4594[3798840];
      if ( v5 )
        *(int *)&byte_5D4594[3798840] = *(int *)&byte_5D4594[3798808] + v6;
    }
  }
  v76 = v4;
  sub_481410();
  v11 = *(_DWORD *)&byte_5D4594[3798824];
  v74 = *(_DWORD *)&byte_5D4594[3798832];
  if ( *(int *)&byte_5D4594[3798832] < *(int *)&byte_5D4594[3798832] + *(int *)&byte_5D4594[3798816] )
  {
    v12 = 44 * *(_DWORD *)&byte_5D4594[3798832];
    for ( i = 44 * *(_DWORD *)&byte_5D4594[3798832]; ; v12 = i )
    {
      HIWORD(v13) = *(_WORD *)&byte_5D4594[2650670];
      v14 = v12 + *(_DWORD *)(*(_DWORD *)&byte_5D4594[2650668] + 4 * j);
      if ( *(_BYTE *)v14 & 2 )
      {
        LOWORD(v13) = *(_WORD *)(v14 + 24);
        v15 = *(unsigned __int16 *)(v14 + 24);
        v62 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[60 * v15 + 2682220]
                        + 4 * (*(_DWORD *)(v14 + 28) + *(unsigned __int16 *)&byte_5D4594[60 * v15 + 2682234]));
        v68.field_0 = v76;
        v68.field_4 = v11 + 23;
        (*(void (__cdecl **)(int2 *, _DWORD, _DWORD))&byte_587000[154940])(&v68, v62, v13);
        *(_DWORD *)&byte_5D4594[4 * v15 + 2649932] = 1;
        if ( *(_DWORD *)(v14 + 40) )
          sub_481BF0((int)&v68, *(_DWORD *)(v14 + 40));
      }
      if ( *(_BYTE *)v14 & 1 )
      {
        LOWORD(v13) = *(_WORD *)(v14 + 4);
        v16 = *(unsigned __int16 *)(v14 + 4);
        v63 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[60 * v16 + 2682220]
                        + 4 * (*(_DWORD *)(v14 + 8) + *(unsigned __int16 *)&byte_5D4594[60 * v16 + 2682234]));
        v68.field_0 = v76 + 23;
        v68.field_4 = v11;
        (*(void (__cdecl **)(int2 *, _DWORD, _DWORD))&byte_587000[154940])(&v68, v63, v13);
        *(_DWORD *)&byte_5D4594[4 * v16 + 2649932] = 1;
        v17 = *(_DWORD *)(v14 + 20);
        if ( v17 )
          sub_481BF0((int)&v68, v17);
      }
      v11 += 46;
      v18 = (int)++v74 < *(int *)&byte_5D4594[3798832] + *(_DWORD *)&byte_5D4594[3798816];
      i += 44;
      if ( !v18 )
        break;
    }
  }
LABEL_36:
  if ( (int)v78 >= *(int *)&byte_5D4594[3798824] + 23 )
  {
    if ( (int)&v78[*(int *)&byte_5D4594[3801788]] <= *(int *)&byte_5D4594[3798824]
                                                      + *(int *)&byte_5D4594[3798808] )
      goto LABEL_60;
    v22 = *(_DWORD *)&byte_5D4594[3798832];
    if ( *(int *)&byte_5D4594[3798832] + *(int *)&byte_5D4594[3798816] >= 128 )
      goto LABEL_60;
    if ( (int)&v78[*(_DWORD *)&byte_5D4594[3801788]] > *(int *)&byte_5D4594[3798824]
                                                     + *(int *)&byte_5D4594[3798808]
                                                     + 46 )
    {
      sub_4826A0(a1);
      goto LABEL_60;
    }
    ++*(_DWORD *)&byte_5D4594[3798832];
    v23 = *(_DWORD *)&byte_5D4594[3798824] + 46;
    v19 = *(_DWORD *)&byte_5D4594[3798816] + v22;
    v24 = *(_DWORD *)&byte_5D4594[3798840] + 46;
    *(_DWORD *)&byte_5D4594[3798824] += 46;
    *(_DWORD *)&byte_5D4594[3798840] += 46;
    if ( *(int *)&byte_5D4594[3798840] >= *(int *)&byte_5D4594[3798808] )
      *(_DWORD *)&byte_5D4594[3798840] = v24 - *(_DWORD *)&byte_5D4594[3798808];
    v76 = v23 + *(_DWORD *)&byte_5D4594[3798808] - 46;
  }
  else
  {
    if ( *(int *)&byte_5D4594[3798832] <= 0 )
      goto LABEL_60;
    if ( (int)v78 < *(int *)&byte_5D4594[3798824] - 23 )
    {
      sub_4826A0(a1);
      goto LABEL_60;
    }
    v19 = *(_DWORD *)&byte_5D4594[3798832] - 1;
    v20 = *(_DWORD *)&byte_5D4594[3798824] - 46;
    v21 = *(_DWORD *)&byte_5D4594[3798840] - 46;
    v5 = *(int *)&byte_5D4594[3798840] - 46 < 0;
    --*(_DWORD *)&byte_5D4594[3798832];
    *(_DWORD *)&byte_5D4594[3798824] -= 46;
    *(_DWORD *)&byte_5D4594[3798840] -= 46;
    if ( v5 )
      *(_DWORD *)&byte_5D4594[3798840] = *(_DWORD *)&byte_5D4594[3798808] + v21;
    v76 = v20;
  }
  sub_481410();
  v25 = *(_DWORD *)&byte_5D4594[3798828];
  v26 = *(_DWORD *)&byte_5D4594[3798820];
  i = *(_DWORD *)&byte_5D4594[3798828];
  j = *(_DWORD *)&byte_5D4594[3798812] + *(_DWORD *)&byte_5D4594[3798828] - 1;
  if ( *(_DWORD *)&byte_5D4594[3798828] < j )
  {
    v27 = 44 * v19;
    v71 = 44 * v19;
    while ( 1 )
    {
      v28 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[2650668] + 4 * v25);
      v29 = *(_BYTE *)(v28 + v27);
      v30 = v27 + v28;
      if ( v29 & 2 )
      {
        LOWORD(v27) = *(_WORD *)(v30 + 24);
        v31 = *(unsigned __int16 *)(v30 + 24);
        v64 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[60 * v31 + 2682220]
                        + 4 * (*(_DWORD *)(v30 + 28) + *(unsigned __int16 *)&byte_5D4594[60 * v31 + 2682234]));
        v68.field_0 = v26;
        v68.field_4 = v76 + 23;
        (*(void (__cdecl **)(int2 *, _DWORD, _DWORD))&byte_587000[154940])(&v68, v64, v27);
        *(_DWORD *)&byte_5D4594[4 * v31 + 2649932] = 1;
        if ( *(_DWORD *)(v30 + 40) )
          sub_481BF0((int)&v68, *(_DWORD *)(v30 + 40));
      }
      if ( *(_BYTE *)v30 & 1 )
      {
        LOWORD(v27) = *(_WORD *)(v30 + 4);
        v32 = *(unsigned __int16 *)(v30 + 4);
        v65 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[60 * v32 + 2682220]
                        + 4 * (*(_DWORD *)(v30 + 8) + *(unsigned __int16 *)&byte_5D4594[60 * v32 + 2682234]));
        v68.field_0 = v26 + 23;
        v68.field_4 = v76;
        (*(void (__cdecl **)(int2 *, _DWORD, _DWORD))&byte_587000[154940])(&v68, v65, v27);
        *(_DWORD *)&byte_5D4594[4 * v32 + 2649932] = 1;
        v33 = *(_DWORD *)(v30 + 20);
        if ( v33 )
          sub_481BF0((int)&v68, v33);
      }
      v26 += 46;
      if ( ++i >= j )
        break;
      v27 = v71;
      v25 = i;
    }
  }
LABEL_60:
  v67.field_4 = (int)&v78[*(_DWORD *)&byte_5D4594[3679320]];
  sub_4745F0(a1);
  if ( *(_DWORD *)&byte_587000[154956] )
  {
    v48 = &byte_5D4594[2598284];
    do
    {
      *(_DWORD *)v48 = -1;
      v48 += 280;
    }
    while ( (int)v48 < (int)&byte_5D4594[2614244] );
    v66.field_4 = (v67.field_4 - *(int *)&byte_5D4594[2650680]) / 23;
    v49 = *(_DWORD *)&byte_5D4594[3679320];
    v50 = v67.field_4 - 23 * v66.field_4 - *(_DWORD *)&byte_5D4594[2650680];
    v78 = (unsigned __int8 *)(v67.field_4 - 23 * v66.field_4 - *(_DWORD *)&byte_5D4594[2650680]);
    v80 = *(_DWORD *)&byte_5D4594[3679320];
    if ( *(int *)&byte_5D4594[3679320] < *(int *)&byte_5D4594[3798156] )
    {
      v51 = &byte_5D4594[128 * *(_DWORD *)&byte_5D4594[3679320] + 3682956];
      v76 = 4 * *(_DWORD *)&byte_5D4594[3679320] - 4;
      for ( j = (int)&byte_5D4594[128 * *(_DWORD *)&byte_5D4594[3679320] + 3682956]; ; v51 = (unsigned __int8 *)j )
      {
        i = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3798784] + 4 * v49);
        if ( v50 == 23 )
        {
          v78 = 0;
          ++v66.field_4;
        }
        v52 = *(_DWORD *)&byte_5D4594[v76 + 3679344];
        v53 = (int *)v51;
        if ( *(_DWORD *)&byte_587000[154952] || !(v67.field_4 & 1) || v51 == &byte_5D4594[3682956] )
        {
          if ( v52 > 0 )
          {
            v71 = (unsigned int)(v52 + 1) >> 1;
            do
            {
              v58 = v53[1];
              v69 = *v53;
              v59 = v69 + v72;
              v53 += 2;
              v67.field_0 = v69 + v72;
              v60 = (v69 + v72 - *(int *)&byte_5D4594[2650676]) / 23;
              v66.field_0 = v60;
              v70 = (v69 + v72 - *(int *)&byte_5D4594[2650676]) / 23;
              v61 = *(_DWORD *)&byte_5D4594[2650676] + 23 * v60;
              v74 = v58 - v69;
              v75 = &byte_5D4594[280 * v60 + 2598284];
              if ( v61 < v58 + v72 + 23 )
              {
                do
                {
                  if ( *(_DWORD *)v75 != v66.field_4 )
                  {
                    (*(void (__cdecl **)(int2 *))&byte_5D4594[3807148])(&v66);
                    v59 = v67.field_0;
                    v60 = v66.field_0;
                  }
                  v61 += 23;
                  v75 += 280;
                  v66.field_0 = ++v60;
                }
                while ( v61 < (int)(v74 + v59 + 23) );
              }
              v66.field_0 = v70;
              (*(void (__cdecl **)(int2 *, int *, _DWORD, _DWORD, _DWORD))&byte_5D4594[3805484])(
                &v67,
                &v66.field_0,
                v78,
                v74,
                i + (v69 << byte_5D4594[3807124]));
              --v71;
            }
            while ( v71 );
          }
        }
        else if ( v52 > 0 )
        {
          v74 = (unsigned int)(v52 + 1) >> 1;
          do
          {
            v54 = *v53;
            v55 = v53[1];
            v53 += 2;
            v56 = (v55 - v54) << byte_5D4594[3807124];
            v57 = v74;
            qmemcpy(
              (void *)(i + (v54 << byte_5D4594[3807124])),
              (const void *)((v54 << byte_5D4594[3807124]) + *(_DWORD *)(*(_DWORD *)&byte_5D4594[3798784] + v76)),
              v56);
            v74 = v57 - 1;
          }
          while ( v57 != 1 );
        }
        ++v78;
        v18 = ++v80 < *(int *)&byte_5D4594[3798156];
        j += 128;
        v76 += 4;
        ++v67.field_4;
        if ( !v18 )
          break;
        v49 = v80;
        v50 = (int)v78;
      }
    }
    result = *(_DWORD *)&byte_5D4594[805836];
#if 0
    if ( *(_DWORD *)&byte_5D4594[805836] )
      _m_femms();
#endif
  }
  else
  {
    result = *(_DWORD *)&byte_5D4594[3679320];
    v79 = *(_DWORD *)&byte_5D4594[3679320];
    if ( *(int *)&byte_5D4594[3679320] < *(int *)&byte_5D4594[3798156] )
    {
      v78 = &byte_5D4594[128 * *(_DWORD *)&byte_5D4594[3679320] + 3682956];
      do
      {
        v35 = v78;
        v36 = *(_DWORD *)&byte_5D4594[4 * v79 + 3679340];
        i = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3798784] + 4 * v79);
        if ( v36 > 0 )
        {
          j = (unsigned int)(v36 + 1) >> 1;
          do
          {
            v37 = *(_DWORD *)v35;
            v38 = *((_DWORD *)v35 + 1) - *(_DWORD *)v35;
            v67.field_0 = *(_DWORD *)v35 + v72;
            v71 = *(_DWORD *)&byte_5D4594[3798804]
                * (v67.field_4 + *(_DWORD *)&byte_5D4594[3798840] - *(_DWORD *)&byte_5D4594[3798824]);
            v35 += 8;
            v39 = (char *)(*(_DWORD *)&byte_5D4594[3798804]
                         * (v67.field_4 + *(_DWORD *)&byte_5D4594[3798840] - *(_DWORD *)&byte_5D4594[3798824])
                         + *(_DWORD *)&byte_5D4594[3798796]
                         + ((v37 + v72 + *(_DWORD *)&byte_5D4594[3798836] - *(_DWORD *)&byte_5D4594[3798820]) << byte_5D4594[3807124]));
            if ( (unsigned int)v39 >= *(int *)&byte_5D4594[3798844] )
              v39 += *(_DWORD *)&byte_5D4594[3798796] - *(_DWORD *)&byte_5D4594[3798844];
            v76 = i + (v37 << byte_5D4594[3807124]);
            v40 = v38 << byte_5D4594[3807124];
            if ( (unsigned int)&v39[v38 << byte_5D4594[3807124]] < *(int *)&byte_5D4594[3798844] )
            {
              v42 = (char *)v76;
              qmemcpy((void *)v76, v39, 4 * (v40 >> 2));
            }
            else
            {
              v71 = *(_DWORD *)&byte_5D4594[3798844] - (_DWORD)v39;
              v41 = *(_DWORD *)&byte_5D4594[3798844] - (_DWORD)v39;
              qmemcpy((void *)v76, v39, *(_DWORD *)&byte_5D4594[3798844] - (_DWORD)v39);
              v39 = *(char **)&byte_5D4594[3798796];
              v42 = (char *)(v41 + v76);
              v40 = (v38 << byte_5D4594[3807124]) - v41;
              qmemcpy(v42, *(const void **)&byte_5D4594[3798796], 4 * (v40 >> 2));
            }
            v44 = &v39[4 * (v40 >> 2)];
            v43 = &v42[4 * (v40 >> 2)];
            v45 = v40;
            v47 = j - 1;
            v46 = j == 1;
            qmemcpy(v43, v44, v45 & 3);
            j = v47;
          }
          while ( !v46 );
        }
        result = v79 + 1;
        v18 = ++v79 < *(int *)&byte_5D4594[3798156];
        v78 += 128;
        ++v67.field_4;
      }
      while ( v18 );
    }
  }
  return result;
}
// 481F0B: variable 'v13' is possibly undefined
// 482142: variable 'v27' is possibly undefined
#endif

//----- (00482570) --------------------------------------------------------
int __cdecl sub_482570(_DWORD *a1)
{
  int v1; // esi
  int v2; // ebx
  int v3; // eax
  int v4; // edx
  int i; // ebp
  int v6; // edi
  _DWORD *v7; // esi
  int v8; // eax
  int v10; // [esp+10h] [ebp-8h]
  int v11; // [esp+14h] [ebp-4h]
  int v12; // [esp+1Ch] [ebp+4h]

  v1 = a1[5] - a1[1];
  v2 = (a1[4] - *a1 - 11) / 46;
  if ( v2 < 0 )
    v2 = 0;
  v12 = *(_DWORD *)&byte_5D4594[3798812] + v2 - 1;
  if ( v12 >= 128 )
  {
    v12 = 127;
    v2 = 127 - *(_DWORD *)&byte_5D4594[3798812];
  }
  v3 = (v1 - 11) / 46 - 1;
  if ( v3 < 0 )
    v3 = 0;
  v4 = *(_DWORD *)&byte_5D4594[3798816] + v3;
  v10 = *(_DWORD *)&byte_5D4594[3798816] + v3;
  if ( *(int *)&byte_5D4594[3798816] + v3 >= 128 )
  {
    v10 = 127;
    v3 = 127 - *(_DWORD *)&byte_5D4594[3798816];
    v4 = 127;
  }
  v11 = v3;
  if ( v3 >= v4 )
    return 0;
  for ( i = 44 * v3; ; i += 44 )
  {
    v6 = v2;
    if ( v2 < v12 )
      break;
LABEL_19:
    if ( ++v11 >= v4 )
      return 0;
  }
  v7 = (_DWORD *)(*(_DWORD *)&byte_5D4594[2650668] + 4 * v2);
  while ( 1 )
  {
    v8 = i + *v7;
    if ( *(_BYTE *)v8 & 1 )
    {
      if ( (byte_5D4594[60 * *(_DWORD *)(v8 + 4) + 2682246] & 1) == 1 )
        return 1;
    }
    if ( *(_BYTE *)v8 & 2 && (byte_5D4594[60 * *(_DWORD *)(v8 + 24) + 2682246] & 1) == 1 )
      return 1;
    ++v6;
    ++v7;
    if ( v6 >= v12 )
    {
      v4 = v10;
      goto LABEL_19;
    }
  }
}

//----- (004826A0) --------------------------------------------------------
int __cdecl sub_4826A0(_DWORD *a1)
{
  int v1; // esi
  int v2; // ebx
  int result; // eax
  int v4; // ecx
  int v5; // esi
  int v6; // ebx
  int v7; // ecx
  int v8; // ebp
  int v9; // eax
  int v10; // ecx
  int v11; // esi
  char v12; // al
  int v13; // esi
  int v14; // edi
  int v15; // edi
  int v16; // esi
  bool v17; // zf
  int v18; // [esp-8h] [ebp-34h]
  int v19; // [esp-8h] [ebp-34h]
  int v20; // [esp+10h] [ebp-1Ch]
  int v21; // [esp+14h] [ebp-18h]
  int v22; // [esp+18h] [ebp-14h]
  int v23; // [esp+1Ch] [ebp-10h]
  int2 v24; // [esp+24h] [ebp-8h]
  int v25; // [esp+30h] [ebp+4h]

  v1 = a1[4] - *a1;
  v2 = a1[5] - a1[1];
  *(_DWORD *)&byte_5D4594[3798836] = 0;
  *(_DWORD *)&byte_5D4594[3798840] = 0;
  sub_481410();
  memset(&byte_5D4594[2649932], 0, 0x2C0u);
  memset(&byte_5D4594[2523980], 0, 0x100u);
  v25 = (v1 - 11) / 46;
  if ( v25 < 0 )
    v25 = 0;
  v20 = *(_DWORD *)&byte_5D4594[3798812] + v25 - 1;
  if ( v20 >= 128 )
  {
    v20 = 127;
    v25 = 127 - *(_DWORD *)&byte_5D4594[3798812];
  }
  result = (v2 - 11) / 46 - 1;
  if ( result < 0 )
    result = 0;
  v4 = *(_DWORD *)&byte_5D4594[3798816] + result;
  if ( *(int *)&byte_5D4594[3798816] + result >= 128 )
  {
    v4 = 127;
    result = 127 - *(_DWORD *)&byte_5D4594[3798816];
  }
  v5 = v25;
  *(_DWORD *)&byte_5D4594[3798824] = 46 * result - 11;
  v6 = 46 * result - 57;
  *(_DWORD *)&byte_5D4594[3798828] = v25;
  *(_DWORD *)&byte_5D4594[3798820] = 46 * v25 - 11;
  *(_DWORD *)&byte_5D4594[3798832] = result;
  if ( result < v4 )
  {
    v21 = 44 * result;
    v23 = v4 - result;
    v7 = v20;
    do
    {
      v8 = 46 * v25 - 57;
      v6 += 46;
      v9 = v5;
      v22 = v5;
      if ( v5 < v7 )
      {
        do
        {
          HIWORD(v10) = *(_WORD *)&byte_5D4594[2650670];
          v8 += 46;
          v11 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[2650668] + 4 * v9);
          v12 = *(_BYTE *)(v11 + v21);
          v13 = v21 + v11;
          if ( v12 )
          {
            if ( v12 & 2 )
            {
              LOWORD(v10) = *(_WORD *)(v13 + 24);
              v14 = *(unsigned __int16 *)(v13 + 24);
              v18 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[60 * v14 + 2682220]
                              + 4 * (*(_DWORD *)(v13 + 28) + *(unsigned __int16 *)&byte_5D4594[60 * v14 + 2682234]));
              v24.field_0 = v8;
              v24.field_4 = v6 + 23;
              (*(void (__cdecl **)(int2 *, _DWORD, _DWORD))&byte_587000[154940])(&v24, v18, v10);
              *(_DWORD *)&byte_5D4594[4 * v14 + 2649932] = 1;
              if ( *(_DWORD *)(v13 + 40) )
                sub_481BF0((int)&v24, *(_DWORD *)(v13 + 40));
            }
            if ( *(_BYTE *)v13 & 1 )
            {
              LOWORD(v10) = *(_WORD *)(v13 + 4);
              v15 = *(unsigned __int16 *)(v13 + 4);
              v19 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[60 * v15 + 2682220]
                              + 4 * (*(_DWORD *)(v13 + 8) + *(unsigned __int16 *)&byte_5D4594[60 * v15 + 2682234]));
              v24.field_0 = v8 + 23;
              v24.field_4 = v6;
              (*(void (__cdecl **)(int2 *, _DWORD, _DWORD))&byte_587000[154940])(&v24, v19, v10);
              *(_DWORD *)&byte_5D4594[4 * v15 + 2649932] = 1;
              v16 = *(_DWORD *)(v13 + 20);
              if ( v16 )
                sub_481BF0((int)&v24, v16);
            }
          }
          v7 = v20;
          v9 = ++v22;
        }
        while ( v22 < v20 );
        v5 = v25;
      }
      result = v23 - 1;
      v17 = v23 == 1;
      v21 += 44;
      --v23;
    }
    while ( !v17 );
  }
  return result;
}
// 4828A6: variable 'v10' is possibly undefined

//----- (00482910) --------------------------------------------------------
char __cdecl sub_482910(int a1, int a2)
{
  int v2; // edx
  int v3; // edi
  int v4; // edi
  int v5; // edi
  int v6; // edi
  int v7; // edi
  int v8; // edi
  int v9; // edi
  int v10; // edi
  int v11; // edi
  int v12; // edi
  int v13; // edi
  int v14; // edi
  int v15; // edi
  int v16; // edi
  int v17; // edi
  int v18; // edi
  int v19; // edi
  int v20; // edi
  int v21; // edi
  int v22; // edi
  int v23; // edi
  int v24; // edi
  int v25; // edi
  int v26; // edi
  int v27; // edi
  int v28; // edi
  int v29; // edi
  int v30; // edi
  int v31; // edi
  int v32; // edi
  int v33; // edi
  int v34; // edi
  int v35; // edi
  int v36; // edi
  int v37; // edi
  int v38; // edi
  int v39; // edi
  int v40; // edi
  int v41; // edi
  int v42; // edi
  int v43; // edi
  int v44; // edi
  int v45; // edi
  int v46; // edi
  char result; // al

  v2 = *(_DWORD *)&byte_5D4594[3798804];
  *(_BYTE *)(a2 + 23) = *(_BYTE *)a1;
  v3 = v2 + a2;
  *(_WORD *)(v3 + 22) = *(_WORD *)(a1 + 1);
  *(_BYTE *)(v3 + 24) = *(_BYTE *)(a1 + 3);
  v4 = v2 + v2 + a2;
  *(_BYTE *)(v4 + 21) = *(_BYTE *)(a1 + 4);
  *(_WORD *)(v4 + 22) = *(_WORD *)(a1 + 5);
  *(_WORD *)(v4 + 24) = *(_WORD *)(a1 + 7);
  v5 = v2 + v4;
  *(_DWORD *)(v5 + 20) = *(_DWORD *)(a1 + 9);
  *(_WORD *)(v5 + 24) = *(_WORD *)(a1 + 13);
  *(_BYTE *)(v5 + 26) = *(_BYTE *)(a1 + 15);
  v6 = v2 + v5;
  *(_BYTE *)(v6 + 19) = *(_BYTE *)(a1 + 16);
  *(_DWORD *)(v6 + 20) = *(_DWORD *)(a1 + 17);
  *(_DWORD *)(v6 + 24) = *(_DWORD *)(a1 + 21);
  v7 = v2 + v6;
  *(_WORD *)(v7 + 18) = *(_WORD *)(a1 + 25);
  *(_DWORD *)(v7 + 20) = *(_DWORD *)(a1 + 27);
  *(_DWORD *)(v7 + 24) = *(_DWORD *)(a1 + 31);
  *(_BYTE *)(v7 + 28) = *(_BYTE *)(a1 + 35);
  v8 = v2 + v7;
  *(_BYTE *)(v8 + 17) = *(_BYTE *)(a1 + 36);
  *(_WORD *)(v8 + 18) = *(_WORD *)(a1 + 37);
  *(_DWORD *)(v8 + 20) = *(_DWORD *)(a1 + 39);
  *(_DWORD *)(v8 + 24) = *(_DWORD *)(a1 + 43);
  *(_WORD *)(v8 + 28) = *(_WORD *)(a1 + 47);
  v9 = v2 + v8;
  *(_DWORD *)(v9 + 16) = *(_DWORD *)(a1 + 49);
  *(_DWORD *)(v9 + 20) = *(_DWORD *)(a1 + 53);
  *(_DWORD *)(v9 + 24) = *(_DWORD *)(a1 + 57);
  *(_WORD *)(v9 + 28) = *(_WORD *)(a1 + 61);
  *(_BYTE *)(v9 + 30) = *(_BYTE *)(a1 + 63);
  v10 = v2 + v9;
  *(_BYTE *)(v10 + 15) = *(_BYTE *)(a1 + 64);
  *(_DWORD *)(v10 + 16) = *(_DWORD *)(a1 + 65);
  *(_DWORD *)(v10 + 20) = *(_DWORD *)(a1 + 69);
  *(_DWORD *)(v10 + 24) = *(_DWORD *)(a1 + 73);
  *(_DWORD *)(v10 + 28) = *(_DWORD *)(a1 + 77);
  v11 = v2 + v10;
  *(_WORD *)(v11 + 14) = *(_WORD *)(a1 + 81);
  *(_DWORD *)(v11 + 16) = *(_DWORD *)(a1 + 83);
  *(_DWORD *)(v11 + 20) = *(_DWORD *)(a1 + 87);
  *(_DWORD *)(v11 + 24) = *(_DWORD *)(a1 + 91);
  *(_DWORD *)(v11 + 28) = *(_DWORD *)(a1 + 95);
  *(_BYTE *)(v11 + 32) = *(_BYTE *)(a1 + 99);
  v12 = v2 + v11;
  *(_BYTE *)(v12 + 13) = *(_BYTE *)(a1 + 100);
  *(_WORD *)(v12 + 14) = *(_WORD *)(a1 + 101);
  *(_DWORD *)(v12 + 16) = *(_DWORD *)(a1 + 103);
  *(_DWORD *)(v12 + 20) = *(_DWORD *)(a1 + 107);
  *(_DWORD *)(v12 + 24) = *(_DWORD *)(a1 + 111);
  *(_DWORD *)(v12 + 28) = *(_DWORD *)(a1 + 115);
  *(_WORD *)(v12 + 32) = *(_WORD *)(a1 + 119);
  v13 = v2 + v12;
  *(_DWORD *)(v13 + 12) = *(_DWORD *)(a1 + 121);
  *(_DWORD *)(v13 + 16) = *(_DWORD *)(a1 + 125);
  *(_DWORD *)(v13 + 20) = *(_DWORD *)(a1 + 129);
  *(_DWORD *)(v13 + 24) = *(_DWORD *)(a1 + 133);
  *(_DWORD *)(v13 + 28) = *(_DWORD *)(a1 + 137);
  *(_WORD *)(v13 + 32) = *(_WORD *)(a1 + 141);
  *(_BYTE *)(v13 + 34) = *(_BYTE *)(a1 + 143);
  v14 = v2 + v13;
  *(_BYTE *)(v14 + 11) = *(_BYTE *)(a1 + 144);
  *(_DWORD *)(v14 + 12) = *(_DWORD *)(a1 + 145);
  *(_DWORD *)(v14 + 16) = *(_DWORD *)(a1 + 149);
  *(_DWORD *)(v14 + 20) = *(_DWORD *)(a1 + 153);
  *(_DWORD *)(v14 + 24) = *(_DWORD *)(a1 + 157);
  *(_DWORD *)(v14 + 28) = *(_DWORD *)(a1 + 161);
  *(_DWORD *)(v14 + 32) = *(_DWORD *)(a1 + 165);
  v15 = v2 + v14;
  *(_WORD *)(v15 + 10) = *(_WORD *)(a1 + 169);
  *(_DWORD *)(v15 + 12) = *(_DWORD *)(a1 + 171);
  *(_DWORD *)(v15 + 16) = *(_DWORD *)(a1 + 175);
  *(_DWORD *)(v15 + 20) = *(_DWORD *)(a1 + 179);
  *(_DWORD *)(v15 + 24) = *(_DWORD *)(a1 + 183);
  *(_DWORD *)(v15 + 28) = *(_DWORD *)(a1 + 187);
  *(_DWORD *)(v15 + 32) = *(_DWORD *)(a1 + 191);
  *(_BYTE *)(v15 + 36) = *(_BYTE *)(a1 + 195);
  v16 = v2 + v15;
  *(_BYTE *)(v16 + 9) = *(_BYTE *)(a1 + 196);
  *(_WORD *)(v16 + 10) = *(_WORD *)(a1 + 197);
  *(_DWORD *)(v16 + 12) = *(_DWORD *)(a1 + 199);
  *(_DWORD *)(v16 + 16) = *(_DWORD *)(a1 + 203);
  *(_DWORD *)(v16 + 20) = *(_DWORD *)(a1 + 207);
  *(_DWORD *)(v16 + 24) = *(_DWORD *)(a1 + 211);
  *(_DWORD *)(v16 + 28) = *(_DWORD *)(a1 + 215);
  *(_DWORD *)(v16 + 32) = *(_DWORD *)(a1 + 219);
  *(_WORD *)(v16 + 36) = *(_WORD *)(a1 + 223);
  v17 = v2 + v16;
  *(_DWORD *)(v17 + 8) = *(_DWORD *)(a1 + 225);
  *(_DWORD *)(v17 + 12) = *(_DWORD *)(a1 + 229);
  *(_DWORD *)(v17 + 16) = *(_DWORD *)(a1 + 233);
  *(_DWORD *)(v17 + 20) = *(_DWORD *)(a1 + 237);
  *(_DWORD *)(v17 + 24) = *(_DWORD *)(a1 + 241);
  *(_DWORD *)(v17 + 28) = *(_DWORD *)(a1 + 245);
  *(_DWORD *)(v17 + 32) = *(_DWORD *)(a1 + 249);
  *(_WORD *)(v17 + 36) = *(_WORD *)(a1 + 253);
  *(_BYTE *)(v17 + 38) = *(_BYTE *)(a1 + 255);
  v18 = v2 + v17;
  *(_BYTE *)(v18 + 7) = *(_BYTE *)(a1 + 256);
  *(_DWORD *)(v18 + 8) = *(_DWORD *)(a1 + 257);
  *(_DWORD *)(v18 + 12) = *(_DWORD *)(a1 + 261);
  *(_DWORD *)(v18 + 16) = *(_DWORD *)(a1 + 265);
  *(_DWORD *)(v18 + 20) = *(_DWORD *)(a1 + 269);
  *(_DWORD *)(v18 + 24) = *(_DWORD *)(a1 + 273);
  *(_DWORD *)(v18 + 28) = *(_DWORD *)(a1 + 277);
  *(_DWORD *)(v18 + 32) = *(_DWORD *)(a1 + 281);
  *(_DWORD *)(v18 + 36) = *(_DWORD *)(a1 + 285);
  v19 = v2 + v18;
  *(_WORD *)(v19 + 6) = *(_WORD *)(a1 + 289);
  *(_DWORD *)(v19 + 8) = *(_DWORD *)(a1 + 291);
  *(_DWORD *)(v19 + 12) = *(_DWORD *)(a1 + 295);
  *(_DWORD *)(v19 + 16) = *(_DWORD *)(a1 + 299);
  *(_DWORD *)(v19 + 20) = *(_DWORD *)(a1 + 303);
  *(_DWORD *)(v19 + 24) = *(_DWORD *)(a1 + 307);
  *(_DWORD *)(v19 + 28) = *(_DWORD *)(a1 + 311);
  *(_DWORD *)(v19 + 32) = *(_DWORD *)(a1 + 315);
  *(_DWORD *)(v19 + 36) = *(_DWORD *)(a1 + 319);
  *(_BYTE *)(v19 + 40) = *(_BYTE *)(a1 + 323);
  v20 = v2 + v19;
  *(_BYTE *)(v20 + 5) = *(_BYTE *)(a1 + 324);
  *(_WORD *)(v20 + 6) = *(_WORD *)(a1 + 325);
  *(_DWORD *)(v20 + 8) = *(_DWORD *)(a1 + 327);
  *(_DWORD *)(v20 + 12) = *(_DWORD *)(a1 + 331);
  *(_DWORD *)(v20 + 16) = *(_DWORD *)(a1 + 335);
  *(_DWORD *)(v20 + 20) = *(_DWORD *)(a1 + 339);
  *(_DWORD *)(v20 + 24) = *(_DWORD *)(a1 + 343);
  *(_DWORD *)(v20 + 28) = *(_DWORD *)(a1 + 347);
  *(_DWORD *)(v20 + 32) = *(_DWORD *)(a1 + 351);
  *(_DWORD *)(v20 + 36) = *(_DWORD *)(a1 + 355);
  *(_WORD *)(v20 + 40) = *(_WORD *)(a1 + 359);
  v21 = v2 + v20;
  *(_DWORD *)(v21 + 4) = *(_DWORD *)(a1 + 361);
  *(_DWORD *)(v21 + 8) = *(_DWORD *)(a1 + 365);
  *(_DWORD *)(v21 + 12) = *(_DWORD *)(a1 + 369);
  *(_DWORD *)(v21 + 16) = *(_DWORD *)(a1 + 373);
  *(_DWORD *)(v21 + 20) = *(_DWORD *)(a1 + 377);
  *(_DWORD *)(v21 + 24) = *(_DWORD *)(a1 + 381);
  *(_DWORD *)(v21 + 28) = *(_DWORD *)(a1 + 385);
  *(_DWORD *)(v21 + 32) = *(_DWORD *)(a1 + 389);
  *(_DWORD *)(v21 + 36) = *(_DWORD *)(a1 + 393);
  *(_WORD *)(v21 + 40) = *(_WORD *)(a1 + 397);
  *(_BYTE *)(v21 + 42) = *(_BYTE *)(a1 + 399);
  v22 = v2 + v21;
  *(_BYTE *)(v22 + 3) = *(_BYTE *)(a1 + 400);
  *(_DWORD *)(v22 + 4) = *(_DWORD *)(a1 + 401);
  *(_DWORD *)(v22 + 8) = *(_DWORD *)(a1 + 405);
  *(_DWORD *)(v22 + 12) = *(_DWORD *)(a1 + 409);
  *(_DWORD *)(v22 + 16) = *(_DWORD *)(a1 + 413);
  *(_DWORD *)(v22 + 20) = *(_DWORD *)(a1 + 417);
  *(_DWORD *)(v22 + 24) = *(_DWORD *)(a1 + 421);
  *(_DWORD *)(v22 + 28) = *(_DWORD *)(a1 + 425);
  *(_DWORD *)(v22 + 32) = *(_DWORD *)(a1 + 429);
  *(_DWORD *)(v22 + 36) = *(_DWORD *)(a1 + 433);
  *(_DWORD *)(v22 + 40) = *(_DWORD *)(a1 + 437);
  v23 = v2 + v22;
  *(_WORD *)(v23 + 2) = *(_WORD *)(a1 + 441);
  *(_DWORD *)(v23 + 4) = *(_DWORD *)(a1 + 443);
  *(_DWORD *)(v23 + 8) = *(_DWORD *)(a1 + 447);
  *(_DWORD *)(v23 + 12) = *(_DWORD *)(a1 + 451);
  *(_DWORD *)(v23 + 16) = *(_DWORD *)(a1 + 455);
  *(_DWORD *)(v23 + 20) = *(_DWORD *)(a1 + 459);
  *(_DWORD *)(v23 + 24) = *(_DWORD *)(a1 + 463);
  *(_DWORD *)(v23 + 28) = *(_DWORD *)(a1 + 467);
  *(_DWORD *)(v23 + 32) = *(_DWORD *)(a1 + 471);
  *(_DWORD *)(v23 + 36) = *(_DWORD *)(a1 + 475);
  *(_DWORD *)(v23 + 40) = *(_DWORD *)(a1 + 479);
  *(_BYTE *)(v23 + 44) = *(_BYTE *)(a1 + 483);
  v24 = v2 + v23;
  *(_BYTE *)(v24 + 1) = *(_BYTE *)(a1 + 484);
  *(_WORD *)(v24 + 2) = *(_WORD *)(a1 + 485);
  *(_DWORD *)(v24 + 4) = *(_DWORD *)(a1 + 487);
  *(_DWORD *)(v24 + 8) = *(_DWORD *)(a1 + 491);
  *(_DWORD *)(v24 + 12) = *(_DWORD *)(a1 + 495);
  *(_DWORD *)(v24 + 16) = *(_DWORD *)(a1 + 499);
  *(_DWORD *)(v24 + 20) = *(_DWORD *)(a1 + 503);
  *(_DWORD *)(v24 + 24) = *(_DWORD *)(a1 + 507);
  *(_DWORD *)(v24 + 28) = *(_DWORD *)(a1 + 511);
  *(_DWORD *)(v24 + 32) = *(_DWORD *)(a1 + 515);
  *(_DWORD *)(v24 + 36) = *(_DWORD *)(a1 + 519);
  *(_DWORD *)(v24 + 40) = *(_DWORD *)(a1 + 523);
  *(_WORD *)(v24 + 44) = *(_WORD *)(a1 + 527);
  v25 = v2 + v24;
  *(_BYTE *)(v25 + 1) = *(_BYTE *)(a1 + 529);
  *(_WORD *)(v25 + 2) = *(_WORD *)(a1 + 530);
  *(_DWORD *)(v25 + 4) = *(_DWORD *)(a1 + 532);
  *(_DWORD *)(v25 + 8) = *(_DWORD *)(a1 + 536);
  *(_DWORD *)(v25 + 12) = *(_DWORD *)(a1 + 540);
  *(_DWORD *)(v25 + 16) = *(_DWORD *)(a1 + 544);
  *(_DWORD *)(v25 + 20) = *(_DWORD *)(a1 + 548);
  *(_DWORD *)(v25 + 24) = *(_DWORD *)(a1 + 552);
  *(_DWORD *)(v25 + 28) = *(_DWORD *)(a1 + 556);
  *(_DWORD *)(v25 + 32) = *(_DWORD *)(a1 + 560);
  *(_DWORD *)(v25 + 36) = *(_DWORD *)(a1 + 564);
  *(_DWORD *)(v25 + 40) = *(_DWORD *)(a1 + 568);
  *(_WORD *)(v25 + 44) = *(_WORD *)(a1 + 572);
  v26 = v2 + v25;
  *(_WORD *)(v26 + 2) = *(_WORD *)(a1 + 574);
  *(_DWORD *)(v26 + 4) = *(_DWORD *)(a1 + 576);
  *(_DWORD *)(v26 + 8) = *(_DWORD *)(a1 + 580);
  *(_DWORD *)(v26 + 12) = *(_DWORD *)(a1 + 584);
  *(_DWORD *)(v26 + 16) = *(_DWORD *)(a1 + 588);
  *(_DWORD *)(v26 + 20) = *(_DWORD *)(a1 + 592);
  *(_DWORD *)(v26 + 24) = *(_DWORD *)(a1 + 596);
  *(_DWORD *)(v26 + 28) = *(_DWORD *)(a1 + 600);
  *(_DWORD *)(v26 + 32) = *(_DWORD *)(a1 + 604);
  *(_DWORD *)(v26 + 36) = *(_DWORD *)(a1 + 608);
  *(_DWORD *)(v26 + 40) = *(_DWORD *)(a1 + 612);
  *(_BYTE *)(v26 + 44) = *(_BYTE *)(a1 + 616);
  v27 = v2 + v26;
  *(_BYTE *)(v27 + 3) = *(_BYTE *)(a1 + 617);
  *(_DWORD *)(v27 + 4) = *(_DWORD *)(a1 + 618);
  *(_DWORD *)(v27 + 8) = *(_DWORD *)(a1 + 622);
  *(_DWORD *)(v27 + 12) = *(_DWORD *)(a1 + 626);
  *(_DWORD *)(v27 + 16) = *(_DWORD *)(a1 + 630);
  *(_DWORD *)(v27 + 20) = *(_DWORD *)(a1 + 634);
  *(_DWORD *)(v27 + 24) = *(_DWORD *)(a1 + 638);
  *(_DWORD *)(v27 + 28) = *(_DWORD *)(a1 + 642);
  *(_DWORD *)(v27 + 32) = *(_DWORD *)(a1 + 646);
  *(_DWORD *)(v27 + 36) = *(_DWORD *)(a1 + 650);
  *(_DWORD *)(v27 + 40) = *(_DWORD *)(a1 + 654);
  v28 = v2 + v27;
  *(_DWORD *)(v28 + 4) = *(_DWORD *)(a1 + 658);
  *(_DWORD *)(v28 + 8) = *(_DWORD *)(a1 + 662);
  *(_DWORD *)(v28 + 12) = *(_DWORD *)(a1 + 666);
  *(_DWORD *)(v28 + 16) = *(_DWORD *)(a1 + 670);
  *(_DWORD *)(v28 + 20) = *(_DWORD *)(a1 + 674);
  *(_DWORD *)(v28 + 24) = *(_DWORD *)(a1 + 678);
  *(_DWORD *)(v28 + 28) = *(_DWORD *)(a1 + 682);
  *(_DWORD *)(v28 + 32) = *(_DWORD *)(a1 + 686);
  *(_DWORD *)(v28 + 36) = *(_DWORD *)(a1 + 690);
  *(_WORD *)(v28 + 40) = *(_WORD *)(a1 + 694);
  *(_BYTE *)(v28 + 42) = *(_BYTE *)(a1 + 696);
  v29 = v2 + v28;
  *(_BYTE *)(v29 + 5) = *(_BYTE *)(a1 + 697);
  *(_WORD *)(v29 + 6) = *(_WORD *)(a1 + 698);
  *(_DWORD *)(v29 + 8) = *(_DWORD *)(a1 + 700);
  *(_DWORD *)(v29 + 12) = *(_DWORD *)(a1 + 704);
  *(_DWORD *)(v29 + 16) = *(_DWORD *)(a1 + 708);
  *(_DWORD *)(v29 + 20) = *(_DWORD *)(a1 + 712);
  *(_DWORD *)(v29 + 24) = *(_DWORD *)(a1 + 716);
  *(_DWORD *)(v29 + 28) = *(_DWORD *)(a1 + 720);
  *(_DWORD *)(v29 + 32) = *(_DWORD *)(a1 + 724);
  *(_DWORD *)(v29 + 36) = *(_DWORD *)(a1 + 728);
  *(_WORD *)(v29 + 40) = *(_WORD *)(a1 + 732);
  v30 = v2 + v29;
  *(_WORD *)(v30 + 6) = *(_WORD *)(a1 + 734);
  *(_DWORD *)(v30 + 8) = *(_DWORD *)(a1 + 736);
  *(_DWORD *)(v30 + 12) = *(_DWORD *)(a1 + 740);
  *(_DWORD *)(v30 + 16) = *(_DWORD *)(a1 + 744);
  *(_DWORD *)(v30 + 20) = *(_DWORD *)(a1 + 748);
  *(_DWORD *)(v30 + 24) = *(_DWORD *)(a1 + 752);
  *(_DWORD *)(v30 + 28) = *(_DWORD *)(a1 + 756);
  *(_DWORD *)(v30 + 32) = *(_DWORD *)(a1 + 760);
  *(_DWORD *)(v30 + 36) = *(_DWORD *)(a1 + 764);
  *(_BYTE *)(v30 + 40) = *(_BYTE *)(a1 + 768);
  v31 = v2 + v30;
  *(_BYTE *)(v31 + 7) = *(_BYTE *)(a1 + 769);
  *(_DWORD *)(v31 + 8) = *(_DWORD *)(a1 + 770);
  *(_DWORD *)(v31 + 12) = *(_DWORD *)(a1 + 774);
  *(_DWORD *)(v31 + 16) = *(_DWORD *)(a1 + 778);
  *(_DWORD *)(v31 + 20) = *(_DWORD *)(a1 + 782);
  *(_DWORD *)(v31 + 24) = *(_DWORD *)(a1 + 786);
  *(_DWORD *)(v31 + 28) = *(_DWORD *)(a1 + 790);
  *(_DWORD *)(v31 + 32) = *(_DWORD *)(a1 + 794);
  *(_DWORD *)(v31 + 36) = *(_DWORD *)(a1 + 798);
  v32 = v2 + v31;
  *(_DWORD *)(v32 + 8) = *(_DWORD *)(a1 + 802);
  *(_DWORD *)(v32 + 12) = *(_DWORD *)(a1 + 806);
  *(_DWORD *)(v32 + 16) = *(_DWORD *)(a1 + 810);
  *(_DWORD *)(v32 + 20) = *(_DWORD *)(a1 + 814);
  *(_DWORD *)(v32 + 24) = *(_DWORD *)(a1 + 818);
  *(_DWORD *)(v32 + 28) = *(_DWORD *)(a1 + 822);
  *(_DWORD *)(v32 + 32) = *(_DWORD *)(a1 + 826);
  *(_WORD *)(v32 + 36) = *(_WORD *)(a1 + 830);
  *(_BYTE *)(v32 + 38) = *(_BYTE *)(a1 + 832);
  v33 = v2 + v32;
  *(_BYTE *)(v33 + 9) = *(_BYTE *)(a1 + 833);
  *(_WORD *)(v33 + 10) = *(_WORD *)(a1 + 834);
  *(_DWORD *)(v33 + 12) = *(_DWORD *)(a1 + 836);
  *(_DWORD *)(v33 + 16) = *(_DWORD *)(a1 + 840);
  *(_DWORD *)(v33 + 20) = *(_DWORD *)(a1 + 844);
  *(_DWORD *)(v33 + 24) = *(_DWORD *)(a1 + 848);
  *(_DWORD *)(v33 + 28) = *(_DWORD *)(a1 + 852);
  *(_DWORD *)(v33 + 32) = *(_DWORD *)(a1 + 856);
  *(_WORD *)(v33 + 36) = *(_WORD *)(a1 + 860);
  v34 = v2 + v33;
  *(_WORD *)(v34 + 10) = *(_WORD *)(a1 + 862);
  *(_DWORD *)(v34 + 12) = *(_DWORD *)(a1 + 864);
  *(_DWORD *)(v34 + 16) = *(_DWORD *)(a1 + 868);
  *(_DWORD *)(v34 + 20) = *(_DWORD *)(a1 + 872);
  *(_DWORD *)(v34 + 24) = *(_DWORD *)(a1 + 876);
  *(_DWORD *)(v34 + 28) = *(_DWORD *)(a1 + 880);
  *(_DWORD *)(v34 + 32) = *(_DWORD *)(a1 + 884);
  *(_BYTE *)(v34 + 36) = *(_BYTE *)(a1 + 888);
  v35 = v2 + v34;
  *(_BYTE *)(v35 + 11) = *(_BYTE *)(a1 + 889);
  *(_DWORD *)(v35 + 12) = *(_DWORD *)(a1 + 890);
  *(_DWORD *)(v35 + 16) = *(_DWORD *)(a1 + 894);
  *(_DWORD *)(v35 + 20) = *(_DWORD *)(a1 + 898);
  *(_DWORD *)(v35 + 24) = *(_DWORD *)(a1 + 902);
  *(_DWORD *)(v35 + 28) = *(_DWORD *)(a1 + 906);
  *(_DWORD *)(v35 + 32) = *(_DWORD *)(a1 + 910);
  v36 = v2 + v35;
  *(_DWORD *)(v36 + 12) = *(_DWORD *)(a1 + 914);
  *(_DWORD *)(v36 + 16) = *(_DWORD *)(a1 + 918);
  *(_DWORD *)(v36 + 20) = *(_DWORD *)(a1 + 922);
  *(_DWORD *)(v36 + 24) = *(_DWORD *)(a1 + 926);
  *(_DWORD *)(v36 + 28) = *(_DWORD *)(a1 + 930);
  *(_WORD *)(v36 + 32) = *(_WORD *)(a1 + 934);
  *(_BYTE *)(v36 + 34) = *(_BYTE *)(a1 + 936);
  v37 = v2 + v36;
  *(_BYTE *)(v37 + 13) = *(_BYTE *)(a1 + 937);
  *(_WORD *)(v37 + 14) = *(_WORD *)(a1 + 938);
  *(_DWORD *)(v37 + 16) = *(_DWORD *)(a1 + 940);
  *(_DWORD *)(v37 + 20) = *(_DWORD *)(a1 + 944);
  *(_DWORD *)(v37 + 24) = *(_DWORD *)(a1 + 948);
  *(_DWORD *)(v37 + 28) = *(_DWORD *)(a1 + 952);
  *(_WORD *)(v37 + 32) = *(_WORD *)(a1 + 956);
  v38 = v2 + v37;
  *(_WORD *)(v38 + 14) = *(_WORD *)(a1 + 958);
  *(_DWORD *)(v38 + 16) = *(_DWORD *)(a1 + 960);
  *(_DWORD *)(v38 + 20) = *(_DWORD *)(a1 + 964);
  *(_DWORD *)(v38 + 24) = *(_DWORD *)(a1 + 968);
  *(_DWORD *)(v38 + 28) = *(_DWORD *)(a1 + 972);
  *(_BYTE *)(v38 + 32) = *(_BYTE *)(a1 + 976);
  v39 = v2 + v38;
  *(_BYTE *)(v39 + 15) = *(_BYTE *)(a1 + 977);
  *(_DWORD *)(v39 + 16) = *(_DWORD *)(a1 + 978);
  *(_DWORD *)(v39 + 20) = *(_DWORD *)(a1 + 982);
  *(_DWORD *)(v39 + 24) = *(_DWORD *)(a1 + 986);
  *(_DWORD *)(v39 + 28) = *(_DWORD *)(a1 + 990);
  v40 = v2 + v39;
  *(_DWORD *)(v40 + 16) = *(_DWORD *)(a1 + 994);
  *(_DWORD *)(v40 + 20) = *(_DWORD *)(a1 + 998);
  *(_DWORD *)(v40 + 24) = *(_DWORD *)(a1 + 1002);
  *(_WORD *)(v40 + 28) = *(_WORD *)(a1 + 1006);
  *(_BYTE *)(v40 + 30) = *(_BYTE *)(a1 + 1008);
  v41 = v2 + v40;
  *(_BYTE *)(v41 + 17) = *(_BYTE *)(a1 + 1009);
  *(_WORD *)(v41 + 18) = *(_WORD *)(a1 + 1010);
  *(_DWORD *)(v41 + 20) = *(_DWORD *)(a1 + 1012);
  *(_DWORD *)(v41 + 24) = *(_DWORD *)(a1 + 1016);
  *(_WORD *)(v41 + 28) = *(_WORD *)(a1 + 1020);
  v42 = v2 + v41;
  *(_WORD *)(v42 + 18) = *(_WORD *)(a1 + 1022);
  *(_DWORD *)(v42 + 20) = *(_DWORD *)(a1 + 1024);
  *(_DWORD *)(v42 + 24) = *(_DWORD *)(a1 + 1028);
  *(_BYTE *)(v42 + 28) = *(_BYTE *)(a1 + 1032);
  v43 = v2 + v42;
  *(_BYTE *)(v43 + 19) = *(_BYTE *)(a1 + 1033);
  *(_DWORD *)(v43 + 20) = *(_DWORD *)(a1 + 1034);
  *(_DWORD *)(v43 + 24) = *(_DWORD *)(a1 + 1038);
  v44 = v2 + v43;
  *(_DWORD *)(v44 + 20) = *(_DWORD *)(a1 + 1042);
  *(_WORD *)(v44 + 24) = *(_WORD *)(a1 + 1046);
  *(_BYTE *)(v44 + 26) = *(_BYTE *)(a1 + 1048);
  v45 = v2 + v44;
  *(_BYTE *)(v45 + 21) = *(_BYTE *)(a1 + 1049);
  *(_WORD *)(v45 + 22) = *(_WORD *)(a1 + 1050);
  *(_WORD *)(v45 + 24) = *(_WORD *)(a1 + 1052);
  v46 = v2 + v45;
  *(_WORD *)(v46 + 22) = *(_WORD *)(a1 + 1054);
  result = *(_BYTE *)(a1 + 1056);
  *(_BYTE *)(v46 + 24) = result;
  *(_BYTE *)(v2 + v46 + 23) = *(_BYTE *)(a1 + 1057);
  return result;
}

//----- (004831C0) --------------------------------------------------------
__int16 __cdecl sub_4831C0(int a1, int a2)
{
  int v2; // edx
  int v3; // edi
  int v4; // edi
  int v5; // edi
  int v6; // edi
  int v7; // edi
  int v8; // edi
  int v9; // edi
  int v10; // edi
  int v11; // edi
  int v12; // edi
  int v13; // edi
  int v14; // edi
  int v15; // edi
  int v16; // edi
  int v17; // edi
  int v18; // edi
  int v19; // edi
  int v20; // edi
  int v21; // edi
  int v22; // edi
  int v23; // edi
  int v24; // edi
  int v25; // edi
  int v26; // edi
  int v27; // edi
  int v28; // edi
  int v29; // edi
  int v30; // edi
  int v31; // edi
  int v32; // edi
  int v33; // edi
  int v34; // edi
  int v35; // edi
  int v36; // edi
  int v37; // edi
  int v38; // edi
  int v39; // edi
  int v40; // edi
  int v41; // edi
  int v42; // edi
  int v43; // edi
  int v44; // edi
  int v45; // edi
  int v46; // edi
  __int16 result; // ax

  v2 = *(_DWORD *)&byte_5D4594[3798804];
  *(_WORD *)(a2 + 46) = *(_WORD *)a1;
  v3 = v2 + a2;
  *(_DWORD *)(v3 + 44) = *(_DWORD *)(a1 + 2);
  *(_WORD *)(v3 + 48) = *(_WORD *)(a1 + 6);
  v4 = v2 + v2 + a2;
  *(_WORD *)(v4 + 42) = *(_WORD *)(a1 + 8);
  *(_DWORD *)(v4 + 44) = *(_DWORD *)(a1 + 10);
  *(_DWORD *)(v4 + 48) = *(_DWORD *)(a1 + 14);
  v5 = v2 + v4;
  *(_DWORD *)(v5 + 40) = *(_DWORD *)(a1 + 18);
  *(_DWORD *)(v5 + 44) = *(_DWORD *)(a1 + 22);
  *(_DWORD *)(v5 + 48) = *(_DWORD *)(a1 + 26);
  *(_WORD *)(v5 + 52) = *(_WORD *)(a1 + 30);
  v6 = v2 + v5;
  *(_WORD *)(v6 + 38) = *(_WORD *)(a1 + 32);
  *(_DWORD *)(v6 + 40) = *(_DWORD *)(a1 + 34);
  *(_DWORD *)(v6 + 44) = *(_DWORD *)(a1 + 38);
  *(_DWORD *)(v6 + 48) = *(_DWORD *)(a1 + 42);
  *(_DWORD *)(v6 + 52) = *(_DWORD *)(a1 + 46);
  v7 = v2 + v6;
  *(_DWORD *)(v7 + 36) = *(_DWORD *)(a1 + 50);
  *(_DWORD *)(v7 + 40) = *(_DWORD *)(a1 + 54);
  *(_DWORD *)(v7 + 44) = *(_DWORD *)(a1 + 58);
  *(_DWORD *)(v7 + 48) = *(_DWORD *)(a1 + 62);
  *(_DWORD *)(v7 + 52) = *(_DWORD *)(a1 + 66);
  *(_WORD *)(v7 + 56) = *(_WORD *)(a1 + 70);
  v8 = v2 + v7;
  *(_WORD *)(v8 + 34) = *(_WORD *)(a1 + 72);
  *(_DWORD *)(v8 + 36) = *(_DWORD *)(a1 + 74);
  *(_DWORD *)(v8 + 40) = *(_DWORD *)(a1 + 78);
  *(_DWORD *)(v8 + 44) = *(_DWORD *)(a1 + 82);
  *(_DWORD *)(v8 + 48) = *(_DWORD *)(a1 + 86);
  *(_DWORD *)(v8 + 52) = *(_DWORD *)(a1 + 90);
  *(_DWORD *)(v8 + 56) = *(_DWORD *)(a1 + 94);
  v9 = v2 + v8;
  *(_DWORD *)(v9 + 32) = *(_DWORD *)(a1 + 98);
  *(_DWORD *)(v9 + 36) = *(_DWORD *)(a1 + 102);
  *(_DWORD *)(v9 + 40) = *(_DWORD *)(a1 + 106);
  *(_DWORD *)(v9 + 44) = *(_DWORD *)(a1 + 110);
  *(_DWORD *)(v9 + 48) = *(_DWORD *)(a1 + 114);
  *(_DWORD *)(v9 + 52) = *(_DWORD *)(a1 + 118);
  *(_DWORD *)(v9 + 56) = *(_DWORD *)(a1 + 122);
  *(_WORD *)(v9 + 60) = *(_WORD *)(a1 + 126);
  v10 = v2 + v9;
  *(_WORD *)(v10 + 30) = *(_WORD *)(a1 + 128);
  *(_DWORD *)(v10 + 32) = *(_DWORD *)(a1 + 130);
  *(_DWORD *)(v10 + 36) = *(_DWORD *)(a1 + 134);
  *(_DWORD *)(v10 + 40) = *(_DWORD *)(a1 + 138);
  *(_DWORD *)(v10 + 44) = *(_DWORD *)(a1 + 142);
  *(_DWORD *)(v10 + 48) = *(_DWORD *)(a1 + 146);
  *(_DWORD *)(v10 + 52) = *(_DWORD *)(a1 + 150);
  *(_DWORD *)(v10 + 56) = *(_DWORD *)(a1 + 154);
  *(_DWORD *)(v10 + 60) = *(_DWORD *)(a1 + 158);
  v11 = v2 + v10;
  *(_DWORD *)(v11 + 28) = *(_DWORD *)(a1 + 162);
  *(_DWORD *)(v11 + 32) = *(_DWORD *)(a1 + 166);
  *(_DWORD *)(v11 + 36) = *(_DWORD *)(a1 + 170);
  *(_DWORD *)(v11 + 40) = *(_DWORD *)(a1 + 174);
  *(_DWORD *)(v11 + 44) = *(_DWORD *)(a1 + 178);
  *(_DWORD *)(v11 + 48) = *(_DWORD *)(a1 + 182);
  *(_DWORD *)(v11 + 52) = *(_DWORD *)(a1 + 186);
  *(_DWORD *)(v11 + 56) = *(_DWORD *)(a1 + 190);
  *(_DWORD *)(v11 + 60) = *(_DWORD *)(a1 + 194);
  *(_WORD *)(v11 + 64) = *(_WORD *)(a1 + 198);
  v12 = v2 + v11;
  *(_WORD *)(v12 + 26) = *(_WORD *)(a1 + 200);
  *(_DWORD *)(v12 + 28) = *(_DWORD *)(a1 + 202);
  *(_DWORD *)(v12 + 32) = *(_DWORD *)(a1 + 206);
  *(_DWORD *)(v12 + 36) = *(_DWORD *)(a1 + 210);
  *(_DWORD *)(v12 + 40) = *(_DWORD *)(a1 + 214);
  *(_DWORD *)(v12 + 44) = *(_DWORD *)(a1 + 218);
  *(_DWORD *)(v12 + 48) = *(_DWORD *)(a1 + 222);
  *(_DWORD *)(v12 + 52) = *(_DWORD *)(a1 + 226);
  *(_DWORD *)(v12 + 56) = *(_DWORD *)(a1 + 230);
  *(_DWORD *)(v12 + 60) = *(_DWORD *)(a1 + 234);
  *(_DWORD *)(v12 + 64) = *(_DWORD *)(a1 + 238);
  v13 = v2 + v12;
  *(_DWORD *)(v13 + 24) = *(_DWORD *)(a1 + 242);
  *(_DWORD *)(v13 + 28) = *(_DWORD *)(a1 + 246);
  *(_DWORD *)(v13 + 32) = *(_DWORD *)(a1 + 250);
  *(_DWORD *)(v13 + 36) = *(_DWORD *)(a1 + 254);
  *(_DWORD *)(v13 + 40) = *(_DWORD *)(a1 + 258);
  *(_DWORD *)(v13 + 44) = *(_DWORD *)(a1 + 262);
  *(_DWORD *)(v13 + 48) = *(_DWORD *)(a1 + 266);
  *(_DWORD *)(v13 + 52) = *(_DWORD *)(a1 + 270);
  *(_DWORD *)(v13 + 56) = *(_DWORD *)(a1 + 274);
  *(_DWORD *)(v13 + 60) = *(_DWORD *)(a1 + 278);
  *(_DWORD *)(v13 + 64) = *(_DWORD *)(a1 + 282);
  *(_WORD *)(v13 + 68) = *(_WORD *)(a1 + 286);
  v14 = v2 + v13;
  *(_WORD *)(v14 + 22) = *(_WORD *)(a1 + 288);
  *(_DWORD *)(v14 + 24) = *(_DWORD *)(a1 + 290);
  *(_DWORD *)(v14 + 28) = *(_DWORD *)(a1 + 294);
  *(_DWORD *)(v14 + 32) = *(_DWORD *)(a1 + 298);
  *(_DWORD *)(v14 + 36) = *(_DWORD *)(a1 + 302);
  *(_DWORD *)(v14 + 40) = *(_DWORD *)(a1 + 306);
  *(_DWORD *)(v14 + 44) = *(_DWORD *)(a1 + 310);
  *(_DWORD *)(v14 + 48) = *(_DWORD *)(a1 + 314);
  *(_DWORD *)(v14 + 52) = *(_DWORD *)(a1 + 318);
  *(_DWORD *)(v14 + 56) = *(_DWORD *)(a1 + 322);
  *(_DWORD *)(v14 + 60) = *(_DWORD *)(a1 + 326);
  *(_DWORD *)(v14 + 64) = *(_DWORD *)(a1 + 330);
  *(_DWORD *)(v14 + 68) = *(_DWORD *)(a1 + 334);
  v15 = v2 + v14;
  *(_DWORD *)(v15 + 20) = *(_DWORD *)(a1 + 338);
  *(_DWORD *)(v15 + 24) = *(_DWORD *)(a1 + 342);
  *(_DWORD *)(v15 + 28) = *(_DWORD *)(a1 + 346);
  *(_DWORD *)(v15 + 32) = *(_DWORD *)(a1 + 350);
  *(_DWORD *)(v15 + 36) = *(_DWORD *)(a1 + 354);
  *(_DWORD *)(v15 + 40) = *(_DWORD *)(a1 + 358);
  *(_DWORD *)(v15 + 44) = *(_DWORD *)(a1 + 362);
  *(_DWORD *)(v15 + 48) = *(_DWORD *)(a1 + 366);
  *(_DWORD *)(v15 + 52) = *(_DWORD *)(a1 + 370);
  *(_DWORD *)(v15 + 56) = *(_DWORD *)(a1 + 374);
  *(_DWORD *)(v15 + 60) = *(_DWORD *)(a1 + 378);
  *(_DWORD *)(v15 + 64) = *(_DWORD *)(a1 + 382);
  *(_DWORD *)(v15 + 68) = *(_DWORD *)(a1 + 386);
  *(_WORD *)(v15 + 72) = *(_WORD *)(a1 + 390);
  v16 = v2 + v15;
  *(_WORD *)(v16 + 18) = *(_WORD *)(a1 + 392);
  *(_DWORD *)(v16 + 20) = *(_DWORD *)(a1 + 394);
  *(_DWORD *)(v16 + 24) = *(_DWORD *)(a1 + 398);
  *(_DWORD *)(v16 + 28) = *(_DWORD *)(a1 + 402);
  *(_DWORD *)(v16 + 32) = *(_DWORD *)(a1 + 406);
  *(_DWORD *)(v16 + 36) = *(_DWORD *)(a1 + 410);
  *(_DWORD *)(v16 + 40) = *(_DWORD *)(a1 + 414);
  *(_DWORD *)(v16 + 44) = *(_DWORD *)(a1 + 418);
  *(_DWORD *)(v16 + 48) = *(_DWORD *)(a1 + 422);
  *(_DWORD *)(v16 + 52) = *(_DWORD *)(a1 + 426);
  *(_DWORD *)(v16 + 56) = *(_DWORD *)(a1 + 430);
  *(_DWORD *)(v16 + 60) = *(_DWORD *)(a1 + 434);
  *(_DWORD *)(v16 + 64) = *(_DWORD *)(a1 + 438);
  *(_DWORD *)(v16 + 68) = *(_DWORD *)(a1 + 442);
  *(_DWORD *)(v16 + 72) = *(_DWORD *)(a1 + 446);
  v17 = v2 + v16;
  *(_DWORD *)(v17 + 16) = *(_DWORD *)(a1 + 450);
  *(_DWORD *)(v17 + 20) = *(_DWORD *)(a1 + 454);
  *(_DWORD *)(v17 + 24) = *(_DWORD *)(a1 + 458);
  *(_DWORD *)(v17 + 28) = *(_DWORD *)(a1 + 462);
  *(_DWORD *)(v17 + 32) = *(_DWORD *)(a1 + 466);
  *(_DWORD *)(v17 + 36) = *(_DWORD *)(a1 + 470);
  *(_DWORD *)(v17 + 40) = *(_DWORD *)(a1 + 474);
  *(_DWORD *)(v17 + 44) = *(_DWORD *)(a1 + 478);
  *(_DWORD *)(v17 + 48) = *(_DWORD *)(a1 + 482);
  *(_DWORD *)(v17 + 52) = *(_DWORD *)(a1 + 486);
  *(_DWORD *)(v17 + 56) = *(_DWORD *)(a1 + 490);
  *(_DWORD *)(v17 + 60) = *(_DWORD *)(a1 + 494);
  *(_DWORD *)(v17 + 64) = *(_DWORD *)(a1 + 498);
  *(_DWORD *)(v17 + 68) = *(_DWORD *)(a1 + 502);
  *(_DWORD *)(v17 + 72) = *(_DWORD *)(a1 + 506);
  *(_WORD *)(v17 + 76) = *(_WORD *)(a1 + 510);
  v18 = v2 + v17;
  *(_WORD *)(v18 + 14) = *(_WORD *)(a1 + 512);
  *(_DWORD *)(v18 + 16) = *(_DWORD *)(a1 + 514);
  *(_DWORD *)(v18 + 20) = *(_DWORD *)(a1 + 518);
  *(_DWORD *)(v18 + 24) = *(_DWORD *)(a1 + 522);
  *(_DWORD *)(v18 + 28) = *(_DWORD *)(a1 + 526);
  *(_DWORD *)(v18 + 32) = *(_DWORD *)(a1 + 530);
  *(_DWORD *)(v18 + 36) = *(_DWORD *)(a1 + 534);
  *(_DWORD *)(v18 + 40) = *(_DWORD *)(a1 + 538);
  *(_DWORD *)(v18 + 44) = *(_DWORD *)(a1 + 542);
  *(_DWORD *)(v18 + 48) = *(_DWORD *)(a1 + 546);
  *(_DWORD *)(v18 + 52) = *(_DWORD *)(a1 + 550);
  *(_DWORD *)(v18 + 56) = *(_DWORD *)(a1 + 554);
  *(_DWORD *)(v18 + 60) = *(_DWORD *)(a1 + 558);
  *(_DWORD *)(v18 + 64) = *(_DWORD *)(a1 + 562);
  *(_DWORD *)(v18 + 68) = *(_DWORD *)(a1 + 566);
  *(_DWORD *)(v18 + 72) = *(_DWORD *)(a1 + 570);
  *(_DWORD *)(v18 + 76) = *(_DWORD *)(a1 + 574);
  v19 = v2 + v18;
  *(_DWORD *)(v19 + 12) = *(_DWORD *)(a1 + 578);
  *(_DWORD *)(v19 + 16) = *(_DWORD *)(a1 + 582);
  *(_DWORD *)(v19 + 20) = *(_DWORD *)(a1 + 586);
  *(_DWORD *)(v19 + 24) = *(_DWORD *)(a1 + 590);
  *(_DWORD *)(v19 + 28) = *(_DWORD *)(a1 + 594);
  *(_DWORD *)(v19 + 32) = *(_DWORD *)(a1 + 598);
  *(_DWORD *)(v19 + 36) = *(_DWORD *)(a1 + 602);
  *(_DWORD *)(v19 + 40) = *(_DWORD *)(a1 + 606);
  *(_DWORD *)(v19 + 44) = *(_DWORD *)(a1 + 610);
  *(_DWORD *)(v19 + 48) = *(_DWORD *)(a1 + 614);
  *(_DWORD *)(v19 + 52) = *(_DWORD *)(a1 + 618);
  *(_DWORD *)(v19 + 56) = *(_DWORD *)(a1 + 622);
  *(_DWORD *)(v19 + 60) = *(_DWORD *)(a1 + 626);
  *(_DWORD *)(v19 + 64) = *(_DWORD *)(a1 + 630);
  *(_DWORD *)(v19 + 68) = *(_DWORD *)(a1 + 634);
  *(_DWORD *)(v19 + 72) = *(_DWORD *)(a1 + 638);
  *(_DWORD *)(v19 + 76) = *(_DWORD *)(a1 + 642);
  *(_WORD *)(v19 + 80) = *(_WORD *)(a1 + 646);
  v20 = v2 + v19;
  *(_WORD *)(v20 + 10) = *(_WORD *)(a1 + 648);
  *(_DWORD *)(v20 + 12) = *(_DWORD *)(a1 + 650);
  *(_DWORD *)(v20 + 16) = *(_DWORD *)(a1 + 654);
  *(_DWORD *)(v20 + 20) = *(_DWORD *)(a1 + 658);
  *(_DWORD *)(v20 + 24) = *(_DWORD *)(a1 + 662);
  *(_DWORD *)(v20 + 28) = *(_DWORD *)(a1 + 666);
  *(_DWORD *)(v20 + 32) = *(_DWORD *)(a1 + 670);
  *(_DWORD *)(v20 + 36) = *(_DWORD *)(a1 + 674);
  *(_DWORD *)(v20 + 40) = *(_DWORD *)(a1 + 678);
  *(_DWORD *)(v20 + 44) = *(_DWORD *)(a1 + 682);
  *(_DWORD *)(v20 + 48) = *(_DWORD *)(a1 + 686);
  *(_DWORD *)(v20 + 52) = *(_DWORD *)(a1 + 690);
  *(_DWORD *)(v20 + 56) = *(_DWORD *)(a1 + 694);
  *(_DWORD *)(v20 + 60) = *(_DWORD *)(a1 + 698);
  *(_DWORD *)(v20 + 64) = *(_DWORD *)(a1 + 702);
  *(_DWORD *)(v20 + 68) = *(_DWORD *)(a1 + 706);
  *(_DWORD *)(v20 + 72) = *(_DWORD *)(a1 + 710);
  *(_DWORD *)(v20 + 76) = *(_DWORD *)(a1 + 714);
  *(_DWORD *)(v20 + 80) = *(_DWORD *)(a1 + 718);
  v21 = v2 + v20;
  *(_DWORD *)(v21 + 8) = *(_DWORD *)(a1 + 722);
  *(_DWORD *)(v21 + 12) = *(_DWORD *)(a1 + 726);
  *(_DWORD *)(v21 + 16) = *(_DWORD *)(a1 + 730);
  *(_DWORD *)(v21 + 20) = *(_DWORD *)(a1 + 734);
  *(_DWORD *)(v21 + 24) = *(_DWORD *)(a1 + 738);
  *(_DWORD *)(v21 + 28) = *(_DWORD *)(a1 + 742);
  *(_DWORD *)(v21 + 32) = *(_DWORD *)(a1 + 746);
  *(_DWORD *)(v21 + 36) = *(_DWORD *)(a1 + 750);
  *(_DWORD *)(v21 + 40) = *(_DWORD *)(a1 + 754);
  *(_DWORD *)(v21 + 44) = *(_DWORD *)(a1 + 758);
  *(_DWORD *)(v21 + 48) = *(_DWORD *)(a1 + 762);
  *(_DWORD *)(v21 + 52) = *(_DWORD *)(a1 + 766);
  *(_DWORD *)(v21 + 56) = *(_DWORD *)(a1 + 770);
  *(_DWORD *)(v21 + 60) = *(_DWORD *)(a1 + 774);
  *(_DWORD *)(v21 + 64) = *(_DWORD *)(a1 + 778);
  *(_DWORD *)(v21 + 68) = *(_DWORD *)(a1 + 782);
  *(_DWORD *)(v21 + 72) = *(_DWORD *)(a1 + 786);
  *(_DWORD *)(v21 + 76) = *(_DWORD *)(a1 + 790);
  *(_DWORD *)(v21 + 80) = *(_DWORD *)(a1 + 794);
  *(_WORD *)(v21 + 84) = *(_WORD *)(a1 + 798);
  v22 = v2 + v21;
  *(_WORD *)(v22 + 6) = *(_WORD *)(a1 + 800);
  *(_DWORD *)(v22 + 8) = *(_DWORD *)(a1 + 802);
  *(_DWORD *)(v22 + 12) = *(_DWORD *)(a1 + 806);
  *(_DWORD *)(v22 + 16) = *(_DWORD *)(a1 + 810);
  *(_DWORD *)(v22 + 20) = *(_DWORD *)(a1 + 814);
  *(_DWORD *)(v22 + 24) = *(_DWORD *)(a1 + 818);
  *(_DWORD *)(v22 + 28) = *(_DWORD *)(a1 + 822);
  *(_DWORD *)(v22 + 32) = *(_DWORD *)(a1 + 826);
  *(_DWORD *)(v22 + 36) = *(_DWORD *)(a1 + 830);
  *(_DWORD *)(v22 + 40) = *(_DWORD *)(a1 + 834);
  *(_DWORD *)(v22 + 44) = *(_DWORD *)(a1 + 838);
  *(_DWORD *)(v22 + 48) = *(_DWORD *)(a1 + 842);
  *(_DWORD *)(v22 + 52) = *(_DWORD *)(a1 + 846);
  *(_DWORD *)(v22 + 56) = *(_DWORD *)(a1 + 850);
  *(_DWORD *)(v22 + 60) = *(_DWORD *)(a1 + 854);
  *(_DWORD *)(v22 + 64) = *(_DWORD *)(a1 + 858);
  *(_DWORD *)(v22 + 68) = *(_DWORD *)(a1 + 862);
  *(_DWORD *)(v22 + 72) = *(_DWORD *)(a1 + 866);
  *(_DWORD *)(v22 + 76) = *(_DWORD *)(a1 + 870);
  *(_DWORD *)(v22 + 80) = *(_DWORD *)(a1 + 874);
  *(_DWORD *)(v22 + 84) = *(_DWORD *)(a1 + 878);
  v23 = v2 + v22;
  *(_DWORD *)(v23 + 4) = *(_DWORD *)(a1 + 882);
  *(_DWORD *)(v23 + 8) = *(_DWORD *)(a1 + 886);
  *(_DWORD *)(v23 + 12) = *(_DWORD *)(a1 + 890);
  *(_DWORD *)(v23 + 16) = *(_DWORD *)(a1 + 894);
  *(_DWORD *)(v23 + 20) = *(_DWORD *)(a1 + 898);
  *(_DWORD *)(v23 + 24) = *(_DWORD *)(a1 + 902);
  *(_DWORD *)(v23 + 28) = *(_DWORD *)(a1 + 906);
  *(_DWORD *)(v23 + 32) = *(_DWORD *)(a1 + 910);
  *(_DWORD *)(v23 + 36) = *(_DWORD *)(a1 + 914);
  *(_DWORD *)(v23 + 40) = *(_DWORD *)(a1 + 918);
  *(_DWORD *)(v23 + 44) = *(_DWORD *)(a1 + 922);
  *(_DWORD *)(v23 + 48) = *(_DWORD *)(a1 + 926);
  *(_DWORD *)(v23 + 52) = *(_DWORD *)(a1 + 930);
  *(_DWORD *)(v23 + 56) = *(_DWORD *)(a1 + 934);
  *(_DWORD *)(v23 + 60) = *(_DWORD *)(a1 + 938);
  *(_DWORD *)(v23 + 64) = *(_DWORD *)(a1 + 942);
  *(_DWORD *)(v23 + 68) = *(_DWORD *)(a1 + 946);
  *(_DWORD *)(v23 + 72) = *(_DWORD *)(a1 + 950);
  *(_DWORD *)(v23 + 76) = *(_DWORD *)(a1 + 954);
  *(_DWORD *)(v23 + 80) = *(_DWORD *)(a1 + 958);
  *(_DWORD *)(v23 + 84) = *(_DWORD *)(a1 + 962);
  *(_WORD *)(v23 + 88) = *(_WORD *)(a1 + 966);
  v24 = v2 + v23;
  *(_WORD *)(v24 + 2) = *(_WORD *)(a1 + 968);
  *(_DWORD *)(v24 + 4) = *(_DWORD *)(a1 + 970);
  *(_DWORD *)(v24 + 8) = *(_DWORD *)(a1 + 974);
  *(_DWORD *)(v24 + 12) = *(_DWORD *)(a1 + 978);
  *(_DWORD *)(v24 + 16) = *(_DWORD *)(a1 + 982);
  *(_DWORD *)(v24 + 20) = *(_DWORD *)(a1 + 986);
  *(_DWORD *)(v24 + 24) = *(_DWORD *)(a1 + 990);
  *(_DWORD *)(v24 + 28) = *(_DWORD *)(a1 + 994);
  *(_DWORD *)(v24 + 32) = *(_DWORD *)(a1 + 998);
  *(_DWORD *)(v24 + 36) = *(_DWORD *)(a1 + 1002);
  *(_DWORD *)(v24 + 40) = *(_DWORD *)(a1 + 1006);
  *(_DWORD *)(v24 + 44) = *(_DWORD *)(a1 + 1010);
  *(_DWORD *)(v24 + 48) = *(_DWORD *)(a1 + 1014);
  *(_DWORD *)(v24 + 52) = *(_DWORD *)(a1 + 1018);
  *(_DWORD *)(v24 + 56) = *(_DWORD *)(a1 + 1022);
  *(_DWORD *)(v24 + 60) = *(_DWORD *)(a1 + 1026);
  *(_DWORD *)(v24 + 64) = *(_DWORD *)(a1 + 1030);
  *(_DWORD *)(v24 + 68) = *(_DWORD *)(a1 + 1034);
  *(_DWORD *)(v24 + 72) = *(_DWORD *)(a1 + 1038);
  *(_DWORD *)(v24 + 76) = *(_DWORD *)(a1 + 1042);
  *(_DWORD *)(v24 + 80) = *(_DWORD *)(a1 + 1046);
  *(_DWORD *)(v24 + 84) = *(_DWORD *)(a1 + 1050);
  *(_DWORD *)(v24 + 88) = *(_DWORD *)(a1 + 1054);
  v25 = v2 + v24;
  *(_WORD *)(v25 + 2) = *(_WORD *)(a1 + 1058);
  *(_DWORD *)(v25 + 4) = *(_DWORD *)(a1 + 1060);
  *(_DWORD *)(v25 + 8) = *(_DWORD *)(a1 + 1064);
  *(_DWORD *)(v25 + 12) = *(_DWORD *)(a1 + 1068);
  *(_DWORD *)(v25 + 16) = *(_DWORD *)(a1 + 1072);
  *(_DWORD *)(v25 + 20) = *(_DWORD *)(a1 + 1076);
  *(_DWORD *)(v25 + 24) = *(_DWORD *)(a1 + 1080);
  *(_DWORD *)(v25 + 28) = *(_DWORD *)(a1 + 1084);
  *(_DWORD *)(v25 + 32) = *(_DWORD *)(a1 + 1088);
  *(_DWORD *)(v25 + 36) = *(_DWORD *)(a1 + 1092);
  *(_DWORD *)(v25 + 40) = *(_DWORD *)(a1 + 1096);
  *(_DWORD *)(v25 + 44) = *(_DWORD *)(a1 + 1100);
  *(_DWORD *)(v25 + 48) = *(_DWORD *)(a1 + 1104);
  *(_DWORD *)(v25 + 52) = *(_DWORD *)(a1 + 1108);
  *(_DWORD *)(v25 + 56) = *(_DWORD *)(a1 + 1112);
  *(_DWORD *)(v25 + 60) = *(_DWORD *)(a1 + 1116);
  *(_DWORD *)(v25 + 64) = *(_DWORD *)(a1 + 1120);
  *(_DWORD *)(v25 + 68) = *(_DWORD *)(a1 + 1124);
  *(_DWORD *)(v25 + 72) = *(_DWORD *)(a1 + 1128);
  *(_DWORD *)(v25 + 76) = *(_DWORD *)(a1 + 1132);
  *(_DWORD *)(v25 + 80) = *(_DWORD *)(a1 + 1136);
  *(_DWORD *)(v25 + 84) = *(_DWORD *)(a1 + 1140);
  *(_DWORD *)(v25 + 88) = *(_DWORD *)(a1 + 1144);
  v26 = v2 + v25;
  *(_DWORD *)(v26 + 4) = *(_DWORD *)(a1 + 1148);
  *(_DWORD *)(v26 + 8) = *(_DWORD *)(a1 + 1152);
  *(_DWORD *)(v26 + 12) = *(_DWORD *)(a1 + 1156);
  *(_DWORD *)(v26 + 16) = *(_DWORD *)(a1 + 1160);
  *(_DWORD *)(v26 + 20) = *(_DWORD *)(a1 + 1164);
  *(_DWORD *)(v26 + 24) = *(_DWORD *)(a1 + 1168);
  *(_DWORD *)(v26 + 28) = *(_DWORD *)(a1 + 1172);
  *(_DWORD *)(v26 + 32) = *(_DWORD *)(a1 + 1176);
  *(_DWORD *)(v26 + 36) = *(_DWORD *)(a1 + 1180);
  *(_DWORD *)(v26 + 40) = *(_DWORD *)(a1 + 1184);
  *(_DWORD *)(v26 + 44) = *(_DWORD *)(a1 + 1188);
  *(_DWORD *)(v26 + 48) = *(_DWORD *)(a1 + 1192);
  *(_DWORD *)(v26 + 52) = *(_DWORD *)(a1 + 1196);
  *(_DWORD *)(v26 + 56) = *(_DWORD *)(a1 + 1200);
  *(_DWORD *)(v26 + 60) = *(_DWORD *)(a1 + 1204);
  *(_DWORD *)(v26 + 64) = *(_DWORD *)(a1 + 1208);
  *(_DWORD *)(v26 + 68) = *(_DWORD *)(a1 + 1212);
  *(_DWORD *)(v26 + 72) = *(_DWORD *)(a1 + 1216);
  *(_DWORD *)(v26 + 76) = *(_DWORD *)(a1 + 1220);
  *(_DWORD *)(v26 + 80) = *(_DWORD *)(a1 + 1224);
  *(_DWORD *)(v26 + 84) = *(_DWORD *)(a1 + 1228);
  *(_WORD *)(v26 + 88) = *(_WORD *)(a1 + 1232);
  v27 = v2 + v26;
  *(_WORD *)(v27 + 6) = *(_WORD *)(a1 + 1234);
  *(_DWORD *)(v27 + 8) = *(_DWORD *)(a1 + 1236);
  *(_DWORD *)(v27 + 12) = *(_DWORD *)(a1 + 1240);
  *(_DWORD *)(v27 + 16) = *(_DWORD *)(a1 + 1244);
  *(_DWORD *)(v27 + 20) = *(_DWORD *)(a1 + 1248);
  *(_DWORD *)(v27 + 24) = *(_DWORD *)(a1 + 1252);
  *(_DWORD *)(v27 + 28) = *(_DWORD *)(a1 + 1256);
  *(_DWORD *)(v27 + 32) = *(_DWORD *)(a1 + 1260);
  *(_DWORD *)(v27 + 36) = *(_DWORD *)(a1 + 1264);
  *(_DWORD *)(v27 + 40) = *(_DWORD *)(a1 + 1268);
  *(_DWORD *)(v27 + 44) = *(_DWORD *)(a1 + 1272);
  *(_DWORD *)(v27 + 48) = *(_DWORD *)(a1 + 1276);
  *(_DWORD *)(v27 + 52) = *(_DWORD *)(a1 + 1280);
  *(_DWORD *)(v27 + 56) = *(_DWORD *)(a1 + 1284);
  *(_DWORD *)(v27 + 60) = *(_DWORD *)(a1 + 1288);
  *(_DWORD *)(v27 + 64) = *(_DWORD *)(a1 + 1292);
  *(_DWORD *)(v27 + 68) = *(_DWORD *)(a1 + 1296);
  *(_DWORD *)(v27 + 72) = *(_DWORD *)(a1 + 1300);
  *(_DWORD *)(v27 + 76) = *(_DWORD *)(a1 + 1304);
  *(_DWORD *)(v27 + 80) = *(_DWORD *)(a1 + 1308);
  *(_DWORD *)(v27 + 84) = *(_DWORD *)(a1 + 1312);
  v28 = v2 + v27;
  *(_DWORD *)(v28 + 8) = *(_DWORD *)(a1 + 1316);
  *(_DWORD *)(v28 + 12) = *(_DWORD *)(a1 + 1320);
  *(_DWORD *)(v28 + 16) = *(_DWORD *)(a1 + 1324);
  *(_DWORD *)(v28 + 20) = *(_DWORD *)(a1 + 1328);
  *(_DWORD *)(v28 + 24) = *(_DWORD *)(a1 + 1332);
  *(_DWORD *)(v28 + 28) = *(_DWORD *)(a1 + 1336);
  *(_DWORD *)(v28 + 32) = *(_DWORD *)(a1 + 1340);
  *(_DWORD *)(v28 + 36) = *(_DWORD *)(a1 + 1344);
  *(_DWORD *)(v28 + 40) = *(_DWORD *)(a1 + 1348);
  *(_DWORD *)(v28 + 44) = *(_DWORD *)(a1 + 1352);
  *(_DWORD *)(v28 + 48) = *(_DWORD *)(a1 + 1356);
  *(_DWORD *)(v28 + 52) = *(_DWORD *)(a1 + 1360);
  *(_DWORD *)(v28 + 56) = *(_DWORD *)(a1 + 1364);
  *(_DWORD *)(v28 + 60) = *(_DWORD *)(a1 + 1368);
  *(_DWORD *)(v28 + 64) = *(_DWORD *)(a1 + 1372);
  *(_DWORD *)(v28 + 68) = *(_DWORD *)(a1 + 1376);
  *(_DWORD *)(v28 + 72) = *(_DWORD *)(a1 + 1380);
  *(_DWORD *)(v28 + 76) = *(_DWORD *)(a1 + 1384);
  *(_DWORD *)(v28 + 80) = *(_DWORD *)(a1 + 1388);
  *(_WORD *)(v28 + 84) = *(_WORD *)(a1 + 1392);
  v29 = v2 + v28;
  *(_WORD *)(v29 + 10) = *(_WORD *)(a1 + 1394);
  *(_DWORD *)(v29 + 12) = *(_DWORD *)(a1 + 1396);
  *(_DWORD *)(v29 + 16) = *(_DWORD *)(a1 + 1400);
  *(_DWORD *)(v29 + 20) = *(_DWORD *)(a1 + 1404);
  *(_DWORD *)(v29 + 24) = *(_DWORD *)(a1 + 1408);
  *(_DWORD *)(v29 + 28) = *(_DWORD *)(a1 + 1412);
  *(_DWORD *)(v29 + 32) = *(_DWORD *)(a1 + 1416);
  *(_DWORD *)(v29 + 36) = *(_DWORD *)(a1 + 1420);
  *(_DWORD *)(v29 + 40) = *(_DWORD *)(a1 + 1424);
  *(_DWORD *)(v29 + 44) = *(_DWORD *)(a1 + 1428);
  *(_DWORD *)(v29 + 48) = *(_DWORD *)(a1 + 1432);
  *(_DWORD *)(v29 + 52) = *(_DWORD *)(a1 + 1436);
  *(_DWORD *)(v29 + 56) = *(_DWORD *)(a1 + 1440);
  *(_DWORD *)(v29 + 60) = *(_DWORD *)(a1 + 1444);
  *(_DWORD *)(v29 + 64) = *(_DWORD *)(a1 + 1448);
  *(_DWORD *)(v29 + 68) = *(_DWORD *)(a1 + 1452);
  *(_DWORD *)(v29 + 72) = *(_DWORD *)(a1 + 1456);
  *(_DWORD *)(v29 + 76) = *(_DWORD *)(a1 + 1460);
  *(_DWORD *)(v29 + 80) = *(_DWORD *)(a1 + 1464);
  v30 = v2 + v29;
  *(_DWORD *)(v30 + 12) = *(_DWORD *)(a1 + 1468);
  *(_DWORD *)(v30 + 16) = *(_DWORD *)(a1 + 1472);
  *(_DWORD *)(v30 + 20) = *(_DWORD *)(a1 + 1476);
  *(_DWORD *)(v30 + 24) = *(_DWORD *)(a1 + 1480);
  *(_DWORD *)(v30 + 28) = *(_DWORD *)(a1 + 1484);
  *(_DWORD *)(v30 + 32) = *(_DWORD *)(a1 + 1488);
  *(_DWORD *)(v30 + 36) = *(_DWORD *)(a1 + 1492);
  *(_DWORD *)(v30 + 40) = *(_DWORD *)(a1 + 1496);
  *(_DWORD *)(v30 + 44) = *(_DWORD *)(a1 + 1500);
  *(_DWORD *)(v30 + 48) = *(_DWORD *)(a1 + 1504);
  *(_DWORD *)(v30 + 52) = *(_DWORD *)(a1 + 1508);
  *(_DWORD *)(v30 + 56) = *(_DWORD *)(a1 + 1512);
  *(_DWORD *)(v30 + 60) = *(_DWORD *)(a1 + 1516);
  *(_DWORD *)(v30 + 64) = *(_DWORD *)(a1 + 1520);
  *(_DWORD *)(v30 + 68) = *(_DWORD *)(a1 + 1524);
  *(_DWORD *)(v30 + 72) = *(_DWORD *)(a1 + 1528);
  *(_DWORD *)(v30 + 76) = *(_DWORD *)(a1 + 1532);
  *(_WORD *)(v30 + 80) = *(_WORD *)(a1 + 1536);
  v31 = v2 + v30;
  *(_WORD *)(v31 + 14) = *(_WORD *)(a1 + 1538);
  *(_DWORD *)(v31 + 16) = *(_DWORD *)(a1 + 1540);
  *(_DWORD *)(v31 + 20) = *(_DWORD *)(a1 + 1544);
  *(_DWORD *)(v31 + 24) = *(_DWORD *)(a1 + 1548);
  *(_DWORD *)(v31 + 28) = *(_DWORD *)(a1 + 1552);
  *(_DWORD *)(v31 + 32) = *(_DWORD *)(a1 + 1556);
  *(_DWORD *)(v31 + 36) = *(_DWORD *)(a1 + 1560);
  *(_DWORD *)(v31 + 40) = *(_DWORD *)(a1 + 1564);
  *(_DWORD *)(v31 + 44) = *(_DWORD *)(a1 + 1568);
  *(_DWORD *)(v31 + 48) = *(_DWORD *)(a1 + 1572);
  *(_DWORD *)(v31 + 52) = *(_DWORD *)(a1 + 1576);
  *(_DWORD *)(v31 + 56) = *(_DWORD *)(a1 + 1580);
  *(_DWORD *)(v31 + 60) = *(_DWORD *)(a1 + 1584);
  *(_DWORD *)(v31 + 64) = *(_DWORD *)(a1 + 1588);
  *(_DWORD *)(v31 + 68) = *(_DWORD *)(a1 + 1592);
  *(_DWORD *)(v31 + 72) = *(_DWORD *)(a1 + 1596);
  *(_DWORD *)(v31 + 76) = *(_DWORD *)(a1 + 1600);
  v32 = v2 + v31;
  *(_DWORD *)(v32 + 16) = *(_DWORD *)(a1 + 1604);
  *(_DWORD *)(v32 + 20) = *(_DWORD *)(a1 + 1608);
  *(_DWORD *)(v32 + 24) = *(_DWORD *)(a1 + 1612);
  *(_DWORD *)(v32 + 28) = *(_DWORD *)(a1 + 1616);
  *(_DWORD *)(v32 + 32) = *(_DWORD *)(a1 + 1620);
  *(_DWORD *)(v32 + 36) = *(_DWORD *)(a1 + 1624);
  *(_DWORD *)(v32 + 40) = *(_DWORD *)(a1 + 1628);
  *(_DWORD *)(v32 + 44) = *(_DWORD *)(a1 + 1632);
  *(_DWORD *)(v32 + 48) = *(_DWORD *)(a1 + 1636);
  *(_DWORD *)(v32 + 52) = *(_DWORD *)(a1 + 1640);
  *(_DWORD *)(v32 + 56) = *(_DWORD *)(a1 + 1644);
  *(_DWORD *)(v32 + 60) = *(_DWORD *)(a1 + 1648);
  *(_DWORD *)(v32 + 64) = *(_DWORD *)(a1 + 1652);
  *(_DWORD *)(v32 + 68) = *(_DWORD *)(a1 + 1656);
  *(_DWORD *)(v32 + 72) = *(_DWORD *)(a1 + 1660);
  *(_WORD *)(v32 + 76) = *(_WORD *)(a1 + 1664);
  v33 = v2 + v32;
  *(_WORD *)(v33 + 18) = *(_WORD *)(a1 + 1666);
  *(_DWORD *)(v33 + 20) = *(_DWORD *)(a1 + 1668);
  *(_DWORD *)(v33 + 24) = *(_DWORD *)(a1 + 1672);
  *(_DWORD *)(v33 + 28) = *(_DWORD *)(a1 + 1676);
  *(_DWORD *)(v33 + 32) = *(_DWORD *)(a1 + 1680);
  *(_DWORD *)(v33 + 36) = *(_DWORD *)(a1 + 1684);
  *(_DWORD *)(v33 + 40) = *(_DWORD *)(a1 + 1688);
  *(_DWORD *)(v33 + 44) = *(_DWORD *)(a1 + 1692);
  *(_DWORD *)(v33 + 48) = *(_DWORD *)(a1 + 1696);
  *(_DWORD *)(v33 + 52) = *(_DWORD *)(a1 + 1700);
  *(_DWORD *)(v33 + 56) = *(_DWORD *)(a1 + 1704);
  *(_DWORD *)(v33 + 60) = *(_DWORD *)(a1 + 1708);
  *(_DWORD *)(v33 + 64) = *(_DWORD *)(a1 + 1712);
  *(_DWORD *)(v33 + 68) = *(_DWORD *)(a1 + 1716);
  *(_DWORD *)(v33 + 72) = *(_DWORD *)(a1 + 1720);
  v34 = v2 + v33;
  *(_DWORD *)(v34 + 20) = *(_DWORD *)(a1 + 1724);
  *(_DWORD *)(v34 + 24) = *(_DWORD *)(a1 + 1728);
  *(_DWORD *)(v34 + 28) = *(_DWORD *)(a1 + 1732);
  *(_DWORD *)(v34 + 32) = *(_DWORD *)(a1 + 1736);
  *(_DWORD *)(v34 + 36) = *(_DWORD *)(a1 + 1740);
  *(_DWORD *)(v34 + 40) = *(_DWORD *)(a1 + 1744);
  *(_DWORD *)(v34 + 44) = *(_DWORD *)(a1 + 1748);
  *(_DWORD *)(v34 + 48) = *(_DWORD *)(a1 + 1752);
  *(_DWORD *)(v34 + 52) = *(_DWORD *)(a1 + 1756);
  *(_DWORD *)(v34 + 56) = *(_DWORD *)(a1 + 1760);
  *(_DWORD *)(v34 + 60) = *(_DWORD *)(a1 + 1764);
  *(_DWORD *)(v34 + 64) = *(_DWORD *)(a1 + 1768);
  *(_DWORD *)(v34 + 68) = *(_DWORD *)(a1 + 1772);
  *(_WORD *)(v34 + 72) = *(_WORD *)(a1 + 1776);
  v35 = v2 + v34;
  *(_WORD *)(v35 + 22) = *(_WORD *)(a1 + 1778);
  *(_DWORD *)(v35 + 24) = *(_DWORD *)(a1 + 1780);
  *(_DWORD *)(v35 + 28) = *(_DWORD *)(a1 + 1784);
  *(_DWORD *)(v35 + 32) = *(_DWORD *)(a1 + 1788);
  *(_DWORD *)(v35 + 36) = *(_DWORD *)(a1 + 1792);
  *(_DWORD *)(v35 + 40) = *(_DWORD *)(a1 + 1796);
  *(_DWORD *)(v35 + 44) = *(_DWORD *)(a1 + 1800);
  *(_DWORD *)(v35 + 48) = *(_DWORD *)(a1 + 1804);
  *(_DWORD *)(v35 + 52) = *(_DWORD *)(a1 + 1808);
  *(_DWORD *)(v35 + 56) = *(_DWORD *)(a1 + 1812);
  *(_DWORD *)(v35 + 60) = *(_DWORD *)(a1 + 1816);
  *(_DWORD *)(v35 + 64) = *(_DWORD *)(a1 + 1820);
  *(_DWORD *)(v35 + 68) = *(_DWORD *)(a1 + 1824);
  v36 = v2 + v35;
  *(_DWORD *)(v36 + 24) = *(_DWORD *)(a1 + 1828);
  *(_DWORD *)(v36 + 28) = *(_DWORD *)(a1 + 1832);
  *(_DWORD *)(v36 + 32) = *(_DWORD *)(a1 + 1836);
  *(_DWORD *)(v36 + 36) = *(_DWORD *)(a1 + 1840);
  *(_DWORD *)(v36 + 40) = *(_DWORD *)(a1 + 1844);
  *(_DWORD *)(v36 + 44) = *(_DWORD *)(a1 + 1848);
  *(_DWORD *)(v36 + 48) = *(_DWORD *)(a1 + 1852);
  *(_DWORD *)(v36 + 52) = *(_DWORD *)(a1 + 1856);
  *(_DWORD *)(v36 + 56) = *(_DWORD *)(a1 + 1860);
  *(_DWORD *)(v36 + 60) = *(_DWORD *)(a1 + 1864);
  *(_DWORD *)(v36 + 64) = *(_DWORD *)(a1 + 1868);
  *(_WORD *)(v36 + 68) = *(_WORD *)(a1 + 1872);
  v37 = v2 + v36;
  *(_WORD *)(v37 + 26) = *(_WORD *)(a1 + 1874);
  *(_DWORD *)(v37 + 28) = *(_DWORD *)(a1 + 1876);
  *(_DWORD *)(v37 + 32) = *(_DWORD *)(a1 + 1880);
  *(_DWORD *)(v37 + 36) = *(_DWORD *)(a1 + 1884);
  *(_DWORD *)(v37 + 40) = *(_DWORD *)(a1 + 1888);
  *(_DWORD *)(v37 + 44) = *(_DWORD *)(a1 + 1892);
  *(_DWORD *)(v37 + 48) = *(_DWORD *)(a1 + 1896);
  *(_DWORD *)(v37 + 52) = *(_DWORD *)(a1 + 1900);
  *(_DWORD *)(v37 + 56) = *(_DWORD *)(a1 + 1904);
  *(_DWORD *)(v37 + 60) = *(_DWORD *)(a1 + 1908);
  *(_DWORD *)(v37 + 64) = *(_DWORD *)(a1 + 1912);
  v38 = v2 + v37;
  *(_DWORD *)(v38 + 28) = *(_DWORD *)(a1 + 1916);
  *(_DWORD *)(v38 + 32) = *(_DWORD *)(a1 + 1920);
  *(_DWORD *)(v38 + 36) = *(_DWORD *)(a1 + 1924);
  *(_DWORD *)(v38 + 40) = *(_DWORD *)(a1 + 1928);
  *(_DWORD *)(v38 + 44) = *(_DWORD *)(a1 + 1932);
  *(_DWORD *)(v38 + 48) = *(_DWORD *)(a1 + 1936);
  *(_DWORD *)(v38 + 52) = *(_DWORD *)(a1 + 1940);
  *(_DWORD *)(v38 + 56) = *(_DWORD *)(a1 + 1944);
  *(_DWORD *)(v38 + 60) = *(_DWORD *)(a1 + 1948);
  *(_WORD *)(v38 + 64) = *(_WORD *)(a1 + 1952);
  v39 = v2 + v38;
  *(_WORD *)(v39 + 30) = *(_WORD *)(a1 + 1954);
  *(_DWORD *)(v39 + 32) = *(_DWORD *)(a1 + 1956);
  *(_DWORD *)(v39 + 36) = *(_DWORD *)(a1 + 1960);
  *(_DWORD *)(v39 + 40) = *(_DWORD *)(a1 + 1964);
  *(_DWORD *)(v39 + 44) = *(_DWORD *)(a1 + 1968);
  *(_DWORD *)(v39 + 48) = *(_DWORD *)(a1 + 1972);
  *(_DWORD *)(v39 + 52) = *(_DWORD *)(a1 + 1976);
  *(_DWORD *)(v39 + 56) = *(_DWORD *)(a1 + 1980);
  *(_DWORD *)(v39 + 60) = *(_DWORD *)(a1 + 1984);
  v40 = v2 + v39;
  *(_DWORD *)(v40 + 32) = *(_DWORD *)(a1 + 1988);
  *(_DWORD *)(v40 + 36) = *(_DWORD *)(a1 + 1992);
  *(_DWORD *)(v40 + 40) = *(_DWORD *)(a1 + 1996);
  *(_DWORD *)(v40 + 44) = *(_DWORD *)(a1 + 2000);
  *(_DWORD *)(v40 + 48) = *(_DWORD *)(a1 + 2004);
  *(_DWORD *)(v40 + 52) = *(_DWORD *)(a1 + 2008);
  *(_DWORD *)(v40 + 56) = *(_DWORD *)(a1 + 2012);
  *(_WORD *)(v40 + 60) = *(_WORD *)(a1 + 2016);
  v41 = v2 + v40;
  *(_WORD *)(v41 + 34) = *(_WORD *)(a1 + 2018);
  *(_DWORD *)(v41 + 36) = *(_DWORD *)(a1 + 2020);
  *(_DWORD *)(v41 + 40) = *(_DWORD *)(a1 + 2024);
  *(_DWORD *)(v41 + 44) = *(_DWORD *)(a1 + 2028);
  *(_DWORD *)(v41 + 48) = *(_DWORD *)(a1 + 2032);
  *(_DWORD *)(v41 + 52) = *(_DWORD *)(a1 + 2036);
  *(_DWORD *)(v41 + 56) = *(_DWORD *)(a1 + 2040);
  v42 = v2 + v41;
  *(_DWORD *)(v42 + 36) = *(_DWORD *)(a1 + 2044);
  *(_DWORD *)(v42 + 40) = *(_DWORD *)(a1 + 2048);
  *(_DWORD *)(v42 + 44) = *(_DWORD *)(a1 + 2052);
  *(_DWORD *)(v42 + 48) = *(_DWORD *)(a1 + 2056);
  *(_DWORD *)(v42 + 52) = *(_DWORD *)(a1 + 2060);
  *(_WORD *)(v42 + 56) = *(_WORD *)(a1 + 2064);
  v43 = v2 + v42;
  *(_WORD *)(v43 + 38) = *(_WORD *)(a1 + 2066);
  *(_DWORD *)(v43 + 40) = *(_DWORD *)(a1 + 2068);
  *(_DWORD *)(v43 + 44) = *(_DWORD *)(a1 + 2072);
  *(_DWORD *)(v43 + 48) = *(_DWORD *)(a1 + 2076);
  *(_DWORD *)(v43 + 52) = *(_DWORD *)(a1 + 2080);
  v44 = v2 + v43;
  *(_DWORD *)(v44 + 40) = *(_DWORD *)(a1 + 2084);
  *(_DWORD *)(v44 + 44) = *(_DWORD *)(a1 + 2088);
  *(_DWORD *)(v44 + 48) = *(_DWORD *)(a1 + 2092);
  *(_WORD *)(v44 + 52) = *(_WORD *)(a1 + 2096);
  v45 = v2 + v44;
  *(_WORD *)(v45 + 42) = *(_WORD *)(a1 + 2098);
  *(_DWORD *)(v45 + 44) = *(_DWORD *)(a1 + 2100);
  *(_DWORD *)(v45 + 48) = *(_DWORD *)(a1 + 2104);
  v46 = v2 + v45;
  *(_DWORD *)(v46 + 44) = *(_DWORD *)(a1 + 2108);
  result = *(_WORD *)(a1 + 2112);
  *(_WORD *)(v46 + 48) = result;
  *(_WORD *)(v2 + v46 + 46) = *(_WORD *)(a1 + 2114);
  return result;
}

//----- (00483FE0) --------------------------------------------------------
int __cdecl sub_483FE0(int a1, int a2)
{
  int result; // eax
  int v3; // edx
  int v4; // edi
  int v5; // edi
  int v6; // edi
  int v7; // edi
  int v8; // edi
  int v9; // edi
  int v10; // edi
  int v11; // edi
  int v12; // edi
  int v13; // edi
  int v14; // edi
  int v15; // edi
  int v16; // edi
  int v17; // edi
  int v18; // edi
  int v19; // edi
  int v20; // edi
  int v21; // edi
  int v22; // edi
  int v23; // edi
  int v24; // edi
  int v25; // edi
  int v26; // edi
  int v27; // edi
  int v28; // edi
  int v29; // edi
  int v30; // edi
  int v31; // edi
  int v32; // edi
  int v33; // edi
  int v34; // edi
  int v35; // edi
  int v36; // edi
  int v37; // edi
  int v38; // edi
  int v39; // edi
  int v40; // edi
  int v41; // edi
  int v42; // edi
  int v43; // edi
  int v44; // edi
  int v45; // edi
  int v46; // edi
  int v47; // edi

  result = a1;
  v3 = *(_DWORD *)&byte_5D4594[3798804];
  *(_BYTE *)(a2 + 23) = a1;
  v4 = v3 + a2;
  *(_WORD *)(v4 + 22) = a1;
  *(_BYTE *)(v4 + 24) = a1;
  v5 = v3 + v3 + a2;
  *(_BYTE *)(v5 + 21) = a1;
  *(_WORD *)(v5 + 22) = a1;
  *(_WORD *)(v5 + 24) = a1;
  v6 = v3 + v5;
  *(_DWORD *)(v6 + 20) = a1;
  *(_WORD *)(v6 + 24) = a1;
  *(_BYTE *)(v6 + 26) = a1;
  v7 = v3 + v6;
  *(_BYTE *)(v7 + 19) = a1;
  *(_DWORD *)(v7 + 20) = a1;
  *(_DWORD *)(v7 + 24) = a1;
  v8 = v3 + v7;
  *(_WORD *)(v8 + 18) = a1;
  *(_DWORD *)(v8 + 20) = a1;
  *(_DWORD *)(v8 + 24) = a1;
  *(_BYTE *)(v8 + 28) = a1;
  v9 = v3 + v8;
  *(_BYTE *)(v9 + 17) = a1;
  *(_WORD *)(v9 + 18) = a1;
  *(_DWORD *)(v9 + 20) = a1;
  *(_DWORD *)(v9 + 24) = a1;
  *(_WORD *)(v9 + 28) = a1;
  v10 = v3 + v9;
  *(_DWORD *)(v10 + 16) = a1;
  *(_DWORD *)(v10 + 20) = a1;
  *(_DWORD *)(v10 + 24) = a1;
  *(_WORD *)(v10 + 28) = a1;
  *(_BYTE *)(v10 + 30) = a1;
  v11 = v3 + v10;
  *(_BYTE *)(v11 + 15) = a1;
  *(_DWORD *)(v11 + 16) = a1;
  *(_DWORD *)(v11 + 20) = a1;
  *(_DWORD *)(v11 + 24) = a1;
  *(_DWORD *)(v11 + 28) = a1;
  v12 = v3 + v11;
  *(_WORD *)(v12 + 14) = a1;
  *(_DWORD *)(v12 + 16) = a1;
  *(_DWORD *)(v12 + 20) = a1;
  *(_DWORD *)(v12 + 24) = a1;
  *(_DWORD *)(v12 + 28) = a1;
  *(_BYTE *)(v12 + 32) = a1;
  v13 = v3 + v12;
  *(_BYTE *)(v13 + 13) = a1;
  *(_WORD *)(v13 + 14) = a1;
  *(_DWORD *)(v13 + 16) = a1;
  *(_DWORD *)(v13 + 20) = a1;
  *(_DWORD *)(v13 + 24) = a1;
  *(_DWORD *)(v13 + 28) = a1;
  *(_WORD *)(v13 + 32) = a1;
  v14 = v3 + v13;
  *(_DWORD *)(v14 + 12) = a1;
  *(_DWORD *)(v14 + 16) = a1;
  *(_DWORD *)(v14 + 20) = a1;
  *(_DWORD *)(v14 + 24) = a1;
  *(_DWORD *)(v14 + 28) = a1;
  *(_WORD *)(v14 + 32) = a1;
  *(_BYTE *)(v14 + 34) = a1;
  v15 = v3 + v14;
  *(_BYTE *)(v15 + 11) = a1;
  *(_DWORD *)(v15 + 12) = a1;
  *(_DWORD *)(v15 + 16) = a1;
  *(_DWORD *)(v15 + 20) = a1;
  *(_DWORD *)(v15 + 24) = a1;
  *(_DWORD *)(v15 + 28) = a1;
  *(_DWORD *)(v15 + 32) = a1;
  v16 = v3 + v15;
  *(_WORD *)(v16 + 10) = a1;
  *(_DWORD *)(v16 + 12) = a1;
  *(_DWORD *)(v16 + 16) = a1;
  *(_DWORD *)(v16 + 20) = a1;
  *(_DWORD *)(v16 + 24) = a1;
  *(_DWORD *)(v16 + 28) = a1;
  *(_DWORD *)(v16 + 32) = a1;
  *(_BYTE *)(v16 + 36) = a1;
  v17 = v3 + v16;
  *(_BYTE *)(v17 + 9) = a1;
  *(_WORD *)(v17 + 10) = a1;
  *(_DWORD *)(v17 + 12) = a1;
  *(_DWORD *)(v17 + 16) = a1;
  *(_DWORD *)(v17 + 20) = a1;
  *(_DWORD *)(v17 + 24) = a1;
  *(_DWORD *)(v17 + 28) = a1;
  *(_DWORD *)(v17 + 32) = a1;
  *(_WORD *)(v17 + 36) = a1;
  v18 = v3 + v17;
  *(_DWORD *)(v18 + 8) = a1;
  *(_DWORD *)(v18 + 12) = a1;
  *(_DWORD *)(v18 + 16) = a1;
  *(_DWORD *)(v18 + 20) = a1;
  *(_DWORD *)(v18 + 24) = a1;
  *(_DWORD *)(v18 + 28) = a1;
  *(_DWORD *)(v18 + 32) = a1;
  *(_WORD *)(v18 + 36) = a1;
  *(_BYTE *)(v18 + 38) = a1;
  v19 = v3 + v18;
  *(_BYTE *)(v19 + 7) = a1;
  *(_DWORD *)(v19 + 8) = a1;
  *(_DWORD *)(v19 + 12) = a1;
  *(_DWORD *)(v19 + 16) = a1;
  *(_DWORD *)(v19 + 20) = a1;
  *(_DWORD *)(v19 + 24) = a1;
  *(_DWORD *)(v19 + 28) = a1;
  *(_DWORD *)(v19 + 32) = a1;
  *(_DWORD *)(v19 + 36) = a1;
  v20 = v3 + v19;
  *(_WORD *)(v20 + 6) = a1;
  *(_DWORD *)(v20 + 8) = a1;
  *(_DWORD *)(v20 + 12) = a1;
  *(_DWORD *)(v20 + 16) = a1;
  *(_DWORD *)(v20 + 20) = a1;
  *(_DWORD *)(v20 + 24) = a1;
  *(_DWORD *)(v20 + 28) = a1;
  *(_DWORD *)(v20 + 32) = a1;
  *(_DWORD *)(v20 + 36) = a1;
  *(_BYTE *)(v20 + 40) = a1;
  v21 = v3 + v20;
  *(_BYTE *)(v21 + 5) = a1;
  *(_WORD *)(v21 + 6) = a1;
  *(_DWORD *)(v21 + 8) = a1;
  *(_DWORD *)(v21 + 12) = a1;
  *(_DWORD *)(v21 + 16) = a1;
  *(_DWORD *)(v21 + 20) = a1;
  *(_DWORD *)(v21 + 24) = a1;
  *(_DWORD *)(v21 + 28) = a1;
  *(_DWORD *)(v21 + 32) = a1;
  *(_DWORD *)(v21 + 36) = a1;
  *(_WORD *)(v21 + 40) = a1;
  v22 = v3 + v21;
  *(_DWORD *)(v22 + 4) = a1;
  *(_DWORD *)(v22 + 8) = a1;
  *(_DWORD *)(v22 + 12) = a1;
  *(_DWORD *)(v22 + 16) = a1;
  *(_DWORD *)(v22 + 20) = a1;
  *(_DWORD *)(v22 + 24) = a1;
  *(_DWORD *)(v22 + 28) = a1;
  *(_DWORD *)(v22 + 32) = a1;
  *(_DWORD *)(v22 + 36) = a1;
  *(_WORD *)(v22 + 40) = a1;
  *(_BYTE *)(v22 + 42) = a1;
  v23 = v3 + v22;
  *(_BYTE *)(v23 + 3) = a1;
  *(_DWORD *)(v23 + 4) = a1;
  *(_DWORD *)(v23 + 8) = a1;
  *(_DWORD *)(v23 + 12) = a1;
  *(_DWORD *)(v23 + 16) = a1;
  *(_DWORD *)(v23 + 20) = a1;
  *(_DWORD *)(v23 + 24) = a1;
  *(_DWORD *)(v23 + 28) = a1;
  *(_DWORD *)(v23 + 32) = a1;
  *(_DWORD *)(v23 + 36) = a1;
  *(_DWORD *)(v23 + 40) = a1;
  v24 = v3 + v23;
  *(_WORD *)(v24 + 2) = a1;
  *(_DWORD *)(v24 + 4) = a1;
  *(_DWORD *)(v24 + 8) = a1;
  *(_DWORD *)(v24 + 12) = a1;
  *(_DWORD *)(v24 + 16) = a1;
  *(_DWORD *)(v24 + 20) = a1;
  *(_DWORD *)(v24 + 24) = a1;
  *(_DWORD *)(v24 + 28) = a1;
  *(_DWORD *)(v24 + 32) = a1;
  *(_DWORD *)(v24 + 36) = a1;
  *(_DWORD *)(v24 + 40) = a1;
  *(_BYTE *)(v24 + 44) = a1;
  v25 = v3 + v24;
  *(_BYTE *)(v25 + 1) = a1;
  *(_WORD *)(v25 + 2) = a1;
  *(_DWORD *)(v25 + 4) = a1;
  *(_DWORD *)(v25 + 8) = a1;
  *(_DWORD *)(v25 + 12) = a1;
  *(_DWORD *)(v25 + 16) = a1;
  *(_DWORD *)(v25 + 20) = a1;
  *(_DWORD *)(v25 + 24) = a1;
  *(_DWORD *)(v25 + 28) = a1;
  *(_DWORD *)(v25 + 32) = a1;
  *(_DWORD *)(v25 + 36) = a1;
  *(_DWORD *)(v25 + 40) = a1;
  *(_WORD *)(v25 + 44) = a1;
  v26 = v3 + v25;
  *(_BYTE *)(v26 + 1) = a1;
  *(_WORD *)(v26 + 2) = a1;
  *(_DWORD *)(v26 + 4) = a1;
  *(_DWORD *)(v26 + 8) = a1;
  *(_DWORD *)(v26 + 12) = a1;
  *(_DWORD *)(v26 + 16) = a1;
  *(_DWORD *)(v26 + 20) = a1;
  *(_DWORD *)(v26 + 24) = a1;
  *(_DWORD *)(v26 + 28) = a1;
  *(_DWORD *)(v26 + 32) = a1;
  *(_DWORD *)(v26 + 36) = a1;
  *(_DWORD *)(v26 + 40) = a1;
  *(_WORD *)(v26 + 44) = a1;
  v27 = v3 + v26;
  *(_WORD *)(v27 + 2) = a1;
  *(_DWORD *)(v27 + 4) = a1;
  *(_DWORD *)(v27 + 8) = a1;
  *(_DWORD *)(v27 + 12) = a1;
  *(_DWORD *)(v27 + 16) = a1;
  *(_DWORD *)(v27 + 20) = a1;
  *(_DWORD *)(v27 + 24) = a1;
  *(_DWORD *)(v27 + 28) = a1;
  *(_DWORD *)(v27 + 32) = a1;
  *(_DWORD *)(v27 + 36) = a1;
  *(_DWORD *)(v27 + 40) = a1;
  *(_BYTE *)(v27 + 44) = a1;
  v28 = v3 + v27;
  *(_BYTE *)(v28 + 3) = a1;
  *(_DWORD *)(v28 + 4) = a1;
  *(_DWORD *)(v28 + 8) = a1;
  *(_DWORD *)(v28 + 12) = a1;
  *(_DWORD *)(v28 + 16) = a1;
  *(_DWORD *)(v28 + 20) = a1;
  *(_DWORD *)(v28 + 24) = a1;
  *(_DWORD *)(v28 + 28) = a1;
  *(_DWORD *)(v28 + 32) = a1;
  *(_DWORD *)(v28 + 36) = a1;
  *(_DWORD *)(v28 + 40) = a1;
  v29 = v3 + v28;
  *(_DWORD *)(v29 + 4) = a1;
  *(_DWORD *)(v29 + 8) = a1;
  *(_DWORD *)(v29 + 12) = a1;
  *(_DWORD *)(v29 + 16) = a1;
  *(_DWORD *)(v29 + 20) = a1;
  *(_DWORD *)(v29 + 24) = a1;
  *(_DWORD *)(v29 + 28) = a1;
  *(_DWORD *)(v29 + 32) = a1;
  *(_DWORD *)(v29 + 36) = a1;
  *(_WORD *)(v29 + 40) = a1;
  *(_BYTE *)(v29 + 42) = a1;
  v30 = v3 + v29;
  *(_BYTE *)(v30 + 5) = a1;
  *(_WORD *)(v30 + 6) = a1;
  *(_DWORD *)(v30 + 8) = a1;
  *(_DWORD *)(v30 + 12) = a1;
  *(_DWORD *)(v30 + 16) = a1;
  *(_DWORD *)(v30 + 20) = a1;
  *(_DWORD *)(v30 + 24) = a1;
  *(_DWORD *)(v30 + 28) = a1;
  *(_DWORD *)(v30 + 32) = a1;
  *(_DWORD *)(v30 + 36) = a1;
  *(_WORD *)(v30 + 40) = a1;
  v31 = v3 + v30;
  *(_WORD *)(v31 + 6) = a1;
  *(_DWORD *)(v31 + 8) = a1;
  *(_DWORD *)(v31 + 12) = a1;
  *(_DWORD *)(v31 + 16) = a1;
  *(_DWORD *)(v31 + 20) = a1;
  *(_DWORD *)(v31 + 24) = a1;
  *(_DWORD *)(v31 + 28) = a1;
  *(_DWORD *)(v31 + 32) = a1;
  *(_DWORD *)(v31 + 36) = a1;
  *(_BYTE *)(v31 + 40) = a1;
  v32 = v3 + v31;
  *(_BYTE *)(v32 + 7) = a1;
  *(_DWORD *)(v32 + 8) = a1;
  *(_DWORD *)(v32 + 12) = a1;
  *(_DWORD *)(v32 + 16) = a1;
  *(_DWORD *)(v32 + 20) = a1;
  *(_DWORD *)(v32 + 24) = a1;
  *(_DWORD *)(v32 + 28) = a1;
  *(_DWORD *)(v32 + 32) = a1;
  *(_DWORD *)(v32 + 36) = a1;
  v33 = v3 + v32;
  *(_DWORD *)(v33 + 8) = a1;
  *(_DWORD *)(v33 + 12) = a1;
  *(_DWORD *)(v33 + 16) = a1;
  *(_DWORD *)(v33 + 20) = a1;
  *(_DWORD *)(v33 + 24) = a1;
  *(_DWORD *)(v33 + 28) = a1;
  *(_DWORD *)(v33 + 32) = a1;
  *(_WORD *)(v33 + 36) = a1;
  *(_BYTE *)(v33 + 38) = a1;
  v34 = v3 + v33;
  *(_BYTE *)(v34 + 9) = a1;
  *(_WORD *)(v34 + 10) = a1;
  *(_DWORD *)(v34 + 12) = a1;
  *(_DWORD *)(v34 + 16) = a1;
  *(_DWORD *)(v34 + 20) = a1;
  *(_DWORD *)(v34 + 24) = a1;
  *(_DWORD *)(v34 + 28) = a1;
  *(_DWORD *)(v34 + 32) = a1;
  *(_WORD *)(v34 + 36) = a1;
  v35 = v3 + v34;
  *(_WORD *)(v35 + 10) = a1;
  *(_DWORD *)(v35 + 12) = a1;
  *(_DWORD *)(v35 + 16) = a1;
  *(_DWORD *)(v35 + 20) = a1;
  *(_DWORD *)(v35 + 24) = a1;
  *(_DWORD *)(v35 + 28) = a1;
  *(_DWORD *)(v35 + 32) = a1;
  *(_BYTE *)(v35 + 36) = a1;
  v36 = v3 + v35;
  *(_BYTE *)(v36 + 11) = a1;
  *(_DWORD *)(v36 + 12) = a1;
  *(_DWORD *)(v36 + 16) = a1;
  *(_DWORD *)(v36 + 20) = a1;
  *(_DWORD *)(v36 + 24) = a1;
  *(_DWORD *)(v36 + 28) = a1;
  *(_DWORD *)(v36 + 32) = a1;
  v37 = v3 + v36;
  *(_DWORD *)(v37 + 12) = a1;
  *(_DWORD *)(v37 + 16) = a1;
  *(_DWORD *)(v37 + 20) = a1;
  *(_DWORD *)(v37 + 24) = a1;
  *(_DWORD *)(v37 + 28) = a1;
  *(_WORD *)(v37 + 32) = a1;
  *(_BYTE *)(v37 + 34) = a1;
  v38 = v3 + v37;
  *(_BYTE *)(v38 + 13) = a1;
  *(_WORD *)(v38 + 14) = a1;
  *(_DWORD *)(v38 + 16) = a1;
  *(_DWORD *)(v38 + 20) = a1;
  *(_DWORD *)(v38 + 24) = a1;
  *(_DWORD *)(v38 + 28) = a1;
  *(_WORD *)(v38 + 32) = a1;
  v39 = v3 + v38;
  *(_WORD *)(v39 + 14) = a1;
  *(_DWORD *)(v39 + 16) = a1;
  *(_DWORD *)(v39 + 20) = a1;
  *(_DWORD *)(v39 + 24) = a1;
  *(_DWORD *)(v39 + 28) = a1;
  *(_BYTE *)(v39 + 32) = a1;
  v40 = v3 + v39;
  *(_BYTE *)(v40 + 15) = a1;
  *(_DWORD *)(v40 + 16) = a1;
  *(_DWORD *)(v40 + 20) = a1;
  *(_DWORD *)(v40 + 24) = a1;
  *(_DWORD *)(v40 + 28) = a1;
  v41 = v3 + v40;
  *(_DWORD *)(v41 + 16) = a1;
  *(_DWORD *)(v41 + 20) = a1;
  *(_DWORD *)(v41 + 24) = a1;
  *(_WORD *)(v41 + 28) = a1;
  *(_BYTE *)(v41 + 30) = a1;
  v42 = v3 + v41;
  *(_BYTE *)(v42 + 17) = a1;
  *(_WORD *)(v42 + 18) = a1;
  *(_DWORD *)(v42 + 20) = a1;
  *(_DWORD *)(v42 + 24) = a1;
  *(_WORD *)(v42 + 28) = a1;
  v43 = v3 + v42;
  *(_WORD *)(v43 + 18) = a1;
  *(_DWORD *)(v43 + 20) = a1;
  *(_DWORD *)(v43 + 24) = a1;
  *(_BYTE *)(v43 + 28) = a1;
  v44 = v3 + v43;
  *(_BYTE *)(v44 + 19) = a1;
  *(_DWORD *)(v44 + 20) = a1;
  *(_DWORD *)(v44 + 24) = a1;
  v45 = v3 + v44;
  *(_DWORD *)(v45 + 20) = a1;
  *(_WORD *)(v45 + 24) = a1;
  *(_BYTE *)(v45 + 26) = a1;
  v46 = v3 + v45;
  *(_BYTE *)(v46 + 21) = a1;
  *(_WORD *)(v46 + 22) = a1;
  *(_WORD *)(v46 + 24) = a1;
  v47 = v3 + v46;
  *(_WORD *)(v47 + 22) = a1;
  *(_BYTE *)(v47 + 24) = a1;
  *(_BYTE *)(v3 + v47 + 23) = a1;
  return result;
}

//----- (00484450) --------------------------------------------------------
int __cdecl sub_484450(int a1, int a2)
{
  int result; // eax
  int v3; // edx
  int v4; // edi
  int v5; // edi
  int v6; // edi
  int v7; // edi
  int v8; // edi
  int v9; // edi
  int v10; // edi
  int v11; // edi
  int v12; // edi
  int v13; // edi
  int v14; // edi
  int v15; // edi
  int v16; // edi
  int v17; // edi
  int v18; // edi
  int v19; // edi
  int v20; // edi
  int v21; // edi
  int v22; // edi
  int v23; // edi
  int v24; // edi
  int v25; // edi
  int v26; // edi
  int v27; // edi
  int v28; // edi
  int v29; // edi
  int v30; // edi
  int v31; // edi
  int v32; // edi
  int v33; // edi
  int v34; // edi
  int v35; // edi
  int v36; // edi
  int v37; // edi
  int v38; // edi
  int v39; // edi
  int v40; // edi
  int v41; // edi
  int v42; // edi
  int v43; // edi
  int v44; // edi
  int v45; // edi
  int v46; // edi
  int v47; // edi

  result = a1;
  v3 = *(_DWORD *)&byte_5D4594[3798804];
  *(_WORD *)(a2 + 46) = a1;
  v4 = v3 + a2;
  *(_DWORD *)(v4 + 44) = a1;
  *(_WORD *)(v4 + 48) = a1;
  v5 = v3 + v3 + a2;
  *(_WORD *)(v5 + 42) = a1;
  *(_DWORD *)(v5 + 44) = a1;
  *(_DWORD *)(v5 + 48) = a1;
  v6 = v3 + v5;
  *(_DWORD *)(v6 + 40) = a1;
  *(_DWORD *)(v6 + 44) = a1;
  *(_DWORD *)(v6 + 48) = a1;
  *(_WORD *)(v6 + 52) = a1;
  v7 = v3 + v6;
  *(_WORD *)(v7 + 38) = a1;
  *(_DWORD *)(v7 + 40) = a1;
  *(_DWORD *)(v7 + 44) = a1;
  *(_DWORD *)(v7 + 48) = a1;
  *(_DWORD *)(v7 + 52) = a1;
  v8 = v3 + v7;
  *(_DWORD *)(v8 + 36) = a1;
  *(_DWORD *)(v8 + 40) = a1;
  *(_DWORD *)(v8 + 44) = a1;
  *(_DWORD *)(v8 + 48) = a1;
  *(_DWORD *)(v8 + 52) = a1;
  *(_WORD *)(v8 + 56) = a1;
  v9 = v3 + v8;
  *(_WORD *)(v9 + 34) = a1;
  *(_DWORD *)(v9 + 36) = a1;
  *(_DWORD *)(v9 + 40) = a1;
  *(_DWORD *)(v9 + 44) = a1;
  *(_DWORD *)(v9 + 48) = a1;
  *(_DWORD *)(v9 + 52) = a1;
  *(_DWORD *)(v9 + 56) = a1;
  v10 = v3 + v9;
  *(_DWORD *)(v10 + 32) = a1;
  *(_DWORD *)(v10 + 36) = a1;
  *(_DWORD *)(v10 + 40) = a1;
  *(_DWORD *)(v10 + 44) = a1;
  *(_DWORD *)(v10 + 48) = a1;
  *(_DWORD *)(v10 + 52) = a1;
  *(_DWORD *)(v10 + 56) = a1;
  *(_WORD *)(v10 + 60) = a1;
  v11 = v3 + v10;
  *(_WORD *)(v11 + 30) = a1;
  *(_DWORD *)(v11 + 32) = a1;
  *(_DWORD *)(v11 + 36) = a1;
  *(_DWORD *)(v11 + 40) = a1;
  *(_DWORD *)(v11 + 44) = a1;
  *(_DWORD *)(v11 + 48) = a1;
  *(_DWORD *)(v11 + 52) = a1;
  *(_DWORD *)(v11 + 56) = a1;
  *(_DWORD *)(v11 + 60) = a1;
  v12 = v3 + v11;
  *(_DWORD *)(v12 + 28) = a1;
  *(_DWORD *)(v12 + 32) = a1;
  *(_DWORD *)(v12 + 36) = a1;
  *(_DWORD *)(v12 + 40) = a1;
  *(_DWORD *)(v12 + 44) = a1;
  *(_DWORD *)(v12 + 48) = a1;
  *(_DWORD *)(v12 + 52) = a1;
  *(_DWORD *)(v12 + 56) = a1;
  *(_DWORD *)(v12 + 60) = a1;
  *(_WORD *)(v12 + 64) = a1;
  v13 = v3 + v12;
  *(_WORD *)(v13 + 26) = a1;
  *(_DWORD *)(v13 + 28) = a1;
  *(_DWORD *)(v13 + 32) = a1;
  *(_DWORD *)(v13 + 36) = a1;
  *(_DWORD *)(v13 + 40) = a1;
  *(_DWORD *)(v13 + 44) = a1;
  *(_DWORD *)(v13 + 48) = a1;
  *(_DWORD *)(v13 + 52) = a1;
  *(_DWORD *)(v13 + 56) = a1;
  *(_DWORD *)(v13 + 60) = a1;
  *(_DWORD *)(v13 + 64) = a1;
  v14 = v3 + v13;
  *(_DWORD *)(v14 + 24) = a1;
  *(_DWORD *)(v14 + 28) = a1;
  *(_DWORD *)(v14 + 32) = a1;
  *(_DWORD *)(v14 + 36) = a1;
  *(_DWORD *)(v14 + 40) = a1;
  *(_DWORD *)(v14 + 44) = a1;
  *(_DWORD *)(v14 + 48) = a1;
  *(_DWORD *)(v14 + 52) = a1;
  *(_DWORD *)(v14 + 56) = a1;
  *(_DWORD *)(v14 + 60) = a1;
  *(_DWORD *)(v14 + 64) = a1;
  *(_WORD *)(v14 + 68) = a1;
  v15 = v3 + v14;
  *(_WORD *)(v15 + 22) = a1;
  *(_DWORD *)(v15 + 24) = a1;
  *(_DWORD *)(v15 + 28) = a1;
  *(_DWORD *)(v15 + 32) = a1;
  *(_DWORD *)(v15 + 36) = a1;
  *(_DWORD *)(v15 + 40) = a1;
  *(_DWORD *)(v15 + 44) = a1;
  *(_DWORD *)(v15 + 48) = a1;
  *(_DWORD *)(v15 + 52) = a1;
  *(_DWORD *)(v15 + 56) = a1;
  *(_DWORD *)(v15 + 60) = a1;
  *(_DWORD *)(v15 + 64) = a1;
  *(_DWORD *)(v15 + 68) = a1;
  v16 = v3 + v15;
  *(_DWORD *)(v16 + 20) = a1;
  *(_DWORD *)(v16 + 24) = a1;
  *(_DWORD *)(v16 + 28) = a1;
  *(_DWORD *)(v16 + 32) = a1;
  *(_DWORD *)(v16 + 36) = a1;
  *(_DWORD *)(v16 + 40) = a1;
  *(_DWORD *)(v16 + 44) = a1;
  *(_DWORD *)(v16 + 48) = a1;
  *(_DWORD *)(v16 + 52) = a1;
  *(_DWORD *)(v16 + 56) = a1;
  *(_DWORD *)(v16 + 60) = a1;
  *(_DWORD *)(v16 + 64) = a1;
  *(_DWORD *)(v16 + 68) = a1;
  *(_WORD *)(v16 + 72) = a1;
  v17 = v3 + v16;
  *(_WORD *)(v17 + 18) = a1;
  *(_DWORD *)(v17 + 20) = a1;
  *(_DWORD *)(v17 + 24) = a1;
  *(_DWORD *)(v17 + 28) = a1;
  *(_DWORD *)(v17 + 32) = a1;
  *(_DWORD *)(v17 + 36) = a1;
  *(_DWORD *)(v17 + 40) = a1;
  *(_DWORD *)(v17 + 44) = a1;
  *(_DWORD *)(v17 + 48) = a1;
  *(_DWORD *)(v17 + 52) = a1;
  *(_DWORD *)(v17 + 56) = a1;
  *(_DWORD *)(v17 + 60) = a1;
  *(_DWORD *)(v17 + 64) = a1;
  *(_DWORD *)(v17 + 68) = a1;
  *(_DWORD *)(v17 + 72) = a1;
  v18 = v3 + v17;
  *(_DWORD *)(v18 + 16) = a1;
  *(_DWORD *)(v18 + 20) = a1;
  *(_DWORD *)(v18 + 24) = a1;
  *(_DWORD *)(v18 + 28) = a1;
  *(_DWORD *)(v18 + 32) = a1;
  *(_DWORD *)(v18 + 36) = a1;
  *(_DWORD *)(v18 + 40) = a1;
  *(_DWORD *)(v18 + 44) = a1;
  *(_DWORD *)(v18 + 48) = a1;
  *(_DWORD *)(v18 + 52) = a1;
  *(_DWORD *)(v18 + 56) = a1;
  *(_DWORD *)(v18 + 60) = a1;
  *(_DWORD *)(v18 + 64) = a1;
  *(_DWORD *)(v18 + 68) = a1;
  *(_DWORD *)(v18 + 72) = a1;
  *(_WORD *)(v18 + 76) = a1;
  v19 = v3 + v18;
  *(_WORD *)(v19 + 14) = a1;
  *(_DWORD *)(v19 + 16) = a1;
  *(_DWORD *)(v19 + 20) = a1;
  *(_DWORD *)(v19 + 24) = a1;
  *(_DWORD *)(v19 + 28) = a1;
  *(_DWORD *)(v19 + 32) = a1;
  *(_DWORD *)(v19 + 36) = a1;
  *(_DWORD *)(v19 + 40) = a1;
  *(_DWORD *)(v19 + 44) = a1;
  *(_DWORD *)(v19 + 48) = a1;
  *(_DWORD *)(v19 + 52) = a1;
  *(_DWORD *)(v19 + 56) = a1;
  *(_DWORD *)(v19 + 60) = a1;
  *(_DWORD *)(v19 + 64) = a1;
  *(_DWORD *)(v19 + 68) = a1;
  *(_DWORD *)(v19 + 72) = a1;
  *(_DWORD *)(v19 + 76) = a1;
  v20 = v3 + v19;
  *(_DWORD *)(v20 + 12) = a1;
  *(_DWORD *)(v20 + 16) = a1;
  *(_DWORD *)(v20 + 20) = a1;
  *(_DWORD *)(v20 + 24) = a1;
  *(_DWORD *)(v20 + 28) = a1;
  *(_DWORD *)(v20 + 32) = a1;
  *(_DWORD *)(v20 + 36) = a1;
  *(_DWORD *)(v20 + 40) = a1;
  *(_DWORD *)(v20 + 44) = a1;
  *(_DWORD *)(v20 + 48) = a1;
  *(_DWORD *)(v20 + 52) = a1;
  *(_DWORD *)(v20 + 56) = a1;
  *(_DWORD *)(v20 + 60) = a1;
  *(_DWORD *)(v20 + 64) = a1;
  *(_DWORD *)(v20 + 68) = a1;
  *(_DWORD *)(v20 + 72) = a1;
  *(_DWORD *)(v20 + 76) = a1;
  *(_WORD *)(v20 + 80) = a1;
  v21 = v3 + v20;
  *(_WORD *)(v21 + 10) = a1;
  *(_DWORD *)(v21 + 12) = a1;
  *(_DWORD *)(v21 + 16) = a1;
  *(_DWORD *)(v21 + 20) = a1;
  *(_DWORD *)(v21 + 24) = a1;
  *(_DWORD *)(v21 + 28) = a1;
  *(_DWORD *)(v21 + 32) = a1;
  *(_DWORD *)(v21 + 36) = a1;
  *(_DWORD *)(v21 + 40) = a1;
  *(_DWORD *)(v21 + 44) = a1;
  *(_DWORD *)(v21 + 48) = a1;
  *(_DWORD *)(v21 + 52) = a1;
  *(_DWORD *)(v21 + 56) = a1;
  *(_DWORD *)(v21 + 60) = a1;
  *(_DWORD *)(v21 + 64) = a1;
  *(_DWORD *)(v21 + 68) = a1;
  *(_DWORD *)(v21 + 72) = a1;
  *(_DWORD *)(v21 + 76) = a1;
  *(_DWORD *)(v21 + 80) = a1;
  v22 = v3 + v21;
  *(_DWORD *)(v22 + 8) = a1;
  *(_DWORD *)(v22 + 12) = a1;
  *(_DWORD *)(v22 + 16) = a1;
  *(_DWORD *)(v22 + 20) = a1;
  *(_DWORD *)(v22 + 24) = a1;
  *(_DWORD *)(v22 + 28) = a1;
  *(_DWORD *)(v22 + 32) = a1;
  *(_DWORD *)(v22 + 36) = a1;
  *(_DWORD *)(v22 + 40) = a1;
  *(_DWORD *)(v22 + 44) = a1;
  *(_DWORD *)(v22 + 48) = a1;
  *(_DWORD *)(v22 + 52) = a1;
  *(_DWORD *)(v22 + 56) = a1;
  *(_DWORD *)(v22 + 60) = a1;
  *(_DWORD *)(v22 + 64) = a1;
  *(_DWORD *)(v22 + 68) = a1;
  *(_DWORD *)(v22 + 72) = a1;
  *(_DWORD *)(v22 + 76) = a1;
  *(_DWORD *)(v22 + 80) = a1;
  *(_WORD *)(v22 + 84) = a1;
  v23 = v3 + v22;
  *(_WORD *)(v23 + 6) = a1;
  *(_DWORD *)(v23 + 8) = a1;
  *(_DWORD *)(v23 + 12) = a1;
  *(_DWORD *)(v23 + 16) = a1;
  *(_DWORD *)(v23 + 20) = a1;
  *(_DWORD *)(v23 + 24) = a1;
  *(_DWORD *)(v23 + 28) = a1;
  *(_DWORD *)(v23 + 32) = a1;
  *(_DWORD *)(v23 + 36) = a1;
  *(_DWORD *)(v23 + 40) = a1;
  *(_DWORD *)(v23 + 44) = a1;
  *(_DWORD *)(v23 + 48) = a1;
  *(_DWORD *)(v23 + 52) = a1;
  *(_DWORD *)(v23 + 56) = a1;
  *(_DWORD *)(v23 + 60) = a1;
  *(_DWORD *)(v23 + 64) = a1;
  *(_DWORD *)(v23 + 68) = a1;
  *(_DWORD *)(v23 + 72) = a1;
  *(_DWORD *)(v23 + 76) = a1;
  *(_DWORD *)(v23 + 80) = a1;
  *(_DWORD *)(v23 + 84) = a1;
  v24 = v3 + v23;
  *(_DWORD *)(v24 + 4) = a1;
  *(_DWORD *)(v24 + 8) = a1;
  *(_DWORD *)(v24 + 12) = a1;
  *(_DWORD *)(v24 + 16) = a1;
  *(_DWORD *)(v24 + 20) = a1;
  *(_DWORD *)(v24 + 24) = a1;
  *(_DWORD *)(v24 + 28) = a1;
  *(_DWORD *)(v24 + 32) = a1;
  *(_DWORD *)(v24 + 36) = a1;
  *(_DWORD *)(v24 + 40) = a1;
  *(_DWORD *)(v24 + 44) = a1;
  *(_DWORD *)(v24 + 48) = a1;
  *(_DWORD *)(v24 + 52) = a1;
  *(_DWORD *)(v24 + 56) = a1;
  *(_DWORD *)(v24 + 60) = a1;
  *(_DWORD *)(v24 + 64) = a1;
  *(_DWORD *)(v24 + 68) = a1;
  *(_DWORD *)(v24 + 72) = a1;
  *(_DWORD *)(v24 + 76) = a1;
  *(_DWORD *)(v24 + 80) = a1;
  *(_DWORD *)(v24 + 84) = a1;
  *(_WORD *)(v24 + 88) = a1;
  v25 = v3 + v24;
  *(_WORD *)(v25 + 2) = a1;
  *(_DWORD *)(v25 + 4) = a1;
  *(_DWORD *)(v25 + 8) = a1;
  *(_DWORD *)(v25 + 12) = a1;
  *(_DWORD *)(v25 + 16) = a1;
  *(_DWORD *)(v25 + 20) = a1;
  *(_DWORD *)(v25 + 24) = a1;
  *(_DWORD *)(v25 + 28) = a1;
  *(_DWORD *)(v25 + 32) = a1;
  *(_DWORD *)(v25 + 36) = a1;
  *(_DWORD *)(v25 + 40) = a1;
  *(_DWORD *)(v25 + 44) = a1;
  *(_DWORD *)(v25 + 48) = a1;
  *(_DWORD *)(v25 + 52) = a1;
  *(_DWORD *)(v25 + 56) = a1;
  *(_DWORD *)(v25 + 60) = a1;
  *(_DWORD *)(v25 + 64) = a1;
  *(_DWORD *)(v25 + 68) = a1;
  *(_DWORD *)(v25 + 72) = a1;
  *(_DWORD *)(v25 + 76) = a1;
  *(_DWORD *)(v25 + 80) = a1;
  *(_DWORD *)(v25 + 84) = a1;
  *(_DWORD *)(v25 + 88) = a1;
  v26 = v3 + v25;
  *(_WORD *)(v26 + 2) = a1;
  *(_DWORD *)(v26 + 4) = a1;
  *(_DWORD *)(v26 + 8) = a1;
  *(_DWORD *)(v26 + 12) = a1;
  *(_DWORD *)(v26 + 16) = a1;
  *(_DWORD *)(v26 + 20) = a1;
  *(_DWORD *)(v26 + 24) = a1;
  *(_DWORD *)(v26 + 28) = a1;
  *(_DWORD *)(v26 + 32) = a1;
  *(_DWORD *)(v26 + 36) = a1;
  *(_DWORD *)(v26 + 40) = a1;
  *(_DWORD *)(v26 + 44) = a1;
  *(_DWORD *)(v26 + 48) = a1;
  *(_DWORD *)(v26 + 52) = a1;
  *(_DWORD *)(v26 + 56) = a1;
  *(_DWORD *)(v26 + 60) = a1;
  *(_DWORD *)(v26 + 64) = a1;
  *(_DWORD *)(v26 + 68) = a1;
  *(_DWORD *)(v26 + 72) = a1;
  *(_DWORD *)(v26 + 76) = a1;
  *(_DWORD *)(v26 + 80) = a1;
  *(_DWORD *)(v26 + 84) = a1;
  *(_DWORD *)(v26 + 88) = a1;
  v27 = v3 + v26;
  *(_DWORD *)(v27 + 4) = a1;
  *(_DWORD *)(v27 + 8) = a1;
  *(_DWORD *)(v27 + 12) = a1;
  *(_DWORD *)(v27 + 16) = a1;
  *(_DWORD *)(v27 + 20) = a1;
  *(_DWORD *)(v27 + 24) = a1;
  *(_DWORD *)(v27 + 28) = a1;
  *(_DWORD *)(v27 + 32) = a1;
  *(_DWORD *)(v27 + 36) = a1;
  *(_DWORD *)(v27 + 40) = a1;
  *(_DWORD *)(v27 + 44) = a1;
  *(_DWORD *)(v27 + 48) = a1;
  *(_DWORD *)(v27 + 52) = a1;
  *(_DWORD *)(v27 + 56) = a1;
  *(_DWORD *)(v27 + 60) = a1;
  *(_DWORD *)(v27 + 64) = a1;
  *(_DWORD *)(v27 + 68) = a1;
  *(_DWORD *)(v27 + 72) = a1;
  *(_DWORD *)(v27 + 76) = a1;
  *(_DWORD *)(v27 + 80) = a1;
  *(_DWORD *)(v27 + 84) = a1;
  *(_WORD *)(v27 + 88) = a1;
  v28 = v3 + v27;
  *(_WORD *)(v28 + 6) = a1;
  *(_DWORD *)(v28 + 8) = a1;
  *(_DWORD *)(v28 + 12) = a1;
  *(_DWORD *)(v28 + 16) = a1;
  *(_DWORD *)(v28 + 20) = a1;
  *(_DWORD *)(v28 + 24) = a1;
  *(_DWORD *)(v28 + 28) = a1;
  *(_DWORD *)(v28 + 32) = a1;
  *(_DWORD *)(v28 + 36) = a1;
  *(_DWORD *)(v28 + 40) = a1;
  *(_DWORD *)(v28 + 44) = a1;
  *(_DWORD *)(v28 + 48) = a1;
  *(_DWORD *)(v28 + 52) = a1;
  *(_DWORD *)(v28 + 56) = a1;
  *(_DWORD *)(v28 + 60) = a1;
  *(_DWORD *)(v28 + 64) = a1;
  *(_DWORD *)(v28 + 68) = a1;
  *(_DWORD *)(v28 + 72) = a1;
  *(_DWORD *)(v28 + 76) = a1;
  *(_DWORD *)(v28 + 80) = a1;
  *(_DWORD *)(v28 + 84) = a1;
  v29 = v3 + v28;
  *(_DWORD *)(v29 + 8) = a1;
  *(_DWORD *)(v29 + 12) = a1;
  *(_DWORD *)(v29 + 16) = a1;
  *(_DWORD *)(v29 + 20) = a1;
  *(_DWORD *)(v29 + 24) = a1;
  *(_DWORD *)(v29 + 28) = a1;
  *(_DWORD *)(v29 + 32) = a1;
  *(_DWORD *)(v29 + 36) = a1;
  *(_DWORD *)(v29 + 40) = a1;
  *(_DWORD *)(v29 + 44) = a1;
  *(_DWORD *)(v29 + 48) = a1;
  *(_DWORD *)(v29 + 52) = a1;
  *(_DWORD *)(v29 + 56) = a1;
  *(_DWORD *)(v29 + 60) = a1;
  *(_DWORD *)(v29 + 64) = a1;
  *(_DWORD *)(v29 + 68) = a1;
  *(_DWORD *)(v29 + 72) = a1;
  *(_DWORD *)(v29 + 76) = a1;
  *(_DWORD *)(v29 + 80) = a1;
  *(_WORD *)(v29 + 84) = a1;
  v30 = v3 + v29;
  *(_WORD *)(v30 + 10) = a1;
  *(_DWORD *)(v30 + 12) = a1;
  *(_DWORD *)(v30 + 16) = a1;
  *(_DWORD *)(v30 + 20) = a1;
  *(_DWORD *)(v30 + 24) = a1;
  *(_DWORD *)(v30 + 28) = a1;
  *(_DWORD *)(v30 + 32) = a1;
  *(_DWORD *)(v30 + 36) = a1;
  *(_DWORD *)(v30 + 40) = a1;
  *(_DWORD *)(v30 + 44) = a1;
  *(_DWORD *)(v30 + 48) = a1;
  *(_DWORD *)(v30 + 52) = a1;
  *(_DWORD *)(v30 + 56) = a1;
  *(_DWORD *)(v30 + 60) = a1;
  *(_DWORD *)(v30 + 64) = a1;
  *(_DWORD *)(v30 + 68) = a1;
  *(_DWORD *)(v30 + 72) = a1;
  *(_DWORD *)(v30 + 76) = a1;
  *(_DWORD *)(v30 + 80) = a1;
  v31 = v3 + v30;
  *(_DWORD *)(v31 + 12) = a1;
  *(_DWORD *)(v31 + 16) = a1;
  *(_DWORD *)(v31 + 20) = a1;
  *(_DWORD *)(v31 + 24) = a1;
  *(_DWORD *)(v31 + 28) = a1;
  *(_DWORD *)(v31 + 32) = a1;
  *(_DWORD *)(v31 + 36) = a1;
  *(_DWORD *)(v31 + 40) = a1;
  *(_DWORD *)(v31 + 44) = a1;
  *(_DWORD *)(v31 + 48) = a1;
  *(_DWORD *)(v31 + 52) = a1;
  *(_DWORD *)(v31 + 56) = a1;
  *(_DWORD *)(v31 + 60) = a1;
  *(_DWORD *)(v31 + 64) = a1;
  *(_DWORD *)(v31 + 68) = a1;
  *(_DWORD *)(v31 + 72) = a1;
  *(_DWORD *)(v31 + 76) = a1;
  *(_WORD *)(v31 + 80) = a1;
  v32 = v3 + v31;
  *(_WORD *)(v32 + 14) = a1;
  *(_DWORD *)(v32 + 16) = a1;
  *(_DWORD *)(v32 + 20) = a1;
  *(_DWORD *)(v32 + 24) = a1;
  *(_DWORD *)(v32 + 28) = a1;
  *(_DWORD *)(v32 + 32) = a1;
  *(_DWORD *)(v32 + 36) = a1;
  *(_DWORD *)(v32 + 40) = a1;
  *(_DWORD *)(v32 + 44) = a1;
  *(_DWORD *)(v32 + 48) = a1;
  *(_DWORD *)(v32 + 52) = a1;
  *(_DWORD *)(v32 + 56) = a1;
  *(_DWORD *)(v32 + 60) = a1;
  *(_DWORD *)(v32 + 64) = a1;
  *(_DWORD *)(v32 + 68) = a1;
  *(_DWORD *)(v32 + 72) = a1;
  *(_DWORD *)(v32 + 76) = a1;
  v33 = v3 + v32;
  *(_DWORD *)(v33 + 16) = a1;
  *(_DWORD *)(v33 + 20) = a1;
  *(_DWORD *)(v33 + 24) = a1;
  *(_DWORD *)(v33 + 28) = a1;
  *(_DWORD *)(v33 + 32) = a1;
  *(_DWORD *)(v33 + 36) = a1;
  *(_DWORD *)(v33 + 40) = a1;
  *(_DWORD *)(v33 + 44) = a1;
  *(_DWORD *)(v33 + 48) = a1;
  *(_DWORD *)(v33 + 52) = a1;
  *(_DWORD *)(v33 + 56) = a1;
  *(_DWORD *)(v33 + 60) = a1;
  *(_DWORD *)(v33 + 64) = a1;
  *(_DWORD *)(v33 + 68) = a1;
  *(_DWORD *)(v33 + 72) = a1;
  *(_WORD *)(v33 + 76) = a1;
  v34 = v3 + v33;
  *(_WORD *)(v34 + 18) = a1;
  *(_DWORD *)(v34 + 20) = a1;
  *(_DWORD *)(v34 + 24) = a1;
  *(_DWORD *)(v34 + 28) = a1;
  *(_DWORD *)(v34 + 32) = a1;
  *(_DWORD *)(v34 + 36) = a1;
  *(_DWORD *)(v34 + 40) = a1;
  *(_DWORD *)(v34 + 44) = a1;
  *(_DWORD *)(v34 + 48) = a1;
  *(_DWORD *)(v34 + 52) = a1;
  *(_DWORD *)(v34 + 56) = a1;
  *(_DWORD *)(v34 + 60) = a1;
  *(_DWORD *)(v34 + 64) = a1;
  *(_DWORD *)(v34 + 68) = a1;
  *(_DWORD *)(v34 + 72) = a1;
  v35 = v3 + v34;
  *(_DWORD *)(v35 + 20) = a1;
  *(_DWORD *)(v35 + 24) = a1;
  *(_DWORD *)(v35 + 28) = a1;
  *(_DWORD *)(v35 + 32) = a1;
  *(_DWORD *)(v35 + 36) = a1;
  *(_DWORD *)(v35 + 40) = a1;
  *(_DWORD *)(v35 + 44) = a1;
  *(_DWORD *)(v35 + 48) = a1;
  *(_DWORD *)(v35 + 52) = a1;
  *(_DWORD *)(v35 + 56) = a1;
  *(_DWORD *)(v35 + 60) = a1;
  *(_DWORD *)(v35 + 64) = a1;
  *(_DWORD *)(v35 + 68) = a1;
  *(_WORD *)(v35 + 72) = a1;
  v36 = v3 + v35;
  *(_WORD *)(v36 + 22) = a1;
  *(_DWORD *)(v36 + 24) = a1;
  *(_DWORD *)(v36 + 28) = a1;
  *(_DWORD *)(v36 + 32) = a1;
  *(_DWORD *)(v36 + 36) = a1;
  *(_DWORD *)(v36 + 40) = a1;
  *(_DWORD *)(v36 + 44) = a1;
  *(_DWORD *)(v36 + 48) = a1;
  *(_DWORD *)(v36 + 52) = a1;
  *(_DWORD *)(v36 + 56) = a1;
  *(_DWORD *)(v36 + 60) = a1;
  *(_DWORD *)(v36 + 64) = a1;
  *(_DWORD *)(v36 + 68) = a1;
  v37 = v3 + v36;
  *(_DWORD *)(v37 + 24) = a1;
  *(_DWORD *)(v37 + 28) = a1;
  *(_DWORD *)(v37 + 32) = a1;
  *(_DWORD *)(v37 + 36) = a1;
  *(_DWORD *)(v37 + 40) = a1;
  *(_DWORD *)(v37 + 44) = a1;
  *(_DWORD *)(v37 + 48) = a1;
  *(_DWORD *)(v37 + 52) = a1;
  *(_DWORD *)(v37 + 56) = a1;
  *(_DWORD *)(v37 + 60) = a1;
  *(_DWORD *)(v37 + 64) = a1;
  *(_WORD *)(v37 + 68) = a1;
  v38 = v3 + v37;
  *(_WORD *)(v38 + 26) = a1;
  *(_DWORD *)(v38 + 28) = a1;
  *(_DWORD *)(v38 + 32) = a1;
  *(_DWORD *)(v38 + 36) = a1;
  *(_DWORD *)(v38 + 40) = a1;
  *(_DWORD *)(v38 + 44) = a1;
  *(_DWORD *)(v38 + 48) = a1;
  *(_DWORD *)(v38 + 52) = a1;
  *(_DWORD *)(v38 + 56) = a1;
  *(_DWORD *)(v38 + 60) = a1;
  *(_DWORD *)(v38 + 64) = a1;
  v39 = v3 + v38;
  *(_DWORD *)(v39 + 28) = a1;
  *(_DWORD *)(v39 + 32) = a1;
  *(_DWORD *)(v39 + 36) = a1;
  *(_DWORD *)(v39 + 40) = a1;
  *(_DWORD *)(v39 + 44) = a1;
  *(_DWORD *)(v39 + 48) = a1;
  *(_DWORD *)(v39 + 52) = a1;
  *(_DWORD *)(v39 + 56) = a1;
  *(_DWORD *)(v39 + 60) = a1;
  *(_WORD *)(v39 + 64) = a1;
  v40 = v3 + v39;
  *(_WORD *)(v40 + 30) = a1;
  *(_DWORD *)(v40 + 32) = a1;
  *(_DWORD *)(v40 + 36) = a1;
  *(_DWORD *)(v40 + 40) = a1;
  *(_DWORD *)(v40 + 44) = a1;
  *(_DWORD *)(v40 + 48) = a1;
  *(_DWORD *)(v40 + 52) = a1;
  *(_DWORD *)(v40 + 56) = a1;
  *(_DWORD *)(v40 + 60) = a1;
  v41 = v3 + v40;
  *(_DWORD *)(v41 + 32) = a1;
  *(_DWORD *)(v41 + 36) = a1;
  *(_DWORD *)(v41 + 40) = a1;
  *(_DWORD *)(v41 + 44) = a1;
  *(_DWORD *)(v41 + 48) = a1;
  *(_DWORD *)(v41 + 52) = a1;
  *(_DWORD *)(v41 + 56) = a1;
  *(_WORD *)(v41 + 60) = a1;
  v42 = v3 + v41;
  *(_WORD *)(v42 + 34) = a1;
  *(_DWORD *)(v42 + 36) = a1;
  *(_DWORD *)(v42 + 40) = a1;
  *(_DWORD *)(v42 + 44) = a1;
  *(_DWORD *)(v42 + 48) = a1;
  *(_DWORD *)(v42 + 52) = a1;
  *(_DWORD *)(v42 + 56) = a1;
  v43 = v3 + v42;
  *(_DWORD *)(v43 + 36) = a1;
  *(_DWORD *)(v43 + 40) = a1;
  *(_DWORD *)(v43 + 44) = a1;
  *(_DWORD *)(v43 + 48) = a1;
  *(_DWORD *)(v43 + 52) = a1;
  *(_WORD *)(v43 + 56) = a1;
  v44 = v3 + v43;
  *(_WORD *)(v44 + 38) = a1;
  *(_DWORD *)(v44 + 40) = a1;
  *(_DWORD *)(v44 + 44) = a1;
  *(_DWORD *)(v44 + 48) = a1;
  *(_DWORD *)(v44 + 52) = a1;
  v45 = v3 + v44;
  *(_DWORD *)(v45 + 40) = a1;
  *(_DWORD *)(v45 + 44) = a1;
  *(_DWORD *)(v45 + 48) = a1;
  *(_WORD *)(v45 + 52) = a1;
  v46 = v3 + v45;
  *(_WORD *)(v46 + 42) = a1;
  *(_DWORD *)(v46 + 44) = a1;
  *(_DWORD *)(v46 + 48) = a1;
  v47 = v3 + v46;
  *(_DWORD *)(v47 + 44) = a1;
  *(_WORD *)(v47 + 48) = a1;
  *(_WORD *)(v3 + v47 + 46) = a1;
  return result;
}

//----- (00484B70) --------------------------------------------------------
__int16 __cdecl sub_484B70(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8)
{
  int v8; // eax

  v8 = sub_47D380(a7, a8);
  if ( v8 )
    LOWORD(v8) = sub_47D2C0(a1, a2, a3);
  return v8;
}

//----- (00484BA0) --------------------------------------------------------
void __cdecl sub_484BA0(float a1)
{
  if ( a1 >= 1.0 )
    *(float *)&byte_587000[154968] = a1;
  else
    *(_DWORD *)&byte_587000[154968] = 1065353216;
}

//----- (00484BD0) --------------------------------------------------------
double sub_484BD0()
{
  return *(float *)&byte_587000[154968];
}

//----- (00484BE0) --------------------------------------------------------
_DWORD *__cdecl sub_484BE0(_DWORD *a1, int a2, int a3, int a4)
{
  _DWORD *result; // eax

  result = a1;
  a1[4] = a2;
  *a1 = 2;
  a1[5] = a3;
  a1[6] = a4;
  return result;
}

//----- (00484C00) --------------------------------------------------------
__int64 __cdecl sub_484C00(int a1, int a2)
{
  __int64 result; // rax

  result = (__int64)((double)a2 * 0.0027777778 * *(double *)&byte_581450[9552] + *(double *)&byte_581450[9544]);
  *(_WORD *)(a1 + 28) = result;
  *(_DWORD *)(a1 + 32) = 0;
  return result;
}

//----- (00484C30) --------------------------------------------------------
__int64 __cdecl sub_484C30(int a1, int a2)
{
  __int64 result; // rax

  result = (__int64)((double)a2 * 0.0027777778 * *(double *)&byte_581450[9552] + *(double *)&byte_581450[9544]);
  *(_WORD *)(a1 + 30) = result;
  return result;
}

//----- (00484C60) --------------------------------------------------------
int __cdecl sub_484C60(float a1)
{
  double v2; // st7

  if ( a1 <= (double)*(float *)&byte_587000[154968] )
    return 0;
  if ( a1 <= 31.0 )
    v2 = a1;
  else
    v2 = 31.0;
  return sub_419B10(
           sqrt(
             ((*(float *)&byte_587000[154980] + v2) / (*(float *)&byte_587000[154980] + *(float *)&byte_587000[154968])
            + 1.0)
           * (a1
            * a1
            / (*(float *)&byte_587000[154976]
             * *(float *)&byte_587000[154972]))));
}

//----- (00484CE0) --------------------------------------------------------
int __cdecl sub_484CE0(int a1, float a2)
{
  int result; // eax

  if ( a2 > 63.0 )
    a2 = 63.0;
  *(float *)(a1 + 4) = a2;
  result = sub_484C60(a2);
  *(_DWORD *)(a1 + 8) = result;
  return result;
}

//----- (00484D20) --------------------------------------------------------
int __cdecl sub_484D20(int a1, float a2)
{
  int result; // eax

  if ( a2 > 63.0 )
    a2 = 63.0;
  *(_DWORD *)(a1 + 12) = (__int64)(a2 * *(double *)&byte_581450[9552] + *(double *)&byte_581450[9544]);
  result = sub_484C60(a2);
  *(_DWORD *)(a1 + 8) = result;
  return result;
}

//----- (00484D70) --------------------------------------------------------
int __cdecl sub_484D70(int a1, float a2)
{
  int result; // eax

  if ( a2 > 63.0 )
    a2 = 63.0;
  *(float *)(a1 + 4) = a2;
  *(_DWORD *)(a1 + 12) = (__int64)(a2 * *(double *)&byte_581450[9552] + *(double *)&byte_581450[9544]);
  result = sub_484C60(a2);
  *(_DWORD *)(a1 + 8) = result;
  return result;
}

//----- (00484DC0) --------------------------------------------------------
int __cdecl sub_484DC0(int2 *a1, int2 *a2, int *a3)
{
  int result; // eax
  int v4; // ecx
  int v5; // ebx
  int v6; // ecx
  int v7; // edi
  int v8; // ebx
  int *v9; // edx
  int v10; // ecx

  result = (a1->field_4 + 0x8000) >> 16;
  *a3 = result;
  v4 = ((a2->field_4 + 0x8000) >> 16) - result + 1;
  a3[1] = v4;
  if ( v4 > 0 )
  {
    v5 = a1->field_0;
    result = (a2->field_0 - a1->field_0) / v4;
    v6 = *a3 + v4;
    if ( (int)*a3 < 0 )
    {
      a3[1] = v6;
      *a3 = 0;
    }
    if ( v6 > 44 )
    {
      a3[1] += 44 - v6;
      v6 = 44;
    }
    v7 = *a3;
    if ( (int)*a3 < v6 )
    {
      v8 = v5 + 0x8000;
      v9 = &a3[v7 + 2];
      v10 = v6 - v7;
      do
      {
        *v9 = v8 >> 16;
        if ( v8 >> 16 < 0 )
          *v9 = 0;
        if ( *v9 >= 56 )
          *v9 = 55;
        v8 += result;
        ++v9;
        --v10;
      }
      while ( v10 );
    }
  }
  return result;
}

//----- (00484E60) --------------------------------------------------------
void __cdecl sub_484E60(int a1)
{
  _DWORD *v1; // esi
  unsigned __int8 v2; // al
  int v3; // edx
  int v4; // eax
  int v5; // eax
  int v6; // ecx
  int v7; // edx
  int v8; // [esp+8h] [ebp-18h]
  int v9; // [esp+Ch] [ebp-14h]
  int4 v10; // [esp+10h] [ebp-10h]

  v1 = (_DWORD *)a1;
  *(_DWORD *)&byte_5D4594[2650676] = 46 * ((*(_DWORD *)(a1 + 16) + 11) / 46 - 1) - 11;
  *(_DWORD *)&byte_5D4594[2650680] = 46 * ((*(_DWORD *)(a1 + 20) + 11) / 46) - 57;
  if ( byte_5D4594[2650637] & 8 )
  {
    memset(&byte_5D4594[2616332], 0x1Fu, 0xA04u);
    byte_5D4594[2618896] = 31;
  }
  else
  {
    if ( sub_57AF20() )
    {
      v8 = 50;
      a1 = 50;
      v9 = 50;
    }
    else
    {
      sub_434A10(&v9, &v8, &a1);
    }
    v2 = sub_434AA0(v9, v8, a1);
    LOBYTE(v3) = v2 >> 3;
    BYTE1(v3) = v2 >> 3;
    v4 = v3 << 16;
    LOWORD(v4) = v3;
    memset32(&byte_5D4594[2616332], v4, 0x281u);
    byte_5D4594[2618896] = v3;
    v5 = v1[4];
    v10.field_0 = v5 - 100;
    v6 = v1[5];
    v10.field_4 = v6 - 100;
    v7 = v1[9];
    v10.field_8 = v1[8] + v5 + 100;
    v10.field_C = v7 + v6 + 100;
    sub_49AB00(&v10, (void (__cdecl *)(int, int))sub_484F90, (int)v1);
  }
}
// 484F48: variable 'v3' is possibly undefined

//----- (00484F90) --------------------------------------------------------
void __cdecl sub_484F90(int a1)
{
  int v1; // ebx
  int v2; // eax
  double v3; // st7
  int v4; // ecx
  int v5; // edx
  int v6; // eax
  int v7; // ecx
  int v8; // ebp
  int v9; // edi
  int v10; // esi
  int v11; // eax
  int v12; // ecx
  int v13; // edx
  int v14; // esi
  double v15; // st7
  unsigned __int8 *v16; // ebp
  int v17; // edi
  double v18; // st6
  double v19; // st5
  double v20; // st6
  double v21; // st6
  int v22; // edi
  int v23; // esi
  int v24; // eax
  int v25; // ebp
  int v26; // eax
  int v27; // ebx
  float v28; // [esp+0h] [ebp-50h]
  float v29; // [esp+0h] [ebp-50h]
  float v30; // [esp+0h] [ebp-50h]
  float v31; // [esp+0h] [ebp-50h]
  float a5; // [esp+14h] [ebp-3Ch]
  int a5a; // [esp+14h] [ebp-3Ch]
  int v34; // [esp+18h] [ebp-38h]
  int2 v35; // [esp+1Ch] [ebp-34h]
  int2 a3; // [esp+24h] [ebp-2Ch]
  float v37; // [esp+2Ch] [ebp-24h]
  float v38; // [esp+30h] [ebp-20h]
  float v39; // [esp+34h] [ebp-1Ch]
  int2 a1a; // [esp+38h] [ebp-18h]
  int a4; // [esp+40h] [ebp-10h]
  int v42; // [esp+44h] [ebp-Ch]
  int2 a2; // [esp+48h] [ebp-8h]
  int v44; // [esp+54h] [ebp+4h]
  int v45; // [esp+54h] [ebp+4h]

  v1 = a1;
  if ( sub_45A840((_DWORD *)a1)
    || *(_DWORD *)(a1 + 112) & 0x80000
    && (v2 = *(_DWORD *)(a1 + 120), v2 & 0x1000000)
    && v2 & 4
    && *(_DWORD *)(a1 + 144) > 0 )
  {
    if ( !sub_57AF20()
      || a1 == *(_DWORD *)&byte_5D4594[2614252]
      || *(int (__cdecl **)(int *, int))(a1 + 300) == sub_4B6B60 )
    {
      if ( *(_DWORD *)(a1 + 120) & 0x20000000 && *(_DWORD *)&byte_5D4594[3801780] == 1 )
      {
        a5 = sub_416090(0.89999998, 1.1) * *(float *)(a1 + 140);
        v3 = (double)sub_484C60(a5);
      }
      else
      {
        v3 = (double)*(int *)(a1 + 144);
        a5 = *(float *)(a1 + 140);
      }
      *(float *)&v44 = v3;
      if ( a5 > (double)*(float *)&byte_587000[154968] )
      {
        if ( a5 <= 31.0 )
          v37 = a5;
        else
          v37 = 31.0;
        v4 = *(_DWORD *)(v1 + 16);
        v5 = *(_DWORD *)(v1 + 168);
        v6 = *(_DWORD *)(v1 + 12) - *(_DWORD *)&byte_5D4594[2650676];
        v39 = a5 * a5;
        v7 = v4 - *(_DWORD *)&byte_5D4594[2650680];
        a4 = v6;
        v42 = v7;
        if ( v5 == 0xFFFF )
        {
          v38 = *(float *)&v44 * *(float *)&v44;
          v28 = ((double)a4 - *(float *)&v44) * 0.043478262 + 0.5;
          v8 = sub_419A70(v28);
          a5a = v8;
          if ( v8 < 0 )
          {
            a5a = 0;
            v8 = 0;
          }
          v29 = ((double)a4 + *(float *)&v44) * 0.043478262 + 0.5;
          v9 = sub_419A70(v29);
          v34 = v9;
          if ( v9 > 56 )
          {
            v34 = 56;
            v9 = 56;
          }
          v30 = ((double)v42 - *(float *)&v44) * 0.043478262 + 0.5;
          v10 = sub_419A70(v30);
          if ( v10 < 0 )
            v10 = 0;
          v31 = ((double)v42 + *(float *)&v44) * 0.043478262 + 0.5;
          v11 = sub_419A70(v31);
          v35.field_0 = v11;
          if ( v11 > 44 )
          {
            v35.field_0 = 44;
            v11 = 44;
          }
          a3.field_0 = v10;
          v12 = 23 * v10;
          a2.field_4 = 23 * v10;
          if ( v10 <= v11 )
          {
            v13 = 23 * v8;
            a1a.field_0 = 23 * v8;
            do
            {
              if ( v8 <= v9 )
              {
                v14 = a4 - v13;
                v45 = a4 - v13;
                v15 = (double)(v42 - v12) * (double)(v42 - v12);
                v16 = &byte_5D4594[40 * v8 + 2616332 + 5 * v8 + a3.field_0];
                v17 = v9 - a5a + 1;
                do
                {
                  v18 = (double)v45 * (double)v45 + v15;
                  if ( v18 <= v38 )
                  {
                    v19 = (*(float *)&byte_587000[154996] + v37)
                        / (*(float *)&byte_587000[154992] * *(float *)&byte_587000[154972] * v18 / v39 + 1.0);
                    if ( v19 > *(float *)&byte_587000[154996] )
                    {
                      v20 = v19 - *(float *)&byte_587000[154996];
                      if ( *(_DWORD *)(v1 + 172) )
                        v21 = (double)*v16 - v20;
                      else
                        v21 = v20 + (double)*v16;
                      if ( v21 >= 0.0 )
                      {
                        if ( v21 > 31.0 )
                          v21 = 31.0;
                      }
                      else
                      {
                        v21 = 0.0;
                      }
                      v12 = a2.field_4;
                      v13 = a1a.field_0;
                      v14 -= 23;
                      *v16 = (__int64)v21;
                      v45 = v14;
                    }
                    else
                    {
                      v14 -= 23;
                      v45 = v14;
                    }
                  }
                  else
                  {
                    v14 -= 23;
                    v45 = v14;
                  }
                  v16 += 45;
                  --v17;
                }
                while ( v17 );
                v8 = a5a;
                v9 = v34;
                v11 = v35.field_0;
              }
              v12 += 23;
              a2.field_4 = v12;
              ++a3.field_0;
            }
            while ( a3.field_0 <= v11 );
          }
        }
        else
        {
          a1a.field_0 = (v6 << 16) / 23;
          a1a.field_4 = (v7 << 16) / 23;
          v22 = (int)((__int64)*(float *)&v44 << 16) / 23;
          v23 = sub_4C1C60(
                  v22,
                  16 * *(_DWORD *)&byte_5D4594[4 * ((unsigned __int16)(*(_WORD *)(v1 + 164) + 0x4000) >> 4) + 2661964]);
          v24 = sub_4C1C60(v22, 16 * *(_DWORD *)&byte_5D4594[4 * (*(unsigned __int16 *)(v1 + 164) >> 4) + 2661964]);
          a3.field_0 = a1a.field_0 + v23;
          LOWORD(v23) = *(_WORD *)(v1 + 164) + *(_WORD *)(v1 + 166);
          a3.field_4 = a1a.field_4 + v24;
          v25 = sub_4C1C60(v22, 16 * *(_DWORD *)&byte_5D4594[4 * ((unsigned __int16)(v23 + 0x4000) >> 4) + 2661964]);
          v26 = sub_4C1C60(v22, 16 * *(_DWORD *)&byte_5D4594[4 * ((unsigned __int16)v23 >> 4) + 2661964]);
          LOWORD(v23) = *(_WORD *)(v1 + 164) - *(_WORD *)(v1 + 166);
          a2.field_4 = a1a.field_4 + v26;
          a2.field_0 = a1a.field_0 + v25;
          v27 = sub_4C1C60(v22, 16 * *(_DWORD *)&byte_5D4594[4 * ((unsigned __int16)(v23 + 0x4000) >> 4) + 2661964]);
          v35.field_4 = a1a.field_4
                      + sub_4C1C60(v22, 16 * *(_DWORD *)&byte_5D4594[4 * ((unsigned __int16)v23 >> 4) + 2661964]);
          v35.field_0 = a1a.field_0 + v27;
          sub_4854D0(&a1a, &a2, &a3, (int)&a4, a5);
          sub_4854D0(&a1a, &a3, &v35, (int)&a4, a5);
        }
      }
    }
  }
}

//----- (004854D0) --------------------------------------------------------
int __cdecl sub_4854D0(int2 *a1, int2 *a2, int2 *a3, int a4, float a5)
{
  int v5; // edx
  int v6; // edi
  int2 *v7; // edi
  int2 *v8; // ebx
  int2 *v9; // esi
  int result; // eax
  int v11; // ecx
  int v12[46]; // [esp+10h] [ebp-228h]
  int v13[46]; // [esp+C8h] [ebp-170h]
  int v14[46]; // [esp+180h] [ebp-B8h]

  v5 = a1->field_4;
  v6 = a2->field_4;
  if ( v5 > v6 )
  {
    v9 = a3;
    if ( v6 <= a3->field_4 )
    {
      v8 = a2;
      v7 = a1;
      goto LABEL_9;
    }
    v8 = a3;
  }
  else
  {
    v7 = a3;
    if ( v5 <= a3->field_4 )
    {
      v8 = a1;
      v9 = a2;
      goto LABEL_9;
    }
    v8 = a3;
  }
  v9 = a1;
  v7 = a2;
LABEL_9:
  sub_484DC0(v8, v9, v14);
  sub_484DC0(v8, v7, v13);
  sub_4855D0((int)v14, (int)v13, a4, a5);
  result = v9->field_4;
  v11 = v7->field_4;
  if ( result >= v11 )
  {
    if ( result > v11 )
    {
      sub_484DC0(v7, v9, v12);
      result = sub_4855D0((int)v14, (int)v12, a4, a5);
    }
  }
  else
  {
    sub_484DC0(v9, v7, v12);
    result = sub_4855D0((int)v12, (int)v13, a4, a5);
  }
  return result;
}

//----- (004855D0) --------------------------------------------------------
int __cdecl sub_4855D0(int a1, int a2, int a3, float a4)
{
  int v4; // edx
  int v5; // ecx
  int v6; // ebp
  int result; // eax
  double v8; // st7
  int v9; // ebx
  double v10; // st6
  _DWORD *v11; // edi
  int v12; // esi
  double v13; // st5
  double v14; // st4
  unsigned __int8 *v15; // ebx
  double v16; // st2
  double v17; // st2
  int v18; // [esp+1Ch] [ebp+8h]
  int v19; // [esp+24h] [ebp+10h]

  v4 = a2;
  v5 = *(_DWORD *)a1;
  v6 = *(_DWORD *)a1 + *(_DWORD *)(a1 + 4);
  if ( *(_DWORD *)a1 < *(int *)a2 )
    v5 = *(_DWORD *)a2;
  if ( v6 > *(int *)(a2 + 4) + *(_DWORD *)a2 )
    v6 = *(_DWORD *)(a2 + 4) + *(_DWORD *)a2;
  result = v6 - v5;
  if ( v6 - v5 > 1 )
  {
    v8 = a4 <= 31.0 ? a4 : 31.0;
    *(float *)&v18 = a4 * a4;
    result = 23 * v5 - *(_DWORD *)(a3 + 4);
    v9 = v5;
    v10 = (double)result;
    v19 = v5;
    if ( v5 < v6 )
    {
      v11 = (_DWORD *)(v4 + 4 * v5 + 8);
      result = a1 - v4;
      do
      {
        v12 = *(_DWORD *)((char *)v11 + result);
        v13 = (double)(int)(23 * v12 - *(_DWORD *)a3);
        if ( v12 < *v11 )
        {
          v14 = *(float *)&byte_587000[154988] + v8;
          v15 = &byte_5D4594[40 * v12 + 2616332 + 5 * v12 + v9];
          do
          {
            v16 = v14
                / ((v13 * v13 + v10 * v10)
                 * *(float *)&byte_587000[154984]
                 * *(float *)&byte_587000[154972]
                 / *(float *)&v18
                 + 1.0);
            if ( v16 > *(float *)&byte_587000[154988] )
            {
              v17 = v16 - *(float *)&byte_587000[154988] + (double)*v15;
              if ( v17 > 31.0 )
                v17 = 31.0;
              *v15 = (__int64)v17;
            }
            ++v12;
            v13 = v13 + 23.0;
            v15 += 45;
          }
          while ( v12 < *v11 );
          v9 = v19;
          result = a1 - v4;
        }
        v10 = v10 + 23.0;
        ++v9;
        ++v11;
        v19 = v9;
      }
      while ( v9 < v6 );
    }
  }
  return result;
}

//----- (00485740) --------------------------------------------------------
char *__cdecl sub_485740(_DWORD *a1)
{
  int v1; // ecx
  int v2; // esi
  int v3; // ebx
  int v4; // ebp
  int v5; // edi
  int v6; // esi
  int v7; // ebx
  int v8; // ecx
  char *result; // eax
  int v10; // [esp+10h] [ebp-4h]

  if ( byte_5D4594[2650637] & 8 )
    return (char *)&byte_587000[155000];
  v1 = *a1 - *(_DWORD *)&byte_5D4594[2650676];
  v2 = a1[1] - *(_DWORD *)&byte_5D4594[2650680];
  v3 = v1 / 23;
  v4 = v2 / 23;
  if ( v1 / 23 < 0 || v4 < 0 || v3 > 56 || v4 > 44 )
    return (char *)&byte_587000[155000];
  v5 = v1 % 23;
  v10 = v2 % 23;
  v6 = 5 * v3 + v4 + 40 * v3;
  v7 = byte_5D4594[v6 + 2616332];
  v8 = v1 % 23 * (byte_5D4594[v6 + 2616377] - v7);
  result = (char *)&byte_5D4594[1193164];
  *(_DWORD *)&byte_5D4594[1193172] = 8
                                   * (v7
                                    + v8 / 23
                                    + v10
                                    * (byte_5D4594[v6 + 2616333]
                                     + v5 * (byte_5D4594[v6 + 2616378] - byte_5D4594[v6 + 2616333]) / 23
                                     - (v7
                                      + v8 / 23))
                                    / 23);
  *(_DWORD *)&byte_5D4594[1193168] = *(_DWORD *)&byte_5D4594[1193172];
  *(_DWORD *)&byte_5D4594[1193164] = *(_DWORD *)&byte_5D4594[1193172];
  return result;
}

//----- (00485880) --------------------------------------------------------
signed int __cdecl sub_485880(_DWORD *a1, int *a2, int a3, signed int a4, char *a5)
{
  signed int result; // eax
  int v6; // esi
  int v7; // edi
  const void *v8; // edx
  char *v9; // esi
  int v10; // eax
  void *v11; // edi
  int v12; // ecx
  int v13; // ebx
  int v14; // edx
  int v15; // ebp
  int v16; // eax
  int v17; // esi
  int v18; // esi
  int v19; // ecx
  unsigned int v20; // [esp+10h] [ebp-Ch]
  int v21; // [esp+14h] [ebp-8h]
  int v22; // [esp+18h] [ebp-4h]
  signed int v23; // [esp+20h] [ebp+4h]

  result = *(_DWORD *)&byte_5D4594[3798820];
  v6 = a1[1] - *(_DWORD *)&byte_5D4594[3798824];
  v7 = *a1 - *(_DWORD *)&byte_5D4594[3798820];
  if ( v7 >= 0 && v6 >= 0 && v7 < *(int *)&byte_5D4594[3798800] && v6 < *(int *)&byte_5D4594[3798808] )
  {
    v8 = *(const void **)&byte_5D4594[3798796];
    result = *(_DWORD *)&byte_5D4594[3798844];
    v9 = (char *)(v7
                + *(_DWORD *)&byte_5D4594[3798796]
                + *(_DWORD *)&byte_5D4594[3798836]
                + *(_DWORD *)&byte_5D4594[3798804] * (*(_DWORD *)&byte_5D4594[3798840] + v6));
    v21 = *(_DWORD *)&byte_5D4594[3798796];
    v20 = *(_DWORD *)&byte_5D4594[3798844];
    v22 = *(_DWORD *)&byte_5D4594[3798844] - *(_DWORD *)&byte_5D4594[3798796];
    *(_DWORD *)&byte_5D4594[1193184] = v9;
    *(_DWORD *)&byte_5D4594[1193180] = a5;
    if ( (unsigned int)v9 >= *(int *)&byte_5D4594[3798844] )
    {
      v9 -= *(_DWORD *)&byte_5D4594[3798844] - *(_DWORD *)&byte_5D4594[3798796];
      *(_DWORD *)&byte_5D4594[1193184] = v9;
    }
    if ( byte_5D4594[2650637] & 8 )
    {
      if ( (unsigned int)&v9[a4] < *(int *)&byte_5D4594[3798844] )
      {
        qmemcpy(a5, v9, a4);
      }
      else
      {
        v10 = *(_DWORD *)&byte_5D4594[3798844] - (_DWORD)v9;
        qmemcpy(a5, v9, *(_DWORD *)&byte_5D4594[3798844] - (_DWORD)v9);
        v11 = (void *)(*(_DWORD *)&byte_5D4594[1193180] + v10);
        result = a4 - v10;
        qmemcpy(v11, v8, result);
      }
    }
    else
    {
      v12 = *a1 - 23 * *a2 - *(_DWORD *)&byte_5D4594[2650676];
      v13 = 12 * a3;
      v14 = *(_DWORD *)&byte_5D4594[280 * *a2 + 2598288 + 12 * a3];
      *(_DWORD *)&byte_5D4594[1193176] = v14;
      v15 = *(_DWORD *)&byte_5D4594[4 * ((*(int *)&byte_5D4594[280 * *a2 + 2598568 + 12 * a3] - v14) >> 8) + 2615304];
      if ( v12 <= 0 )
      {
        v23 = 23;
        v16 = 23;
      }
      else
      {
        v16 = 23 - v12;
        *(_DWORD *)&byte_5D4594[1193176] = v12 * v15 + v14;
        v23 = 23 - v12;
      }
      if ( v16 <= a4 )
        goto LABEL_18;
      v23 = a4;
      while ( 1 )
      {
        v16 = v23;
LABEL_18:
        if ( (unsigned int)&v9[v16] <= v20 )
        {
          sub_485AE0(v16, v15);
        }
        else
        {
          v17 = (int)&v9[v16 - v20];
          sub_485AE0(v17, v15);
          *(_DWORD *)&byte_5D4594[1193184] = v21;
          sub_485AE0(v23 - v17, v15);
        }
        if ( *(int *)&byte_5D4594[1193184] >= v20 )
          *(_DWORD *)&byte_5D4594[1193184] -= v22;
        result = a4 - v23;
        a4 -= v23;
        if ( a4 <= 0 )
          break;
        v23 = 23;
        if ( result < 23 )
          v23 = result;
        v18 = *a2 + 1;
        v19 = v18;
        *a2 = v18;
        v9 = *(char **)&byte_5D4594[1193184];
        *(_DWORD *)&byte_5D4594[1193176] = *(_DWORD *)&byte_5D4594[280 * v19 + 2598288 + v13];
        v15 = *(_DWORD *)&byte_5D4594[4
                                    * ((*(int *)&byte_5D4594[280 * *a2 + 2598568 + v13]
                                      - *(int *)&byte_5D4594[1193176]) >> 8)
                                    + 2615304];
      }
    }
  }
  return result;
}

//----- (00485AE0) --------------------------------------------------------
unsigned int __cdecl sub_485AE0(int a1, int a2)
{
  unsigned __int8 *v2; // esi
  int v3; // ecx
  _BYTE *v4; // edi
  int v5; // edx
  int v6; // eax
  unsigned int result; // eax
  bool v8; // cc

  v2 = *(unsigned __int8 **)&byte_5D4594[1193184];
  v3 = a1;
  v4 = (_BYTE *)(*(_DWORD *)&byte_5D4594[1193180] - 1);
  v5 = *(_DWORD *)&byte_5D4594[1193176];
  do
  {
    v6 = *v2++ << 13;
    ++v4;
    result = (unsigned int)(v5 + v6) >> 8;
    v5 += a2;
    v8 = v3-- <= 1;
    *v4 = byte_5D4594[result + 2589804];
  }
  while ( !v8 );
  *(_DWORD *)&byte_5D4594[1193176] = v5;
  *(_DWORD *)&byte_5D4594[1193184] = v2;
  *(_DWORD *)&byte_5D4594[1193180] = v4 + 1;
  return result;
}

//----- (00485B30) --------------------------------------------------------
int __cdecl sub_485B30(int a1, char *a2)
{
  int v2; // esi
  _BYTE *v3; // edi
  int v4; // eax
  int v5; // ebp
  const char *v6; // edx
  int v7; // ecx
  _BYTE *v9; // edx
  int v10; // edi
  int v11; // ebx
  int *v12; // eax
  int v13; // ecx
  char *v14; // eax
  char v15; // cl
  int v16; // [esp-4h] [ebp-40h]
  unsigned __int8 v17; // [esp+10h] [ebp-2Ch]
  int i; // [esp+10h] [ebp-2Ch]
  unsigned __int8 v19; // [esp+14h] [ebp-28h]
  int v20; // [esp+14h] [ebp-28h]
  const char *v21; // [esp+18h] [ebp-24h]
  char v22[32]; // [esp+1Ch] [ebp-20h]
  unsigned __int8 v23; // [esp+40h] [ebp+4h]

  v2 = a1;
  v16 = a1;
  v3 = (_BYTE *)(*(_DWORD *)(a1 + 8) + 4);
  *(_DWORD *)(a1 + 8) = v3;
  LOBYTE(a1) = *v3;
  *(_DWORD *)(v2 + 8) = v3 + 1;
  sub_40ACC0(v22, 1u, (unsigned __int8)a1, v16);
  v4 = *(_DWORD *)&byte_5D4594[251568];
  v5 = 0;
  v22[(unsigned __int8)a1] = 0;
  if ( v4 <= 0 )
  {
LABEL_5:
    v7 = a1;
  }
  else
  {
    v6 = (const char *)&byte_5D4594[2682188];
    while ( strcmp(v6, v22) )
    {
      ++v5;
      v6 += 60;
      if ( v5 >= *(int *)&byte_5D4594[251568] )
        goto LABEL_5;
    }
    v7 = v5;
  }
  if ( v5 == *(_DWORD *)&byte_5D4594[251568] )
    return 0;
  v9 = (_BYTE *)(*(_DWORD *)(v2 + 8) + 12);
  *(_DWORD *)(v2 + 8) = v9;
  LOBYTE(v21) = *v9;
  *(_DWORD *)(v2 + 8) = v9 + 1;
  v19 = v9[1];
  *(_DWORD *)(v2 + 8) = v9 + 2;
  v17 = v9[2];
  *(_DWORD *)(v2 + 8) = v9 + 4;
  v10 = (unsigned __int8)v21 * v19 * v17;
  v20 = 15 * v7;
  *(_DWORD *)&byte_5D4594[60 * v7 + 2682220] = malloc(4 * v10);
  v11 = 0;
  for ( i = 0; v11 < v10; *(_DWORD *)(*(_DWORD *)&byte_5D4594[4 * v20 + 2682220] + 4 * v11 - 4) = sub_42FAA0(
                                                                                                    v13,
                                                                                                    v21,
                                                                                                    a2) )
  {
    v12 = *(int **)(v2 + 8);
    v13 = *v12;
    *(_DWORD *)(v2 + 8) = v12 + 1;
    *a2 = byte_5D4594[1193192];
    if ( v13 == -1 )
    {
      v14 = *(char **)(v2 + 8);
      v15 = *v14++;
      *(_DWORD *)(v2 + 8) = v14;
      LOBYTE(v21) = v15;
      v23 = *v14;
      *(_DWORD *)(v2 + 8) = v14 + 1;
      sub_40ACC0(a2, 1u, v23, v2);
      v13 = -1;
      a2[v23] = 0;
      v11 = i;
    }
    i = ++v11;
  }
  return 1;
}
// 485CB9: variable 'v21' is possibly undefined
// 485B30: using guessed type char var_20[32];

//----- (00485CF0) --------------------------------------------------------
int sub_485CF0()
{
  int v0; // edi
  LPVOID *v1; // esi

  v0 = 0;
  if ( *(int *)&byte_5D4594[251568] <= 0 )
    return 1;
  v1 = (LPVOID *)&byte_5D4594[2682220];
  do
  {
    if ( *v1 )
    {
      free(*v1);
      *v1 = 0;
    }
    ++v0;
    v1 += 15;
  }
  while ( v0 < *(int *)&byte_5D4594[251568] );
  return 1;
}

//----- (00485D40) --------------------------------------------------------
int __cdecl sub_485D40(int a1, char *a2)
{
  int v2; // esi
  _BYTE *v3; // edi
  int v4; // eax
  int v5; // ebp
  const char *v6; // ebx
  int v7; // ebx
  int result; // eax
  _BYTE *v9; // edi
  char v10; // cl
  unsigned __int8 v11; // dl
  int v12; // eax
  unsigned __int8 v13; // di
  int v14; // edi
  int v15; // ebx
  int *v16; // eax
  int v17; // ecx
  char *v18; // eax
  char v19; // cl
  int *v20; // eax
  int v21; // ecx
  int v22; // [esp-4h] [ebp-40h]
  int i; // [esp+10h] [ebp-2Ch]
  int v24; // [esp+14h] [ebp-28h]
  const char *v25; // [esp+18h] [ebp-24h]
  char v26[32]; // [esp+1Ch] [ebp-20h]
  unsigned __int8 v27; // [esp+40h] [ebp+4h]

  v2 = a1;
  v22 = a1;
  v3 = (_BYTE *)(*(_DWORD *)(a1 + 8) + 4);
  *(_DWORD *)(a1 + 8) = v3;
  LOBYTE(a1) = *v3;
  *(_DWORD *)(v2 + 8) = v3 + 1;
  sub_40ACC0(v26, 1u, (unsigned __int8)a1, v22);
  v4 = *(_DWORD *)&byte_5D4594[251572];
  v5 = 0;
  v26[(unsigned __int8)a1] = 0;
  if ( v4 <= 0 )
  {
LABEL_5:
    v7 = a1;
  }
  else
  {
    v6 = (const char *)&byte_5D4594[2678348];
    while ( strcmp(v6, v26) )
    {
      ++v5;
      v6 += 60;
      if ( v5 >= *(int *)&byte_5D4594[251572] )
        goto LABEL_5;
    }
    v7 = v5;
  }
  if ( v5 == *(_DWORD *)&byte_5D4594[251572] )
    return 0;
  v9 = (_BYTE *)(*(_DWORD *)(v2 + 8) + 9);
  *(_DWORD *)(v2 + 8) = v9;
  LOBYTE(v25) = *v9;
  *(_DWORD *)(v2 + 8) = v9 + 2;
  v10 = v9[2];
  *(_DWORD *)(v2 + 8) = v9 + 3;
  if ( v10 == 1 )
    return 0;
  v11 = v9[3];
  v12 = (int)(v9 + 4);
  *(_DWORD *)(v2 + 8) = v9 + 4;
  v13 = v9[4];
  *(_DWORD *)(v2 + 8) = v12 + 1;
  v14 = 2 * (unsigned __int8)v25 * (v11 + v13);
  result = (int)malloc(4 * v14);
  v24 = 15 * v7;
  *(_DWORD *)&byte_5D4594[60 * v7 + 2678380] = result;
  if ( result )
  {
    v15 = 0;
    for ( i = 0; v15 < v14; *(_DWORD *)(*(_DWORD *)&byte_5D4594[4 * v24 + 2678380] + 4 * v15 - 4) = sub_42FAA0(v17, v25, a2) )
    {
      v16 = *(int **)(v2 + 8);
      v17 = *v16;
      *(_DWORD *)(v2 + 8) = v16 + 1;
      *a2 = byte_5D4594[1193196];
      if ( v17 == -1 )
      {
        v18 = *(char **)(v2 + 8);
        v19 = *v18++;
        *(_DWORD *)(v2 + 8) = v18;
        LOBYTE(v25) = v19;
        v27 = *v18;
        *(_DWORD *)(v2 + 8) = v18 + 1;
        sub_40ACC0(a2, 1u, v27, v2);
        v17 = -1;
        a2[v27] = 0;
        v15 = i;
      }
      i = ++v15;
    }
    v20 = *(int **)(v2 + 8);
    v21 = *v20;
    *(_DWORD *)(v2 + 8) = v20 + 1;
    result = v21 == 1162757152;
  }
  return result;
}
// 485EEB: variable 'v25' is possibly undefined
// 485D40: using guessed type char var_20[32];

//----- (00485F30) --------------------------------------------------------
int sub_485F30()
{
  int v0; // edi
  LPVOID *v1; // esi

  v0 = 0;
  if ( *(int *)&byte_5D4594[251572] <= 0 )
    return 1;
  v1 = (LPVOID *)&byte_5D4594[2678380];
  do
  {
    if ( *v1 )
    {
      free(*v1);
      *v1 = 0;
    }
    ++v0;
    v1 += 15;
  }
  while ( v0 < *(int *)&byte_5D4594[251572] );
  return 1;
}

//----- (00485F80) --------------------------------------------------------
unsigned int sub_485F80()
{
  int v0; // esi
  int v1; // eax
  int v2; // edx
  int i; // ecx
  int v4; // edx
  int v5; // edi
  int v6; // ecx
  int v7; // ebx
  unsigned __int8 *v8; // esi
  int j; // ecx
  int v10; // edx
  unsigned int v11; // eax
  unsigned __int8 *v12; // esi
  int k; // ecx
  int v14; // edx
  unsigned int v15; // eax
  unsigned int result; // eax

  v0 = 0;
  v1 = 0;
  v2 = 1;
  for ( i = 23; i > 0; --i )
  {
    *(_DWORD *)&byte_5D4594[4 * v1 + 3798860] = v0;
    *(_DWORD *)&byte_5D4594[4 * v1 + 3799052] = i;
    *(_DWORD *)&byte_5D4594[4 * v1 + 3799244] = v2;
    v0 += v2;
    ++v1;
    v2 += 2;
  }
  if ( v1 < 46 )
  {
    v4 = 91 - 2 * v1;
    v5 = v1 - 22;
    v6 = 4 * v1;
    v7 = 46 - v1;
    do
    {
      *(_DWORD *)&byte_5D4594[v6 + 3798860] = v0;
      *(_DWORD *)&byte_5D4594[v6 + 3799052] = v5;
      *(_DWORD *)&byte_5D4594[v6 + 3799244] = v4;
      v0 += v4;
      ++v5;
      v4 -= 2;
      v6 += 4;
      --v7;
    }
    while ( v7 );
  }
  v8 = &byte_5D4594[2614284];
  for ( j = -64768; j < 0; j += 256 )
  {
    v8 += 4;
    *((_DWORD *)v8 - 1) = j / 22;
  }
  *(_DWORD *)&byte_5D4594[2615300] = 0;
  v12 = &byte_5D4594[2615304];
  for ( k = 0; k < 0x10000; k += 256 )
  {
    v12 += 4;
    *((_DWORD *)v12 - 1) = k / 22;
  }
  return result;
}

//----- (00486060) --------------------------------------------------------
int sub_486060()
{
  int result; // eax

  *(_DWORD *)&byte_5D4594[1193188] = 1;
  result = 45 * *(_DWORD *)&byte_5D4594[3798804];
  *(_DWORD *)&byte_5D4594[3799236] = 45 * *(_DWORD *)&byte_5D4594[3798804] + (46 << byte_5D4594[3807124]);
  return result;
}

//----- (00486110) --------------------------------------------------------
LPVOID sub_486110()
{
  LPVOID result; // eax

  if ( !*(_DWORD *)&byte_5D4594[1193200] )
  {
    if ( *(_DWORD *)&byte_5D4594[3798780] )
    {
      free(*(LPVOID *)&byte_5D4594[3798780]);
      *(_DWORD *)&byte_5D4594[3798780] = 0;
    }
    if ( *(_DWORD *)&byte_5D4594[3798788] )
    {
      free(*(LPVOID *)&byte_5D4594[3798788]);
      *(_DWORD *)&byte_5D4594[3798788] = 0;
    }
  }
  if ( *(_DWORD *)&byte_5D4594[3798784] )
  {
    free(*(LPVOID *)&byte_5D4594[3798784]);
    *(_DWORD *)&byte_5D4594[3798784] = 0;
  }
  result = *(LPVOID *)&byte_5D4594[3798776];
  if ( *(_DWORD *)&byte_5D4594[3798776] )
  {
    free(*(LPVOID *)&byte_5D4594[3798776]);
    *(_DWORD *)&byte_5D4594[3798776] = 0;
  }
  return result;
}

//----- (00486180) --------------------------------------------------------
int __cdecl sub_486180(void *a1)
{
  int result; // eax

  sub_486110();
  *(_DWORD *)&byte_5D4594[3798780] = a1;
  result = sub_486230();
  *(_DWORD *)&byte_5D4594[1193200] = 1;
  return result;
}

//----- (004861A0) --------------------------------------------------------
void *sub_4861A0()
{
  int v0; // ecx
  void *result; // eax

  v0 = *(_DWORD *)&byte_5D4594[3798788];
  *(_DWORD *)&byte_5D4594[3798788] = *(_DWORD *)&byte_5D4594[3798780];
  result = *(void **)&byte_5D4594[3798784];
  *(_DWORD *)&byte_5D4594[3798780] = v0;
  *(_DWORD *)&byte_5D4594[3798784] = *(_DWORD *)&byte_5D4594[3798776];
  *(_DWORD *)&byte_5D4594[3798776] = result;
  return result;
}

//----- (004861D0) --------------------------------------------------------
int sub_4861D0()
{
  int result; // eax

  if ( *(_DWORD *)&byte_5D4594[1193200]
    || (result = (int)calloc(*(_DWORD *)&byte_5D4594[3801808] * *(_DWORD *)&byte_5D4594[3801788], 1u),
        (*(_DWORD *)&byte_5D4594[3798780] = result) != 0)
    && (!(byte_5D4594[3801772] & 0x40)
     || (result = (int)calloc(*(_DWORD *)&byte_5D4594[3801808] * *(_DWORD *)&byte_5D4594[3801788], 1u),
         (*(_DWORD *)&byte_5D4594[3798788] = result) != 0)) )
  {
    result = 1;
  }
  return result;
}

//----- (00486230) --------------------------------------------------------
int sub_486230()
{
  int result; // eax
  int v1; // esi
  int v2; // ecx
  int v3; // edx
  int v4; // ecx
  int v5; // edx

  result = (int)malloc(4 * *(_DWORD *)&byte_5D4594[3801788]);
  *(_DWORD *)&byte_5D4594[3798784] = result;
  if ( result )
  {
    v1 = *(_DWORD *)&byte_5D4594[3801788];
    v2 = *(_DWORD *)&byte_5D4594[3798780];
    v3 = 0;
    if ( *(_DWORD *)&byte_5D4594[3801788] > 0 )
    {
      while ( 1 )
      {
        *(_DWORD *)(result + 4 * v3) = v2;
        v1 = *(_DWORD *)&byte_5D4594[3801788];
        v2 += *(_DWORD *)&byte_5D4594[3801808];
        if ( ++v3 >= *(int *)&byte_5D4594[3801788] )
          break;
        result = *(_DWORD *)&byte_5D4594[3798784];
      }
    }
    if ( byte_5D4594[3801772] & 0x40 )
    {
      result = (int)malloc(4 * v1);
      *(_DWORD *)&byte_5D4594[3798776] = result;
      if ( !result )
        return result;
      v4 = *(_DWORD *)&byte_5D4594[3798788];
      v5 = 0;
      if ( *(_DWORD *)&byte_5D4594[3801788] > 0 )
      {
        while ( 1 )
        {
          *(_DWORD *)(result + 4 * v5) = v4;
          v4 += *(_DWORD *)&byte_5D4594[3801808];
          if ( ++v5 >= *(int *)&byte_5D4594[3801788] )
            break;
          result = *(_DWORD *)&byte_5D4594[3798776];
        }
      }
    }
    result = 1;
  }
  return result;
}

//----- (004862E0) --------------------------------------------------------
int __cdecl sub_4862E0(int a3, int a4)
{
  *(_DWORD *)a3 = 0;
  *(_QWORD *)(a3 + 24) = sub_416BB0();
  sub_486380((_DWORD *)a3, 0x3E8u, 0, 0x4000);
  sub_486320((_DWORD *)a3, a4);
  return sub_4863B0((unsigned int *)a3);
}

//----- (00486320) --------------------------------------------------------
_DWORD *__cdecl sub_486320(_DWORD *a1, int a2)
{
  _DWORD *result; // eax

  result = a1;
  *a1 |= 1u;
  a1[2] = a2 << 16;
  return result;
}

//----- (00486340) --------------------------------------------------------
_DWORD *__cdecl sub_486340(_DWORD *a1)
{
  _DWORD *result; // eax

  result = a1;
  *a1 |= 1u;
  return result;
}

//----- (00486350) --------------------------------------------------------
int __cdecl sub_486350(int a1, int a2)
{
  __int64 v2; // rax
  int v3; // ecx

  LODWORD(v2) = *(_DWORD *)(a1 + 8);
  v3 = *(_DWORD *)(a1 + 4);
  *(_DWORD *)a1 &= 0xFFFFFFFE;
  if ( (_DWORD)v2 == v3 )
  {
    v2 = sub_416BB0();
    *(_QWORD *)(a1 + 24) = v2;
  }
  *(_DWORD *)(a1 + 8) = a2 << 16;
  return v2;
}

//----- (00486380) --------------------------------------------------------
int __cdecl sub_486380(_DWORD *a1, unsigned int a2, int a3, int a4)
{
  int result; // eax

  a1[4] = a2;
  a1[3] = (a4 << 16) / a2;
  result = a3;
  a1[5] = a3;
  return result;
}

//----- (004863B0) --------------------------------------------------------
int __cdecl sub_4863B0(unsigned int *a2)
{
  signed int v1; // ebx
  unsigned int v2; // eax
  int result; // eax
  __int64 v4; // rax
  unsigned int v5; // edi
  unsigned int v6; // ebp
  unsigned int v7; // ecx
  unsigned int v8; // ecx
  unsigned int v9; // edi
  unsigned __int64 v10; // kr00_8
  signed int v11; // eax
  unsigned int v12; // eax
  unsigned int v13; // ecx
  unsigned int v14; // eax
  unsigned int v15; // ecx

  v1 = a2[2] - a2[1];
  if ( !v1 )
    return 0;
  if ( *(_BYTE *)a2 & 1 )
  {
    a2[1] = a2[2];
    v2 = *a2;
    LOBYTE(v2) = *a2 | 2;
    *a2 = v2;
    result = 1;
  }
  else
  {
    v4 = sub_416BB0();
    v5 = a2[6];
    v6 = a2[7];
    v7 = v4;
    a2[6] = v4;
    LODWORD(v4) = a2[5];
    a2[7] = HIDWORD(v4);
    v10 = __PAIR64__(HIDWORD(v4), v7) - __PAIR64__(v6, v5);
    v9 = (__PAIR64__(HIDWORD(v4), v7) - __PAIR64__(v6, v5)) >> 32;
    v8 = v10;
    if ( __PAIR64__(v9, v10) > __PAIR64__(v4, a2[4]) )
      v8 = a2[4];
    v11 = v8 * a2[3];
    if ( v1 >= 0 )
    {
      if ( v11 <= v1 )
      {
        v15 = v11 + a2[1];
        v14 = *a2;
        LOBYTE(v14) = *a2 | 2;
        a2[1] = v15;
      }
      else
      {
        a2[1] += v1;
        v14 = *a2;
        LOBYTE(v14) = *a2 | 2;
      }
      *a2 = v14;
      result = 1;
    }
    else
    {
      if ( v11 <= -v1 )
      {
        v13 = a2[1] - v11;
        v12 = *a2;
        LOBYTE(v12) = *a2 | 2;
        a2[1] = v13;
      }
      else
      {
        a2[1] += v1;
        v12 = *a2;
        LOBYTE(v12) = *a2 | 2;
      }
      *a2 = v12;
      result = 1;
    }
  }
  return result;
}

//----- (004864A0) --------------------------------------------------------
_DWORD *__cdecl sub_4864A0(_DWORD *a3)
{
  sub_4862E0((int)a3, 0x4000);
  sub_4862E0((int)(a3 + 8), 100);
  sub_4862E0((int)(a3 + 16), 0x2000);
  sub_486380(a3 + 8, 0x3E8u, 0, 10);
  sub_486380(a3, 0x3E8u, 0, 0x4000);
  sub_486380(a3 + 16, 0x3E8u, 0, 0x4000);
  return sub_486320(a3, 0x4000);
}

//----- (00486520) --------------------------------------------------------
int __cdecl sub_486520(unsigned int *a2)
{
  sub_4863B0(a2);
  sub_4863B0(a2 + 8);
  return sub_4863B0(a2 + 16);
}

//----- (00486550) --------------------------------------------------------
BOOL __cdecl sub_486550(_BYTE *a1)
{
  return *a1 & 2 || a1[32] & 2 || a1[64] & 2;
}

//----- (00486570) --------------------------------------------------------
int __cdecl sub_486570(unsigned int *a1, _DWORD *a2)
{
  int v2; // eax

  sub_486320(a1, ((a2[1] >> 16) * (a1[1] >> 16)) >> 14);
  sub_4863B0(a1);
  sub_486320(a1 + 8, (int)((a2[9] >> 16) * (a1[9] >> 16)) / 100);
  sub_4863B0(a1 + 8);
  if ( a2[17] >> 16 != 0x2000 )
  {
    v2 = (a1[17] >> 16) + (a2[17] >> 16) - 0x2000;
    if ( v2 >= 0 )
    {
      if ( (unsigned int)v2 > 0x4000 )
        v2 = 0x4000;
    }
    else
    {
      v2 = 0;
    }
    sub_486320(a1 + 16, v2);
  }
  return sub_4863B0(a1 + 16);
}

//----- (00486620) --------------------------------------------------------
_DWORD *__cdecl sub_486620(_DWORD *a1)
{
  _DWORD *result; // eax

  result = a1;
  *a1 &= 0xFFFFFFFD;
  a1[16] &= 0xFFFFFFFD;
  a1[8] &= 0xFFFFFFFD;
  return result;
}

//----- (00486640) --------------------------------------------------------
int __cdecl sub_486640(int a1, int a2)
{
  return a2 * (*(_DWORD *)(a1 + 36) >> 16) / 100;
}

//----- (00486670) --------------------------------------------------------
int __cdecl sub_486670(int a1, int a2)
{
  int result; // eax

  result = a2;
  if ( a2 )
  {
    result = a2 - 1;
    if ( a2 == 1 )
    {
      *(_DWORD *)&byte_587000[155052] = a1;
    }
    else
    {
      result = a2 - 2;
      if ( a2 == 2 )
      {
        result = a1;
        *(_DWORD *)&byte_587000[155056] = a1;
      }
    }
  }
  else
  {
    *(_DWORD *)&byte_587000[155048] = a1;
  }
  return result;
}

//----- (004866A0) --------------------------------------------------------
int __cdecl sub_4866A0(int a1)
{
  switch ( a1 )
  {
    case 0:
      return *(_DWORD *)&byte_587000[155048];
    case 1:
      return *(_DWORD *)&byte_587000[155052];
    case 2:
      return *(_DWORD *)&byte_587000[155056];
  }
  return 0x4000;
}

//----- (004866D0) --------------------------------------------------------
int __cdecl sub_4866D0(_DWORD *a1, int a2)
{
  return *a1 + 36 * a2;
}

//----- (004866F0) --------------------------------------------------------
char *__cdecl sub_4866F0(const char *a1, const char *a2)
{
  char *v2; // ebp
  char *v3; // eax
  unsigned __int8 v4; // al
  char *v5; // edi
  FILE *v6; // ebx
  char *v7; // eax
  char *v8; // edi
  unsigned __int8 v9; // cl
  FILE *v10; // eax
  void *v11; // edi
  int v12; // eax
  int v13; // edi
  int v14; // esi
  HANDLE v15; // esi
  char v17[12];
  char v20[260]; // [esp+1Ch] [ebp-244h]
  struct _WIN32_FIND_DATAA FindFileData; // [esp+120h] [ebp-140h]

  v2 = (char *)malloc(0x120u);
  memset(v2, 0, 0x120u);
  strcpy(v20, a1);
  v3 = strrchr(v20, 46);
  if ( v3 )
    *v3 = 0;
  v4 = byte_587000[155064];
  v5 = &v20[strlen(v20)];
  *(_DWORD *)v5 = *(_DWORD *)&byte_587000[155060];
  v5[4] = v4;
  v6 = fopen(v20, "rb");
  if ( !v6 )
    goto LABEL_27;
  v7 = strrchr(v20, 46);
  if ( v7 )
    *v7 = 0;
  v8 = &v20[strlen(v20) + 1];
  v9 = byte_587000[155076];
  *(_DWORD *)--v8 = *(_DWORD *)&byte_587000[155072];
  v8[4] = v9;
  v10 = fopen(v20, "rb");
  *((_DWORD *)v2 + 67) = v10;
  if ( !v10 || sub_40ADD0(v17, 0xCu, 1u, v6) != 1 )
    goto LABEL_27;
  *((_DWORD *)v2 + 1) = *(_DWORD *)&v17[8];
  if ( *(int *)&v17[8] <= 0 )
    goto LABEL_14;
  v11 = malloc(36 * *(_DWORD *)&v17[8]);
  v12 = *((_DWORD *)v2 + 1);
  *(_DWORD *)v2 = v11;
  memset(v11, 0, 4 * ((unsigned int)(36 * v12) >> 2));
  if ( *(_DWORD *)&v17[4] != 1 )
  {
    if ( sub_40ADD0(*(char **)v2, 36 * *((_DWORD *)v2 + 1), 1u, v6) == 1 )
      goto LABEL_14;
LABEL_27:
    if ( v2 )
      sub_4869C0(v2);
    if ( v6 )
      fclose(v6);
    return 0;
  }
  v13 = 0;
  if ( *((_DWORD *)v2 + 1) > 0 )
  {
    v14 = 0;
    while ( sub_40ADD0((char *)(v14 + *(_DWORD *)v2), 0x20u, 1u, v6) == 1 )
    {
      ++v13;
      *(_DWORD *)(*(_DWORD *)v2 + v14 + 32) = 0;
      v14 += 36;
      if ( v13 >= *((_DWORD *)v2 + 1) )
        goto LABEL_14;
    }
    goto LABEL_27;
  }
LABEL_14:
  fclose(v6);
  qsort(*(void **)v2, *((_DWORD *)v2 + 1), 0x24u, (int (__cdecl *)(const void *, const void *))_strcmpi);
  *((_DWORD *)v2 + 69) = 0;
  if ( a2 )
  {
    strcpy(v2 + 8, a2);
    if ( v2[strlen(v2 + 8) + 8] == 92 )
      v2[strlen(v2 + 8) + 8] = 0;
    v15 = FindFirstFileA(v2 + 8, &FindFileData);
    if ( v15 != (HANDLE)-1 )
    {
      if ( FindFileData.dwFileAttributes & 0x10 )
      {
LABEL_21:
        *((_DWORD *)v2 + 69) = 1;
      }
      else
      {
        while ( FindNextFileA(v15, &FindFileData) )
        {
          if ( FindFileData.dwFileAttributes & 0x10 )
            goto LABEL_21;
        }
      }
      FindClose(v15);
    }
    if ( v2[strlen(v2 + 8) + 8] != 92 )
      *(_WORD *)&v2[strlen(v2 + 8) + 8] = *(_WORD *)&byte_587000[155084];
  }
  return v2;
}
// 4866F0: using guessed type char var_244[260];

//----- (004869C0) --------------------------------------------------------
void __cdecl sub_4869C0(LPVOID lpMem)
{
  if ( *((_DWORD *)lpMem + 67) )
    fclose(*((FILE **)lpMem + 67));
  if ( *((_DWORD *)lpMem + 68) )
    fclose(*((FILE **)lpMem + 68));
  if ( *(_DWORD *)lpMem )
    free(*(LPVOID *)lpMem);
  free(lpMem);
}

//----- (00486A10) --------------------------------------------------------
unsigned int __cdecl sub_486A10(int a1, void *a2)
{
  void *v2; // eax
  unsigned int result; // eax

  v2 = bsearch(
         a2,
         *(const void **)a1,
         *(_DWORD *)(a1 + 4),
         0x24u,
         (int (__cdecl *)(const void *, const void *))_strcmpi);
  if ( v2 )
    result = ((unsigned int)v2 - *(_DWORD *)a1) / 0x24;
  else
    result = -1;
  return result;
}

//----- (00486A50) --------------------------------------------------------
char *__cdecl sub_486A50(_DWORD *a1, int a2)
{
  char *result; // eax

  if ( a2 < 0 || a2 >= a1[1] )
    result = (char *)&byte_587000[155088];
  else
    result = (char *)sub_4866D0(a1, a2);
  return result;
}

//----- (00486A80) --------------------------------------------------------
int __cdecl sub_486A80(_DWORD *a1, int a2)
{
  int result; // eax

  if ( a2 < 0 || a2 >= a1[1] )
    result = 0;
  else
    result = *(_DWORD *)(*a1 + 36 * a2 + 20);
  return result;
}

//----- (00486AA0) --------------------------------------------------------
int __cdecl sub_486AA0(_DWORD *a1, int a2, _DWORD *a3)
{
  _DWORD *v3; // eax
  int result; // eax

  v3 = (_DWORD *)sub_4866D0(a1, a2);
  *a3 = 4;
  a3[2] = v3[6];
  a3[3] = ((v3[7] & 1) != 0) + 1;
  a3[6] = v3[8];
  if ( v3[7] & 8 )
  {
    result = 2;
    a3[1] = 2;
    a3[4] = 2;
  }
  else
  {
    a3[1] = 0;
    result = ((v3[7] & 4) != 0) + 1;
    a3[4] = result;
  }
  return result;
}

//----- (00486B10) --------------------------------------------------------
int __cdecl sub_486B10(_DWORD *a1, int a2, _DWORD *a3)
{
  int result; // eax
  int v4; // edx

  result = sub_4866D0(a1, a2);
  v4 = a3[2];
  *(_DWORD *)(result + 28) = 0;
  *(_DWORD *)(result + 24) = v4;
  if ( a3[3] == 2 )
    *(_DWORD *)(result + 28) = 1;
  if ( a3[4] == 2 )
    *(_DWORD *)(result + 28) |= 4u;
  return result;
}

//----- (00486B60) --------------------------------------------------------
int __cdecl sub_486B60(int a1, int a2)
{
  int v2; // ebp
  FILE *v3; // eax
  char *v4; // edi
  unsigned __int8 v5; // cl
  FILE *v6; // eax
  FILE *v7; // esi
  int v8; // edi
  int v9; // eax
  int v10; // ecx
  int v12; // [esp+10h] [ebp-12Ch]
  char v13[8]; // [esp+14h] [ebp-128h]
  char v14[16]; // [esp+1Ch] [ebp-120h]
  int v15[12]; // [esp+2Ch] [ebp-110h]

  v12 = 1;
  v2 = sub_4866D0((_DWORD *)a1, a2);
  sub_486E00(a1);
  v3 = *(FILE **)(a1 + 268);
  *(_DWORD *)(a1 + 280) = v3;
  *(_DWORD *)(a1 + 284) = *(_DWORD *)(v2 + 20);
  if ( fseek(v3, *(_DWORD *)(v2 + 16), 0) )
    v12 = 0;
  if ( !*(_DWORD *)(v2 + 20) )
    v12 = 0;
  if ( !*(_DWORD *)(a1 + 276) )
    return v12;
  strcpy((char *)&v15[3], (const char *)(a1 + 8));
  strcat((char *)&v15[3], (const char *)v2);
  strcat((char *)&v15[3], ".wav");
  v6 = fopen((const char *)&v15[3], "rb");
  v7 = v6;
  v8 = 0;
  *(_DWORD *)(a1 + 272) = v6;
  if ( !v6 )
    return v12;
  if ( sub_40ADD0((char *)v15, 0xCu, 1u, v6) != 1 || v15[0] != 1179011410 || v15[2] != 1163280727 )
  {
    printf((const char *)&byte_587000[155108], &v15[3]);
    if ( *(_DWORD *)(a1 + 272) )
    {
      fclose(*(FILE **)(a1 + 272));
      *(_DWORD *)(a1 + 272) = 0;
    }
    return v12;
  }
  if ( sub_40ADD0(v13, 8u, 1u, v7) != 1 )
    goto LABEL_18;
  while ( 1 )
  {
    if ( *(_DWORD *)v13 == 544501094 )
    {
      sub_40ADD0(v14, 0x10u, 1u, v7);
      fseek(v7, *(_DWORD *)&v13[4] - 16, 1);
      goto LABEL_15;
    }
    if ( *(_DWORD *)v13 == 1635017060 )
      break;
    fseek(v7, *(int *)&v13[4], 1);
LABEL_15:
    if ( sub_40ADD0(v13, 8u, 1u, v7) != 1 )
      goto LABEL_18;
  }
  v8 = *(_DWORD *)&v13[4];
LABEL_18:
  *(_DWORD *)(v2 + 28) = 2;
  if ( *(unsigned __int16 *)&v14[12] / (int)*(unsigned __int16 *)&v14[2] == 2 )
    *(_DWORD *)(v2 + 28) = 6;
  if ( *(_WORD *)&v14[2] == 2 )
  {
    v9 = *(_DWORD *)(v2 + 28);
    LOBYTE(v9) = v9 | 1;
    *(_DWORD *)(v2 + 28) = v9;
  }
  *(_DWORD *)(v2 + 24) = *(_DWORD *)&v14[4];
  v10 = *(_DWORD *)(a1 + 272);
  *(_DWORD *)(a1 + 284) = v8;
  *(_DWORD *)(a1 + 280) = v10;
  return 1;
}

//----- (00486DB0) --------------------------------------------------------
signed int __cdecl sub_486DB0(int a1, char *a2, signed int a3)
{
  signed int result; // eax
  signed int v4; // eax

  if ( !*(_DWORD *)(a1 + 280) )
    return 0;
  v4 = a3;
  if ( a3 > *(int *)(a1 + 284) )
    v4 = *(_DWORD *)(a1 + 284);
  if ( v4 <= 0 || (result = sub_40ADD0(a2, 1u, v4, *(FILE **)(a1 + 280)), result < 0) )
    result = 0;
  *(_DWORD *)(a1 + 284) -= result;
  return result;
}

//----- (00486E00) --------------------------------------------------------
FILE *__cdecl sub_486E00(int a1)
{
  FILE *result; // eax

  result = *(FILE **)(a1 + 272);
  *(_DWORD *)(a1 + 280) = 0;
  if ( result )
  {
    result = (FILE *)fclose(result);
    *(_DWORD *)(a1 + 272) = 0;
  }
  return result;
}

//----- (00486E30) --------------------------------------------------------
int __cdecl sub_486E30(int a1, _DWORD *a2)
{
  int result; // eax

  a2[33] = a1;
  ++*(_DWORD *)(a1 + 192);
  ++*(_DWORD *)(a1 + 212);
  sub_4258E0(a1 + 200, a2);
  result = *(_DWORD *)(a1 + 212) - 1;
  *(_DWORD *)(a1 + 212) = result;
  if ( result < 0 )
    *(_DWORD *)(a1 + 212) = 0;
  return result;
}

//----- (00486E90) --------------------------------------------------------
int __cdecl sub_486E90(int a1)
{
  int v1; // esi
  int result; // eax

  v1 = *(_DWORD *)(a1 + 132);
  sub_425920((_DWORD **)a1);
  --*(_DWORD *)(v1 + 192);
  ++*(_DWORD *)(v1 + 212);
  sub_425920((_DWORD **)a1);
  result = *(_DWORD *)(v1 + 212) - 1;
  *(_DWORD *)(v1 + 212) = result;
  if ( result < 0 )
    *(_DWORD *)(v1 + 212) = 0;
  return result;
}

//----- (00486EF0) --------------------------------------------------------
void *sub_486EF0()
{
  void *result; // eax
  int *v1; // esi
  int i; // edi

  result = *(void **)&byte_5D4594[1193336];
  if ( *(_DWORD *)&byte_5D4594[1193336] )
  {
    result = *(void **)&byte_587000[155144];
    if ( !*(_DWORD *)(*(_DWORD *)&byte_587000[155144] + 24) )
    {
      v1 = *(int **)(*(_DWORD *)&byte_587000[155144] + 12);
      for ( i = *(_DWORD *)&byte_587000[155144] + 12; v1 != (int *)i; v1 = (int *)*v1 )
      {
        if ( !(v1[3] & 2) )
          result = (void *)((int (__cdecl *)(int *))v1[54])(v1);
      }
    }
  }
  return result;
}

//----- (00486F30) --------------------------------------------------------
int sub_486F30()
{
  sub_425760(*(_DWORD **)&byte_587000[155144]);
  sub_425760((_DWORD *)(*(_DWORD *)&byte_587000[155144] + 12));
  *(_DWORD *)(*(_DWORD *)&byte_587000[155144] + 24) = 0;
  *(_DWORD *)&byte_5D4594[1193340] = *(_DWORD *)&byte_587000[155144] + 32;
  sub_4864A0((_DWORD *)(*(_DWORD *)&byte_587000[155144] + 32));
  *(_DWORD *)&byte_5D4594[1193336] = 1;
  return 0;
}

//----- (00486FA0) --------------------------------------------------------
_DWORD *__cdecl sub_486FA0(int a1)
{
  _DWORD *result; // eax
  _DWORD *v2; // edi
  int v3; // eax

  result = sub_486FE0(a1);
  v2 = result;
  if ( result )
  {
    v3 = *(_DWORD *)(a1 + 12);
    LOBYTE(v3) = v3 | 1;
    *(_DWORD *)(a1 + 12) = v3;
    sub_487050(v2);
    if ( *(_BYTE *)(a1 + 8) & 2 )
      *(_DWORD *)&byte_5D4594[1193332] = 1;
    result = v2;
  }
  return result;
}

//----- (00486FE0) --------------------------------------------------------
_DWORD *__cdecl sub_486FE0(int a1)
{
  _DWORD *v1; // esi

  v1 = malloc(0x58u);
  memset(v1, 0, 0x58u);
  sub_425770(v1);
  v1[4] = 0;
  v1[3] = a1;
  if ( !(*(int (__cdecl **)(_DWORD *))(a1 + 20))(v1) )
    return v1;
  if ( v1 )
    sub_487030(v1);
  return 0;
}

//----- (00487030) --------------------------------------------------------
void __cdecl sub_487030(LPVOID lpMem)
{
  (*(void (__cdecl **)(LPVOID))(*((_DWORD *)lpMem + 3) + 24))(lpMem);
  *(_DWORD *)(*((_DWORD *)lpMem + 3) + 12) &= 0xFFFFFFFE;
  free(lpMem);
}

//----- (00487050) --------------------------------------------------------
_DWORD *__cdecl sub_487050(_DWORD *a1)
{
  return sub_4258E0(*(int *)&byte_587000[155144], a1);
}

//----- (00487070) --------------------------------------------------------
void __cdecl sub_487070(LPVOID lpMem)
{
  sub_487090((_DWORD **)lpMem);
  sub_487030(lpMem);
  *(_DWORD *)&byte_5D4594[1193332] = 0;
}

//----- (00487090) --------------------------------------------------------
_DWORD **__cdecl sub_487090(_DWORD **a1)
{
  return sub_425920(a1);
}

//----- (004870A0) --------------------------------------------------------
void sub_4870A0()
{
  int *result; // eax
  int *v1; // edi
  int *v2; // esi
  int *v3; // [esp+4h] [ebp-4h]

  v1 = sub_4870E0((int *)&v3);
  if ( v1 )
  {
    do
    {
      v2 = sub_487100(&v3);
      sub_487070(v1);
      v1 = v2;
    }
    while ( v2 );
  }
}

//----- (004870E0) --------------------------------------------------------
int *__cdecl sub_4870E0(int *a1)
{
  int *result; // eax

  result = sub_425890(*(int **)&byte_587000[155144]);
  *a1 = (int)result;
  return result;
}

//----- (00487100) --------------------------------------------------------
int *__cdecl sub_487100(int **a1)
{
  if ( *a1 )
    *a1 = sub_4258A0(*a1);
  return *a1;
}

//----- (00487120) --------------------------------------------------------
int sub_487120()
{
  int v0; // esi
  int *i; // eax
  int *v3; // [esp+4h] [ebp-4h]

  v0 = 0;
  for ( i = sub_4870E0((int *)&v3); i; i = sub_487100(&v3) )
    v0 += i[5];
  return v0;
}

//----- (00487150) --------------------------------------------------------
_DWORD *__cdecl sub_487150(int a1, const void *a2)
{
  int v2; // edi
  _DWORD *v3; // esi
  _DWORD *v4; // eax
  int v6; // [esp+8h] [ebp-4h]

  v2 = a1;
  if ( a1 == -1 )
    v2 = 0;
  sub_487360(v2, (int **)&a1, &v6);
  if ( !a1 )
    return 0;
  v3 = *(_DWORD **)(a1 + 4 * v6 + 24);
  if ( !v3 )
  {
    v4 = sub_4871C0(a1, v6, a2);
    v3 = v4;
    if ( !v4 )
      return 0;
    v4[47] = v2;
    sub_487310(v4);
  }
  ++v3[4];
  return v3;
}

//----- (004871C0) --------------------------------------------------------
_DWORD *__cdecl sub_4871C0(int a1, int a2, const void *a3)
{
  int v3; // ebp
  _DWORD *v4; // esi

  v3 = *(_DWORD *)(a1 + 12);
  v4 = malloc(0x108u);
  memset(v4, 0, 0x108u);
  sub_425770(v4);
  v4[6] = a2;
  v4[5] = a1;
  v4[4] = 0;
  ++*(_DWORD *)(a1 + 16);
  *(_DWORD *)(a1 + 4 * a2 + 24) = v4;
  v4[64] = *(_DWORD *)(v3 + 36);
  sub_425760(v4 + 50);
  sub_4864A0(v4 + 22);
  v4[53] = 0;
  v4[56] = 33;
  v4[60] = 0;
  v4[58] = 0;
  v4[62] = 0;
  v4[54] = sub_4873C0;
  v4[57] = 0;
  v4[61] = 0;
  v4[59] = 0;
  v4[63] = 0;
  nullsub_10(v4 + 15);
  nullsub_10(v4 + 8);
  if ( a3 )
    sub_487590((int)v4, a3);
  if ( !(*(int (__cdecl **)(_DWORD *))(v3 + 28))(v4) )
    return v4;
  if ( v4 )
    sub_4872C0(v4);
  return 0;
}
// 487CF0: using guessed type void __cdecl nullsub_10(_DWORD);

//----- (004872C0) --------------------------------------------------------
void __cdecl sub_4872C0(LPVOID lpMem)
{
  int v1; // eax
  int v2; // ecx

  sub_487910((int)lpMem, -1);
  (*(void (__cdecl **)(LPVOID))(*(_DWORD *)(*((_DWORD *)lpMem + 5) + 12) + 32))(lpMem);
  *(_DWORD *)(*((_DWORD *)lpMem + 5) + 4 * *((_DWORD *)lpMem + 6) + 24) = 0;
  v1 = *((_DWORD *)lpMem + 5);
  v2 = *(_DWORD *)(v1 + 16) - 1;
  *(_DWORD *)(v1 + 16) = v2;
  if ( v2 < 0 )
    *(_DWORD *)(*((_DWORD *)lpMem + 5) + 16) = 0;
  free(lpMem);
}

//----- (00487310) --------------------------------------------------------
int __cdecl sub_487310(_DWORD *a1)
{
  int result; // eax

  ++*(_DWORD *)(*(_DWORD *)&byte_587000[155144] + 24);
  sub_4258E0(*(_DWORD *)&byte_587000[155144] + 12, a1);
  result = *(_DWORD *)(*(_DWORD *)&byte_587000[155144] + 24) - 1;
  *(_DWORD *)(*(_DWORD *)&byte_587000[155144] + 24) = result;
  if ( result < 0 )
    *(_DWORD *)(*(_DWORD *)&byte_587000[155144] + 24) = 0;
  return result;
}

//----- (00487360) --------------------------------------------------------
int *__cdecl sub_487360(int a1, int **a2, int *a3)
{
  int *result; // eax
  int i; // esi
  int v5; // ecx
  int *v6; // [esp+4h] [ebp-4h]

  result = sub_4870E0((int *)&v6);
  for ( i = a1; result; result = sub_487100(&v6) )
  {
    v5 = result[5];
    if ( i < v5 )
      break;
    i -= v5;
  }
  *a2 = result;
  if ( result )
  {
    result = a3;
    *a3 = i;
  }
  else
  {
    *a3 = -1;
  }
  return result;
}

//----- (004873C0) --------------------------------------------------------
int __cdecl sub_4873C0(int a3)
{
  int v1; // esi
  __int64 v3; // rax
  unsigned int v4; // ecx
  int v5; // ebp
  bool v6; // cf
  unsigned int v7; // ebx
  unsigned int v8; // ecx
  int v9; // edi
  unsigned int v10; // eax
  _DWORD *v11; // ebx
  int v12; // edi
  int v13; // ebp
  _DWORD *v14; // esi
  int v15; // [esp+10h] [ebp-Ch]
  int v16; // [esp+18h] [ebp-4h]
  BOOL v17; // [esp+20h] [ebp+4h]

  v1 = a3;
  if ( *(_DWORD *)(a3 + 212) )
    return -2146304000;
  v3 = sub_416BB0();
  v4 = *(_DWORD *)(a3 + 248);
  v5 = v3;
  v6 = (unsigned int)v3 < v4;
  v7 = v3 - v4;
  v8 = *(_DWORD *)(a3 + 224);
  v16 = HIDWORD(v3);
  v9 = HIDWORD(v3) - (v6 + *(_DWORD *)(a3 + 252));
  v10 = *(_DWORD *)(a3 + 228);
  if ( __PAIR64__(v9, v7) >= __PAIR64__(v10, v8) )
  {
    *(_DWORD *)(a3 + 232) = v7;
    *(_DWORD *)(a3 + 236) = v9;
    if ( *(_QWORD *)(a3 + 240) > 10 * __PAIR64__(v10, v8) )
    {
      *(_DWORD *)(a3 + 240) = 0;
      *(_DWORD *)(a3 + 244) = 0;
    }
    if ( __PAIR64__(v9, v7) > *(_QWORD *)(a3 + 240) )
    {
      *(_DWORD *)(a3 + 240) = v7;
      *(_DWORD *)(a3 + 244) = v9;
    }
    v11 = (_DWORD *)(a3 + 88);
    v15 = a3 + 88;
    sub_486520((unsigned int *)(a3 + 88));
    if ( *(_DWORD *)(a3 + 184) )
      sub_486520(*(unsigned int **)(a3 + 184));
    if ( !*(_DWORD *)(a3 + 184) || !(v17 = sub_486550(*(_BYTE **)(a3 + 184))) )
      v17 = sub_486550((_BYTE *)(v1 + 88));
    *(_DWORD *)(v1 + 248) = v5;
    *(_DWORD *)(v1 + 252) = v16;
    v12 = *(_DWORD *)(v1 + 200);
    if ( v12 != v1 + 200 )
    {
      do
      {
        v13 = *(_DWORD *)v12;
        if ( *(_BYTE *)(v12 + 124) & 1 && *(_DWORD *)(v12 + 288) )
        {
          if ( (sub_486520((unsigned int *)(v12 + 16)), v17)
            || sub_486550((_BYTE *)(v12 + 16))
            || *(_DWORD *)(v12 + 116) && sub_486550(*(_BYTE **)(v12 + 116))
            || *(_DWORD *)(v12 + 112) && sub_486550(*(_BYTE **)(v12 + 112)) )
          {
            sub_4BD840(v12);
            (*(void (__cdecl **)(int))(*(_DWORD *)(v12 + 172) + 32))(v12);
          }
        }
        v12 = v13;
      }
      while ( v13 != v1 + 200 );
      v11 = (_DWORD *)v15;
    }
    v14 = *(_DWORD **)(v1 + 184);
    if ( v14 )
      sub_486620(v14);
    sub_486620(v11);
  }
  return 0;
}

//----- (00487590) --------------------------------------------------------
int __cdecl sub_487590(int a1, const void *a2)
{
  int result; // eax

  result = a1;
  qmemcpy((void *)(a1 + 60), a2, 0x1Cu);
  return result;
}

//----- (004875B0) --------------------------------------------------------
int *__cdecl sub_4875B0(int *a1)
{
  int *result; // eax

  result = sub_425890((int *)(*(_DWORD *)&byte_587000[155144] + 12));
  *a1 = (int)result;
  return result;
}

//----- (004875D0) --------------------------------------------------------
int *__cdecl sub_4875D0(int **a1)
{
  if ( *a1 )
    *a1 = sub_4258A0(*a1);
  return *a1;
}

//----- (004875F0) --------------------------------------------------------
int sub_4875F0()
{
  int *v0; // edi
  int *v1; // esi
  int result; // eax
  int *v3; // [esp+4h] [ebp-4h]

  ++*(_DWORD *)(*(_DWORD *)&byte_587000[155144] + 24);
  v0 = sub_4875B0((int *)&v3);
  if ( v0 )
  {
    do
    {
      v1 = sub_4875D0(&v3);
      sub_487680(v0);
      v0 = v1;
    }
    while ( v1 );
  }
  result = *(_DWORD *)(*(_DWORD *)&byte_587000[155144] + 24) - 1;
  *(_DWORD *)(*(_DWORD *)&byte_587000[155144] + 24) = result;
  if ( result < 0 )
    *(_DWORD *)(*(_DWORD *)&byte_587000[155144] + 24) = 0;
  return result;
}

//----- (00487650) --------------------------------------------------------
void __cdecl sub_487650(_DWORD *lpMem)
{
  int v2; // ecx

  v2 = lpMem[4] - 1;
  lpMem[4] = v2;
  if ( v2 < 0 )
    lpMem[4] = 0;
  sub_487680(lpMem);
}

//----- (00487680) --------------------------------------------------------
void __cdecl sub_487680(LPVOID lpMem)
{
  sub_4876A0((_DWORD **)lpMem);
  sub_4872C0(lpMem);
}

//----- (004876A0) --------------------------------------------------------
void *__cdecl sub_4876A0(_DWORD **a1)
{
  void *result; // eax

  ++*(_DWORD *)(*(_DWORD *)&byte_587000[155144] + 24);
  sub_425920(a1);
  result = (void *)(*(_DWORD *)(*(_DWORD *)&byte_587000[155144] + 24) - 1);
  *(_DWORD *)(*(_DWORD *)&byte_587000[155144] + 24) = result;
  if ( (int)result < 0 )
  {
    result = *(void **)&byte_587000[155144];
    *(_DWORD *)(*(_DWORD *)&byte_587000[155144] + 24) = 0;
  }
  return result;
}

//----- (004876E0) --------------------------------------------------------
int sub_4876E0()
{
  return -2147221504;
}

//----- (004876F0) --------------------------------------------------------
_DWORD *__cdecl sub_4876F0(int a1, int a2)
{
  return sub_486320((_DWORD *)(a1 + 88), a2);
}

//----- (00487710) --------------------------------------------------------
int __cdecl sub_487710(int a1, int a2)
{
  return sub_486350(a1 + 88, a2);
}

//----- (00487730) --------------------------------------------------------
int __cdecl sub_487730(int a1)
{
  return *(_DWORD *)(a1 + 196);
}

//----- (00487740) --------------------------------------------------------
int __cdecl sub_487740(int a1)
{
  return *(_DWORD *)(a1 + 192);
}

//----- (00487750) --------------------------------------------------------
_DWORD *__cdecl sub_487750(int a1)
{
  _DWORD *v1; // eax
  _DWORD *v2; // esi

  if ( *(int *)(a1 + 192) >= *(int *)(a1 + 196) )
    return 0;
  v1 = sub_4BD720(a1);
  v2 = v1;
  if ( !v1 )
    return 0;
  sub_486E30(a1, v1);
  return v2;
}

//----- (00487790) --------------------------------------------------------
int __cdecl sub_487790(int a1, int a2)
{
  int v2; // esi
  int v3; // edi

  v2 = 0;
  if ( sub_487750(a1) )
  {
    v3 = a2;
    do
    {
      ++v2;
      --v3;
    }
    while ( v3 && sub_487750(a1) );
  }
  return v2;
}

//----- (004877D0) --------------------------------------------------------
int *__cdecl sub_4877D0(int a1, int *a2)
{
  int *result; // eax

  result = sub_425890((int *)(a1 + 200));
  *a2 = (int)result;
  return result;
}

//----- (004877F0) --------------------------------------------------------
int *__cdecl sub_4877F0(int **a1)
{
  if ( *a1 )
    *a1 = sub_4258A0(*a1);
  return *a1;
}

//----- (00487810) --------------------------------------------------------
int *__cdecl sub_487810(int a1, int a2)
{
  unsigned int v2; // esi
  int v3; // edi
  int *v4; // ebp
  int *result; // eax
  int v6; // ecx
  unsigned int v7; // edx
  int v8; // [esp+10h] [ebp-8h]
  int *v9; // [esp+14h] [ebp-4h]

  v2 = -1;
  if ( a2 == -1 )
    a2 = 1;
  v3 = 127;
  v4 = 0;
  v8 = 127;
  v9 = 0;
  for ( result = sub_4877D0(a1, &a1); result; result = sub_4877F0((int **)&a1) )
  {
    if ( result[3] == a2 )
    {
      if ( !(result[31] & 0x15) )
        return result;
      v6 = result[30];
      if ( result[31] & 1 )
      {
        if ( v6 >= v3 )
        {
          if ( v6 == v3 )
          {
            v7 = result[45];
            if ( v7 < v2 && v2 - v7 >= 0x666 )
            {
              v3 = result[30];
              v4 = result;
              v2 = result[45];
            }
          }
        }
        else
        {
          v2 = result[45];
          v3 = result[30];
          v4 = result;
        }
      }
      else if ( v6 < v8 )
      {
        v8 = result[30];
        v9 = result;
      }
    }
  }
  result = v9;
  if ( !v9 || v8 > v3 )
    result = v4;
  return result;
}

//----- (004878E0) --------------------------------------------------------
int *__cdecl sub_4878E0(int a1, int a2)
{
  int *v2; // eax
  int *v3; // esi

  v2 = sub_487810(a1, 1);
  v3 = v2;
  if ( v2 )
    sub_4BDA10((int)v2, a2);
  return v3;
}

//----- (00487910) --------------------------------------------------------
int __cdecl sub_487910(int a1, int a2)
{
  int *v2; // edi
  int v3; // ebx
  int *v4; // esi

  v2 = sub_4877D0(a1, &a1);
  if ( !v2 )
    return 0;
  v3 = a2;
  do
  {
    v4 = sub_4877F0((int **)&a1);
    if ( v3 == -1 || v2[3] == v3 )
      sub_4BDA60(v2);
    v2 = v4;
  }
  while ( v4 );
  return 0;
}

//----- (00487970) --------------------------------------------------------
int *__cdecl sub_487970(int a1, int a2)
{
  int *result; // eax
  int *v3; // edi
  int v4; // ebx
  int *v5; // esi

  result = sub_4877D0(a1, &a1);
  v3 = result;
  if ( result )
  {
    v4 = a2;
    do
    {
      result = sub_4877F0((int **)&a1);
      v5 = result;
      if ( v4 == -1 || v3[3] == v4 )
        result = (int *)sub_4BDA80((int)v3);
      v3 = v5;
    }
    while ( v5 );
  }
  return result;
}

//----- (004879C0) --------------------------------------------------------
int *__cdecl sub_4879C0(int a1, int a2)
{
  int *result; // eax
  int v3; // esi

  result = sub_4877D0(a1, &a1);
  if ( result )
  {
    v3 = a2;
    do
    {
      if ( result[31] & 1 && (v3 == -1 || result[3] == v3) )
        sub_4BDAC0((int)result);
      result = sub_4877F0((int **)&a1);
    }
    while ( result );
  }
  return result;
}

//----- (00487A10) --------------------------------------------------------
int *__cdecl sub_487A10(int a1, int a2)
{
  int *result; // eax
  int v3; // esi

  result = sub_4877D0(a1, &a1);
  if ( result )
  {
    v3 = a2;
    do
    {
      if ( result[31] & 4 && (v3 == -1 || result[3] == v3) )
        sub_4BDAF0((int)result);
      result = sub_4877F0((int **)&a1);
    }
    while ( result );
  }
  return result;
}

//----- (00487A60) --------------------------------------------------------
int __cdecl sub_487A60(int a1)
{
  return (*(int (__cdecl **)(int))(a1 + 216))(a1);
}

//----- (00487A70) --------------------------------------------------------
int __cdecl sub_487A70(_DWORD *a1, void (__cdecl *a2)(char *))
{
  int *v2; // eax
  int i; // edi
  unsigned __int8 *v4; // esi
  int v5; // ecx
  unsigned __int8 *v6; // edx
  int *v8; // [esp+Ch] [ebp-CCh]
  char v9[200]; // [esp+10h] [ebp-C8h]

  a2((char *)&byte_587000[155148]);
  nox_sprintf(v9, (const char *)&byte_587000[155188], **(_DWORD **)(a1[5] + 12), a1[47]);
  a2(v9);
  nox_sprintf(v9, (const char *)&byte_587000[155200], a1[56], a1[58], a1[60]);
  a2(v9);
  nox_sprintf(v9, (const char *)&byte_587000[155224]);
  a2(v9);
  v2 = sub_4877D0((int)a1, (int *)&v8);
  for ( i = 0; v2; v2 = sub_4877F0(&v8) )
  {
    if ( v2[31] & 1 )
    {
      v4 = &byte_587000[155264];
    }
    else
    {
      v4 = &byte_587000[155272];
      if ( !(v2[31] & 4) )
        v4 = &byte_587000[155280];
    }
    v5 = v2[3];
    if ( v5 < 4096 )
    {
      v6 = &byte_587000[155296];
      if ( v5 != 1 )
        v6 = &byte_587000[155304];
    }
    else
    {
      v6 = &byte_587000[155288];
    }
    nox_sprintf(
      v9,
      (const char *)&byte_587000[155312],
      i,
      v6,
      v4,
      v2[72],
      v2[30],
      (100 * ((unsigned int)v2[45] >> 16)) >> 14);
    a2(v9);
    ++i;
  }
  return ((int (__cdecl *)(unsigned __int8 *))a2)(&byte_587000[155344]);
}

//----- (00487BC0) --------------------------------------------------------
_DWORD *__cdecl sub_487BC0(size_t a1)
{
  _DWORD *v1; // esi
  void *v2; // eax

  v1 = malloc(0x1Cu);
  memset(v1, 0, 0x1Cu);
  sub_487C30(v1);
  v1[1] = a1;
  v2 = malloc(a1);
  *v1 = v2;
  if ( v2 )
    return v1;
  if ( v1 )
    sub_487C10(v1);
  return 0;
}

//----- (00487C10) --------------------------------------------------------
void __cdecl sub_487C10(LPVOID lpMem)
{
  if ( *(_DWORD *)lpMem )
    free(*(LPVOID *)lpMem);
  free(lpMem);
}

//----- (00487C30) --------------------------------------------------------
_DWORD *__cdecl sub_487C30(_DWORD *a1)
{
  *a1 = 0;
  a1[1] = 0;
  a1[5] = 0;
  a1[6] = 0;
  return sub_425760(a1 + 2);
}

//----- (00487C50) --------------------------------------------------------
int __cdecl sub_487C50(int a1, _DWORD *a2)
{
  int result; // eax

  sub_4258E0(a1 + 8, a2);
  result = a2[4] + *(_DWORD *)(a1 + 4);
  *(_DWORD *)(a1 + 4) = result;
  a2[5] = a1;
  return result;
}

//----- (00487C80) --------------------------------------------------------
int __cdecl sub_487C80(int a1)
{
  return sub_425940((int *)(a1 + 8));
}

//----- (00487CB0) --------------------------------------------------------
int __cdecl sub_487CB0(int a1, int a2)
{
  return a2 * *(_DWORD *)(a1 + 20) / 1000;
}

//----- (00487CD0) --------------------------------------------------------
__int64 __cdecl sub_487CD0(int a1, int a2)
{
  return 1000 * a2 / *(_DWORD *)(a1 + 20);
}

//----- (00487D00) --------------------------------------------------------
int __cdecl sub_487D00(_DWORD *a1)
{
  int v1; // edx
  int result; // eax

  v1 = a1[1];
  result = a1[2] * a1[3] * a1[4];
  a1[5] = result;
  if ( v1 == 1 )
  {
    result >>= 2;
    a1[5] = result;
  }
  return result;
}

//----- (00487D30) --------------------------------------------------------
_DWORD *__cdecl sub_487D30(_DWORD *a1, int a2, int a3)
{
  _DWORD *result; // eax

  a1[4] = a3;
  a1[3] = a2;
  result = sub_425770(a1);
  a1[5] = 0;
  return result;
}

//----- (00487D60) --------------------------------------------------------
int __cdecl sub_487D60(int a1)
{
  int result; // eax

  result = a1;
  *(_DWORD *)(a1 + 20) = 0;
  return result;
}

//----- (00487D70) --------------------------------------------------------
int __cdecl sub_487D70(_DWORD *a1, int a2, int a3, int a4)
{
  int v4; // esi
  int result; // eax
  __int16 v6; // ax
  unsigned __int16 v7; // ax
  unsigned __int8 *v8; // eax
  unsigned __int16 v9; // di
  int v10; // eax
  int v11; // eax
  int v12; // eax
  int v13; // eax
  int v14; // eax
  int v15; // eax
  int v16; // [esp-10h] [ebp-20h]
  int v17; // [esp-10h] [ebp-20h]

  v4 = a1[8];
  switch ( a2 )
  {
    case 7:
      a1[9] |= 2u;
      sub_46B500((int)a1);
      return 1;
    case 8:
      v15 = a1[11];
      if ( v15 & 0x100 )
        sub_46B490(a1[13], 0x4000, (int)a1, 0);
      goto LABEL_41;
    case 17:
      v12 = a1[11];
      if ( !(v12 & 0x100) )
        goto LABEL_41;
      v16 = a1[13];
      a1[9] |= 2u;
      sub_46B490(v16, 16389, (int)a1, 0);
      sub_46B500((int)a1);
      result = 1;
      break;
    case 18:
      v13 = a1[11];
      if ( v13 & 0x100 )
      {
        v14 = a1[9];
        LOBYTE(v14) = v14 & 0xFD;
        v17 = a1[13];
        a1[9] = v14;
        sub_46B490(v17, 16390, (int)a1, 0);
        result = 1;
      }
      else
      {
LABEL_41:
        result = 1;
      }
      break;
    case 21:
      switch ( a3 )
      {
        case 1:
        case 58:
        case 59:
        case 60:
        case 61:
        case 62:
        case 63:
        case 64:
        case 65:
        case 66:
        case 67:
        case 68:
        case 87:
        case 88:
        case 199:
        case 201:
        case 207:
        case 209:
          goto LABEL_42;
        case 14:
        case 211:
          if ( a3 == 14 )
            goto LABEL_13;
          if ( *(_DWORD *)&byte_587000[26048] == 6 )
            goto LABEL_19;
          if ( *(_DWORD *)&byte_587000[26048] == 8 )
            goto LABEL_17;
LABEL_13:
          if ( a4 != 2 )
            goto LABEL_41;
          if ( !*(_WORD *)(v4 + 1054) )
          {
            v6 = *(_WORD *)(v4 + 1052);
            if ( !v6 )
              goto LABEL_41;
            v7 = v6 - 1;
            *(_WORD *)(v4 + 1052) = v7;
            *(_WORD *)(v4 + 2 * v7) = 0;
            return 1;
          }
LABEL_17:
          if ( *(_DWORD *)&byte_587000[26048] != 6 && *(_DWORD *)&byte_587000[26048] != 8 )
            goto LABEL_24;
LABEL_19:
          if ( !*(_DWORD *)(v4 + 1036) && !*(_DWORD *)(v4 + 1032) && !*(_DWORD *)(v4 + 1028) )
          {
            v8 = sub_57011C(*(_DWORD ***)&byte_5D4594[1193348]);
            nox_wcscpy((wchar_t *)(v4 + 512), (const wchar_t *)v8);
            *(_WORD *)(v4 + 1054) = nox_wcslen((const wchar_t *)(v4 + 512));
            if ( !sub_5702B4(*(_DWORD ***)&byte_5D4594[1193348]) )
              goto LABEL_41;
            sub_570392(*(_DWORD ***)&byte_5D4594[1193348]);
            sub_46AC00(*(_DWORD *)(v4 + 1048), 1);
            return 1;
          }
LABEL_24:
          v9 = sub_47F950(a3);
          if ( !v9 || a4 != 2 )
            goto LABEL_41;
          if ( *(_DWORD *)(v4 + 1028) )
          {
            v10 = iswdigit(v9);
          }
          else
          {
            if ( !*(_DWORD *)(v4 + 1032) )
              goto LABEL_32;
            v10 = iswalnum(v9);
          }
          if ( !v10 )
            return 1;
LABEL_32:
          v11 = *(unsigned __int16 *)(v4 + 1052);
          if ( (unsigned __int16)v11 >= *(__int16 *)(v4 + 1040) - 1 )
            goto LABEL_41;
          *(_WORD *)(v4 + 2 * v11) = v9;
          *(_WORD *)(v4 + 2 * (unsigned __int16)++*(_WORD *)(v4 + 1052)) = 0;
          result = 1;
          break;
        case 15:
        case 205:
        case 208:
          if ( a4 != 2 )
            goto LABEL_41;
          sub_46A8A0();
          return 1;
        case 28:
        case 156:
          if ( a4 != 2 || *(_DWORD *)(v4 + 1044) )
            goto LABEL_41;
          sub_46B490(a1[13], 16415, (int)a1, 0);
          return 1;
        case 200:
        case 203:
          if ( a4 != 2 )
            goto LABEL_41;
          sub_46A8B0();
          return 1;
        default:
          goto LABEL_17;
      }
      break;
    default:
LABEL_42:
      result = 0;
      break;
  }
  return result;
}

//----- (00488160) --------------------------------------------------------
int __cdecl sub_488160(int a1, int a2)
{
  int v2; // edi
  int v3; // edx
  int v4; // ebx
  int v5; // ecx
  int v6; // kr04_4
  int v7; // ebp
  wchar_t *v8; // ecx
  signed __int16 v9; // ax
  size_t v10; // edx
  size_t v11; // eax
  __int16 *v12; // edi
  int i; // ecx
  _DWORD *v14; // eax
  int v15; // eax
  int v16; // ebx
  bool v17; // zf
  int v19; // [esp-28h] [ebp-260h]
  int v20; // [esp-14h] [ebp-24Ch]
  int v21; // [esp+10h] [ebp-228h]
  int v22; // [esp+14h] [ebp-224h]
  wchar_t *v23; // [esp+18h] [ebp-220h]
  int v24; // [esp+1Ch] [ebp-21Ch]
  wchar_t *v25; // [esp+20h] [ebp-218h]
  __int16 *v26; // [esp+24h] [ebp-214h]
  int yTop; // [esp+28h] [ebp-210h]
  int xLeft; // [esp+2Ch] [ebp-20Ch]
  int v29; // [esp+30h] [ebp-208h]
  int v30; // [esp+34h] [ebp-204h]
  __int16 v31[256]; // [esp+38h] [ebp-200h]

  v2 = a1;
  v3 = *(_DWORD *)(a2 + 20);
  v25 = *(wchar_t **)(a2 + 28);
  v23 = *(wchar_t **)(a1 + 32);
  v22 = 0;
  v24 = 0;
  *((_DWORD *)v23 + 261) = 0;
  v30 = v3;
  v26 = v31;
  sub_46AA60((_DWORD *)a1, &xLeft, &yTop);
  v4 = xLeft;
  v21 = *(_DWORD *)(a1 + 8);
  v5 = sub_43F320(*(_DWORD *)(a2 + 200));
  v6 = *(_DWORD *)(a1 + 12);
  v29 = v5;
  v7 = yTop + v6 / 2 - v5 / 2;
  if ( ((*(_DWORD *)(a1 + 4) >> 13) & 1) == 1 )
    sub_43F670(1);
  if ( (*(_DWORD *)(a1 + 4) >> 3) & 1 )
  {
    if ( *(_BYTE *)a2 & 2 )
      v25 = *(wchar_t **)(a2 + 36);
  }
  else
  {
    v30 = *(_DWORD *)(a2 + 44);
  }
  if ( *(_WORD *)(a2 + 72) )
  {
    sub_43F840(*(_DWORD *)(a2 + 200), (unsigned __int16 *)(a2 + 72), &v22, 0, 0);
    sub_434390(*(_DWORD *)(a2 + 68));
    sub_43FAF0(*(_DWORD *)(a2 + 200), (_WORD *)(a2 + 72), v4 + 2, v7, v21, 0);
    v4 += v22 + 6;
    v21 += -6 - v22;
  }
  v8 = v23;
  v9 = v23[521];
  if ( v9 > 0 && v21 > v9 )
  {
    v21 = v9;
    v4 = xLeft + *(_DWORD *)(a1 + 8) - v9;
  }
  if ( v30 != 0x80000000 )
  {
    sub_434460(v30);
    sub_49CE30(v4 + 1, yTop + 1, v21 - 2, *(_DWORD *)(a1 + 12) - 2);
    v8 = v23;
  }
  if ( v25 != (wchar_t *)0x80000000 )
  {
    sub_434460((int)v25);
    sub_49CC70(v4, yTop, v21, *(_DWORD *)(a1 + 12));
    v8 = v23;
  }
  if ( *(_DWORD *)(a2 + 68) != 0x80000000 )
  {
    if ( *((_DWORD *)v8 + 256) )
    {
      v10 = nox_wcslen(v8);
      v11 = 0;
      if ( (int)v10 > 0 )
      {
        memset32(v31, 2752554, v10 >> 1);
        v12 = &v31[2 * (v10 >> 1)];
        for ( i = v10 & 1; i; --i )
        {
          *v12 = 42;
          ++v12;
        }
        v2 = a1;
        v11 = v10;
      }
      v31[v11] = 0;
    }
    else
    {
      nox_wcscpy((wchar_t *)v31, v8);
    }
    sub_43F840(*(_DWORD *)(a2 + 200), (unsigned __int16 *)v31, &v22, 0, 0);
    v19 = *(_DWORD *)(a2 + 200);
    v25 = v23 + 256;
    sub_43F840(v19, v23 + 256, &v24, 0, 0);
    if ( ((*(_DWORD *)(v2 + 4) >> 14) & 1) == 1 && v24 + v22 > 0 && v21 >= 10 && v24 + v22 + 10 > v21 )
    {
      do
      {
        v20 = *(_DWORD *)(a2 + 200);
        ++v26;
        sub_43F840(v20, (unsigned __int16 *)v26, &v22, 0, 0);
      }
      while ( v24 + v22 + 10 > v21 );
    }
    v14 = (_DWORD *)*((_DWORD *)v23 + 262);
    if ( v14 )
      sub_46A9B0(v14, v4 + v22, v29 + v7);
    sub_434390(*(_DWORD *)(a2 + 68));
    sub_43FAF0(*(_DWORD *)(a2 + 200), v26, v4 + 5, v7, 0, 0);
    v15 = sub_4344A0(192, 0, 192);
    sub_434390(v15);
    sub_43FAF0(*(_DWORD *)(a2 + 200), v25, v4 + v22 + 5, v7, 0, 0);
    v16 = v4 + v22 + v24 + 5;
    if ( v2 == sub_46B4F0() )
    {
      v17 = (byte_5D4594[1193344]++ & 8) == 0;
      if ( !v17 )
      {
        sub_434460(*(_DWORD *)(a2 + 68));
        sub_49CE30(v16, v7, 2, v29);
      }
    }
  }
  sub_43F670(0);
  return 1;
}
// 488160: using guessed type wchar_t var_200[256];

//----- (00488500) --------------------------------------------------------
_DWORD *__cdecl sub_488500(int a1, int a2, int a3, int a4, int a5, int a6, int a7, wchar_t *a8)
{
  _DWORD *v8; // esi
  bool v9; // cc
  int *v10; // ebx
  _DWORD *result; // eax
  _DWORD *v12; // eax
  int v13; // eax
  char v14[56]; // [esp+14h] [ebp-184h]
  char v15[332]; // [esp+4Ch] [ebp-14Ch]

  if ( *(_BYTE *)(a7 + 8) & 0x80 )
  {
    v8 = sub_46C3E0(a1, a2, a3, a4, a5, a6, sub_488710);
    sub_488830((int)v8);
    if ( !v8 )
      return v8;
    if ( !*(_DWORD *)(a7 + 16) )
      *(_DWORD *)(a7 + 16) = v8;
    sub_46AF80((int)v8, (const void *)a7);
    memset(a8, 0, 0x100u);
    memset(a8 + 256, 0, 0x100u);
    a8[526] = nox_wcslen(a8);
    v9 = (__int16)a8[520] < 256;
    a8[527] = 0;
    *((_DWORD *)a8 + 261) = 0;
    if ( !v9 )
      a8[520] = 256;
    v10 = (int *)malloc(0x420u);
    qmemcpy(v10, a8, 0x420u);
    v8[8] = v10;
    if ( *(_DWORD *)&byte_587000[26048] != 8 && *(_DWORD *)&byte_587000[26048] != 6 )
    {
      result = v8;
      v10[262] = 0;
      return result;
    }
    memset(v15, 0, sizeof(v15));
    *(_DWORD *)&v15[24] = 0;
    *(_DWORD *)&v15[28] = *(_DWORD *)(a7 + 68);
    *(_DWORD *)&v15[36] = 2147483648;
    *(_DWORD *)&v15[52] = 2147483648;
    *(_DWORD *)&v15[68] = *(_DWORD *)&v15[28];
    memset(v14, 0, sizeof(v14));
    *(_DWORD *)&v14[8] = 1;
    *(_DWORD *)&v14[12] = 1;
    *(_DWORD *)&v15[48] = 0;
    *(_WORD *)&v14[2] = 0x0a;
    *(_WORD *)&v14[0] = 0x80;
    *(_DWORD *)&v14[4] = 0;
    *(_DWORD *)&v14[16] = 0;
    *(_WORD *)&v15[72] = 0;
    *(_DWORD *)&v15[8] = 288;
    v12 = sub_4A4310(0, 17584, 0, a6, 110, 119, (int)v15, (__int16 *)v14);
    v10[262] = (int)v12;
    if ( v12 )
    {
      sub_46AD80((int)v12, 128);
      sub_4A3C00(v10[262], *(_DWORD *)(v10[262] + 32));
      v13 = sub_4344A0(0, 0, 0);
      sub_46AFE0(v10[262], v13);
      return v8;
    }
  }
  return 0;
}

//----- (00488710) --------------------------------------------------------
int __cdecl sub_488710(int a1, unsigned int a2, wchar_t *a3, int a4)
{
  int v3; // esi
  int v4; // eax
  int v6; // eax
  int v7; // eax

  v3 = *(_DWORD *)(a1 + 32);
  if ( a2 > 0x401D )
  {
    if ( a2 == 16414 )
    {
      nox_wcsncpy((wchar_t *)v3, a3, 0xFFu);
      *(_WORD *)(v3 + 510) = 0;
      *(_WORD *)(v3 + 1052) = nox_wcslen((const wchar_t *)v3);
      *(_WORD *)(v3 + 512) = 0;
      *(_WORD *)(v3 + 1054) = 0;
    }
    return 0;
  }
  if ( a2 == 16413 )
    return *(_DWORD *)(a1 + 32);
  if ( a2 == 2 )
  {
    sub_46C4E0(*(_DWORD **)(v3 + 1048));
    free(*(LPVOID *)(a1 + 32));
    return 0;
  }
  if ( a2 != 23 )
    return 0;
  if ( a3 )
  {
    *(_DWORD *)&byte_5D4594[1193352] = a1;
    sub_5700CA(*(int ***)&byte_5D4594[1193348], sub_401FD0());
    v6 = *(_DWORD *)(a1 + 36);
    LOBYTE(v6) = v6 | 6;
    *(_DWORD *)(a1 + 36) = v6;
  }
  else
  {
    sub_5700F6(*(int ***)&byte_5D4594[1193348]);
    *(_DWORD *)&byte_5D4594[1193352] = 0;
    v4 = *(_DWORD *)(a1 + 36);
    LOBYTE(v4) = v4 & 0xF9;
    *(_DWORD *)(a1 + 36) = v4;
    sub_46AC00(*(_DWORD *)(v3 + 1048), 1);
    *(_WORD *)(v3 + 512) = 0;
    *(_WORD *)(v3 + 1054) = 0;
  }
  v7 = sub_46B0A0((int *)a1);
  sub_46B490(*(_DWORD *)(a1 + 52), 16387, (int)a3, v7);
  return 1;
}

//----- (00488830) --------------------------------------------------------
int __cdecl sub_488830(int a1)
{
  int result; // eax

  result = a1;
  if ( a1 )
  {
    if ( (signed char)*(_BYTE *)(a1 + 4) >= 0 )
      result = sub_46B430((_DWORD *)a1, sub_487D70, sub_488160, 0);
    else
      result = sub_46B430((_DWORD *)a1, sub_487D70, sub_488870, 0);
  }
  return result;
}

//----- (00488870) --------------------------------------------------------
int __cdecl sub_488870(int a1, int a2)
{
  int v2; // edi
  int v3; // ebp
  int v4; // ecx
  int v5; // kr04_4
  int v6; // ebx
  int v7; // eax
  size_t v8; // edx
  size_t v9; // eax
  __int16 *v10; // edi
  int i; // ecx
  int v12; // eax
  bool v13; // zf
  int v15; // [esp-14h] [ebp-244h]
  int xLeft; // [esp+10h] [ebp-220h]
  int v17; // [esp+14h] [ebp-21Ch]
  __int16 *v18; // [esp+18h] [ebp-218h]
  int v19; // [esp+1Ch] [ebp-214h]
  wchar_t *v20; // [esp+20h] [ebp-210h]
  int v21; // [esp+24h] [ebp-20Ch]
  wchar_t *v22; // [esp+28h] [ebp-208h]
  int v23; // [esp+2Ch] [ebp-204h]
  __int16 v24[256]; // [esp+30h] [ebp-200h]

  v2 = a1;
  v20 = *(wchar_t **)(a2 + 24);
  v22 = *(wchar_t **)(a1 + 32);
  *((_DWORD *)v22 + 261) = 0;
  v18 = v24;
  sub_46AA60((_DWORD *)a1, &xLeft, &v21);
  v3 = *(_DWORD *)(a1 + 8);
  v4 = sub_43F320(*(_DWORD *)(a2 + 200));
  v5 = *(_DWORD *)(a1 + 12);
  v23 = v4;
  v6 = v21 + v5 / 2 - v4 / 2;
  if ( ((*(_DWORD *)(a1 + 4) >> 13) & 1) == 1 )
    sub_43F670(1);
  if ( (*(_DWORD *)(a1 + 4) >> 3) & 1 )
    v7 = (int)v20;
  else
    v7 = *(_DWORD *)(a2 + 48);
  if ( v7 )
    sub_47D2C0(v7, xLeft, v21);
  sub_434390(*(_DWORD *)(a2 + 68));
  if ( *(_WORD *)(a2 + 72) )
  {
    sub_43F840(*(_DWORD *)(a2 + 200), (unsigned __int16 *)(a2 + 72), &v17, 0, 0);
    sub_43FAF0(*(_DWORD *)(a2 + 200), (_WORD *)(a2 + 72), xLeft + 2, v6, v3, 0);
    v3 += -6 - v17;
    xLeft += v17 + 6;
  }
  if ( *(_DWORD *)(a2 + 68) != 0x80000000 )
  {
    if ( *((_DWORD *)v22 + 256) )
    {
      v8 = nox_wcslen(v22);
      v9 = 0;
      if ( (int)v8 > 0 )
      {
        memset32(v24, 2752554, v8 >> 1);
        v10 = &v24[2 * (v8 >> 1)];
        for ( i = v8 & 1; i; --i )
        {
          *v10 = 42;
          ++v10;
        }
        v2 = a1;
        v9 = v8;
      }
      v24[v9] = 0;
    }
    else
    {
      nox_wcscpy((wchar_t *)v24, v22);
    }
    sub_43F840(*(_DWORD *)(a2 + 200), (unsigned __int16 *)v24, &v17, 0, 0);
    v20 = v22 + 256;
    sub_43F840(*(_DWORD *)(a2 + 200), v22 + 256, &v19, 0, 0);
    if ( ((*(_DWORD *)(v2 + 4) >> 14) & 1) == 1 && v17 + v19 > 0 && v17 + v19 + 10 > v3 )
    {
      do
      {
        v15 = *(_DWORD *)(a2 + 200);
        ++v18;
        sub_43F840(v15, (unsigned __int16 *)v18, &v17, 0, 0);
      }
      while ( v19 + v17 + 10 > v3 );
    }
    sub_434390(*(_DWORD *)(a2 + 68));
    sub_43FAF0(*(_DWORD *)(a2 + 200), v18, xLeft + 5, v6, v3, 0);
    v12 = sub_4344A0(192, 0, 192);
    sub_434390(v12);
    sub_43FAF0(*(_DWORD *)(a2 + 200), v20, v17 + xLeft + 5, v6, v3, 0);
    xLeft += v17 + v19 + 5;
    if ( v2 == sub_46B4F0() )
    {
      v13 = (byte_5D4594[1193344]++ & 8) == 0;
      if ( !v13 )
      {
        sub_434460(*(_DWORD *)(a2 + 68));
        sub_49CE30(xLeft, v6, 2, v23);
      }
    }
  }
  sub_43F670(0);
  return 1;
}
// 488870: using guessed type wchar_t var_200[256];

//----- (00488B60) --------------------------------------------------------
int sub_488B60()
{
  int **v0; // eax

  v0 = (int **)operator_new(4u);
  if ( v0 )
  {
    *(_DWORD *)&byte_5D4594[1193348] = sub_56FFE0(v0);
    sub_570142(*(_DWORD ***)&byte_5D4594[1193348], 11);
  }
  else
  {
    *(_DWORD *)&byte_5D4594[1193348] = 0;
    sub_570142(0, 11);
  }
  return 1;
}
// 5667CB: using guessed type void *__cdecl operator_new(unsigned int);

//----- (00488BA0) --------------------------------------------------------
int sub_488BA0()
{
  void *v0; // esi

  v0 = *(void **)&byte_5D4594[1193348];
  if ( *(_DWORD *)&byte_5D4594[1193348] )
  {
    sub_570070(*(int ****)&byte_5D4594[1193348]);
    operator_delete(v0);
  }
  *(_DWORD *)&byte_5D4594[1193348] = 0;
  return 1;
}

//----- (00488BD0) --------------------------------------------------------
void __cdecl sub_488BD0(unsigned __int16 a1)
{
  int v2; // esi
  int v3; // eax
  unsigned __int8 *v4; // eax

  if ( *(_DWORD *)&byte_5D4594[1193348] )
  {
    if ( *(_DWORD *)&byte_5D4594[1193352] )
    {
      v2 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1193352] + 32);
      if ( *(_DWORD *)&byte_587000[26048] == 6 || *(_DWORD *)&byte_587000[26048] == 8 )
      {
        if (!*(DWORD *)(v2 + 1036))
        {
          if (!*(DWORD *)(v2 + 1032))
          {
            if (!*(DWORD *)(v2 + 1028))
            {
              *(_DWORD *)(v2 + 1044) = 1;
              switch ( a1 )
              {
                case 7u:
                case 8u:
                case 9u:
                case 0xBu:
                case 0xCu:
                  break;
                case 0xAu:
                case 0xDu:
                  *(_DWORD *)(v2 + 1044) = 0;
                  break;
                default:
                  v3 = *(unsigned __int16 *)(v2 + 1052);
                  if ( (unsigned __int16)v3 < *(__int16 *)(v2 + 1040) - 1 )
                  {
                    *(_WORD *)(v2 + 2 * v3) = a1;
                    *(_WORD *)(v2 + 2 * (unsigned __int16)++*(_WORD *)(v2 + 1052)) = 0;
                  }
                  v4 = sub_57011C(*(_DWORD ***)&byte_5D4594[1193348]);
                  nox_wcscpy((wchar_t *)(v2 + 512), (const wchar_t *)v4);
                  *(_WORD *)(v2 + 1054) = nox_wcslen((const wchar_t *)(v2 + 512));
                  sub_570392(*(_DWORD ***)&byte_5D4594[1193348]);
                  sub_46AC00(*(_DWORD *)(v2 + 1048), 1);
                  break;
              }
            }
          }
        }
      }
    }
  }
}

//----- (00488D00) --------------------------------------------------------
int __cdecl sub_488D00(int a1, int xLeft)
{
  int v2; // esi
  unsigned __int16 **v3; // ebx
  int v4; // ecx
  int v5; // edi
  int v6; // ebp
  int v7; // eax
  int v8; // ebp
  unsigned __int16 *v9; // eax
  int v10; // ecx
  size_t v11; // eax
  const wchar_t *v12; // ebp
  const wchar_t *v13; // ebx
  wchar_t *v14; // ebx
  wchar_t *v15; // eax
  int v16; // ebp
  wchar_t *v17; // eax
  int v18; // ebx
  int v19; // ebp
  int v20; // ebx
  const wchar_t *v22; // [esp-4h] [ebp-40h]
  int v23; // [esp+10h] [ebp-2Ch]
  wchar_t *v24; // [esp+14h] [ebp-28h]
  int v25; // [esp+18h] [ebp-24h]
  int v26; // [esp+1Ch] [ebp-20h]
  int v27; // [esp+20h] [ebp-1Ch]
  int yTop; // [esp+24h] [ebp-18h]
  int v29; // [esp+28h] [ebp-14h]
  size_t v30; // [esp+2Ch] [ebp-10h]
  int v31; // [esp+30h] [ebp-Ch]
  int v32; // [esp+34h] [ebp-8h]
  unsigned __int16 **v33; // [esp+38h] [ebp-4h]
  wchar_t *v34; // [esp+40h] [ebp+4h]

  v2 = xLeft;
  v3 = *(unsigned __int16 ***)(a1 + 32);
  v4 = *(_DWORD *)(xLeft + 20);
  v25 = *(_DWORD *)(xLeft + 28);
  v27 = v25;
  v33 = v3;
  v26 = v4;
  sub_46AA60((_DWORD *)a1, &xLeft, &yTop);
  v5 = *(_DWORD *)(a1 + 8);
  v6 = yTop + *(int *)(a1 + 12) / 2;
  if ( (*(_DWORD *)(a1 + 4) & 0x2000) == 0x2000 )
    sub_43F670(1);
  if ( *(_BYTE *)(a1 + 4) & 8 )
  {
    if ( *(_BYTE *)v2 & 2 )
      v25 = *(_DWORD *)(v2 + 36);
    v7 = v26;
  }
  else
  {
    v7 = *(_DWORD *)(v2 + 44);
  }
  if ( *(_BYTE *)v2 & 4 )
    v27 = *(_DWORD *)(v2 + 52);
  if ( v7 != 0x80000000 )
  {
    sub_434460(v7);
    sub_49CE30(xLeft + 1, yTop + 1, v5 - 2, *(_DWORD *)(a1 + 12) - 2);
  }
  if ( v25 != 0x80000000 )
  {
    sub_434460(v25);
    sub_49CC70(xLeft, yTop, v5, *(_DWORD *)(a1 + 12));
  }
  if ( *v3 && *(_DWORD *)(v2 + 68) != 0x80000000 )
  {
    sub_434390(*(_DWORD *)(v2 + 68));
    sub_43F840(*(_DWORD *)(v2 + 200), *v3, &v29, &v23, v5);
    v8 = v23 / -2 + v6;
    v9 = v3[1];
    v26 = v8;
    if ( v9 )
    {
      v10 = *(_DWORD *)(v2 + 200);
      if ( v23 > *(int *)(v10 + 28) )
      {
        v22 = *v3;
        v32 = xLeft;
        v11 = nox_wcslen(v22);
        sub_4892D0(2 * v11 + 2);
        if ( *(_DWORD *)&byte_5D4594[1193360] )
        {
          v12 = *v3;
          v24 = *v3;
          while ( 1 )
          {
            v25 = 0;
            v31 = 0;
            v13 = v12;
            v34 = (wchar_t *)v12;
            v30 = nox_wcslen(v12);
            while ( 1 )
            {
              v14 = nox_wcschr(v13, 0x20u);
              if ( !v14 )
              {
                v25 = 1;
                v14 = (wchar_t *)&v12[v30];
              }
              v15 = v34;
              if ( v34 <= v14 )
              {
                while ( *v15 != 10 )
                {
                  ++v15;
                  if ( v15 > v14 )
                    goto LABEL_32;
                }
                v31 = 1;
                v14 = v15;
                if ( v15 < &v12[v30] )
                  v25 = 0;
              }
LABEL_32:
              v16 = v14 - v24;
              nox_wcsncpy(*(wchar_t **)&byte_5D4594[1193360], v24, v16);
              *(_WORD *)(*(_DWORD *)&byte_5D4594[1193360] + 2 * v16) = 0;
              sub_43F840(*(_DWORD *)(v2 + 200), *(unsigned __int16 **)&byte_5D4594[1193360], 0, &v23, v5);
              if ( v23 > *(int *)(*(_DWORD *)(v2 + 200) + 28) )
                break;
              v34 = v14;
              v13 = v14 + 1;
              if ( v25 || v31 )
              {
                v17 = v24;
                goto LABEL_40;
              }
              v12 = v24;
            }
            v17 = v24;
            if ( v34 == v24 )
              v34 = v14;
            v25 = 0;
LABEL_40:
            v18 = v34 - v17;
            nox_wcsncpy(*(wchar_t **)&byte_5D4594[1193360], v17, v18);
            *(_WORD *)(*(_DWORD *)&byte_5D4594[1193360] + 2 * v18) = 0;
            sub_43F840(*(_DWORD *)(v2 + 200), *(unsigned __int16 **)&byte_5D4594[1193360], &v29, &v23, v5);
            xLeft = v32 + (v5 - v29) / 2;
            if ( v33[2] )
            {
              sub_434390(v27);
              v19 = v26;
              v20 = v26 - 1;
              sub_43FAF0(*(_DWORD *)(v2 + 200), *(_WORD **)&byte_5D4594[1193360], xLeft - 1, v26 - 1, v5, 0);
              sub_43FAF0(*(_DWORD *)(v2 + 200), *(_WORD **)&byte_5D4594[1193360], xLeft + 1, v20, v5, 0);
              sub_43FAF0(*(_DWORD *)(v2 + 200), *(_WORD **)&byte_5D4594[1193360], xLeft - 1, v19 + 1, v5, 0);
              sub_43FAF0(*(_DWORD *)(v2 + 200), *(_WORD **)&byte_5D4594[1193360], xLeft + 1, v19 + 1, v5, 0);
              sub_434390(*(_DWORD *)(v2 + 68));
              sub_43FAF0(*(_DWORD *)(v2 + 200), *(_WORD **)&byte_5D4594[1193360], xLeft, v19, v5, 0);
            }
            else
            {
              sub_43FAF0(*(_DWORD *)(v2 + 200), *(_WORD **)&byte_5D4594[1193360], v32 + (v5 - v29) / 2, v26, v5, 0);
              v19 = v26;
            }
            v26 = v23 + v19 + 1;
            if ( v25 )
              break;
            v24 = v34 + 1;
            v12 = v34 + 1;
          }
        }
      }
      else
      {
        xLeft += (v5 - v29) / 2;
        if ( v3[2] )
        {
          sub_434390(v27);
          sub_43FAF0(*(_DWORD *)(v2 + 200), *v3, xLeft - 1, v8 - 1, v5, 0);
          sub_43FAF0(*(_DWORD *)(v2 + 200), *v3, xLeft + 1, v8 - 1, v5, 0);
          sub_43FAF0(*(_DWORD *)(v2 + 200), *v3, xLeft - 1, v8 + 1, v5, 0);
          sub_43FAF0(*(_DWORD *)(v2 + 200), *v3, xLeft + 1, v8 + 1, v5, 0);
          sub_434390(*(_DWORD *)(v2 + 68));
          sub_43FAF0(*(_DWORD *)(v2 + 200), *v3, xLeft, v8, v5, 0);
        }
        else
        {
          sub_43FAF0(v10, *v3, xLeft, v8, v5, 0);
        }
      }
    }
    else if ( v3[2] )
    {
      sub_434390(v27);
      sub_43FAF0(*(_DWORD *)(v2 + 200), *v3, xLeft + 1, v8 - 1, v5, 0);
      sub_43FAF0(*(_DWORD *)(v2 + 200), *v3, xLeft + 3, v8 - 1, v5, 0);
      sub_43FAF0(*(_DWORD *)(v2 + 200), *v3, xLeft + 1, v8 + 1, v5, 0);
      sub_43FAF0(*(_DWORD *)(v2 + 200), *v3, xLeft + 3, v8 + 1, v5, 0);
      sub_434390(*(_DWORD *)(v2 + 68));
      sub_43FAF0(*(_DWORD *)(v2 + 200), *v3, xLeft + 2, v8, v5, 0);
    }
    else
    {
      sub_43FAF0(*(_DWORD *)(v2 + 200), *v3, xLeft + 2, v8, v5, 0);
    }
  }
  sub_43F670(0);
  return 1;
}

//----- (004892D0) --------------------------------------------------------
wchar_t *__cdecl sub_4892D0(int a1)
{
  wchar_t *result; // eax

  result = (wchar_t *)a1;
  if ( a1 > *(int *)&byte_5D4594[1193364] )
  {
    *(_DWORD *)&byte_5D4594[1193364] = a1;
    result = (wchar_t *)realloc(*(LPVOID *)&byte_5D4594[1193360], a1);
    *(_DWORD *)&byte_5D4594[1193360] = result;
  }
  return result;
}

//----- (00489300) --------------------------------------------------------
_DWORD *__cdecl sub_489300(int a1, int a2, int a3, int a4, int a5, int a6, _DWORD *a7, _DWORD *a8)
{
  int v8; // ecx
  _DWORD *v9; // esi
  _DWORD *v10; // edx

  v8 = a7[2];
  BYTE1(v8) &= 0xFBu;
  a7[2] = v8;
  if ( !(v8 & 0x800) )
    return 0;
  v9 = sub_46C3E0(a1, a2, a3, a4, a5, a6, sub_489390);
  sub_4893E0((int)v9);
  if ( v9 )
  {
    if ( !a7[4] )
      a7[4] = v9;
    sub_46AF80((int)v9, a7);
    v10 = malloc(0xCu);
    *v10 = *a8;
    v10[1] = a8[1];
    v10[2] = a8[2];
    v9[8] = v10;
  }
  return v9;
}

//----- (00489390) --------------------------------------------------------
int __cdecl sub_489390(int a1, int a2, int a3, int a4)
{
  switch ( a2 )
  {
    case 2:
      free(*(LPVOID *)(a1 + 32));
      break;
    case 16385:
      if ( a3 )
      {
        **(_DWORD **)(a1 + 32) = a3;
        return 0;
      }
      break;
    case 16386:
      return **(_DWORD **)(a1 + 32);
  }
  return 0;
}

//----- (004893E0) --------------------------------------------------------
int __cdecl sub_4893E0(int a1)
{
  int result; // eax

  result = a1;
  if ( a1 )
  {
    if ( (signed char)*(_BYTE *)(a1 + 4) >= 0 )
      result = sub_46B430((_DWORD *)a1, sub_489420, sub_488D00, 0);
    else
      result = sub_46B430((_DWORD *)a1, sub_489420, sub_489550, 0);
  }
  return result;
}

//----- (00489420) --------------------------------------------------------
int __cdecl sub_489420(int a1, int a2, int a3, int a4)
{
  int result; // eax

  if ( a2 != 21 )
    return 0;
  switch ( a3 )
  {
    case 15:
    case 205:
    case 208:
      if ( a4 != 2 )
        goto LABEL_7;
      sub_46A8A0();
      result = 1;
      break;
    case 200:
    case 203:
      if ( a4 == 2 )
        sub_46A8B0();
LABEL_7:
      result = 1;
      break;
    default:
      return 0;
  }
  return result;
}

//----- (00489550) --------------------------------------------------------
int __cdecl sub_489550(_DWORD *a1, _DWORD *a2)
{
  _DWORD *v2; // esi
  unsigned __int16 **v3; // ebp
  _DWORD *v4; // ebx
  int v5; // eax
  int v6; // edi
  int v7; // eax
  int v8; // eax
  int v9; // ecx
  int v11; // [esp+10h] [ebp-Ch]
  int v12; // [esp+14h] [ebp-8h]
  int v13; // [esp+18h] [ebp-4h]

  v2 = a1;
  v3 = (unsigned __int16 **)a1[8];
  sub_46AA60(a1, &a1, &v11);
  v4 = a2;
  v12 = v2[2];
  v5 = sub_43F320(a2[50]);
  v6 = v11 + v2[3] / 2 - v5 / 2;
  if ( (v2[1] & 0x2000) == 0x2000 )
    sub_43F670(1);
  v7 = v4[6];
  if ( v7 )
    sub_47D2C0(v7, (int)a1 + v2[24], v11 + v2[25]);
  if ( v2[1] & 8 )
    v8 = v4[8];
  else
    v8 = v4[12];
  if ( v8 )
    sub_47D2C0(v8, (int)a1 + v2[24], v11 + v2[25]);
  if ( *v3 )
  {
    sub_434390(v4[17]);
    if ( v3[1] )
    {
      sub_43F840(v4[50], *v3, &v13, 0, 0);
      v9 = v4[50];
      a1 = (_DWORD *)((char *)a1 + (v12 - v13) / 2);
      sub_43FAF0(v9, *v3, (int)a1, v6, v12, 0);
    }
    else
    {
      sub_43FAF0(v4[50], *v3, (int)a1 + 2, v6, v12, 0);
    }
  }
  sub_43F670(0);
  return 1;
}

//----- (004896C0) --------------------------------------------------------
int sub_4896C0()
{
  return *(_DWORD *)&byte_5D4594[1193356];
}

//----- (004896D0) --------------------------------------------------------
int __cdecl sub_4896D0(int a1)
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[1193356];
  *(_DWORD *)&byte_5D4594[1193356] = a1;
  return result;
}

//----- (004896E0) --------------------------------------------------------
int sub_4896E0()
{
  if ( *(_DWORD *)&byte_5D4594[1193360] )
    free(*(LPVOID *)&byte_5D4594[1193360]);
  return 1;
}

//----- (00489700) --------------------------------------------------------
int __cdecl sub_489700(int a1, int a2)
{
  int v2; // ecx
  char v3; // al
  char v4; // al
  unsigned __int8 v5; // al
  char v6; // al
  int v7; // eax
  int v8; // eax
  int v10; // [esp-20h] [ebp-30h]
  char v11; // [esp-10h] [ebp-20h]
  char v12; // [esp-Ch] [ebp-1Ch]
  int2 xLeft; // [esp+8h] [ebp-8h]

  v2 = *(int *)(a2 + 28) >> 16;
  xLeft.field_0 = *(int *)(a2 + 24) >> 16;
  xLeft.field_4 = v2;
  if ( xLeft.field_0 <= 0 || v2 <= 0 || xLeft.field_0 >= *(int *)(a1 + 32) || v2 >= *(int *)(a1 + 36) )
    goto LABEL_19;
  sub_4B6720(&xLeft, *(_DWORD *)(a2 + 8), *(unsigned __int8 *)(a2 + 40), *(_BYTE *)(a2 + 40));
  sub_434460(*(_DWORD *)(a2 + 12));
  sub_499B70(xLeft.field_0, xLeft.field_4, *(unsigned __int8 *)(a2 + 40) >> 1);
  v3 = *(_BYTE *)(a2 + 41);
  *(_DWORD *)(a2 + 20) += *(_DWORD *)(a2 + 36);
  if ( !v3 )
    goto LABEL_12;
  v4 = v3 - 1;
  *(_BYTE *)(a2 + 41) = v4;
  if ( v4 )
    goto LABEL_12;
  if ( *(_BYTE *)(a2 + 42) == 1 )
  {
    v5 = *(_BYTE *)(a2 + 40) + 1;
    *(_BYTE *)(a2 + 40) = v5;
    if ( v5 >= 4u )
      *(_BYTE *)(a2 + 42) = 2;
    goto LABEL_11;
  }
  v6 = *(_BYTE *)(a2 + 40) - 1;
  *(_BYTE *)(a2 + 40) = v6;
  if ( !v6 )
  {
LABEL_19:
    sub_431700((_QWORD *)a2);
    return 0;
  }
LABEL_11:
  *(_BYTE *)(a2 + 41) = *(_BYTE *)(a2 + 43);
LABEL_12:
  if ( *(_BYTE *)(a2 + 32) == 1 && sub_415FF0(0, 10, (const char *)&byte_587000[155384], 105) >= 8 )
  {
    v12 = sub_415FF0(3, 5, (const char *)&byte_587000[155424], 115);
    v11 = sub_415FF0(2, 3, (const char *)&byte_587000[155464], 114);
    v10 = xLeft.field_4;
    v7 = sub_415FF0(-2, 2, (const char *)&byte_587000[155504], 109);
    sub_431540(*(_DWORD *)(a2 + 4), xLeft.field_0 + v7, v10, 0, 0, 1, v11, v12, 2, 2);
  }
  v8 = *(_DWORD *)(a2 + 28);
  *(_DWORD *)(a2 + 24) += *(_DWORD *)(a2 + 16);
  *(_DWORD *)(a2 + 28) = *(_DWORD *)(a2 + 20) + v8;
  return 1;
}

//----- (00489870) --------------------------------------------------------
int sub_489870()
{
  int v0; // eax
  unsigned __int8 *v1; // esi
  _DWORD *v2; // eax
  const wchar_t *v3; // eax
  unsigned int v4; // eax
  int v5; // edx
  char v6; // cl
  int v7; // eax

  v0 = sub_43AF70();
  v1 = &byte_5D4594[44 * v0 + 1193388];
  if ( *(_DWORD *)&byte_5D4594[4 * v0 + 1193372] == 2 )
  {
    *(_DWORD *)v1 = (sub_46B0C0(*(_DWORD **)&byte_5D4594[1193380], 10028)[9] >> 2) & 1;
    v2 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1193380], 10031);
    v3 = (const wchar_t *)sub_46B490((int)v2, 16413, 0, 0);
    *((_DWORD *)v1 + 4) = nox_wcstol(v3, 0, 10);
    *((_DWORD *)v1 + 1) = (sub_46B0C0(*(_DWORD **)&byte_5D4594[1193380], 10029)[9] >> 2) & 1;
    v4 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1193380], 10030)[9];
    *((_DWORD *)v1 + 3) = 0;
    *((_DWORD *)v1 + 2) = (v4 >> 2) & 1;
    if ( sub_46B0C0(*(_DWORD **)&byte_5D4594[1193380], 10015)[9] & 4 )
    {
      v5 = *((_DWORD *)v1 + 3);
      LOBYTE(v5) = v5 | 0x80;
      *((_DWORD *)v1 + 3) = v5;
      v6 = *((_BYTE *)sub_46B0C0(*(_DWORD **)&byte_5D4594[1193380], 10016) + 36);
      v7 = *((_DWORD *)v1 + 3);
      if ( v6 & 4 )
        LOBYTE(v7) = v7 | 1;
      else
        LOBYTE(v7) = v7 | 2;
      *((_DWORD *)v1 + 3) = v7;
    }
    *((_DWORD *)v1 + 5) = (sub_46B0C0(*(_DWORD **)&byte_5D4594[1193380], 10014)[9] >> 2) & 1;
    *((_DWORD *)v1 + 10) = (sub_46B0C0(*(_DWORD **)&byte_5D4594[1193380], 10018)[9] >> 2) & 1;
  }
  return sub_46AC00(*(int *)&byte_5D4594[1193380], 1);
}

//----- (004899C0) --------------------------------------------------------
BOOL __cdecl sub_4899C0(int a1)
{
  int v1; // eax
  int v2; // edx
  int v3; // eax
  unsigned __int8 *v4; // ebp
  int v5; // eax
  int v6; // ebx
  unsigned int v7; // eax
  char v9; // al
  unsigned __int8 v10; // cl
  unsigned __int8 v11; // cl
  char v12; // al
  int v13[15]; // [esp+Ch] [ebp-3Ch]
  unsigned __int8 v14; // [esp+4Ch] [ebp+4h]
  unsigned __int8 v15; // [esp+4Ch] [ebp+4h]

  v1 = sub_43AF70();
  v2 = 11 * v1;
  v3 = *(_DWORD *)&byte_5D4594[4 * v1 + 1193372];
  v4 = &byte_5D4594[4 * v2 + 1193388];
  if ( !v3 )
    return 1;
  v5 = v3 - 1;
  if ( v5 )
  {
    if ( v5 == 1 )
    {
      v6 = a1;
      if ( *(_DWORD *)v4 )
      {
        v7 = *(_DWORD *)(a1 + 96);
        if ( v7 > *((_DWORD *)v4 + 4) && v7 != 9999 )
          return 0;
      }
      if ( *((_DWORD *)v4 + 1) && *(_BYTE *)(a1 + 100) & 0x10 )
        return 0;
      if ( *((_DWORD *)v4 + 2) && *(_BYTE *)(a1 + 100) & 0x20 )
        return 0;
      v9 = *(_BYTE *)(a1 + 102);
      if ( v9 < 0 && *((_DWORD *)v4 + 3) > (v9 & 0x7F) )
        return 0;
      if ( *((_DWORD *)v4 + 5) )
      {
        strcpy((char *)v13, (const char *)(a1 + 111));
        sub_57A1E0(v13, 0, 0, 5, *(_WORD *)(a1 + 163));
        v10 = 0;
        v14 = 0;
        while ( v13[v14 + 6] == *(_DWORD *)(4 * v14 + v6 + 135) )
        {
          v14 = ++v10;
          if ( v10 >= 5u )
          {
            v11 = 0;
            v15 = 0;
            while ( *((_BYTE *)&v13[11] + v15) == *(_BYTE *)(v15 + v6 + 155) )
            {
              v15 = ++v11;
              if ( v11 >= 4u )
              {
                if ( v13[12] == *(_DWORD *)(v6 + 159) )
                  goto LABEL_26;
                return 0;
              }
            }
            return 0;
          }
        }
        return 0;
      }
LABEL_26:
      if ( *((_DWORD *)v4 + 10) && *(_DWORD *)(v6 + 48) != 66458 )
        return 0;
    }
    return 1;
  }
  v12 = *(_BYTE *)(a1 + 100);
  if ( v12 & 0x10 )
    return 0;
  if ( v12 & 0x20 )
    return 0;
  return *(_DWORD *)(a1 + 48) == 66458;
}

//----- (00489B80) --------------------------------------------------------
_DWORD *__cdecl sub_489B80(int a1)
{
  _DWORD *result; // eax
  int v2; // ebx
  unsigned __int8 *v3; // edi
  _DWORD *v4; // eax
  _DWORD *v5; // eax
  _DWORD *v6; // eax
  _DWORD *v7; // eax
  _DWORD *v8; // eax
  _DWORD *v9; // eax
  _DWORD *v10; // esi
  int v11; // ebx
  int v12; // ebx
  wchar_t v13[16]; // [esp+0h] [ebp-20h]

  result = sub_4A0AD0((const char *)&byte_587000[155544], sub_489E70);
  *(_DWORD *)&byte_5D4594[1193380] = result;
  if ( result )
  {
    *(_DWORD *)&byte_5D4594[1193384] = sub_46B0C0(result, 10012);
    v2 = sub_43AF70();
    v3 = &byte_5D4594[44 * v2 + 1193388];
    sub_46B120(*(_DWORD **)&byte_5D4594[1193380], a1);
    sub_46B120(*(_DWORD **)&byte_5D4594[1193384], *(int *)&byte_5D4594[1193380]);
    sub_46B2C0(*(int *)&byte_5D4594[1193384], sub_489E70);
    if ( *(_DWORD *)v3 )
    {
      v4 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1193380], 10028);
      v4[9] |= 4u;
    }
    nox_swprintf(v13, (const wchar_t *)&byte_587000[155556], *((_DWORD *)v3 + 4));
    v5 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1193380], 10031);
    sub_46B490((int)v5, 16414, (int)v13, -1);
    if ( *((_DWORD *)v3 + 1) )
    {
      v6 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1193380], 10029);
      v6[9] |= 4u;
    }
    if ( *((_DWORD *)v3 + 2) )
    {
      v7 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1193380], 10030);
      v7[9] |= 4u;
    }
    if ( *((_DWORD *)v3 + 3) )
    {
      v8 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1193380], 10015);
      v8[9] |= 4u;
    }
    if ( v3[12] & 2 )
      v9 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1193380], 10017);
    else
      v9 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1193380], 10016);
    v10 = v9;
    v9[9] |= 4u;
    if ( *((_DWORD *)v3 + 5) )
    {
      v10 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1193380], 10014);
      v10[9] |= 4u;
    }
    if ( *((_DWORD *)v3 + 10) )
    {
      v10 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1193380], 10018);
      v10[9] |= 4u;
    }
    v11 = *(_DWORD *)&byte_5D4594[4 * v2 + 1193372];
    if ( v11 )
    {
      v12 = v11 - 1;
      if ( v12 )
      {
        if ( v12 == 1 )
        {
          v10 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1193380], 10026);
          sub_489DC0();
        }
      }
      else
      {
        v10 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1193380], 10025);
        sub_46AC00(*(int *)&byte_5D4594[1193384], 1);
      }
    }
    else
    {
      v10 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1193380], 10024);
      sub_46AC00(*(int *)&byte_5D4594[1193384], 1);
    }
    v10[9] |= 4u;
    result = *(_DWORD **)&byte_5D4594[1193380];
  }
  return result;
}

//----- (00489DC0) --------------------------------------------------------
void sub_489DC0()
{
  _DWORD *v0; // eax
  _DWORD *v1; // eax

  sub_46AC00(*(int *)&byte_5D4594[1193384], 0);
  if ( sub_46B0C0(*(_DWORD **)&byte_5D4594[1193384], 10028)[9] & 4 )
  {
    v0 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1193384], 10031);
    sub_46ABB0((int)v0, 1);
  }
  else
  {
    v1 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1193384], 10031);
    sub_46ABB0((int)v1, 0);
  }
  if ( sub_46B0C0(*(_DWORD **)&byte_5D4594[1193384], 10015)[9] & 4 )
    sub_46AD20(*(_DWORD **)&byte_5D4594[1193384], 10016, 10017, 1);
  else
    sub_46AD20(*(_DWORD **)&byte_5D4594[1193384], 10016, 10017, 0);
}

//----- (00489E70) --------------------------------------------------------
int __cdecl sub_489E70(int a1, int a2, int *a3, int a4)
{
  int v3; // ebx
  int v4; // esi
  int result; // eax
  _DWORD *v6; // eax
  int v7; // [esp-Ch] [ebp-10h]
  int v8; // [esp-Ch] [ebp-10h]

  v3 = sub_43AF70();
  if ( a2 == 23 )
    return 1;
  if ( a2 != 16391 )
    return 0;
  v4 = sub_46B0A0(a3);
  sub_452D80(766, 100);
  switch ( v4 )
  {
    case 10015:
      sub_46AD20(*(_DWORD **)&byte_5D4594[1193380], 10016, 10017, ((unsigned int)~a3[9] >> 2) & 1);
      return 0;
    case 10024:
      v7 = *(_DWORD *)&byte_5D4594[1193384];
      *(_DWORD *)&byte_5D4594[4 * v3 + 1193372] = 0;
      sub_46AC00(v7, 1);
      result = 0;
      break;
    case 10025:
      v8 = *(_DWORD *)&byte_5D4594[1193384];
      *(_DWORD *)&byte_5D4594[4 * v3 + 1193372] = 1;
      sub_46AC00(v8, 1);
      result = 0;
      break;
    case 10026:
      *(_DWORD *)&byte_5D4594[4 * v3 + 1193372] = 2;
      sub_489DC0();
      result = 0;
      break;
    case 10028:
      v6 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1193380], 10031);
      sub_46ABB0((int)v6, ((unsigned int)~a3[9] >> 2) & 1);
      result = 0;
      break;
    default:
      return 0;
  }
  return result;
}

//----- (00489FB0) --------------------------------------------------------
int sub_489FB0()
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[1193380];
  if ( *(_DWORD *)&byte_5D4594[1193380] )
  {
    sub_489870();
    sub_46ADE0(*(int *)&byte_5D4594[1193380]);
    result = sub_46C4E0(*(_DWORD **)&byte_5D4594[1193380]);
    *(_DWORD *)&byte_5D4594[1193380] = 0;
  }
  return result;
}

//----- (00489FF0) --------------------------------------------------------
int __cdecl sub_489FF0(int a1, int a2, const void *a3)
{
  int result; // eax

  *(_DWORD *)&byte_5D4594[4 * a1 + 1193372] = a2;
  result = 11 * a1;
  qmemcpy(&byte_5D4594[44 * a1 + 1193388], a3, 0x2Cu);
  return result;
}

//----- (0048A020) --------------------------------------------------------
int __cdecl sub_48A020(int a1, _DWORD *a2)
{
  *a2 = &byte_5D4594[44 * a1 + 1193388];
  return *(_DWORD *)&byte_5D4594[4 * a1 + 1193372];
}

//----- (0048A1D0) --------------------------------------------------------
int __cdecl sub_48A1D0(int a1)
{
  int v1; // eax

  if ( *(_DWORD *)&byte_5D4594[3799620] != 5 )
  {
    v1 = *(_DWORD *)&byte_5D4594[3801772];
    if ( a1 )
      LOBYTE(v1) = byte_5D4594[3801772] | 0x20;
    else
      LOBYTE(v1) = byte_5D4594[3801772] & 0xDF;
    *(_DWORD *)&byte_5D4594[3801772] = v1;
    sub_444D00();
  }
  return (*(_DWORD *)&byte_5D4594[3801772] >> 5) & 1;
}

//----- (0048A210) --------------------------------------------------------
int __cdecl sub_48A210(int a1)
{
  int result; // eax

  result = a1;
  *(_DWORD *)&byte_5D4594[1193504] = a1;
  return result;
}

//----- (0048A5D0) --------------------------------------------------------
int sub_48A5D0()
{
  return 0;
}

//----- (0048B3E0) --------------------------------------------------------
int __cdecl sub_48B3E0(int a1)
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[1193672];
  *(_DWORD *)&byte_5D4594[1193672] = a1;
  return result;
}

//----- (0048B590) --------------------------------------------------------
_DWORD *__cdecl sub_48B590(_DWORD *a1, _DWORD *a2, _DWORD *a3)
{
  _DWORD *result; // eax

  if ( a1 )
    *a1 = *(_DWORD *)&byte_5D4594[1193624];
  if ( a2 )
    *a2 = *(_DWORD *)&byte_5D4594[1193648];
  result = a3;
  if ( a3 )
    *a3 = *(_DWORD *)&byte_5D4594[1193524];
  return result;
}

//----- (0048B680) --------------------------------------------------------
void __cdecl sub_48B680(int a1)
{
  if ( a1 != *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 60) )
  {
    if ( *(_DWORD *)&byte_5D4594[3798724] )
      *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 60) = a1;
    else
      *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 56) = a1;
    sub_48BD90(1);
  }
}

//----- (0048B6B0) --------------------------------------------------------
int __cdecl sub_48B6B0(int a1, int a2, int a3)
{
  int result; // eax
  __int64 v4; // rax
  unsigned __int64 v5; // rax
  unsigned __int64 v6; // rax

  if ( !*(_DWORD *)&byte_5D4594[3798724] )
    return sub_433CD0(a1, a2, a3);
  result = (unsigned __int8)a1;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 136) = (unsigned __int8)a1;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 140) = (unsigned __int8)a2;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 144) = (unsigned __int8)a3;
  if ( *(_DWORD *)&byte_5D4594[3801804] )
  {
    v4 = (unsigned __int8)a1 | ((unsigned __int8)a1 << 16);
    HIDWORD(v4) = 0;
    v4 <<= 16;
    LODWORD(v4) = (unsigned __int8)a1 | (unsigned int)v4;
    v4 <<= 16;
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 112) = (unsigned __int8)a1 | (unsigned int)v4;
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 116) = HIDWORD(v4);
    v5 = ((unsigned __int8)a2 | (((unsigned __int8)a2 | ((unsigned __int64)(unsigned __int8)a2 << 16)) << 16)) << 16;
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 120) = (unsigned __int8)a2 | (unsigned int)v5;
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 124) = HIDWORD(v5);
    v6 = ((unsigned __int8)a3 | (((unsigned __int8)a3 | ((unsigned __int64)(unsigned __int8)a3 << 16)) << 16)) << 16;
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 128) = (unsigned __int8)a3 | (unsigned int)v6;
    result = *(_DWORD *)&byte_5D4594[3799572];
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 132) = HIDWORD(v6);
  }
  return result;
}

//----- (0048B800) --------------------------------------------------------
int __cdecl sub_48B800(int a1)
{
  int v2; // [esp+0h] [ebp-8h]
  int v3; // [esp+4h] [ebp-4h]

  sub_434480(a1, (int)&v3, (int)&v2, (int)&a1);
  return sub_48B6B0(v3, v2, a1);
}

//----- (0048BD90) --------------------------------------------------------
void __cdecl sub_48BD90(int a1)
{
  EnterCriticalSection((LPCRITICAL_SECTION)&byte_5D4594[3799596]);
  if ( !a1 )
    SetRect((LPRECT)&byte_5D4594[1193532], 0, 0, 0, 0);
  *(_DWORD *)&byte_5D4594[1193664] = 1;
  *(_DWORD *)&byte_5D4594[1193668] = 1;
  *(_DWORD *)&byte_5D4594[1193624] = 0;
  LeaveCriticalSection((LPCRITICAL_SECTION)&byte_5D4594[3799596]);
}

//----- (0048BE50) --------------------------------------------------------
int __cdecl sub_48BE50(int a1)
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[1193660];
  if ( *(_DWORD *)&byte_5D4594[1193660] )
  {
    result = *(_DWORD *)&byte_5D4594[3798724];
    if ( *(_DWORD *)&byte_5D4594[3798724] )
    {
      result = a1;
      *(_DWORD *)&byte_5D4594[1193676] = a1;
    }
  }
  return result;
}

//----- (0048BE70) --------------------------------------------------------
int sub_48BE70()
{
  *(_DWORD *)&byte_5D4594[1193680] = 1;
  *(_DWORD *)&byte_5D4594[1193656] = _beginthread(sub_48BEB0, 0, 0);
  if ( *(int *)&byte_5D4594[1193656] != -1 )
    return 1;
  *(_DWORD *)&byte_5D4594[1193656] = 0;
  return 0;
}

//----- (0048BEB0) --------------------------------------------------------
int sub_48BEB0()
{
  int result; // eax
  int2 *v1; // esi
  int v2; // [esp-14h] [ebp-14h]
  int v3; // [esp-10h] [ebp-10h]
  int v4; // [esp-Ch] [ebp-Ch]

  for ( result = *(_DWORD *)&byte_5D4594[1193680];
        *(_DWORD *)&byte_5D4594[1193680];
        result = *(_DWORD *)&byte_5D4594[1193680] )
  {
    Sleep(0x21u);
    if ( !*(_DWORD *)&byte_5D4594[1193676]
      && *(_DWORD *)&byte_5D4594[1193660]
      && *(_DWORD *)&byte_5D4594[823776]
      && *(_DWORD *)&byte_5D4594[1193672]
      && *(_DWORD *)&byte_5D4594[1193108]
      && *(_DWORD *)&byte_5D4594[787144]
      && !sub_430890() )
    {
      sub_4306A0(0);
      v1 = sub_4309F0();
      if ( sub_477620() == 10 )
      {
        v4 = v1->field_4 - 64;
        v3 = v1->field_0 - 64;
        v2 = sub_477FF0();
        sub_48B3F0(v2, v3, v4);
      }
      else
      {
        sub_48B3F0(0, v1->field_0 - 64, v1->field_4 - 64);
      }
      sub_48B5D0(1, 1);
    }
  }
  return result;
}

//----- (0048C0C0) --------------------------------------------------------
int __cdecl sub_48C0C0(int a1, _DWORD *a2, _DWORD *a3)
{
  int result; // eax
  _DWORD *v4; // eax
  _DWORD *v5; // eax

  result = (*(int (__cdecl **)(_DWORD))&byte_5D4594[3799492])(a1);
  *(_DWORD *)&byte_5D4594[1193516] = result;
  if ( result )
  {
    v4 = (_DWORD *)(result + 8);
    *(_DWORD *)&byte_5D4594[1193516] = v4;
    *a2 -= *v4;
    v5 = (_DWORD *)(*(_DWORD *)&byte_5D4594[1193516] + 4);
    *(_DWORD *)&byte_5D4594[1193516] = v5;
    *a3 -= *v5;
    result = 1;
  }
  return result;
}

//----- (0048C170) --------------------------------------------------------
int __cdecl sub_48C170(int4 *a1, int4 *a2)
{
  int result; // eax

  if ( byte_5D4594[3801772] & 0x10 )
  {
    a1->field_0 = *(_DWORD *)&byte_5D4594[1193684] * a2->field_0 / *(_DWORD *)&byte_5D4594[3801784];
    a1->field_8 = *(_DWORD *)&byte_5D4594[1193684] * a2->field_8 / *(_DWORD *)&byte_5D4594[3801784];
    a1->field_4 = *(_DWORD *)&byte_5D4594[1193688] * a2->field_4 / *(_DWORD *)&byte_5D4594[3801788];
    result = *(_DWORD *)&byte_5D4594[1193688] * a2->field_C / *(_DWORD *)&byte_5D4594[3801788];
  }
  else
  {
    a1->field_0 = a2->field_0;
    a1->field_8 = a2->field_8;
    a1->field_4 = a2->field_4;
    result = a2->field_C;
  }
  a1->field_C = result;
  return result;
}

//----- (0048C420) --------------------------------------------------------
char sub_48C420()
{
  _BYTE *v0; // esi
  _BYTE *v1; // edi
  unsigned __int8 v2; // dl
  int v3; // ecx
  int v4; // eax
  int v6; // edx
  int v7; // edx

  v0 = *(_BYTE **)&byte_5D4594[1193516];
  v1 = *(_BYTE **)&byte_5D4594[1193584];
  v2 = byte_5D4594[1193520];
  v3 = *(_DWORD *)&byte_5D4594[1193520] >> 2;
  if ( *(_DWORD *)&byte_5D4594[1193520] >> 2 )
  {
    do
    {
      v4 = *(_DWORD *)v0;
      v0 += 4;
      *(_DWORD *)v1 = v4;
      v1 += 4;
    }
    while ( v3-- > 1 );
  }
  v6 = v2 & 3;
  if ( v6 )
  {
    LOBYTE(v4) = *v0++;
    *v1++ = v4;
    v7 = v6 - 1;
    if ( v7 )
    {
      LOBYTE(v4) = *v0++;
      *v1++ = v4;
      if ( v7 != 1 )
      {
        LOBYTE(v4) = *v0++;
        *v1++ = v4;
      }
    }
  }
  *(_DWORD *)&byte_5D4594[1193516] = v0;
  *(_DWORD *)&byte_5D4594[1193584] = v1;
  return v4;
}

//----- (0048C480) --------------------------------------------------------
__int16 sub_48C480()
{
  int *v0; // esi
  _DWORD *v1; // edi
  char v2; // cf
  int v3; // ecx
  int v4; // eax

  v0 = *(int **)&byte_5D4594[1193516];
  v1 = *(_DWORD **)&byte_5D4594[1193584];
  v2 = byte_5D4594[1193520] & 1;
  v3 = *(_DWORD *)&byte_5D4594[1193520] >> 1;
  if ( *(_DWORD *)&byte_5D4594[1193520] >> 1 )
  {
    do
    {
      v4 = *v0;
      ++v0;
      *v1 = v4;
      ++v1;
    }
    while ( v3-- > 1 );
  }
  if ( v2 )
  {
    LOWORD(v4) = *(_WORD *)v0;
    v0 = (int *)((char *)v0 + 2);
    *(_WORD *)v1 = v4;
    v1 = (_DWORD *)((char *)v1 + 2);
  }
  *(_DWORD *)&byte_5D4594[1193516] = v0;
  *(_DWORD *)&byte_5D4594[1193584] = v1;
  return v4;
}

//----- (0048C4D0) --------------------------------------------------------
int sub_48C4D0()
{
  unsigned __int16 *v0; // esi
  _WORD *v1; // edi
  unsigned __int16 v2; // ax
  int v3; // eax
  int result; // eax
  int v6; // [esp-4h] [ebp-10h]

  v0 = *(unsigned __int16 **)&byte_5D4594[1193516];
  v1 = *(_WORD **)&byte_5D4594[1193584];
  v6 = *(_DWORD *)&byte_5D4594[1193520];
  do
  {
    v2 = *v0;
    ++v0;
    v3 = (unsigned __int8)*(_DWORD *)(*(_DWORD *)&byte_5D4594[3804668] + v2);
    result = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3804672]
                       + 2 * ((unsigned int)(*(_DWORD *)&byte_5D4594[3800852] * v3) >> 8)) | *(_DWORD *)(*(_DWORD *)&byte_5D4594[3804656] + 2 * ((unsigned int)(*(_DWORD *)&byte_5D4594[3800856] * v3) >> 8)) | *(_DWORD *)(*(_DWORD *)&byte_5D4594[3804664] + 2 * ((unsigned int)(*(_DWORD *)&byte_5D4594[3800860] * v3) >> 8));
    *v1 = result;
    ++v1;
  }
  while ( (*(_DWORD *)&byte_5D4594[1193520])-- > 1 );
  *(_DWORD *)&byte_5D4594[1193520] = v6;
  *(_DWORD *)&byte_5D4594[1193516] = v0;
  *(_DWORD *)&byte_5D4594[1193584] = v1;
  return result;
}

//----- (0048C560) --------------------------------------------------------
int sub_48C560()
{
  return 1;
}

//----- (0048C580) --------------------------------------------------------
unsigned __int32 __cdecl sub_48C580(unsigned __int32 *a1, int a2)
{
  unsigned __int32 *v2; // edi
  int v3; // ecx
  volatile signed __int32 *v4; // ebx
  volatile unsigned __int32 result; // eax

  v2 = a1;
  v3 = a2;
  do
  {
    v4 = (volatile signed __int32 *)&v2[v3];
    result = *v2;
    do
    {
      --v4;
      if ( result > *v4 )
        result = InterlockedExchange(v4, result);
    }
    while ( v4 != (volatile signed __int32 *)v2 );
    *v2 = result;
    ++v2;
    --v3;
  }
  while ( v3 );
  return result;
}

//----- (0048C5B0) --------------------------------------------------------
__int16 __cdecl sub_48C5B0(__int16 *a1, int a2)
{
  __int16 *v2; // edi
  int v3; // ecx
  __int16 *v4; // ebx
  __int16 result; // ax
  __int16 v6; // t0

  v2 = a1;
  v3 = a2;
  do
  {
    v4 = &v2[v3];
    result = *v2;
    do
    {
      --v4;
      if ( result > *v4 )
      {
        v6 = result;
        result = *v4;
        *v4 = v6;
      }
    }
    while ( v4 != v2 );
    *v2 = result;
    ++v2;
    --v3;
  }
  while ( v3 );
  return result;
}

//----- (0048C5E0) --------------------------------------------------------
int __cdecl sub_48C5E0(int a1, int a2)
{
  unsigned int v2; // eax
  int v3; // ecx
  bool v4; // tt

  v2 = *(_DWORD *)&byte_587000[156212];
  v3 = 32;
  do
  {
    v4 = __CFSHL__(v2, 1);
    v2 = __ROL4__(v2, 1);
    if ( v4 )
      v2 ^= 0xA0Au;
    --v3;
  }
  while ( v3 );
  *(_DWORD *)&byte_587000[156212] = v2;
  return a1 + (((unsigned int)(a2 - a1) * (unsigned __int64)v2) >> 32);
}

//----- (0048C610) --------------------------------------------------------
__int16 sub_48C610()
{
  int v0; // eax
  int v1; // ecx
  bool v2; // tt

  v0 = *(_DWORD *)&byte_587000[156216];
  v1 = 16;
  do
  {
    v2 = __CFSHL__(v0, 1);
    LOWORD(v0) = __ROL2__(v0, 1);
    if ( v2 )
      v0 ^= 0xAu;
    --v1;
  }
  while ( v1 );
  *(_DWORD *)&byte_587000[156216] = v0;
  return v0;
}

//----- (0048C650) --------------------------------------------------------
_DWORD *__cdecl sub_48C650(int a1, int a2, int a3, _DWORD *a4, _DWORD *a5)
{
  int v5; // eax
  _DWORD *result; // eax

  v5 = sub_48C5E0(a1, a2);
  sub_4AEDA0(&a2, &a1, v5, a3);
  *a4 += a2;
  result = a5;
  *a5 += a1;
  return result;
}

//----- (0048C690) --------------------------------------------------------
unsigned int __cdecl sub_48C690(int a1, int a2, int a3, int a4)
{
  return sub_48C730((a3 - a1) * (a3 - a1) + (a4 - a2) * (a4 - a2));
}

//----- (0048C6B0) --------------------------------------------------------
unsigned int __cdecl sub_48C6B0(int a1, int a2)
{
  return sub_48C730(a2 * a2 + a1 * a1);
}

//----- (0048C6D0) --------------------------------------------------------
double __cdecl sub_48C6D0(float a1, float a2, float a3, float a4)
{
  return (double)sub_48C730((__int64)((a3 - a1) * (a3 - a1) + (a4 - a2) * (a4 - a2)));
}
// 48C6F6: variable 'v4' is possibly undefined

//----- (0048C700) --------------------------------------------------------
double __cdecl sub_48C700(float a1, float a2)
{
  return (double)sub_48C730((__int64)(a1 * a1 + a2 * a2));
}
// 48C722: variable 'v2' is possibly undefined

//----- (0048C730) --------------------------------------------------------
unsigned __fastcall sub_48C730(unsigned int a1)
{
  unsigned int v1; // eax
  int result; // eax
  unsigned int v3; // eax
  unsigned int v4; // eax
  unsigned int v5; // eax
  unsigned int v6; // eax
  unsigned int v7; // eax
  unsigned int v8; // eax
  unsigned int v9; // eax
  unsigned int v10; // eax
  unsigned int v11; // eax
  unsigned int v12; // eax
  unsigned int v13; // eax
  unsigned int v14; // eax
  unsigned int v15; // eax

  v1 = a1;
  if ( a1 < 0x10000 )
  {
    if ( a1 < 0x100 )
    {
      if ( a1 < 0x10 )
      {
        if ( a1 < 4 )
        {
          v15 = a1 << 6;
          LOBYTE(v15) = byte_587000[155956 + 64 * a1];
          result = v15 >> 7;
        }
        else
        {
          v14 = 16 * a1;
          LOBYTE(v14) = byte_587000[155956 + 16 * a1];
          result = v14 >> 6;
        }
      }
      else if ( a1 < 0x40 )
      {
        v13 = 4 * a1;
        LOBYTE(v13) = byte_587000[155956 + 4 * a1];
        result = v13 >> 5;
      }
      else
      {
        LOBYTE(v1) = byte_587000[155956 + a1];
        result = v1 >> 4;
      }
    }
    else if ( a1 < 0x1000 )
    {
      if ( a1 < 0x400 )
      {
        v12 = a1 >> 2;
        LOBYTE(v12) = byte_587000[155956 + a1 >> 2];
        result = v12 >> 3;
      }
      else
      {
        v11 = a1 >> 4;
        LOBYTE(v11) = byte_587000[155956 + a1 >> 4];
        result = v11 >> 2;
      }
    }
    else if ( a1 < 0x4000 )
    {
      v10 = a1 >> 6;
      LOBYTE(v10) = byte_587000[155956 + a1 >> 6];
      result = v10 >> 1;
    }
    else
    {
      result = a1 >> 8;
      LOBYTE(result) = byte_587000[155956 + a1 >> 8];
    }
  }
  else if ( a1 < 0x1000000 )
  {
    if ( a1 < 0x100000 )
    {
      if ( a1 < 0x40000 )
      {
        v9 = a1 >> 10;
        LOBYTE(v9) = byte_587000[155956 + a1 >> 10];
        result = 2 * v9;
      }
      else
      {
        v8 = a1 >> 12;
        LOBYTE(v8) = byte_587000[155956 + a1 >> 12];
        result = 4 * v8;
      }
    }
    else if ( a1 < 0x400000 )
    {
      v7 = a1 >> 14;
      LOBYTE(v7) = byte_587000[155956 + a1 >> 14];
      result = 8 * v7;
    }
    else
    {
      v6 = a1 >> 16;
      LOBYTE(v6) = byte_587000[155956 + a1 >> 16];
      result = 16 * v6;
    }
  }
  else if ( a1 < 0x10000000 )
  {
    if ( a1 < 0x4000000 )
    {
      v5 = a1 >> 18;
      LOBYTE(v5) = byte_587000[155956 + a1 >> 18];
      result = 32 * v5;
    }
    else
    {
      v4 = a1 >> 20;
      LOBYTE(v4) = byte_587000[155956 + a1 >> 20];
      result = v4 << 6;
    }
  }
  else if ( a1 < 0x40000000 )
  {
    v3 = a1 >> 22;
    LOBYTE(v3) = byte_587000[155956 + a1 >> 22];
    result = v3 << 7;
  }
  else
  {
    result = (unsigned __int8)byte_587000[155956 + a1 >> 24] << 8;
  }
  return result;
}

//----- (0048C870) --------------------------------------------------------
int __cdecl sub_48C870(LPSTR a1)
{
  int v1; // esi
  unsigned __int8 *v2; // ebx
  struct _OSVERSIONINFOA VersionInformation; // [esp+Ch] [ebp-94h]

  memset(&VersionInformation, 0, sizeof(VersionInformation));
  v1 = 0;
  v2 = &byte_587000[156220];
  VersionInformation.dwOSVersionInfoSize = 148;
  if ( GetVersionExA(&VersionInformation) )
  {
    if ( VersionInformation.dwPlatformId )
    {
      if ( VersionInformation.dwPlatformId == 1 )
      {
        if ( VersionInformation.dwMajorVersion > 4
          || VersionInformation.dwMajorVersion == 4 && VersionInformation.dwMinorVersion )
        {
          v1 = 4;
          v2 = &byte_587000[156240];
        }
        else if ( LOWORD(VersionInformation.dwBuildNumber) <= 0x3E8u )
        {
          v1 = 2;
          v2 = &byte_587000[156268];
        }
        else
        {
          v1 = 3;
          v2 = &byte_587000[156252];
        }
      }
      else if ( VersionInformation.dwPlatformId == 2 )
      {
        v1 = 5;
        v2 = &byte_587000[156280];
      }
    }
    else
    {
      v1 = 1;
      v2 = &byte_587000[156228];
    }
  }
  if ( a1 )
    nox_wsprintfA(
      a1,
      (LPCSTR)&byte_587000[156292],
      VersionInformation.dwMajorVersion,
      VersionInformation.dwMinorVersion,
      LOWORD(VersionInformation.dwBuildNumber),
      v2);
  return v1;
}

//----- (0048C980) --------------------------------------------------------
int sub_48C980()
{
  *(_DWORD *)&byte_5D4594[1193716] = sub_42F970((const char *)&byte_587000[156332]);
  *(_DWORD *)&byte_5D4594[1193712] = sub_46C3E0(
                                       0,
                                       136,
                                       *(_DWORD *)&byte_5D4594[3805496] - 50,
                                       *(int *)&byte_5D4594[3807120] / 2 - 100,
                                       50,
                                       50,
                                       0);
  sub_46AE60(*(int *)&byte_5D4594[1193712], *(int *)&byte_5D4594[1193716]);
  sub_46B430(*(_DWORD **)&byte_5D4594[1193712], 0, sub_48C9F0, 0);
  return 1;
}

//----- (0048C9F0) --------------------------------------------------------
int __cdecl sub_48C9F0(int *a1)
{
  int *v1; // esi
  wchar_t *v2; // eax
  int v4; // [esp+4h] [ebp-4h]

  v1 = a1;
  sub_46AA60(a1, &v4, &a1);
  v4 += v1[24];
  a1 = (int *)((char *)a1 + v1[25]);
  if ( *(_DWORD *)&byte_5D4594[2618908] )
  {
    v2 = sub_40F1D0((char *)&byte_587000[156384], 0, (const char *)&byte_587000[156348], 41);
    sub_46B000((wchar_t *)(*(_DWORD *)&byte_5D4594[1193712] + 36), v2);
    sub_47D2C0(v1[15], v4, (int)a1);
  }
  return 1;
}

//----- (0048CA70) --------------------------------------------------------
int __cdecl sub_48CA70(int a1)
{
  return sub_46AC00(*(int *)&byte_5D4594[1193712], a1);
}

//----- (0048CA90) --------------------------------------------------------
BOOL sub_48CA90()
{
  return *(_DWORD *)&byte_5D4594[1193712] && !sub_46ACC0(*(int *)&byte_5D4594[1193712]);
}

//----- (0048CAB0) --------------------------------------------------------
int sub_48CAB0()
{
  int result; // eax

  result = sub_46C4E0(*(_DWORD **)&byte_5D4594[1193712]);
  *(_DWORD *)&byte_5D4594[1193712] = 0;
  return result;
}

//----- (0048CAD0) --------------------------------------------------------
int sub_48CAD0()
{
  if ( sub_46ACC0(*(int *)&byte_5D4594[1197312]) )
    return 0;
  sub_46C6E0(*(int *)&byte_5D4594[1197312]);
  sub_46AC00(*(int *)&byte_5D4594[1197312], 1);
  return 1;
}

//----- (0048CB10) --------------------------------------------------------
_DWORD *__cdecl sub_48CB10(int a1)
{
  _DWORD *result; // eax
  wchar_t *v2; // eax
  _DWORD *v3; // esi
  wchar_t *v4; // eax
  wchar_t *v5; // eax
  wchar_t *v6; // eax
  wchar_t *v7; // eax
  wchar_t *v8; // eax
  _DWORD *v9; // esi
  wchar_t *v10; // eax
  wchar_t *v11; // eax
  wchar_t *v12; // eax
  _DWORD *v13; // esi
  wchar_t *v14; // eax
  _DWORD *v15; // eax
  char *v16; // ebx
  char *i; // ebp
  _DWORD *v18; // eax
  int v19; // esi
  const wchar_t *v20; // ebx
  char *j; // ebp
  int v22; // esi
  const wchar_t *v23; // edi
  wchar_t *v24; // [esp-10h] [ebp-228h]
  int v25; // [esp+10h] [ebp-208h]
  char *v26; // [esp+14h] [ebp-204h]
  wchar_t v27[256]; // [esp+18h] [ebp-200h]

  v25 = 0;
  sub_46B490(*(int *)&byte_5D4594[1197316], 16399, 0, 0);
  sub_46B490(*(int *)&byte_5D4594[1197320], 16399, 0, 0);
  result = (_DWORD *)a1;
  *(_DWORD *)&byte_5D4594[1197308] = a1;
  switch ( a1 )
  {
    case 4:
      if ( *(_DWORD *)&byte_5D4594[2618908] && !*(_DWORD *)(*(_DWORD *)&byte_5D4594[2618908] + 4792) )
      {
        v24 = sub_40F1D0((char *)&byte_587000[156516], 0, (const char *)&byte_587000[156480], 452);
        v2 = sub_40F1D0((char *)&byte_587000[156580], 0, (const char *)&byte_587000[156544], 451);
        return sub_449A10(0, (int)v2, (int)v24, 33, 0, 0);
      }
      sub_46AC00(*(int *)&byte_5D4594[1197316], 1);
      sub_46AC00(*(int *)&byte_5D4594[1197320], 0);
      v3 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1197312], 4301);
      v4 = sub_40F1D0((char *)&byte_587000[156632], 0, (const char *)&byte_587000[156596], 465);
      sub_46AEE0((int)v3, (int)v4);
      v5 = sub_40F1D0((char *)&byte_587000[156684], 0, (const char *)&byte_587000[156648], 468);
      nox_wcscpy(v27, v5);
      nox_wcscat(v27, (const wchar_t *)&byte_587000[156700]);
      v6 = sub_40F1D0((char *)&byte_587000[156740], 0, (const char *)&byte_587000[156704], 470);
      nox_wcscat(v27, v6);
      sub_46B490(*(int *)&byte_5D4594[1197320], 16397, (int)v27, 4);
      v7 = sub_40F1D0((char *)&byte_587000[156792], 0, (const char *)&byte_587000[156756], 474);
      nox_wcscpy(v27, v7);
      nox_wcscat(v27, (const wchar_t *)&byte_587000[156808]);
      v8 = sub_40F1D0((char *)&byte_587000[156848], 0, (const char *)&byte_587000[156812], 476);
      nox_wcscat(v27, v8);
      sub_46B490(*(int *)&byte_5D4594[1197320], 16397, (int)v27, 4);
      return (_DWORD *)sub_46A8C0(*(int *)&byte_5D4594[1197312]);
    case 2:
      sub_46AC00(*(int *)&byte_5D4594[1197316], 1);
      sub_46AC00(*(int *)&byte_5D4594[1197320], 0);
      v9 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1197312], 4301);
      v10 = sub_40F1D0((char *)&byte_587000[156900], 0, (const char *)&byte_587000[156864], 491);
      sub_46AEE0((int)v9, (int)v10);
      v11 = sub_40F1D0((char *)&byte_587000[156952], 0, (const char *)&byte_587000[156916], 495);
      sub_46B490(*(int *)&byte_5D4594[1197320], 16397, (int)v11, 4);
      v12 = sub_40F1D0((char *)&byte_587000[157004], 0, (const char *)&byte_587000[156968], 498);
      sub_46B490(*(int *)&byte_5D4594[1197320], 16397, (int)v12, 4);
      if ( *(_DWORD *)&byte_5D4594[1197332] == 1 )
        sub_46B490(*(int *)&byte_5D4594[1197320], 16403, 0, 0);
      else
        sub_46B490(*(int *)&byte_5D4594[1197320], 16403, 1, 0);
      return (_DWORD *)sub_46A8C0(*(int *)&byte_5D4594[1197312]);
    case 0:
    case 1:
    case 3:
      sub_46AC00(*(int *)&byte_5D4594[1197316], 0);
      sub_46AC00(*(int *)&byte_5D4594[1197320], 1);
      v13 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1197312], 4301);
      v14 = sub_40F1D0((char *)&byte_587000[157056], 0, (const char *)&byte_587000[157020], 520);
      sub_46AEE0((int)v13, (int)v14);
      if ( sub_417DD0() )
      {
        v15 = sub_418C80(*(int *)&byte_5D4594[2616328]);
        v16 = sub_418AB0(*((unsigned __int8 *)v15 + 4));
        v26 = v16;
        if ( v16 )
        {
          for ( i = sub_416EA0(); i; i = sub_416EE0((int)i) )
          {
            if ( i != *(char **)&byte_5D4594[2618908] )
            {
              v18 = sub_418C80(*((_DWORD *)i + 515));
              if ( v18 )
              {
                if ( sub_419180((int)v18, v16[57]) )
                {
                  sub_46B490(
                    *(int *)&byte_5D4594[1197316],
                    16397,
                    (int)(i + 4704),
                    *(_DWORD *)&byte_587000[8 * ((unsigned __int8)v16[57] % 10) + 156400]);
                  v19 = 0;
                  if ( *(_DWORD *)&byte_5D4594[1197324] > 0 )
                  {
                    v20 = (const wchar_t *)&byte_5D4594[1193720];
                    do
                    {
                      if ( !nox_wcscmp(v20, (const wchar_t *)i + 2352) )
                        sub_46B490(*(int *)&byte_5D4594[1197316], 16405, v25, 0);
                      ++v19;
                      v20 += 28;
                    }
                    while ( v19 < *(int *)&byte_5D4594[1197324] );
                    v16 = v26;
                  }
                  ++v25;
                }
              }
            }
          }
        }
      }
      else
      {
        for ( j = sub_416EA0(); j; j = sub_416EE0((int)j) )
        {
          if ( j != *(char **)&byte_5D4594[2618908] )
          {
            sub_46B490(*(int *)&byte_5D4594[1197316], 16397, (int)(j + 4704), 4);
            v22 = 0;
            if ( *(_DWORD *)&byte_5D4594[1197324] > 0 )
            {
              v23 = (const wchar_t *)&byte_5D4594[1193720];
              do
              {
                if ( !nox_wcscmp(v23, (const wchar_t *)j + 2352) )
                  sub_46B490(*(int *)&byte_5D4594[1197316], 16405, v25, 0);
                ++v22;
                v23 += 28;
              }
              while ( v22 < *(int *)&byte_5D4594[1197324] );
            }
            ++v25;
          }
        }
      }
      return (_DWORD *)sub_46A8C0(*(int *)&byte_5D4594[1197312]);
  }
  return result;
}

//----- (0048D000) --------------------------------------------------------
int sub_48D000()
{
  _DWORD *v0; // eax

  v0 = sub_4A0AD0((const char *)&byte_587000[157072], sub_48D0A0);
  *(_DWORD *)&byte_5D4594[1197312] = v0;
  if ( !v0 )
    return 0;
  *(_DWORD *)&byte_5D4594[1197316] = sub_46B0C0(v0, 4320);
  *(_DWORD *)&byte_5D4594[1197320] = sub_46B0C0(*(_DWORD **)&byte_5D4594[1197312], 4321);
  sub_46A9B0(
    *(_DWORD **)&byte_5D4594[1197312],
    (*(int *)&byte_5D4594[3805496] - *(int *)(*(_DWORD *)&byte_5D4594[1197312] + 8)) / 2,
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1197312] + 20));
  sub_46AC00(*(int *)&byte_5D4594[1197312], 1);
  *(_DWORD *)&byte_5D4594[1197324] = 0;
  *(_DWORD *)&byte_5D4594[1197328] = 0;
  *(_DWORD *)&byte_5D4594[1197332] = 0;
  *(_DWORD *)&byte_5D4594[1197336] = 0;
  return 1;
}

//----- (0048D0A0) --------------------------------------------------------
int __cdecl sub_48D0A0(int a1, int a2, int *a3, int a4)
{
  int v4; // eax

  if ( a2 != 16391 )
    return 0;
  v4 = sub_46B0A0(a3) - 4311;
  if ( v4 )
  {
    if ( v4 == 1 )
    {
LABEL_14:
      sub_48CAD0();
      goto LABEL_15;
    }
  }
  else
  {
    if ( *(_DWORD *)&byte_5D4594[1197308] != 4 )
    {
      if ( *(_DWORD *)&byte_5D4594[1197308] == 2 )
      {
        sub_48D340();
      }
      else
      {
        if ( *(_DWORD *)&byte_5D4594[1197308]
          && *(_DWORD *)&byte_5D4594[1197308] != 1
          && *(_DWORD *)&byte_5D4594[1197308] != 3 )
        {
          goto LABEL_15;
        }
        sub_48D120();
      }
      goto LABEL_14;
    }
    sub_48D410();
  }
LABEL_15:
  sub_452D80(921, 100);
  return 1;
}

//----- (0048D120) --------------------------------------------------------
int sub_48D120()
{
  int v0; // ebp
  int *v1; // eax
  int *v2; // esi
  int i; // eax
  const wchar_t *v4; // eax
  wchar_t *v5; // ebx
  int v6; // esi
  const wchar_t *v7; // edi
  int result; // eax
  int v9; // ebp
  wchar_t *v10; // ebx
  int v11; // esi
  const wchar_t *v12; // edi

  v0 = 0;
  *(_DWORD *)&byte_5D4594[1197328] = *(_DWORD *)&byte_5D4594[1197324];
  qmemcpy(&byte_5D4594[1195512], &byte_5D4594[1193720], 0x700u);
  *(_DWORD *)&byte_5D4594[1197324] = 0;
  v1 = (int *)sub_46B490(*(int *)&byte_5D4594[1197316], 16404, 0, 0);
  v2 = v1;
  for ( i = *v1; i != -1; ++v2 )
  {
    v4 = (const wchar_t *)sub_46B490(*(int *)&byte_5D4594[1197316], 16406, i, 0);
    if ( v4 )
    {
      nox_wcscpy((wchar_t *)&byte_5D4594[56 * *(_DWORD *)&byte_5D4594[1197324] + 1193720], v4);
      ++*(_DWORD *)&byte_5D4594[1197324];
    }
    i = v2[1];
  }
  if ( *(int *)&byte_5D4594[1197328] > 0 )
  {
    v5 = (wchar_t *)&byte_5D4594[1195512];
    do
    {
      v6 = 0;
      if ( *(int *)&byte_5D4594[1197324] <= 0 )
      {
LABEL_11:
        sub_48D260(v5);
      }
      else
      {
        v7 = (const wchar_t *)&byte_5D4594[1193720];
        while ( nox_wcscmp(v5, v7) )
        {
          ++v6;
          v7 += 28;
          if ( v6 >= *(int *)&byte_5D4594[1197324] )
            goto LABEL_11;
        }
      }
      ++v0;
      v5 += 28;
    }
    while ( v0 < *(int *)&byte_5D4594[1197328] );
  }
  result = *(_DWORD *)&byte_5D4594[1197324];
  v9 = 0;
  if ( *(int *)&byte_5D4594[1197324] > 0 )
  {
    v10 = (wchar_t *)&byte_5D4594[1193720];
    do
    {
      v11 = 0;
      if ( *(int *)&byte_5D4594[1197328] <= 0 )
      {
LABEL_19:
        sub_48D2D0(v10);
      }
      else
      {
        v12 = (const wchar_t *)&byte_5D4594[1195512];
        while ( nox_wcscmp(v10, v12) )
        {
          ++v11;
          v12 += 28;
          if ( v11 >= *(int *)&byte_5D4594[1197328] )
            goto LABEL_19;
        }
      }
      result = *(_DWORD *)&byte_5D4594[1197324];
      ++v9;
      v10 += 28;
    }
    while ( v9 < *(int *)&byte_5D4594[1197324] );
  }
  return result;
}

//----- (0048D260) --------------------------------------------------------
char *__cdecl sub_48D260(wchar_t *a1)
{
  char *result; // eax
  int v2; // esi
  char v3[52]; // [esp+8h] [ebp-34h]

  result = sub_416EA0();
  v2 = (int)result;
  if ( result )
  {
    while ( nox_wcscmp((const wchar_t *)(v2 + 4704), a1) )
    {
      result = sub_416EE0(v2);
      v2 = (int)result;
      if ( !result )
        return result;
    }
    *(_WORD *)v3 = 750;
    nox_wcscpy((wchar_t *)&v3[2], a1);
    result = (char *)sub_40EBC0(31, 0, v3, 52);
  }
  return result;
}

//----- (0048D2D0) --------------------------------------------------------
char *__cdecl sub_48D2D0(wchar_t *a1)
{
  char *result; // eax
  int v2; // esi
  char v3[52]; // [esp+8h] [ebp-34h]

  result = sub_416EA0();
  v2 = (int)result;
  if ( result )
  {
    while ( nox_wcscmp((const wchar_t *)(v2 + 4704), a1) )
    {
      result = sub_416EE0(v2);
      v2 = (int)result;
      if ( !result )
        return result;
    }
    *(_WORD *)v3 = 238;
    nox_wcscpy((wchar_t *)&v3[2], a1);
    result = (char *)sub_40EBC0(31, 0, v3, 52);
  }
  return result;
}

//----- (0048D340) --------------------------------------------------------
int sub_48D340()
{
  int result; // eax

  if ( sub_46B490(*(int *)&byte_5D4594[1197320], 16404, 0, 0) )
  {
    result = 0;
    *(_DWORD *)&byte_5D4594[1197332] = 0;
    if ( *(_DWORD *)&byte_5D4594[1197336] == 1 )
    {
      result = sub_48D3E0();
      *(_DWORD *)&byte_5D4594[1197336] = *(_DWORD *)&byte_5D4594[1197332];
      return result;
    }
  }
  else
  {
    result = 1;
    *(_DWORD *)&byte_5D4594[1197332] = 1;
    if ( !*(_DWORD *)&byte_5D4594[1197336] )
    {
      result = sub_48D3B0();
      *(_DWORD *)&byte_5D4594[1197336] = *(_DWORD *)&byte_5D4594[1197332];
      return result;
    }
  }
  *(_DWORD *)&byte_5D4594[1197336] = result;
  return result;
}

//----- (0048D3B0) --------------------------------------------------------
int sub_48D3B0()
{
  char v1[2]; // [esp+0h] [ebp-2h]

  v1[0] = -18;
  v1[1] = 4;
  return sub_4E53C0(31, v1, 2, 0, 1);
}

//----- (0048D3E0) --------------------------------------------------------
int sub_48D3E0()
{
  char v1[2]; // [esp+0h] [ebp-2h]

  v1[0] = -18;
  v1[1] = 5;
  return sub_4E53C0(31, v1, 2, 0, 1);
}

//----- (0048D410) --------------------------------------------------------
_DWORD *sub_48D410()
{
  _DWORD *result; // eax

  result = (_DWORD *)sub_46B490(*(int *)&byte_5D4594[1197320], 16404, 0, 0);
  if ( !result )
    return sub_48CB10(2);
  if ( result == (_DWORD *)1 )
    result = sub_48CB10(3);
  return result;
}

//----- (0048D450) --------------------------------------------------------
int sub_48D450()
{
  int result; // eax

  sub_46C6E0(*(int *)&byte_5D4594[1197312]);
  sub_46ADE0(*(int *)&byte_5D4594[1197312]);
  sub_46C4E0(*(_DWORD **)&byte_5D4594[1197312]);
  result = 0;
  *(_DWORD *)&byte_5D4594[1197312] = 0;
  *(_DWORD *)&byte_5D4594[1197316] = 0;
  *(_DWORD *)&byte_5D4594[1197320] = 0;
  *(_DWORD *)&byte_5D4594[1197324] = 0;
  *(_DWORD *)&byte_5D4594[1197328] = 0;
  *(_DWORD *)&byte_5D4594[1197332] = 0;
  *(_DWORD *)&byte_5D4594[1197336] = 0;
  return result;
}

//----- (0048D4A0) --------------------------------------------------------
int sub_48D4A0()
{
  int result; // eax

  result = 0;
  *(_DWORD *)&byte_5D4594[1197332] = 0;
  *(_DWORD *)&byte_5D4594[1197336] = 0;
  return result;
}

//----- (0048D4B0) --------------------------------------------------------
int __cdecl sub_48D4B0(int a1)
{
  int result; // eax

  *(_DWORD *)&byte_5D4594[1197304] = a1;
  if ( a1 == 1 )
    result = sub_4C3460(0);
  else
    result = sub_4C3460(1);
  return result;
}

//----- (0048D4E0) --------------------------------------------------------
int sub_48D4E0()
{
  return *(_DWORD *)&byte_5D4594[1197304];
}

//----- (0048D4F0) --------------------------------------------------------
BOOL __cdecl sub_48D4F0(unsigned __int16 a1, unsigned __int16 a2)
{
  unsigned __int16 v2; // cx

  v2 = 10000;
  if ( a1 - 10000 < 0 )
  {
    if ( a2 >= 0xFFFF - (unsigned __int16)(10000 - a1) )
      return 1;
    v2 = a1;
  }
  return a2 < a1 && a2 >= a1 - v2;
}

//----- (0048D560) --------------------------------------------------------
int __cdecl sub_48D560(unsigned __int16 a1)
{
  int *v1; // eax

  v1 = sub_425890((int *)&byte_5D4594[1197340]);
  if ( !v1 )
    return 0;
  while ( v1[2] != a1 )
  {
    v1 = sub_4258A0(v1);
    if ( !v1 )
      return 0;
  }
  return 1;
}

//----- (0048D5A0) --------------------------------------------------------
_DWORD *__cdecl sub_48D5A0(int a1)
{
  _DWORD *result; // eax
  _DWORD *v2; // ebx

  result = (_DWORD *)sub_48D4F0(*(unsigned __int16 *)&byte_5D4594[1197360], *(_WORD *)(a1 + 1));
  if ( !result )
  {
    result = (_DWORD *)sub_48D560(*(_WORD *)(a1 + 1));
    if ( !result )
    {
      result = calloc(*(unsigned __int8 *)(a1 + 3) + 32, 1u);
      v2 = result;
      if ( result )
      {
        sub_425770(result);
        v2[2] = *(unsigned __int16 *)(a1 + 1);
        *((_WORD *)v2 + 12) = *(unsigned __int8 *)(a1 + 3);
        *((_QWORD *)v2 + 2) = sub_416BB0();
        qmemcpy(v2 + 8, (const void *)(a1 + 4), *(unsigned __int8 *)(a1 + 3));
        if ( *(_WORD *)&byte_5D4594[1197360] == *(_WORD *)(a1 + 1) )
          *(_DWORD *)&byte_5D4594[1197352] = v2;
        result = (_DWORD *)sub_425790((int *)&byte_5D4594[1197340], v2);
      }
    }
  }
  return result;
}

//----- (0048D660) --------------------------------------------------------
int sub_48D660()
{
  unsigned __int64 v0; // rax
  int *v1; // esi
  int *v2; // edi

  LODWORD(v0) = *(_DWORD *)&byte_5D4594[1197352];
  if ( !*(_DWORD *)&byte_5D4594[1197352] )
  {
    if ( *(_DWORD *)&byte_5D4594[1197356] )
    {
      v0 = sub_416BB0() - *(_QWORD *)(*(_DWORD *)&byte_5D4594[1197356] + 16);
      if ( v0 > 0x7530 )
      {
        *(_WORD *)&byte_5D4594[1197360] = *(_WORD *)(*(_DWORD *)&byte_5D4594[1197356] + 8);
        *(_DWORD *)&byte_5D4594[1197352] = *(_DWORD *)&byte_5D4594[1197356];
        LODWORD(v0) = sub_4258A0(*(int **)&byte_5D4594[1197356]);
        *(_DWORD *)&byte_5D4594[1197356] = v0;
      }
    }
  }
  v1 = *(int **)&byte_5D4594[1197352];
  if ( *(_DWORD *)&byte_5D4594[1197352] )
  {
    do
    {
      LODWORD(v0) = v1[2];
      if ( (_DWORD)v0 != *(unsigned __int16 *)&byte_5D4594[1197360] )
        break;
      v2 = sub_4258A0(v1);
      if ( !v2 )
      {
        v2 = sub_425890((int *)&byte_5D4594[1197340]);
        if ( v2 == v1 )
          v2 = 0;
      }
      sub_48EA70(31, (unsigned int)(v1 + 8), *((unsigned __int16 *)v1 + 12));
      ++*(_WORD *)&byte_5D4594[1197360];
      sub_425920((_DWORD **)v1);
      free(v1);
      v1 = v2;
    }
    while ( v2 );
  }
  *(_DWORD *)&byte_5D4594[1197356] = v1;
  *(_DWORD *)&byte_5D4594[1197352] = 0;
  return v0;
}

//----- (0048D740) --------------------------------------------------------
int sub_48D740()
{
  int result; // eax

  sub_425760(&byte_5D4594[1197340]);
  result = 0;
  *(_DWORD *)&byte_5D4594[1197352] = 0;
  *(_DWORD *)&byte_5D4594[1197356] = 0;
  *(_WORD *)&byte_5D4594[1197360] = 0;
  return result;
}

//----- (0048D760) --------------------------------------------------------
_DWORD *sub_48D760()
{
  int *v0; // esi
  int *v1; // edi
  _DWORD *result; // eax

  v0 = sub_425890((int *)&byte_5D4594[1197340]);
  if ( v0 )
  {
    do
    {
      v1 = sub_4258A0(v0);
      sub_425920((_DWORD **)v0);
      free(v0);
      v0 = v1;
    }
    while ( v1 );
  }
  result = sub_425760(&byte_5D4594[1197340]);
  *(_WORD *)&byte_5D4594[1197360] = 0;
  return result;
}

//----- (0048D7B0) --------------------------------------------------------
int *sub_48D7B0()
{
  int *result; // eax

  for ( result = sub_425890((int *)&byte_5D4594[1197340]); result; result = sub_4258A0(result) )
    ;
  return result;
}

//----- (0048D7D0) --------------------------------------------------------
BOOL sub_48D7D0()
{
  *(_DWORD *)&byte_5D4594[1197364] = sub_413FE0((const char *)&byte_587000[157084], 692, 64);
  return *(_DWORD *)&byte_5D4594[1197364] != 0;
}

//----- (0048D800) --------------------------------------------------------
int sub_48D800()
{
  if ( *(_DWORD *)&byte_5D4594[1197364] )
    sub_414100(*(LPVOID *)&byte_5D4594[1197364]);
  *(_DWORD *)&byte_5D4594[1197364] = 0;
  *(_DWORD *)&byte_5D4594[1197368] = 0;
  return 1;
}

//----- (0048D830) --------------------------------------------------------
BOOL __cdecl sub_48D830(int a1)
{
  return sub_48D850(*(_DWORD *)(a1 + 128)) != 0;
}

//----- (0048D850) --------------------------------------------------------
int __cdecl sub_48D850(int a1)
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[1197368];
  if ( !*(_DWORD *)&byte_5D4594[1197368] )
    return 0;
  while ( *(_DWORD *)(result + 656) != a1 )
  {
    result = *(_DWORD *)(result + 684);
    if ( !result )
      return 0;
  }
  return result;
}

//----- (0048D880) --------------------------------------------------------
wchar_t *__cdecl sub_48D880(int a1, wchar_t *a2)
{
  wchar_t *v2; // esi
  int v3; // ebx
  wchar_t *result; // eax
  int v5; // eax
  int v6; // eax

  v2 = (wchar_t *)sub_48D850(*(unsigned __int16 *)(a1 + 1));
  if ( v2 )
  {
    v3 = 0;
  }
  else
  {
    result = (wchar_t *)sub_4142F0(*(_DWORD **)&byte_5D4594[1197364]);
    v2 = result;
    if ( !result )
      return result;
    v3 = 1;
  }
  nox_wcscpy(v2, a2);
  *((_DWORD *)v2 + 159) = *(unsigned __int8 *)(a1 + 8);
  *((_DWORD *)v2 + 161) = *(_DWORD *)(a1 + 4);
  *((_DWORD *)v2 + 164) = *(unsigned __int16 *)(a1 + 1);
  if ( *(_WORD *)(a1 + 9) )
  {
    v6 = *(unsigned __int16 *)(a1 + 9);
  }
  else
  {
    v5 = *((_DWORD *)v2 + 159) / 8;
    if ( v5 >= 8 )
      v5 = 8;
    v6 = *(_DWORD *)&byte_5D4594[2649704] * (v5 + 2);
  }
  result = (wchar_t *)(*(_DWORD *)&byte_5D4594[2598000] + v6);
  *((_DWORD *)v2 + 160) = result;
  if ( v3 )
  {
    result = *(wchar_t **)&byte_5D4594[1197368];
    if ( *(_DWORD *)&byte_5D4594[1197368] )
    {
      result = *(wchar_t **)&byte_5D4594[1197372];
      *(_DWORD *)(*(_DWORD *)&byte_5D4594[1197372] + 684) = v2;
      *((_DWORD *)v2 + 172) = *(_DWORD *)&byte_5D4594[1197372];
      *((_DWORD *)v2 + 171) = 0;
      *(_DWORD *)&byte_5D4594[1197372] = v2;
    }
    else
    {
      *(_DWORD *)&byte_5D4594[1197368] = v2;
      *(_DWORD *)&byte_5D4594[1197372] = v2;
      *((_DWORD *)v2 + 172) = 0;
      *((_DWORD *)v2 + 171) = 0;
    }
  }
  return result;
}

//----- (0048D990) --------------------------------------------------------
int4 *__cdecl sub_48D990(_DWORD *a1)
{
  int v1; // ebx
  _DWORD *v2; // esi
  int v3; // eax
  _DWORD *v4; // edi
  char *v5; // eax
  char *v6; // eax
  int *v7; // eax
  int v8; // edi
  int v9; // eax
  int v10; // eax
  int v11; // ebp
  int v12; // ebp
  int v13; // esi
  int v14; // ebp
  int v15; // esi
  int v16; // ebp
  int v18; // [esp+Ch] [ebp-28h]
  int i; // [esp+10h] [ebp-24h]
  _WORD *v20; // [esp+14h] [ebp-20h]
  int v21; // [esp+18h] [ebp-1Ch]
  int v22; // [esp+1Ch] [ebp-18h]
  int v23; // [esp+20h] [ebp-14h]
  int v24; // [esp+24h] [ebp-10h]
  int v25; // [esp+24h] [ebp-10h]
  int v26; // [esp+24h] [ebp-10h]
  int v27; // [esp+28h] [ebp-Ch]
  int v28; // [esp+28h] [ebp-Ch]
  int v29; // [esp+2Ch] [ebp-8h]
  int v30; // [esp+38h] [ebp+4h]

  v22 = sub_43F320(0);
  v1 = v22 / 2;
  sub_437260();
  sub_48DCF0(a1);
  v2 = *(_DWORD **)&byte_5D4594[1197368];
  v30 = *(_DWORD *)&byte_5D4594[1197368];
  if ( *(_DWORD *)&byte_5D4594[1197368] )
  {
    while ( 1 )
    {
      if ( v2[165] )
      {
        v3 = v2[167];
        v21 = *(_DWORD *)&byte_5D4594[2523948];
        v20 = 0;
        if ( v3 && *(_BYTE *)(v3 + 112) & 4 )
        {
          v4 = sub_418C80(*(_DWORD *)(v3 + 128));
          v5 = sub_417040(v2[164]);
          if ( v5 )
            v20 = v5 + 4704;
          if ( v4 )
          {
            v6 = sub_418AB0(*((unsigned __int8 *)v4 + 4));
            if ( v6 )
            {
              v7 = (int *)sub_418D50((int)v6);
              if ( v7 )
                v21 = *v7;
            }
          }
        }
        v8 = v2[162];
        v18 = v2[163];
        for ( i = 0; i < 2; ++i )
        {
          if ( i )
          {
            v9 = *(_DWORD *)&byte_5D4594[2650660];
            --v8;
            --v18;
          }
          else
          {
            v9 = *(_DWORD *)&byte_5D4594[2614248];
          }
          sub_434460(v9);
          v23 = v8 - v1;
          sub_49F500(v8, v18 - v1);
          sub_49F500(v8 - v1, v18);
          sub_49E4B0();
          v10 = *(_DWORD *)(v30 + 672);
          v11 = v10 + v8;
          v24 = v10 + v8;
          sub_49F500(v8, v18 - v1);
          sub_49F500(v11, v18 - v1);
          sub_49E4B0();
          v12 = v1 + v11;
          sub_49F500(v12, v18);
          sub_49F500(v24, v18 - v1);
          sub_49E4B0();
          v25 = v12;
          v27 = v18 + *(_DWORD *)(v30 + 676);
          sub_49F500(v12, v18);
          sub_49F500(v12, v27);
          sub_49E4B0();
          v13 = v1 + v27;
          v14 = v12 - v1;
          sub_49F500(v14, v1 + v27);
          sub_49F500(v25, v27);
          sub_49E4B0();
          if ( *(_DWORD *)(v30 + 664) )
          {
            v28 = v1 + v27;
            v26 = v1 + v8 + *(int *)(v30 + 672) / 2;
            sub_49F500(v14, v13);
            sub_49F500(v26, v13);
            sub_49E4B0();
            v15 = v22 + v13;
            v29 = v8 + *(int *)(v30 + 672) / 2;
            sub_49F500(v29, v15);
            sub_49F500(v26, v28);
            sub_49E4B0();
            v16 = v8 + *(int *)(v30 + 672) / 2 - v1;
            sub_49F500(v29, v15);
            v13 = v28;
            sub_49F500(v16, v28);
            sub_49E4B0();
            sub_49F500(v8, v28);
            sub_49F500(v16, v28);
          }
          else
          {
            sub_49F500(v8, v13);
            sub_49F500(v14, v13);
          }
          sub_49E4B0();
          sub_49F500(v8, v13);
          sub_49F500(v23, v13 - v1);
          sub_49E4B0();
          sub_49F500(v23, v13 - v1 - *(_DWORD *)(v30 + 676));
          sub_49F500(v23, v13 - v1);
          sub_49E4B0();
        }
        sub_434390(*(int *)&byte_5D4594[2523948]);
        sub_4343E0(*(int *)&byte_5D4594[2614248]);
        sub_43FD00(0, (_WORD *)v30, v8, v18, 128, 0);
        if ( v20 )
        {
          sub_434390(v21);
          sub_43FD00(0, v20, v8, v18 - v22 - 1, 128, 0);
        }
        v2 = (_DWORD *)v30;
      }
      v30 = v2[171];
      if ( !v30 )
        break;
      v2 = (_DWORD *)v2[171];
    }
  }
  return sub_437290();
}

//----- (0048DCF0) --------------------------------------------------------
void __cdecl sub_48DCF0(_DWORD *a1)
{
  int v1; // eax
  int v2; // esi
  _DWORD *v3; // ebx
  int v4; // eax
  unsigned int v5; // edx
  int v6; // ecx
  int v7; // eax
  _DWORD *v8; // eax
  int v9; // eax
  unsigned __int16 v10; // dx
  int *v11; // ebp
  int v12; // edx
  _DWORD *v13; // edi
  int v14; // eax
  int v15; // eax
  int v16; // eax
  int v17; // ecx
  int v18; // eax
  int v19; // eax
  int v20; // ecx
  int v21; // eax
  int v22; // eax
  int v23; // eax
  int v24; // [esp+8h] [ebp-18h]
  int v25; // [esp+Ch] [ebp-14h]
  int4 a1a; // [esp+10h] [ebp-10h]
  int v27; // [esp+24h] [ebp+4h]

  v1 = sub_43F320(0);
  v2 = *(_DWORD *)&byte_5D4594[1197368];
  v3 = a1;
  v24 = v1;
  v4 = 0;
  if ( *(_DWORD *)&byte_5D4594[1197368] )
  {
    while ( 1 )
    {
      v5 = *(_DWORD *)(v2 + 656);
      v6 = *(_DWORD *)(v2 + 684);
      *(_DWORD *)(v2 + 680) = v4;
      v25 = v6;
      v27 = v4 + 1;
      *(_DWORD *)(v2 + 668) = 0;
      if ( sub_578B70(v5) )
      {
        v7 = sub_578B30(*(_DWORD *)(v2 + 656));
        v8 = sub_45A720(v7);
      }
      else
      {
        v9 = sub_578B30(*(_DWORD *)(v2 + 656));
        v8 = sub_45A6F0(v9);
      }
      *(_DWORD *)(v2 + 668) = v8;
      if ( v8 )
      {
        *(_WORD *)(v2 + 644) = *((_WORD *)v8 + 6);
        *(_WORD *)(v2 + 646) = *((_WORD *)v8 + 8);
      }
      v10 = *(_WORD *)(v2 + 646);
      v11 = (_DWORD *)(v2 + 672);
      *(_DWORD *)(v2 + 648) = *v3 + *(unsigned __int16 *)(v2 + 644) - v3[4];
      *(_DWORD *)(v2 + 652) = v3[1] + v10 - v3[5];
      sub_43F840(0, (unsigned __int16 *)v2, (int *)(v2 + 672), (_DWORD *)(v2 + 676), 128);
      if ( *(_DWORD *)(v2 + 672) > 128 )
        *v11 = 128;
      v12 = *(_DWORD *)(v2 + 676);
      *(_DWORD *)(v2 + 648) += *v11 / -2;
      v13 = (_DWORD *)(v2 + 664);
      *(_DWORD *)(v2 + 652) += -64 - v12;
      *(_DWORD *)(v2 + 660) = 1;
      *(_DWORD *)(v2 + 664) = 1;
      if ( sub_40A5C0(2048) )
      {
        v14 = *(_DWORD *)(v2 + 648);
        if ( v14 < *v3 || v14 > v3[2] || (v15 = *(_DWORD *)(v2 + 652) - 64, v15 < v3[1]) || v15 > v3[3] )
        {
          *(_DWORD *)(v2 + 660) = 0;
          *v13 = 0;
        }
      }
      if ( *(_DWORD *)(v2 + 660) )
        break;
LABEL_27:
      if ( *(_DWORD *)&byte_5D4594[2598000] > *(int *)(v2 + 640) )
      {
        v22 = *(_DWORD *)(v2 + 688);
        if ( v22 )
          *(_DWORD *)(v22 + 684) = *(_DWORD *)(v2 + 684);
        else
          *(_DWORD *)&byte_5D4594[1197368] = *(_DWORD *)(v2 + 684);
        v23 = *(_DWORD *)(v2 + 684);
        if ( v23 )
          *(_DWORD *)(v23 + 688) = *(_DWORD *)(v2 + 688);
        else
          *(_DWORD *)&byte_5D4594[1197372] = *(_DWORD *)(v2 + 688);
        sub_414330(*(unsigned int **)&byte_5D4594[1197364], (_QWORD *)v2);
      }
      v2 = v25;
      if ( !v25 )
      {
        v2 = *(_DWORD *)&byte_5D4594[1197368];
        goto LABEL_37;
      }
      v4 = v27;
    }
    v16 = *v3 + v24;
    v17 = *(_DWORD *)(v2 + 648);
    if ( v17 >= v16 )
    {
      v18 = v3[2];
      if ( v24 + v17 + *v11 <= v18 )
        goto LABEL_22;
      v16 = v18 - *v11 - v24;
    }
    *(_DWORD *)(v2 + 648) = v16;
    *v13 = 0;
LABEL_22:
    v19 = v3[1] + 2 * v24 + 2;
    v20 = *(_DWORD *)(v2 + 652);
    if ( v20 >= v19 )
    {
      v21 = v3[3];
      if ( v24 + *(_DWORD *)(v2 + 676) + v20 <= v21 )
      {
LABEL_26:
        a1a.field_0 = *(_DWORD *)(v2 + 648);
        a1a.field_4 = *(_DWORD *)(v2 + 652);
        a1a.field_8 = *(_DWORD *)(v2 + 648) + *v11;
        a1a.field_C = *(_DWORD *)(v2 + 676) + *(_DWORD *)(v2 + 652);
        sub_48E000(&a1a, (_DWORD *)(v2 + 664));
        *(_DWORD *)(v2 + 648) = a1a.field_0;
        *(_DWORD *)(v2 + 652) = a1a.field_4;
        goto LABEL_27;
      }
      v19 = v21 - *(_DWORD *)(v2 + 676) - v24;
    }
    *(_DWORD *)(v2 + 652) = v19;
    *v13 = 0;
    goto LABEL_26;
  }
LABEL_37:
  while ( v2 )
  {
    sub_48E240((int)v3, (_DWORD *)v2);
    v2 = *(_DWORD *)(v2 + 684);
  }
}
// 48DD5E: variable 'v7' is possibly undefined
// 48DD72: variable 'v9' is possibly undefined

//----- (0048E000) --------------------------------------------------------
bool __cdecl sub_48E000(int4 *a1, _DWORD *a2)
{
  int v2; // ebx
  BOOL v3; // eax
  int v4; // eax
  int v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int4 v11; // [esp+10h] [ebp-10h]

  if ( a1->field_0 < 0
    || a1->field_4 < 0
    || a1->field_8 > *(int *)&byte_5D4594[3805496]
    || a1->field_C > *(int *)&byte_5D4594[3807120] )
  {
    *a2 = 0;
  }
  v11.field_0 = 0;
  v11.field_4 = 0;
  v11.field_8 = 563;
  if ( sub_467C80() )
  {
    v2 = 279;
    v11.field_C = 279;
    v3 = sub_4281F0((int2 *)a1, &v11);
    if ( v3 || (v3 = sub_4281F0((int2 *)&a1->field_8, &v11), v3) )
    {
LABEL_12:
      a1->field_4 = v2;
      *a2 = 0;
      goto LABEL_13;
    }
  }
  else
  {
    v2 = 55;
    v11.field_C = 55;
    v3 = sub_4281F0((int2 *)a1, &v11);
    if ( v3 )
      goto LABEL_12;
    v3 = sub_4281F0((int2 *)&a1->field_8, &v11);
    if ( v3 )
      goto LABEL_12;
  }
LABEL_13:
  if ( *(_DWORD *)&byte_587000[80828] )
  {
    v11.field_0 = 0;
    v11.field_C = *(_DWORD *)&byte_5D4594[3807120];
    v11.field_8 = 111;
    v11.field_4 = *(_DWORD *)&byte_5D4594[3807120] - 127;
    v4 = sub_4281F0((int2 *)a1, &v11);
    if ( v4 || (v5 = sub_4281F0((int2 *)&a1->field_8, &v11), v5) )
    {
      a1->field_4 += v11.field_4 - a1->field_C;
      *a2 = 0;
    }
    v11.field_4 = *(_DWORD *)&byte_5D4594[3807120] - 74;
    v11.field_0 = *(int *)&byte_5D4594[3805496] / 2 - 160;
    v11.field_8 = v11.field_0 + 320;
    v11.field_C = *(_DWORD *)&byte_5D4594[3807120];
    v6 = sub_4281F0((int2 *)a1, &v11);
    if ( v6 || (v7 = sub_4281F0((int2 *)&a1->field_8, &v11), v7) )
    {
      a1->field_4 += v11.field_4 - a1->field_C;
      *a2 = 0;
    }
    v11.field_8 = *(_DWORD *)&byte_5D4594[3805496];
    v11.field_0 = *(_DWORD *)&byte_5D4594[3805496] - 91;
    v11.field_C = *(_DWORD *)&byte_5D4594[3807120];
    v11.field_4 = *(_DWORD *)&byte_5D4594[3807120] - 201;
    v8 = sub_4281F0((int2 *)a1, &v11);
    if ( v8 || (v9 = sub_4281F0((int2 *)&a1->field_8, &v11), v9) )
    {
      a1->field_4 += v11.field_4 - a1->field_C;
      *a2 = 0;
    }
    v3 = sub_4C3260();
    if ( v3 )
    {
      v11.field_0 = *(_DWORD *)&byte_5D4594[3805496] - 87;
      v11.field_4 = 0;
      v11.field_8 = *(_DWORD *)&byte_5D4594[3805496];
      v11.field_C = 145;
      v3 = sub_4281F0((int2 *)a1, &v11);
      if ( v3 || (v3 = sub_4281F0((int2 *)&a1->field_8, &v11), v3) )
      {
        a1->field_4 = 145;
        *a2 = 0;
      }
    }
  }
  return v3;
}
// 48E069: variable 'v3' is possibly undefined
// 48E0EF: variable 'v4' is possibly undefined
// 48E104: variable 'v5' is possibly undefined
// 48E156: variable 'v6' is possibly undefined
// 48E16B: variable 'v7' is possibly undefined
// 48E1B4: variable 'v8' is possibly undefined
// 48E1C9: variable 'v9' is possibly undefined

//----- (0048E240) --------------------------------------------------------
char __cdecl sub_48E240(int a1, _DWORD *a2)
{
  int v2; // eax
  _DWORD *v3; // esi
  int v4; // edi
  _DWORD *v5; // ebp
  char v6; // bl
  int v7; // edi
  int v8; // edx
  int v9; // edi
  int v10; // edx
  int v12; // [esp+Ch] [ebp-Ch]
  int v13; // [esp+10h] [ebp-8h]
  int v14; // [esp+14h] [ebp-4h]
  char v15; // [esp+20h] [ebp+8h]

  LOBYTE(v2) = byte_5D4594[1197368];
  v3 = a2;
  if ( a2 != *(_DWORD **)&byte_5D4594[1197368] )
  {
    v4 = 0;
    v5 = *(_DWORD **)&byte_5D4594[1197368];
    if ( *(_DWORD *)&byte_5D4594[1197368] )
    {
      while ( 1 )
      {
        v2 = v5[165];
        if ( v2 )
        {
          v2 = v5[170];
          if ( v2 >= a2[170] )
            goto LABEL_9;
          v2 = sub_48E480(a2, v5);
          if ( v2 )
            break;
        }
        v5 = (_DWORD *)v5[171];
        if ( !v5 )
          return v2;
      }
      v4 = 1;
LABEL_9:
      if ( v5 && v4 )
      {
        v6 = 0;
        v15 = 0;
        switch ( sub_48E530(v3[162] + v3[168] / 2, v3[163] + v3[169] / 2) )
        {
          case 17:
            v6 = -96;
            v15 = 8;
            break;
          case 18:
            v6 = 48;
            v15 = -118;
            break;
          case 20:
            v6 = -112;
            v15 = 2;
            break;
          case 33:
            v6 = -64;
            v15 = 44;
            break;
          case 34:
            v6 = -16;
            v15 = 15;
            break;
          case 36:
            v6 = -64;
            v15 = 19;
            break;
          case 65:
            v6 = 96;
            v15 = 4;
            break;
          case 66:
            v6 = 48;
            v15 = 69;
            break;
          case 68:
            v6 = 80;
            v15 = 1;
            break;
          default:
            break;
        }
        v7 = 0;
        while ( 1 )
        {
          LOBYTE(v2) = 1 << v7;
          LOBYTE(v14) = 1 << v7;
          if ( (unsigned __int8)(1 << v7) & (unsigned __int8)v6 )
          {
            sub_48E6A0(v14, v3, v5, &v12, &v13);
            v2 = sub_48E5C0(v3, v12, v13);
            if ( v2 )
              break;
          }
          if ( ++v7 >= 8 )
            goto LABEL_27;
        }
        v8 = v13;
        v3[162] = v12;
        v3[163] = v8;
LABEL_27:
        if ( v7 == 8 )
        {
          v9 = 0;
          while ( 1 )
          {
            LOBYTE(v2) = 1 << v9;
            LOBYTE(v14) = 1 << v9;
            if ( (unsigned __int8)(1 << v9) & (unsigned __int8)v15 )
            {
              sub_48E6A0(v14, v3, v5, &v12, &v13);
              v2 = sub_48E5C0(v3, v12, v13);
              if ( v2 )
                break;
            }
            if ( ++v9 >= 8 )
              return v2;
          }
          v10 = v13;
          v3[162] = v12;
          v3[163] = v10;
        }
      }
    }
  }
  return v2;
}

//----- (0048E480) --------------------------------------------------------
BOOL __cdecl sub_48E480(_DWORD *a1, _DWORD *a2)
{
  int v2; // eax
  int v3; // esi
  int v4; // edx
  int v5; // ebx
  int v7; // [esp+24h] [ebp-Ch]
  int v8; // [esp+34h] [ebp+4h]

  v2 = sub_43F320(0);
  v3 = a1[162];
  v7 = a1[163] - v2;
  v4 = v2 + v3 + a1[168];
  v5 = v2 + a1[163] + a1[169];
  v8 = a2[163];
  return v3 - v2 < v2 + a2[162] + a2[168] && v4 > a2[162] - v2 && v7 < v2 + v8 + a2[169] && v5 > v8 - v2;
}

//----- (0048E530) --------------------------------------------------------
int __cdecl sub_48E530(int a1, int a2)
{
  int v2; // edi
  int v3; // eax

  if ( a1 >= *(int *)&byte_5D4594[3805496] / 3 )
  {
    v3 = (a1 >= 2 * *(_DWORD *)&byte_5D4594[3805496] / 3) - 1;
    LOBYTE(v3) = v3 & 0xE0;
    v2 = v3 + 64;
  }
  else
  {
    v2 = 16;
  }
  if ( a2 < *(int *)&byte_5D4594[3807120] / 3 )
    return v2 | 1;
  if ( a2 >= 2 * *(_DWORD *)&byte_5D4594[3807120] / 3 )
    return v2 | 4;
  return v2 | 2;
}

//----- (0048E5C0) --------------------------------------------------------
int __cdecl sub_48E5C0(_DWORD *a1, int a2, int a3)
{
  int v3; // edx
  int v4; // eax
  _DWORD *v6; // edi
  int v7; // ebx
  int v8; // ebp
  BOOL v9; // eax
  BOOL a2a; // [esp+10h] [ebp-14h]
  int4 a1a; // [esp+14h] [ebp-10h]

  a2a = 1;
  sub_43F320(0);
  a1a.field_0 = a2;
  v3 = a1[168];
  a1a.field_4 = a3;
  v4 = a3 + a1[169];
  a1a.field_8 = a2 + v3;
  a1a.field_C = v4;
  sub_48E000(&a1a, &a2a);
  if ( !a2a )
    return 0;
  v6 = *(_DWORD **)&byte_5D4594[1197368];
  if ( *(_DWORD *)&byte_5D4594[1197368] )
  {
    while ( 1 )
    {
      if ( a1[165] )
      {
        if ( v6[170] >= a1[170] )
          return 1;
        v7 = a1[162];
        v8 = a1[163];
        a1[162] = a2;
        a1[163] = a3;
        v9 = sub_48E480(a1, v6);
        a2a = v9;
        a1[162] = v7;
        a1[163] = v8;
        if ( v9 )
          break;
      }
      v6 = (_DWORD *)v6[171];
      if ( !v6 )
        return 1;
    }
    return 0;
  }
  return 1;
}

//----- (0048E6A0) --------------------------------------------------------
int *__cdecl sub_48E6A0(char a1, _DWORD *a2, _DWORD *a3, int *a4, int *a5)
{
  int *result; // eax
  int v6; // ecx
  _DWORD *v7; // ecx
  int v8; // edx
  char *v9; // edx
  int v10; // edx

  result = (int *)(2 * sub_43F320(0));
  switch ( a1 )
  {
    case 1:
      *a4 = a3[162] - a2[168] - (_DWORD)result;
      *a5 = a3[163] - a2[169] - (_DWORD)result;
      return result;
    case 2:
      *a4 = (int)result + a3[162] + a3[168];
      v6 = a3[163] - a2[169] - (_DWORD)result;
      result = a5;
      *a5 = v6;
      return result;
    case 4:
      v7 = a3;
      *a4 = a3[162] - a2[168] - (_DWORD)result;
      goto LABEL_8;
    case 8:
      v7 = a3;
      *a4 = (int)result + a3[162] + a3[168];
      goto LABEL_8;
    case 0x10:
      *a4 = a2[162];
      v8 = a3[163] - a2[169] - (_DWORD)result;
      result = a5;
      *a5 = v8;
      return result;
    case 0x20:
      *a4 = a2[162];
      v7 = a3;
LABEL_8:
      v9 = (char *)result + v7[163] + v7[169];
      result = a5;
      *a5 = (int)v9;
      break;
    case 0x40:
      v10 = a3[162] - a2[168] - (_DWORD)result;
      result = a4;
      *a4 = v10;
      *a5 = a2[163];
      break;
    case 0x80:
      *a4 = (int)result + a3[162] + a3[168];
      result = a5;
      *a5 = a2[163];
      break;
    default:
      return result;
  }
  return result;
}

//----- (0048E8E0) --------------------------------------------------------
void __cdecl sub_48E8E0(int a1)
{
  int v1; // eax
  int v2; // ecx
  int v3; // ecx

  v1 = sub_48D850(a1);
  if ( v1 )
  {
    v2 = *(_DWORD *)(v1 + 688);
    if ( v2 )
      *(_DWORD *)(v2 + 684) = *(_DWORD *)(v1 + 684);
    else
      *(_DWORD *)&byte_5D4594[1197368] = *(_DWORD *)(v1 + 684);
    v3 = *(_DWORD *)(v1 + 684);
    if ( v3 )
      *(_DWORD *)(v3 + 688) = *(_DWORD *)(v1 + 688);
    sub_414330(*(unsigned int **)&byte_5D4594[1197364], (_QWORD *)v1);
  }
}

//----- (0048E940) --------------------------------------------------------
void sub_48E940()
{
  sub_4144D0(*(_DWORD **)&byte_5D4594[1197364]);
  *(_DWORD *)&byte_5D4594[1197368] = 0;
}

//----- (0048E960) --------------------------------------------------------
void sub_48E960()
{
  srand(0xA32u);
}

//----- (0048E970) --------------------------------------------------------
_DWORD *__cdecl sub_48E970(int a1, unsigned int a2, int a3, int a4)
{
  int v4; // eax
  int v5; // ebx
  _DWORD *v6; // eax
  _DWORD *v7; // esi
  int v8; // eax
  int v10; // [esp-4h] [ebp-10h]

  v4 = sub_578B30(a2);
  v5 = v4;
  v10 = v4;
  if ( sub_578B70(a2) )
    v6 = sub_45A720(v10);
  else
    v6 = sub_45A6F0(v10);
  v7 = v6;
  if ( v6 )
  {
    sub_49AA90(v6, a3, a4);
  }
  else
  {
    if ( !*(_DWORD *)&byte_5D4594[1200836] )
      *(_DWORD *)&byte_5D4594[1200836] = sub_44CFC0((CHAR *)&byte_587000[157096]);
    if ( !*(_DWORD *)&byte_5D4594[1200840] )
      *(_DWORD *)&byte_5D4594[1200840] = sub_44CFC0((CHAR *)&byte_587000[157104]);
    v8 = sub_45A360(a1, a3, a4);
    v7 = (_DWORD *)v8;
    if ( !v8 )
    {
      sub_4356E0();
      return 0;
    }
    *(_DWORD *)(v8 + 128) = v5;
    if ( a1 == *(_DWORD *)&byte_5D4594[1200836]
      || a1 == *(_DWORD *)&byte_5D4594[1200840]
      || *(_DWORD *)(v8 + 112) & 0x10000000 )
    {
      sub_459DD0(v8, 1);
    }
  }
  sub_45A990((int)v7);
  sub_49BA10(v7);
  v7[80] = *(_DWORD *)&byte_5D4594[2598000];
  v7[122] = 0;
  return v7;
}
// 48E97E: variable 'v4' is possibly undefined

//----- (0048EA70) --------------------------------------------------------
int __cdecl sub_48EA70(int a1, unsigned int a2, int a3)
{
  unsigned int v3; // ebp
  unsigned int v4; // ebx
  __int64 v5; // rax
  int k; // ecx
  char v7; // cl
  int v8; // esi
  int v9; // edi
  int v10; // ebx
  unsigned __int16 v11; // ax
  unsigned int v12; // esi
  int v13; // eax
  int v14; // esi
  unsigned __int8 *v15; // ebp
  int v16; // eax
  int v17; // esi
  int v18; // eax
  int v19; // esi
  int v20; // eax
  int v21; // esi
  int v22; // esi
  unsigned int v23; // edx
  int v24; // eax
  int v25; // esi
  int v26; // esi
  _DWORD *v27; // esi
  unsigned __int8 v28; // al
  int v29; // esi
  unsigned __int8 v30; // bl
  unsigned int v31; // eax
  int v32; // ecx
  int v33; // eax
  unsigned int v34; // esi
  char *v35; // ebx
  char *j; // esi
  char *v37; // ebx
  wchar_t *v38; // eax
  char *v39; // eax
  unsigned int v40; // edx
  wchar_t *v41; // eax
  int v42; // eax
  char *v43; // eax
  int v44; // eax
  int v45; // esi
  int v46; // esi
  int v47; // eax
  unsigned int v48; // eax
  int v49; // eax
  int v50; // esi
  int v51; // esi
  int v52; // eax
  unsigned int v53; // eax
  int v54; // eax
  int v55; // esi
  int v56; // eax
  int v57; // eax
  int v58; // esi
  int v59; // eax
  int v60; // esi
  int v61; // esi
  int v62; // eax
  int v63; // esi
  int v64; // eax
  int v65; // esi
  char v66; // cl
  int v67; // eax
  int v68; // eax
  int v69; // eax
  int v70; // esi
  int v71; // eax
  int v72; // esi
  _DWORD *v73; // esi
  int v74; // eax
  int v75; // eax
  unsigned int v76; // eax
  int v77; // eax
  int v78; // esi
  int v79; // edi
  int v80; // esi
  int *v81; // ebx
  int v82; // eax
  int v83; // esi
  int v84; // eax
  int v85; // esi
  int v86; // esi
  char v87; // al
  int v88; // eax
  int v89; // esi
  int v90; // eax
  int v91; // esi
  int v92; // eax
  int v93; // esi
  int v94; // eax
  int v95; // esi
  int v96; // eax
  int v97; // esi
  int v98; // eax
  int v99; // esi
  int v100; // ebx
  int v101; // eax
  int v102; // esi
  int v103; // eax
  int v104; // esi
  int v105; // eax
  int v106; // edi
  int v107; // esi
  char *v108; // ebx
  int v109; // eax
  int v110; // esi
  _DWORD *v111; // esi
  _DWORD *v112; // eax
  int v113; // ecx
  _DWORD *v114; // ebx
  int v115; // eax
  int v116; // edx
  unsigned int v117; // ecx
  unsigned __int16 v118; // ax
  char *v119; // esi
  int v120; // eax
  int v121; // esi
  int v122; // eax
  int v123; // esi
  int v124; // eax
  int v125; // esi
  char *v126; // ebx
  char *v127; // esi
  wchar_t *v128; // eax
  unsigned int v129; // eax
  int v130; // esi
  int v131; // eax
  int v132; // eax
  int v133; // esi
  int v134; // esi
  int v135; // ebx
  int v136; // eax
  int v137; // eax
  int v138; // esi
  int v139; // esi
  int v140; // eax
  int v141; // esi
  char *v142; // esi
  wchar_t *v143; // eax
  char *v144; // esi
  _DWORD *v145; // eax
  wchar_t *v146; // eax
  int v147; // eax
  wchar_t *v148; // eax
  wchar_t *v149; // eax
  int v150; // esi
  wchar_t *v151; // eax
  int v152; // eax
  int v153; // edi
  char *v154; // ebx
  wchar_t *v155; // eax
  wchar_t *v156; // eax
  wchar_t *v157; // eax
  wchar_t *v158; // eax
  wchar_t *v159; // eax
  char *v160; // ebx
  wchar_t *v161; // eax
  _DWORD *v162; // esi
  wchar_t *v163; // eax
  int v164; // esi
  wchar_t *v165; // eax
  wchar_t *v166; // eax
  wchar_t *v167; // eax
  wchar_t *v168; // eax
  wchar_t *v169; // eax
  wchar_t *v170; // eax
  wchar_t *v171; // eax
  char *v172; // ebx
  wchar_t *v173; // eax
  _DWORD *v174; // esi
  wchar_t *v175; // eax
  int v176; // esi
  wchar_t *v177; // eax
  int v178; // eax
  int v179; // esi
  int v180; // eax
  int v181; // esi
  int v182; // eax
  int v183; // esi
  unsigned int v184; // eax
  unsigned int v185; // esi
  unsigned __int16 v186; // ax
  unsigned __int16 v187; // cx
  _DWORD *v188; // eax
  int v189; // eax
  int v190; // esi
  unsigned __int16 v191; // ax
  unsigned __int16 v192; // cx
  unsigned int v193; // eax
  unsigned int v194; // esi
  _DWORD *v195; // eax
  int v196; // eax
  int v197; // esi
  int v198; // eax
  int v199; // ebx
  int v200; // eax
  wchar_t *v201; // eax
  int v202; // edi
  wchar_t *v203; // eax
  wchar_t *v204; // eax
  wchar_t *v205; // eax
  char *v206; // eax
  char *v207; // esi
  int v208; // eax
  int v209; // eax
  int v210; // esi
  char *v211; // ebx
  wchar_t *v212; // ebx
  wchar_t *v213; // eax
  int v214; // eax
  int v215; // esi
  char *v216; // ebx
  wchar_t *v217; // eax
  _DWORD *v218; // eax
  int v219; // edi
  wchar_t *v220; // eax
  unsigned int v221; // eax
  int v222; // eax
  int v223; // esi
  int v224; // eax
  int v225; // eax
  int v226; // eax
  int v227; // esi
  int v228; // ebx
  int v229; // ecx
  int v230; // edi
  int v231; // ebx
  _DWORD *v232; // esi
  char v233; // al
  int v234; // esi
  int v235; // eax
  int v236; // eax
  int v237; // esi
  _DWORD *v238; // eax
  int v239; // ebx
  int v240; // edi
  int v241; // esi
  int v242; // edi
  int v243; // edi
  int v244; // ebx
  int v245; // eax
  _DWORD *v246; // esi
  char v247; // al
  __int16 v248; // ax
  int v249; // esi
  bool v250; // zf
  int v251; // ecx
  unsigned int v252; // ebx
  int v253; // edi
  int v254; // esi
  int v255; // eax
  int v256; // esi
  int v257; // eax
  int v258; // ecx
  int v259; // eax
  int v260; // edi
  int v261; // eax
  int v262; // esi
  int v263; // eax
  int v264; // eax
  int v265; // eax
  int v266; // eax
  int v267; // eax
  int v268; // eax
  int v269; // eax
  int v270; // eax
  wchar_t *v271; // eax
  char *v272; // esi
  _DWORD *v273; // edi
  unsigned int v274; // eax
  unsigned int v275; // esi
  int v276; // ebx
  int v277; // esi
  _DWORD *v278; // ebx
  int v279; // esi
  wchar_t *v280; // esi
  unsigned int v281; // eax
  unsigned int v282; // esi
  int v283; // eax
  int v284; // eax
  unsigned __int16 v285; // ax
  unsigned __int16 v286; // bx
  int v287; // ebx
  char *v288; // edi
  _BYTE *v289; // esi
  wchar_t *v290; // eax
  int v291; // eax
  int v292; // esi
  int v293; // eax
  int v294; // eax
  int v295; // esi
  int v296; // esi
  int v297; // eax
  int v298; // esi
  char *v299; // esi
  char *v300; // eax
  int v301; // eax
  _DWORD *v302; // eax
  char *v303; // esi
  wchar_t *v304; // eax
  wchar_t *v305; // eax
  char *v306; // esi
  wchar_t *v307; // eax
  wchar_t *v308; // eax
  char *v309; // esi
  wchar_t *v310; // eax
  wchar_t *v311; // eax
  wchar_t *v312; // eax
  wchar_t *v314; // [esp-Ch] [ebp-175Ch]
  char v315; // [esp-8h] [ebp-1758h]
  unsigned __int8 v316; // [esp-8h] [ebp-1758h]
  int v317; // [esp-4h] [ebp-1754h]
  int v318; // [esp-4h] [ebp-1754h]
  unsigned __int16 v319; // [esp-4h] [ebp-1754h]
  int v320; // [esp+0h] [ebp-1750h]
  int v321; // [esp+0h] [ebp-1750h]
  int v322; // [esp+0h] [ebp-1750h]
  char v323; // [esp+0h] [ebp-1750h]
  size_t v324; // [esp+0h] [ebp-1750h]
  char v325; // [esp+0h] [ebp-1750h]
  char v326; // [esp+0h] [ebp-1750h]
  int v327; // [esp+0h] [ebp-1750h]
  float v328; // [esp+4h] [ebp-174Ch]
  int v329; // [esp+4h] [ebp-174Ch]
  int v330; // [esp+4h] [ebp-174Ch]
  int v331; // [esp+4h] [ebp-174Ch]
  float v332; // [esp+4h] [ebp-174Ch]
  int v333; // [esp+4h] [ebp-174Ch]
  wchar_t *v334; // [esp+4h] [ebp-174Ch]
  wchar_t *v335; // [esp+4h] [ebp-174Ch]
  wchar_t *v336; // [esp+4h] [ebp-174Ch]
  int v337; // [esp+4h] [ebp-174Ch]
  int v338; // [esp+4h] [ebp-174Ch]
  int v339; // [esp+4h] [ebp-174Ch]
  float v340; // [esp+4h] [ebp-174Ch]
  int v341; // [esp+4h] [ebp-174Ch]
  char v342; // [esp+4h] [ebp-174Ch]
  char *v343; // [esp+4h] [ebp-174Ch]
  size_t v344; // [esp+4h] [ebp-174Ch]
  int v345; // [esp+4h] [ebp-174Ch]
  char v346; // [esp+4h] [ebp-174Ch]
  char v347; // [esp+4h] [ebp-174Ch]
  int v348; // [esp+4h] [ebp-174Ch]
  int v349; // [esp+4h] [ebp-174Ch]
  int v350; // [esp+4h] [ebp-174Ch]
  int v351; // [esp+4h] [ebp-174Ch]
  int v352; // [esp+4h] [ebp-174Ch]
  int v353; // [esp+4h] [ebp-174Ch]
  wchar_t *v354; // [esp+4h] [ebp-174Ch]
  BOOL v355; // [esp+18h] [ebp-1738h]
  unsigned int v356; // [esp+18h] [ebp-1738h]
  int v357; // [esp+18h] [ebp-1738h]
  int *v358; // [esp+18h] [ebp-1738h]
  char v359; // [esp+1Fh] [ebp-1731h]
  int v360; // [esp+20h] [ebp-1730h]
  int i; // [esp+24h] [ebp-172Ch]
  int v362; // [esp+28h] [ebp-1728h]
  int v363; // [esp+2Ch] [ebp-1724h]
  unsigned int v364; // [esp+30h] [ebp-1720h]
  char v365[6]; // [esp+34h] [ebp-171Ch]
  char v366[5]; // [esp+3Ch] [ebp-1714h]
  int v367; // [esp+44h] [ebp-170Ch]
  int v368; // [esp+48h] [ebp-1708h]
  unsigned int v369; // [esp+4Ch] [ebp-1704h]
  int v370; // [esp+50h] [ebp-1700h]
  int v371; // [esp+54h] [ebp-16FCh]
  int v372; // [esp+58h] [ebp-16F8h]
  unsigned int v373; // [esp+5Ch] [ebp-16F4h]
  int v374; // [esp+60h] [ebp-16F0h]
  int v375; // [esp+64h] [ebp-16ECh]
  int v376; // [esp+68h] [ebp-16E8h]
  int2 v377; // [esp+6Ch] [ebp-16E4h]
  int2 v378; // [esp+74h] [ebp-16DCh]
  int2 v379; // [esp+7Ch] [ebp-16D4h]
  int2 v380; // [esp+84h] [ebp-16CCh]
  unsigned __int8 v381[20]; // [esp+8Ch] [ebp-16C4h]
  int v382[8]; // [esp+A0h] [ebp-16B0h]
  int v383[5]; // [esp+C0h] [ebp-1690h]
  int v384[2]; // [esp+D4h] [ebp-167Ch]
  char v385[20]; // [esp+DCh] [ebp-1674h]
  wchar_t v386[20]; // [esp+F0h] [ebp-1660h]
  wchar_t v387[20]; // [esp+118h] [ebp-1638h]
  wchar_t v388[64]; // [esp+140h] [ebp-1610h]
  wchar_t v389[128]; // [esp+1C0h] [ebp-1590h]
  wchar_t v390[128]; // [esp+2C0h] [ebp-1490h]
  wchar_t v391[128]; // [esp+3C0h] [ebp-1390h]
  wchar_t v392[128]; // [esp+4C0h] [ebp-1290h]
  wchar_t v393[128]; // [esp+5C0h] [ebp-1190h]
  wchar_t v394[128]; // [esp+6C0h] [ebp-1090h]
  wchar_t v395[64]; // [esp+7C0h] [ebp-F90h]
  wchar_t v396[64]; // [esp+840h] [ebp-F10h]
  wchar_t v397[100]; // [esp+8C0h] [ebp-E90h]
  wchar_t v398[128]; // [esp+988h] [ebp-DC8h]
  wchar_t v399[100]; // [esp+A88h] [ebp-CC8h]
  wchar_t v400[256]; // [esp+B50h] [ebp-C00h]
  wchar_t v401[128]; // [esp+D50h] [ebp-A00h]
  wchar_t v402[128]; // [esp+E50h] [ebp-900h]
  wchar_t v403[256]; // [esp+F50h] [ebp-800h]
  wchar_t v404[256]; // [esp+1150h] [ebp-600h]
  wchar_t v405[256]; // [esp+1350h] [ebp-400h]
  wchar_t v406[256]; // [esp+1550h] [ebp-200h]

  if (a3)
  {
    //dhexdump((_BYTE*)a2, a3);
  }

  v3 = a2;
  v4 = a3 + a2;
  v364 = 0;
  v369 = a3 + a2;
  sub_470A80();
  if ( a2 >= a3 + a2 )
    return 1;
  while ( 2 )
  {
    v7 = *(_BYTE *)v3;
    LOBYTE(v375) = *(_BYTE *)v3;
    v8 = (unsigned __int8)v375;
    switch ( (unsigned __int8)v375 )
    {
      case 0x21u:
        goto LABEL_1184;
      case 0x27u:
      case 0x28u:
      case 0x2Au:
        v9 = 1;
        if ( v7 == 40 )
        {
          *(_DWORD *)&byte_5D4594[2598000] = *(_DWORD *)(v3 + 1);
          *(_DWORD *)&byte_5D4594[1200800] = *(_DWORD *)&byte_5D4594[2598000];
          v364 = *(_DWORD *)&byte_5D4594[2598000];
          *(_DWORD *)&byte_5D4594[1200808] = *(unsigned __int16 *)&byte_5D4594[2598000] >> 14;
          if ( *(_DWORD *)&byte_5D4594[2618908] )
            sub_417530(*(int *)&byte_5D4594[2618908], 64);
          sub_43C650();
          v3 += 5;
          goto LABEL_1184;
        }
        if ( v7 != 39 )
        {
          v14 = *(unsigned __int16 *)(v373 + 1);
          if ( (unsigned __int16)v14 < (unsigned int)(*(_DWORD *)&byte_5D4594[1200800] + sub_43C790()) )
            *(_DWORD *)&byte_5D4594[2598000] = v14;
          v3 += 5;
          goto LABEL_1184;
        }
        v373 = v3;
        if ( *(_DWORD *)&byte_5D4594[2618908] && *(_BYTE *)(*(_DWORD *)&byte_5D4594[2618908] + 3680) & 0x40 )
          return 1;
        v10 = *(_DWORD *)&byte_5D4594[2598000];
        v11 = *(_WORD *)(v3 + 1);
        v12 = v11 + (*(_DWORD *)&byte_5D4594[2598000] & 0xFFFF0000);
        v13 = v11 >> 14;
        if ( v13 != *(_DWORD *)&byte_5D4594[1200808] )
        {
          if ( v13 == ((byte_5D4594[1200808] + 1) & 3) )
          {
            *(_DWORD *)&byte_5D4594[1200808] = v13;
            if ( !v13 )
              v12 += 0x10000;
          }
          else
          {
            v9 = 0;
          }
        }
        if ( v12 < *(int *)&byte_5D4594[2598000] )
          v9 = 0;
        if ( !sub_40A5C0(1) && v9 == 1 )
        {
          *(_DWORD *)&byte_5D4594[2598000] = v12;
          *(_DWORD *)&byte_5D4594[1200800] = v12;
        }
        v364 = v12;
        if ( !sub_40A5C0(1) && !v9 )
        {
          --*(_DWORD *)&byte_5D4594[2618900];
          ++*(_DWORD *)&byte_5D4594[2649824];
          return 1;
        }
        if ( *(_DWORD *)&byte_5D4594[2598000] > (unsigned int)(v10 + 1) )
          *(_DWORD *)&byte_5D4594[2618900] += *(_DWORD *)&byte_5D4594[2598000] - v10;
        sub_43C650();
        goto LABEL_1183;
      case 0x2Bu:
        k = *(_DWORD *)&byte_5D4594[1200804];
        if ( *(_DWORD *)(v3 + 37) > *(int *)&byte_5D4594[1200804] )
        {
          sub_40A360(*(_DWORD *)(v3 + 37));
          sub_467DF0(1);
          sub_409D70((char *)(v3 + 1));
          sub_409B10(*(_DWORD *)(v3 + 33));
          if ( !sub_40A5C0(1) )
          {
            sub_40A540(8);
            if ( *(_DWORD *)&byte_5D4594[2650652] )
              sub_41D6C0();
          }
          sub_40A4D0(0x800000);
          *(_DWORD *)&byte_5D4594[1200804] = *(_DWORD *)&byte_5D4594[2598000];
          sub_43C720(0);
          sub_49C7A0();
          sub_4597E0(0);
          sub_44A400();
          sub_413850();
        }
        v3 += 41;
        goto LABEL_1184;
      case 0x2Cu:
        v42 = sub_578B30(*(_WORD *)(v3 + 1));
        *(_DWORD *)&byte_5D4594[2616328] = v42;
        v43 = sub_416F60(v42);
        if ( v43 )
        {
          *((_DWORD *)v43 + 517) = *(_DWORD *)(v3 + 3);
          *(_DWORD *)&byte_5D4594[2618908] = v43;
        }
        if ( !sub_40A5C0(1) )
          sub_57B920(&byte_5D4594[1198020]);
        *(_DWORD *)&byte_5D4594[1200804] = 0;
        v3 += 7;
        *(_DWORD *)&byte_5D4594[2618900] = 0;
        *(_DWORD *)&byte_5D4594[2649824] = 0;
        *(_DWORD *)&byte_5D4594[2614264] = 0;
        *(_DWORD *)&byte_5D4594[1200832] = 0;
        sub_4169D0(0);
        goto LABEL_1184;
      case 0x2Du:
        v209 = sub_578B30(*(_WORD *)(v3 + 1));
        v210 = v209;
        v360 = v209;
        v211 = sub_416F60(v209);
        if ( v211 )
        {
          if ( !sub_40A5C0(1) )
          {
            *((_DWORD *)v211 + 515) = v210;
            *((_DWORD *)v211 + 534) = *(__int16 *)(v3 + 100);
            *((_DWORD *)v211 + 535) = *(unsigned __int16 *)(v3 + 102);
            *(_DWORD *)v211 = *(_DWORD *)(v3 + 104);
            *((_DWORD *)v211 + 1) = *(_DWORD *)(v3 + 108);
            *((_DWORD *)v211 + 538) = *(unsigned __int8 *)(v3 + 116);
            *((_DWORD *)v211 + 539) = *(unsigned __int8 *)(v3 + 117);
            strcpy(v211 + 2096, (const char *)(v3 + 119));
            *((_DWORD *)v211 + 920) |= *(_DWORD *)(v3 + 112);
            qmemcpy(v211 + 2185, (const void *)(v3 + 3), 0x61u);
            nox_swprintf((wchar_t *)v211 + 2352, (const wchar_t *)&byte_587000[159020], v211 + 2185, v211 + 2274);
            if ( *(_DWORD *)&byte_5D4594[2650652] )
            {
              *((_DWORD *)v211 + 527) = 0;
              sub_41D670((int)(v211 + 2096));
            }
            sub_461460((int)v211);
            v210 = v360;
          }
          v212 = (wchar_t *)(v211 + 4704);
          sub_457140(v210, v212);
          sub_455920((int)v212);
          v213 = sub_40F1D0((char *)&byte_587000[159072], 0, (const char *)&byte_587000[159032], 4661);
          nox_swprintf(v399, v213, v212);
          if ( sub_4356B0() == 3 )
            sub_445490(v399);
          if ( v210 == *(_DWORD *)&byte_5D4594[2616328] && nox_wcscmp((const wchar_t *)&byte_5D4594[2661908], v212) )
            *(_DWORD *)&byte_5D4594[1200832] = 1;
		  OnLibraryNotice(263, v211);
        }
        v3 += 129;
        goto LABEL_1184;
      case 0x2Eu:
        if ( sub_43C700() )
        {
          v214 = sub_578B30(*(_WORD *)(v3 + 1));
          v215 = v214;
          v216 = sub_417040(v214);
          if ( v216 )
          {
            sub_456DF0(v215);
            sub_455950((wchar_t *)v216 + 2352);
            v217 = sub_40F1D0((char *)&byte_587000[159128], 0, (const char *)&byte_587000[159088], 4744);
            nox_swprintf(v397, v217, v216 + 4704);
            *((_DWORD *)v216 + 523) = 0;
            v218 = sub_418C80(v215);
            v219 = (int)v218;
			OnLibraryNotice(264, v216 + 4704);
            if ( v218 && sub_419130((int)v218) )
              sub_419570(v219, v215);
          }
          else
          {
            v220 = sub_40F1D0((char *)&byte_587000[159180], 0, (const char *)&byte_587000[159140], 4757);
            nox_swprintf(v397, v220);
          }
          if ( sub_4356B0() == 3 )
            sub_445490(v397);
        }
        goto LABEL_1183;
      case 0x2Fu:
        sub_578B30(*(_WORD *)(v3 + 1));
        if ( sub_43C700() )
        {
          if ( *(_DWORD *)&byte_5D4594[2650636] & 0x10000000 )
            sub_578B70(*(unsigned __int16 *)(v3 + 1));
          LODWORD(v5) = sub_48E970(
                          *(unsigned __int16 *)(v3 + 3),
                          *(unsigned __int16 *)(v3 + 1),
                          *(unsigned __int16 *)(v3 + 5),
                          *(unsigned __int16 *)(v3 + 7));
          if ( (_DWORD)v5 )
          {
            k = *(_DWORD *)&byte_5D4594[2598000];
            *(_DWORD *)(v5 + 288) = *(_DWORD *)&byte_5D4594[2598000];
          }
        }
        v3 += 9;
        goto LABEL_1184;
      case 0x30u:
        sub_578B30(*(_WORD *)(v3 + 1));
        if ( !sub_43C700() )
          goto LABEL_94;
        if ( *(_DWORD *)&byte_5D4594[2650636] & 0x10000000 )
          sub_578B70(*(unsigned __int16 *)(v3 + 1));
        if ( *(_WORD *)(v3 + 3) || *(_WORD *)(v3 + 1) )
        {
          LODWORD(v5) = sub_48E970(
                          *(unsigned __int16 *)(v3 + 3),
                          *(unsigned __int16 *)(v3 + 1),
                          *(unsigned __int16 *)(v3 + 5),
                          *(unsigned __int16 *)(v3 + 7));
          v29 = v5;
          if ( (_DWORD)v5 )
          {
            *(_DWORD *)(v5 + 288) = *(_DWORD *)&byte_5D4594[2598000];
            sub_45AB80(v5, *(unsigned __int8 *)(v3 + 10));
            LOBYTE(v5) = (*(_BYTE *)(v3 + 9) >> 4) & 7;
            *(_BYTE *)(v29 + 297) = v5;
            if ( (unsigned __int8)v5 > 3u )
              *(_BYTE *)(v29 + 297) = v5 + 1;
            v30 = *(_BYTE *)(v3 + 9) & 0xF;
            *(_BYTE *)(v3 + 9) = v30;
            if ( *(_DWORD *)(v29 + 276) != v30 )
            {
              *(_DWORD *)(v29 + 316) = *(_DWORD *)&byte_5D4594[2598000];
              HIDWORD(v5) = *(unsigned __int8 *)(v3 + 9);
              *(_DWORD *)(v29 + 276) = HIDWORD(v5);
            }
          }
          k = *(_DWORD *)&byte_5D4594[2616328];
          if ( *(unsigned __int16 *)(v3 + 1) == *(_DWORD *)&byte_5D4594[2616328] && sub_416120(9u) )
            sub_435600(*(unsigned __int16 *)(v3 + 5), *(unsigned __int16 *)(v3 + 7));
LABEL_94:
          v3 += 11;
        }
        else
        {
          sub_435600(*(unsigned __int16 *)(v3 + 5), *(unsigned __int16 *)(v3 + 7));
          sub_4160D0(9);
          v3 += 11;
        }
        goto LABEL_1184;
      case 0x31u:
        v44 = sub_578B30(*(_WORD *)(v3 + 1));
        v45 = v44;
        if ( !sub_43C700() )
          goto LABEL_1183;
        if ( *(_DWORD *)&byte_5D4594[2650636] & 0x10000000 )
          sub_578B70(*(unsigned __int16 *)(v3 + 1));
        LODWORD(v5) = sub_578B70(*(unsigned __int16 *)(v3 + 1)) ? sub_45A720(v45) : sub_45A6F0(v45);
        v46 = v5;
        if ( !(_DWORD)v5 )
          goto LABEL_1183;
        if ( *(int (__cdecl **)(int *, int))(v5 + 300) == sub_4BBD60 )
        {
          v47 = *(_DWORD *)(v5 + 304);
          if ( v47 )
          {
            if ( *(_DWORD *)(v47 + 12) == 1 )
              goto LABEL_1183;
          }
        }
        v48 = sub_578B70(*(unsigned __int16 *)(v3 + 1));
        v331 = v46;
        if ( !v48 )
          goto LABEL_210;
        sub_45A9A0(v46);
        goto LABEL_1183;
      case 0x32u:
        v49 = sub_578B30(*(_WORD *)(v3 + 1));
        v50 = v49;
        if ( !sub_43C700() )
          goto LABEL_1183;
        if ( *(_DWORD *)&byte_5D4594[2650636] & 0x10000000 )
          sub_578B70(*(unsigned __int16 *)(v3 + 1));
        LODWORD(v5) = sub_578B70(*(unsigned __int16 *)(v3 + 1)) ? sub_45A720(v50) : sub_45A6F0(v50);
        v51 = v5;
        if ( !(_DWORD)v5 )
          goto LABEL_1183;
        if ( *(int (__cdecl **)(int *, int))(v5 + 300) == sub_4BBD60 )
        {
          v52 = *(_DWORD *)(v5 + 304);
          if ( v52 )
          {
            if ( *(_DWORD *)(v52 + 12) == 1 )
              goto LABEL_1183;
          }
        }
        if ( v51 == *(_DWORD *)&byte_5D4594[2614252] )
          goto LABEL_1183;
        v53 = sub_578B70(*(unsigned __int16 *)(v3 + 1));
        goto LABEL_208;
      case 0x33u:
        v54 = sub_578B30(*(_WORD *)(v3 + 1));
        v55 = v54;
        if ( !sub_43C700() )
          goto LABEL_1183;
        if ( (byte_5D4594[2650637] & 0x80u) != 0 )
          sub_578B70(*(unsigned __int16 *)(v3 + 1));
        LODWORD(v5) = sub_578B70(*(unsigned __int16 *)(v3 + 1)) ? sub_45A720(v55) : sub_45A6F0(v55);
        v51 = v5;
        if ( !(_DWORD)v5 )
          goto LABEL_1183;
        k = 1;
        *(_DWORD *)(v5 + 484) = 1;
        *(_DWORD *)(v5 + 480) = 1;
        *(_DWORD *)(v5 + 488) = 1;
        if ( *(_DWORD *)&byte_587000[80836] )
        {
          if ( (_DWORD)v5 != *(_DWORD *)&byte_5D4594[2614252] )
            sub_49B950((_DWORD *)v5, *(int *)&byte_5D4594[2649704]);
        }
        else if ( *(int (__cdecl **)(int *, int))(v5 + 300) != sub_4BBD60
               || (v56 = *(_DWORD *)(v5 + 304)) == 0
               || *(_DWORD *)(v56 + 12) != 1 )
        {
          if ( v51 != *(_DWORD *)&byte_5D4594[2614252] )
          {
            v53 = sub_578B70(*(unsigned __int16 *)(v3 + 1));
LABEL_208:
            v331 = v51;
            if ( v53 )
              sub_45A9A0(v51);
            else
LABEL_210:
              sub_45A4E0(v331);
          }
        }
        goto LABEL_1183;
      case 0x34u:
        v57 = sub_578B30(*(_WORD *)(v3 + 1));
        v58 = v57;
        if ( sub_43C700() )
          sub_4959F0(v58);
        goto LABEL_1183;
      case 0x35u:
        v59 = sub_578B30(*(_WORD *)(v3 + 1));
        v60 = v59;
        if ( sub_43C700() )
          sub_495A20(v60);
        goto LABEL_1183;
      case 0x36u:
        if ( sub_43C700() )
          sub_4959B0();
        ++v3;
        goto LABEL_1184;
      case 0x37u:
        v62 = sub_578B30(*(_WORD *)(v3 + 1));
        v63 = v62;
        if ( sub_43C700() )
        {
          if ( (byte_5D4594[2650637] & 0x80u) != 0 )
            sub_578B70(*(unsigned __int16 *)(v3 + 1));
          if ( sub_578B70(*(unsigned __int16 *)(v3 + 1)) )
            LODWORD(v5) = sub_45A720(v63);
          else
            LODWORD(v5) = sub_45A6F0(v63);
          if ( (_DWORD)v5 )
            *(_DWORD *)(v5 + 120) |= 0x1000000u;
        }
        goto LABEL_1183;
      case 0x38u:
        v64 = sub_578B30(*(_WORD *)(v3 + 1));
        v65 = v64;
        if ( sub_43C700() )
        {
          if ( (byte_5D4594[2650637] & 0x80u) != 0 )
            sub_578B70(*(unsigned __int16 *)(v3 + 1));
          if ( sub_578B70(*(unsigned __int16 *)(v3 + 1)) )
            LODWORD(v5) = sub_45A720(v65);
          else
            LODWORD(v5) = sub_45A6F0(v65);
          if ( (_DWORD)v5 )
          {
            if ( *(_DWORD *)(v5 + 112) & 0x40000 )
              *(_DWORD *)(v5 + 300) = 0;
            *(_DWORD *)(v5 + 120) &= 0xFEFFFFFF;
          }
        }
        goto LABEL_1183;
      case 0x39u:
        v16 = sub_578B30(*(_WORD *)(v3 + 1));
        v17 = v16;
        if ( !sub_43C700() )
          goto LABEL_764;
        LODWORD(v5) = sub_578B70(*(unsigned __int16 *)(v3 + 1)) ? sub_45A720(v17) : sub_45A6F0(v17);
        if ( !(_DWORD)v5 )
          goto LABEL_764;
        sub_45AB80(v5, *(unsigned __int8 *)(v3 + 3));
        v3 += 4;
        goto LABEL_1184;
      case 0x3Au:
        if ( sub_43C700() && !sub_40A5C0(1) )
          sub_410520(*(_WORD *)(v3 + 1));
        goto LABEL_1183;
      case 0x3Bu:
        if ( sub_43C700() )
        {
          if ( !sub_40A5C0(1) )
          {
            LODWORD(v5) = sub_410550(*(_WORD *)(v3 + 1));
            if ( (_DWORD)v5 )
            {
              if ( *(_BYTE *)(v5 + 4) & 4 )
              {
                v67 = *(_DWORD *)(v5 + 28);
                *(_BYTE *)(v67 + 22) = 23;
                *(_BYTE *)(v67 + 21) = 3;
              }
            }
          }
        }
        goto LABEL_1183;
      case 0x3Cu:
        if ( sub_43C700() )
        {
          if ( !sub_40A5C0(1) )
          {
            LODWORD(v5) = sub_410550(*(_WORD *)(v3 + 1));
            if ( (_DWORD)v5 )
            {
              if ( *(_BYTE *)(v5 + 4) & 4 )
              {
                v68 = *(_DWORD *)(v5 + 28);
                if ( v68 )
                {
                  *(_BYTE *)(v68 + 22) = 0;
                  *(_BYTE *)(v68 + 21) = 1;
                }
              }
            }
          }
        }
        goto LABEL_1183;
      case 0x3Du:
        if ( !sub_43C700() )
          goto LABEL_916;
        LODWORD(v5) = sub_410580(*(unsigned __int8 *)(v3 + 4), *(unsigned __int8 *)(v3 + 5));
        if ( !(_DWORD)v5 )
        {
          LODWORD(v5) = sub_410250(*(unsigned __int8 *)(v3 + 4), *(unsigned __int8 *)(v3 + 5));
          if ( !(_DWORD)v5 )
            goto LABEL_916;
        }
        v66 = *(_BYTE *)(v3 + 1);
        v3 += 6;
        *(_BYTE *)(v5 + 1) = v66;
        *(_BYTE *)v5 = *(_BYTE *)(v3 - 4);
        *(_BYTE *)(v5 + 2) = *(_BYTE *)(v3 - 3);
        goto LABEL_1184;
      case 0x3Eu:
        if ( sub_43C700() )
        {
          LODWORD(v5) = sub_410580(*(unsigned __int8 *)(v3 + 1), *(unsigned __int8 *)(v3 + 2));
          if ( (_DWORD)v5 )
            sub_410430(*(unsigned __int8 *)(v5 + 5), *(unsigned __int8 *)(v5 + 6));
        }
        goto LABEL_1183;
      case 0x41u:
        sub_578B30(*(_WORD *)(v3 + 1));
        if ( !sub_43C700() )
          goto LABEL_764;
        if ( (byte_5D4594[2650637] & 0x80u) != 0 )
          sub_578B70(*(unsigned __int16 *)(v3 + 1));
        if ( !sub_4951F0(*(unsigned __int16 *)(v3 + 1)) )
          goto LABEL_764;
        sub_495150(*(unsigned __int16 *)(v3 + 1), 2 * *(unsigned __int8 *)(v3 + 3));
        v3 += 4;
        goto LABEL_1184;
      case 0x42u:
        sub_578B30(*(_WORD *)(v3 + 1));
        if ( sub_43C700() && (byte_5D4594[2650637] & 0x80u) != 0 )
          sub_578B70(*(unsigned __int16 *)(v3 + 1));
        sub_49A650(*(unsigned __int16 *)(v3 + 1), *(_WORD *)(v3 + 3));
        v3 += 5;
        goto LABEL_1184;
      case 0x43u:
        if ( sub_43C700() )
          sub_470CB0(*(__int16 *)(v3 + 1));
        goto LABEL_1183;
      case 0x44u:
        v92 = sub_578B30(*(_WORD *)(v3 + 1));
        v93 = v92;
        if ( !sub_43C700() )
          goto LABEL_1149;
        if ( (byte_5D4594[2650637] & 0x80u) != 0 )
          sub_578B70(*(unsigned __int16 *)(v3 + 1));
        sub_4675E0(v93, *(_WORD *)(v3 + 3), *(_WORD *)(v3 + 5));
        v3 += 7;
        goto LABEL_1184;
      case 0x45u:
        v96 = sub_578B30(*(_WORD *)(v3 + 1));
        v97 = v96;
        if ( !sub_43C700() )
          goto LABEL_1163;
        if ( (byte_5D4594[2650637] & 0x80u) != 0 )
          sub_578B70(*(unsigned __int16 *)(v3 + 1));
        if ( v97 != *(_DWORD *)&byte_5D4594[2616328] )
          goto LABEL_1163;
        sub_470D10(*(unsigned __int16 *)(v3 + 3));
        v3 += 5;
        goto LABEL_1184;
      case 0x47u:
        if ( !sub_43C700() )
          goto LABEL_966;
        sub_470D20(*(unsigned __int8 *)(v3 + 1), *(int *)&byte_587000[157092]);
        v3 += 2;
        goto LABEL_1184;
      case 0x48u:
        v98 = sub_578B30(*(_WORD *)(v3 + 1));
        v99 = *(_DWORD *)&byte_5D4594[2618908];
        v100 = v98;
        if ( sub_43C700() )
        {
          if ( (byte_5D4594[2650637] & 0x80u) != 0 )
            sub_578B70(*(unsigned __int16 *)(v3 + 1));
          if ( v100 == *(_DWORD *)&byte_5D4594[2616328] )
          {
            v101 = sub_40A5C0(1);
            if ( !v101 && v99 )
            {
              *(_DWORD *)(v99 + 2247) = *(unsigned __int16 *)(v3 + 3);
              *(_DWORD *)(v99 + 2243) = *(unsigned __int16 *)(v3 + 5);
              LOWORD(v101) = *(_WORD *)(v3 + 9);
              v332 = (double)v101;
              *(_DWORD *)(v99 + 2235) = sub_419A70(v332);
              *(_DWORD *)(v99 + 2239) = *(unsigned __int16 *)(v3 + 11);
              *(_WORD *)(v99 + 3652) = *(_WORD *)(v3 + 7);
              *(_BYTE *)(v99 + 3684) = *(_BYTE *)(v3 + 13);
            }
            sub_467460();
          }
        }
        v3 += 14;
        goto LABEL_1184;
      case 0x49u:
        if ( !sub_43C700() )
          goto LABEL_1163;
        sub_467450(*(_DWORD *)(v3 + 1));
        v3 += 5;
        goto LABEL_1184;
      case 0x4Au:
        v102 = *(_DWORD *)(v3 + 1);
        if ( !sub_43C700() )
          goto LABEL_1163;
        sub_467490(v102);
        v3 += 5;
        goto LABEL_1184;
      case 0x4Bu:
        v103 = sub_578B30(*(_WORD *)(v3 + 1));
        v104 = v103;
        if ( !sub_43C700() )
          goto LABEL_1163;
        if ( (byte_5D4594[2650637] & 0x80u) != 0 )
          sub_578B70(*(unsigned __int16 *)(v3 + 1));
        *(_DWORD *)v381 = 0;
        *(_WORD *)&v381[16] = -1;
        *(_DWORD *)&v381[4] = 0;
        *(_WORD *)&v381[18] = -1;
        *(_DWORD *)&v381[8] = 0;
        *(_DWORD *)&v381[12] = 0;
        if ( sub_461660(v104, *(unsigned __int16 *)(v3 + 3), v381) )
          goto LABEL_1163;
        sub_461630(v104);
        v3 += 5;
        goto LABEL_1184;
      case 0x4Cu:
        v105 = sub_578B30(*(_WORD *)(v3 + 1));
        v106 = v105;
        if ( !sub_43C700() )
          goto LABEL_735;
        if ( (byte_5D4594[2650637] & 0x80u) != 0 )
          sub_578B70(*(unsigned __int16 *)(v3 + 1));
        v107 = 0;
        v108 = v385;
        do
        {
          *(_DWORD *)v108 = sub_413330(*(unsigned __int8 *)(v107++ + v3 + 5));
          v108 += 4;
        }
        while ( v107 < 4 );
        *(_WORD *)&v385[16] = -1;
        *(_WORD *)&v385[18] = -1;
        if ( sub_461660(v106, *(unsigned __int16 *)(v3 + 3), v385) )
          goto LABEL_735;
        sub_461630(v106);
        v3 += 9;
        goto LABEL_1184;
      case 0x4Du:
        v109 = sub_578B30(*(_WORD *)(v3 + 1));
        v110 = v109;
        if ( !sub_43C700() )
          goto LABEL_1163;
        if ( (byte_5D4594[2650637] & 0x80u) != 0 )
          sub_578B70(*(unsigned __int16 *)(v3 + 1));
        sub_461A80(v110);
        v3 += 5;
        goto LABEL_1184;
      case 0x4Eu:
        v124 = sub_578B30(*(_WORD *)(v3 + 1));
        v125 = v124;
        v126 = sub_416590(0);
        if ( sub_43C700() )
        {
          v127 = sub_417040(v125);
          if ( v127 )
          {
            if ( !sub_40A5C0(1) )
            {
              *((_DWORD *)v127 + 534) = *(_DWORD *)(v3 + 3);
              *((_DWORD *)v127 + 535) = *(_DWORD *)(v3 + 7);
              *((_DWORD *)v127 + 536) = *(_DWORD *)&byte_5D4594[2598000];
            }
            if ( sub_40A5C0(1024) )
            {
              k = *(_DWORD *)(v3 + 7);
              if ( k >= *((unsigned __int16 *)v126 + 27) )
              {
                v128 = sub_40F1D0((char *)&byte_587000[157264], 0, (const char *)&byte_587000[157224], 3452);
                nox_swprintf(v395, v128, v127 + 4704);
                sub_452D80(312, 100);
                sub_445490(v395);
              }
            }
          }
        }
        v3 += 11;
        goto LABEL_1184;
      case 0x4Fu:
      case 0x50u:
        LODWORD(v5) = sub_43C700();
        if ( !(_DWORD)v5 )
          goto LABEL_442;
        LOWORD(v5) = *(_WORD *)(v3 + 1);
        v367 = -1;
        *(_WORD *)(v3 + 1) = v5 & 0x7FFF;
        if ( (((unsigned int)v5 >> 15) & 1) == 1 )
        {
          sub_417AA0(*(_BYTE *)v3, *(unsigned __int16 *)(v3 + 1), *(_DWORD *)(v3 + 3), (int)&v367);
          v3 += 7;
        }
        else
        {
          sub_49A3D0(*(_BYTE *)v3, *(unsigned __int16 *)(v3 + 1), *(_DWORD *)(v3 + 3), (int)&v367);
LABEL_442:
          v3 += 7;
        }
        goto LABEL_1184;
      case 0x51u:
      case 0x52u:
        LODWORD(v5) = sub_43C700();
        if ( !(_DWORD)v5 )
          goto LABEL_437;
        LOWORD(v5) = *(_WORD *)(v3 + 1);
        v116 = *(_DWORD *)(v3 + 3);
        v117 = v5;
        v118 = v5 & 0x7FFF;
        *(_WORD *)(v3 + 1) = v118;
        v333 = v3 + 7;
        if ( ((v117 >> 15) & 1) == 1 )
        {
          sub_417AA0(*(_BYTE *)v3, v118, v116, v333);
          v3 += 11;
        }
        else
        {
          sub_49A3D0(*(_BYTE *)v3, v118, v116, v333);
LABEL_437:
          v3 += 11;
        }
        goto LABEL_1184;
      case 0x53u:
      case 0x54u:
        if ( !sub_43C700() )
          goto LABEL_1149;
        sub_417B80(*(_BYTE *)v3, *(unsigned __int16 *)(v3 + 1), *(_DWORD *)(v3 + 3));
        v3 += 7;
        goto LABEL_1184;
      case 0x55u:
        v140 = sub_578B30(*(_WORD *)(v3 + 1));
        v141 = v140;
        if ( sub_43C700() )
        {
          if ( (byte_5D4594[2650637] & 0x80u) != 0 )
            sub_578B70(*(unsigned __int16 *)(v3 + 1));
          v142 = sub_417040(v141);
          if ( v142 )
          {
            if ( !sub_40A5C0(1) && *(_DWORD *)&byte_5D4594[2598000] > *((_DWORD *)v142 + 540) )
            {
              HIWORD(v5) = 0;
              *((_DWORD *)v142 + 538) = *(unsigned __int16 *)(v3 + 3);
              WORD2(v5) = *(_WORD *)(v3 + 5);
              *((_DWORD *)v142 + 539) = WORD2(v5);
              *((_DWORD *)v142 + 540) = *(_DWORD *)&byte_5D4594[2598000];
            }
            k = *((_DWORD *)v142 + 539) - 1;
            if ( *((_DWORD *)v142 + 538) == k )
            {
              v143 = sub_40F1D0((char *)&byte_587000[157316], 0, (const char *)&byte_587000[157276], 3729);
              nox_swprintf(v406, v143, v142 + 4704);
              sub_445490(v406);
            }
          }
        }
        v3 += 7;
        goto LABEL_1184;
      case 0x56u:
        v144 = sub_418AB0(*(unsigned __int16 *)(v3 + 1));
        if ( !sub_43C700() )
          goto LABEL_602;
        HIDWORD(v5) = *(_DWORD *)(v3 + 4);
        if ( HIDWORD(v5) <= *(int *)&byte_5D4594[1200804] )
          goto LABEL_602;
        if ( (byte_5D4594[2650637] & 0x80u) != 0 )
          sub_578B70(*(unsigned __int16 *)(v3 + 1));
        sub_452D80(309, 100);
        if ( !sub_40A5C0(1) )
          sub_40A4D0(8);
        sub_435570();
        if ( !(*(_DWORD *)&byte_5D4594[2650636] & 0x40000) )
          sub_470510();
        v145 = sub_418C80(*(int *)&byte_5D4594[2616328]);
        if ( v145 && sub_419180((int)v145, *(_BYTE *)(v3 + 1)) )
        {
          v146 = sub_40F1D0((char *)&byte_587000[157372], 0, (const char *)&byte_587000[157332], 3776);
          nox_swprintf(v400, v146);
          v147 = 0;
        }
        else
        {
          v148 = sub_40F1D0((char *)&byte_587000[157420], 0, (const char *)&byte_587000[157380], 3781);
          nox_swprintf(v400, v148, v144);
          v149 = sub_40F1D0((char *)&byte_587000[157472], 0, (const char *)&byte_587000[157432], 3782);
          nox_swprintf(v400, v149, v400);
          v147 = 1;
        }
        sub_435700(v400, v147);
        sub_4597E0(0);
        v3 += 8;
        goto LABEL_1184;
      case 0x57u:
        v172 = sub_418AB0(*(unsigned __int16 *)(v3 + 1));
        if ( !sub_43C700() )
          goto LABEL_602;
        k = *(_DWORD *)&byte_5D4594[1200804];
        if ( *(_DWORD *)(v3 + 4) <= *(int *)&byte_5D4594[1200804] )
          goto LABEL_602;
        v393[0] = 0;
        if ( *(_BYTE *)(v3 + 3) == 1 )
        {
          v173 = sub_40F1D0((char *)&byte_587000[158612], 0, (const char *)&byte_587000[158572], 4055);
          nox_swprintf(v393, v173);
        }
        sub_452D80(309, 100);
        if ( !sub_40A5C0(1) )
          sub_40A4D0(8);
        sub_435570();
        if ( !(*(_DWORD *)&byte_5D4594[2650636] & 0x40000) )
          sub_470510();
        v174 = sub_418C80(*(int *)&byte_5D4594[2616328]);
        if ( v172 )
        {
          v175 = sub_40F1D0((char *)&byte_587000[158672], 0, (const char *)&byte_587000[158632], 4071);
          nox_swprintf(v398, v175, v172);
          if ( !v174 || !sub_419180((int)v174, v172[57]) )
          {
            v176 = 1;
            goto LABEL_600;
          }
        }
        else
        {
          v177 = sub_40F1D0((char *)&byte_587000[158724], 0, (const char *)&byte_587000[158684], 4083);
          nox_swprintf(v398, v177);
        }
        v176 = 0;
LABEL_600:
        nox_wcscat(v393, v398);
        sub_435700(v393, v176);
        goto LABEL_601;
      case 0x58u:
        v150 = 1;
        v389[0] = 0;
        v392[0] = 0;
        v391[0] = 0;
        if ( !sub_43C700() )
          goto LABEL_602;
        HIDWORD(v5) = *(_DWORD *)(v3 + 4);
        if ( HIDWORD(v5) <= *(int *)&byte_5D4594[1200804] )
          goto LABEL_602;
        v391[0] = 0;
        if ( *(_BYTE *)(v3 + 3) == 1 )
        {
          v151 = sub_40F1D0((char *)&byte_587000[157524], 0, (const char *)&byte_587000[157484], 3823);
          nox_swprintf(v391, v151);
        }
        sub_452D80(309, 100);
        if ( !sub_40A5C0(1) )
          sub_40A4D0(8);
        if ( !(*(_DWORD *)&byte_5D4594[2650636] & 0x40000) )
          sub_470510();
        sub_435570();
        if ( *(_WORD *)(v3 + 1) )
        {
          v152 = sub_578B30(*(_WORD *)(v3 + 1));
          v372 = v152;
        }
        v153 = v372;
        v154 = sub_417040(v372);
        if ( !sub_40A5C0(1024) )
        {
          if ( *(_WORD *)(v3 + 1) )
          {
            if ( !v154 )
              goto LABEL_559;
            if ( !*(_BYTE *)(v3 + 3) )
              sub_4947E0((int)v154);
            if ( v153 != *(_DWORD *)&byte_5D4594[2616328] )
            {
              v159 = sub_40F1D0((char *)&byte_587000[157884], 0, (const char *)&byte_587000[157844], 3899);
              nox_swprintf(v389, v159, v154 + 4704);
              v150 = 1;
              goto LABEL_559;
            }
            if ( !v154[2252] )
            {
              v314 = sub_40F1D0((char *)&byte_587000[157932], 0, (const char *)&byte_587000[157892], 3905);
              nox_swprintf(v389, v314);
              goto LABEL_558;
            }
            v155 = sub_40F1D0((char *)&byte_587000[157988], 0, (const char *)&byte_587000[157948], 3907);
          }
          else
          {
            v155 = sub_40F1D0((char *)&byte_587000[157836], 0, (const char *)&byte_587000[157796], 3884);
          }
LABEL_557:
          nox_swprintf(v389, v155);
          goto LABEL_558;
        }
        if ( !*(_WORD *)(v3 + 1) )
        {
          v155 = sub_40F1D0((char *)&byte_587000[157584], 0, (const char *)&byte_587000[157544], 3847);
          goto LABEL_557;
        }
        v156 = sub_40F1D0((char *)&byte_587000[157632], 0, (const char *)&byte_587000[157592], 3852);
        nox_swprintf(v389, v156);
        if ( v153 == *(_DWORD *)&byte_5D4594[2616328] )
        {
          v334 = sub_40F1D0((char *)&byte_587000[157684], 0, (const char *)&byte_587000[157644], 3855);
          v157 = sub_40F1D0((char *)&byte_587000[157732], 0, (const char *)&byte_587000[157692], 3855);
          nox_swprintf(v392, v157, v334);
          nox_wcscat(v389, v392);
LABEL_558:
          v150 = 0;
          goto LABEL_559;
        }
        if ( v154 )
        {
          v158 = sub_40F1D0((char *)&byte_587000[157784], 0, (const char *)&byte_587000[157744], 3863);
          nox_swprintf(v392, v158, v154 + 4704);
          if ( !*(_BYTE *)(v3 + 3) )
            sub_4947E0((int)v154);
        }
        nox_wcscat(v389, v392);
        v150 = 1;
LABEL_559:
        nox_wcscat(v391, v389);
        sub_435700(v391, v150);
LABEL_601:
        sub_4597E0(0);
LABEL_602:
        v3 += 8;
        goto LABEL_1184;
      case 0x59u:
        v160 = sub_418AB0(*(unsigned __int16 *)(v3 + 1));
        if ( !sub_43C700() )
          goto LABEL_602;
        k = *(_DWORD *)&byte_5D4594[1200804];
        if ( *(_DWORD *)(v3 + 4) <= *(int *)&byte_5D4594[1200804] )
          goto LABEL_602;
        v394[0] = 0;
        if ( *(_BYTE *)(v3 + 3) == 1 )
        {
          v161 = sub_40F1D0((char *)&byte_587000[158048], 0, (const char *)&byte_587000[158008], 3945);
          nox_swprintf(v394, v161);
        }
        sub_452D80(309, 100);
        if ( !sub_40A5C0(1) )
          sub_40A4D0(8);
        sub_435570();
        if ( !(*(_DWORD *)&byte_5D4594[2650636] & 0x40000) )
          sub_470510();
        v162 = sub_418C80(*(int *)&byte_5D4594[2616328]);
        if ( sub_40A5C0(1024) )
        {
          if ( !v160 )
          {
            v163 = sub_40F1D0((char *)&byte_587000[158108], 0, (const char *)&byte_587000[158068], 3964);
            nox_swprintf(v390, v163);
            v164 = 0;
            goto LABEL_585;
          }
          v165 = sub_40F1D0((char *)&byte_587000[158156], 0, (const char *)&byte_587000[158116], 3969);
          nox_swprintf(v390, v165);
          if ( v162 && sub_419180((int)v162, v160[57]) )
          {
            v335 = sub_40F1D0((char *)&byte_587000[158208], 0, (const char *)&byte_587000[158168], 3973);
            v166 = sub_40F1D0((char *)&byte_587000[158260], 0, (const char *)&byte_587000[158220], 3973);
            nox_swprintf(v388, v166, v335);
            nox_wcscat(v390, v388);
            v164 = 0;
          }
          else
          {
            v336 = sub_40F1D0((char *)&byte_587000[158312], 0, (const char *)&byte_587000[158272], 3980);
            v167 = sub_40F1D0((char *)&byte_587000[158360], 0, (const char *)&byte_587000[158320], 3980);
            nox_swprintf(v388, v167, v336);
            nox_swprintf(v396, v388, v160);
            nox_wcscat(v390, v396);
            v164 = 1;
          }
          if ( !*(_BYTE *)(v3 + 3) )
            goto LABEL_584;
        }
        else
        {
          if ( !v160 )
          {
            v168 = sub_40F1D0((char *)&byte_587000[158412], 0, (const char *)&byte_587000[158372], 3999);
            nox_swprintf(v390, v168);
            v164 = 0;
            goto LABEL_585;
          }
          if ( v162 && sub_419180((int)v162, v160[57]) )
          {
            v169 = sub_40F1D0((char *)&byte_587000[158460], 0, (const char *)&byte_587000[158420], 4006);
            nox_swprintf(v390, v169);
            v164 = 0;
          }
          else
          {
            v170 = sub_40F1D0((char *)&byte_587000[158516], 0, (const char *)&byte_587000[158476], 4011);
            nox_swprintf(v388, v170, v160);
            v171 = sub_40F1D0((char *)&byte_587000[158564], 0, (const char *)&byte_587000[158524], 4012);
            nox_swprintf(v390, v171, v388);
            v164 = 1;
          }
          if ( !*(_BYTE *)(v3 + 3) )
          {
LABEL_584:
            sub_4948B0((int)v160);
            goto LABEL_585;
          }
        }
LABEL_585:
        nox_wcscat(v394, v390);
        sub_435700(v394, v164);
        goto LABEL_601;
      case 0x5Au:
        v132 = sub_578B30(*(_WORD *)(v3 + 1));
        v133 = v132;
        if ( !sub_43C700() )
          goto LABEL_1149;
        if ( (byte_5D4594[2650637] & 0x80u) != 0 )
          sub_578B70(*(unsigned __int16 *)(v3 + 1));
        LODWORD(v5) = sub_578B70(*(unsigned __int16 *)(v3 + 1)) ? sub_45A720(v133) : sub_45A6F0(v133);
        v134 = v5;
        if ( !(_DWORD)v5 )
          goto LABEL_1149;
        LODWORD(v5) = sub_4356C0(v5, 15);
        HIDWORD(v5) = *(_DWORD *)(v3 + 3);
        v135 = v5;
        *(_DWORD *)(v134 + 124) = HIDWORD(v5);
        if ( v134 == *(_DWORD *)&byte_5D4594[2614252] )
          sub_467410(*(_DWORD *)(v3 + 3));
        if ( v135 != 1 || sub_4356C0(v134, 15) || v134 == *(_DWORD *)&byte_5D4594[2614252] && sub_467430() & 8 )
          goto LABEL_1149;
        v136 = sub_44CF10(*(_DWORD *)(v134 + 108));
        sub_484D70(v134 + 136, *(float *)(v136 + 44));
        v3 += 7;
        goto LABEL_1184;
      case 0x5Bu:
        if ( sub_43C700() )
        {
          LOBYTE(v129) = sub_467430();
          v130 = (v129 >> 3) & 1;
          sub_467420(*(_BYTE *)(v3 + 1));
          if ( v130 == 1
            && !(sub_467430() & 8)
            && *(_DWORD *)&byte_5D4594[2614252]
            && !sub_4356C0(*(int *)&byte_5D4594[2614252], 15) )
          {
            v131 = sub_44CF10(*(_DWORD *)(*(_DWORD *)&byte_5D4594[2614252] + 108));
            sub_484D70(*(_DWORD *)&byte_5D4594[2614252] + 136, *(float *)(v131 + 44));
          }
        }
        v3 += 2;
        goto LABEL_1184;
      case 0x5Cu:
        v88 = sub_578B30(*(_WORD *)(v3 + 1));
        v89 = v88;
        if ( !sub_43C700() )
          goto LABEL_902;
        if ( (byte_5D4594[2650637] & 0x80u) != 0 )
          sub_578B70(*(unsigned __int16 *)(v3 + 1));
        LODWORD(v5) = sub_578B70(*(unsigned __int16 *)(v3 + 1)) ? sub_45A720(v89) : sub_45A6F0(v89);
        if ( (_DWORD)v5 )
        {
          sub_484BE0(
            (_DWORD *)(v5 + 136),
            *(unsigned __int8 *)(v3 + 3),
            *(unsigned __int8 *)(v3 + 4),
            *(unsigned __int8 *)(v3 + 5));
          v3 += 6;
        }
        else
        {
LABEL_902:
          v3 += 6;
        }
        goto LABEL_1184;
      case 0x5Du:
        v84 = sub_578B30(*(_WORD *)(v3 + 1));
        v85 = v84;
        if ( !sub_43C700() )
          goto LABEL_948;
        if ( (byte_5D4594[2650637] & 0x80u) != 0 )
          sub_578B70(*(unsigned __int16 *)(v3 + 1));
        LODWORD(v5) = sub_578B70(*(unsigned __int16 *)(v3 + 1)) ? sub_45A720(v85) : sub_45A6F0(v85);
        if ( !(_DWORD)v5 )
          goto LABEL_948;
        sub_484D70(v5 + 136, *(float *)(v3 + 3));
        v3 += 7;
        goto LABEL_1184;
      case 0x5Eu:
        v178 = sub_578B30(*(_WORD *)(v3 + 1));
        v179 = v178;
        if ( sub_43C700() )
        {
          LODWORD(v5) = sub_578B70(*(unsigned __int16 *)(v3 + 1)) ? sub_45A720(v179) : sub_45A6F0(v179);
          if ( (_DWORD)v5 )
          {
            WORD2(v5) = *(unsigned __int8 *)(v3 + 3);
            *(_WORD *)(v5 + 104) = WORD2(v5);
          }
        }
        v3 += 4;
        goto LABEL_1184;
      case 0x5Fu:
        v180 = sub_578B30(*(_WORD *)(v3 + 1));
        v181 = v180;
        if ( sub_43C700() )
        {
          LODWORD(v5) = sub_578B70(*(unsigned __int16 *)(v3 + 1)) ? sub_45A720(v181) : sub_45A6F0(v181);
          if ( (_DWORD)v5 )
          {
            WORD2(v5) = *(unsigned __int8 *)(v3 + 3);
            HIDWORD(v5) = -HIDWORD(v5);
            *(_WORD *)(v5 + 104) = WORD2(v5);
          }
        }
        v3 += 4;
        goto LABEL_1184;
      case 0x60u:
        v120 = sub_578B30(*(_WORD *)(v3 + 1));
        v121 = v120;
        if ( sub_43C700() )
        {
          if ( (byte_5D4594[2650637] & 0x80u) != 0 )
            sub_578B70(*(unsigned __int16 *)(v3 + 1));
          sub_462040(v121);
        }
        goto LABEL_1183;
      case 0x61u:
        v122 = sub_578B30(*(_WORD *)(v3 + 1));
        v123 = v122;
        if ( sub_43C700() )
        {
          if ( (byte_5D4594[2650637] & 0x80u) != 0 )
            sub_578B70(*(unsigned __int16 *)(v3 + 1));
          sub_4624D0(v123);
        }
        goto LABEL_1183;
      case 0x64u:
        v182 = sub_578B30(*(_WORD *)(v3 + 1));
        v183 = v182;
        if ( !sub_43C700() )
          goto LABEL_638;
        sub_467930(v183, *(unsigned __int8 *)(v3 + 3), *(unsigned __int8 *)(v3 + 4));
        v3 += 5;
        goto LABEL_1184;
      case 0x65u:
        v71 = sub_578B30(*(_WORD *)(v3 + 1));
        v72 = v71;
        if ( sub_43C700() )
        {
          if ( (byte_5D4594[2650637] & 0x80u) != 0 )
            sub_578B70(*(unsigned __int16 *)(v3 + 1));
          if ( sub_578B70(*(unsigned __int16 *)(v3 + 1)) )
            LODWORD(v5) = sub_45A720(v72);
          else
            LODWORD(v5) = sub_45A6F0(v72);
          v73 = (_DWORD *)v5;
          if ( (_DWORD)v5 )
          {
            v74 = *(_DWORD *)(v5 + 280);
            v73[70] = *(_DWORD *)(v3 + 3);
            k = v73[28];
            if ( k & 0x20000 )
            {
              if ( !(v74 & 0x400) )
              {
                HIDWORD(v5) = v73[70] & 0x400;
                if ( HIDWORD(v5) == 1024 )
                  sub_4BC720((int)v73);
              }
              v75 = v73[70];
              if ( v75 & 0x800 )
              {
                k = v73[28] & 0xFFF7FFFF;
                v76 = v73[30] & 0xDFFFFFFF;
                v73[28] = k;
                v73[30] = v76;
              }
            }
          }
        }
        v3 += 7;
        goto LABEL_1184;
      case 0x66u:
        if ( sub_43C700() && *(_DWORD *)&byte_5D4594[2614252] )
        {
          HIDWORD(v5) = *(_DWORD *)(v3 + 1);
          *(_DWORD *)(*(_DWORD *)&byte_5D4594[2614252] + 120) = HIDWORD(v5);
        }
        v3 += 5;
        goto LABEL_1184;
      case 0x67u:
        v77 = sub_578B30(*(_WORD *)(v3 + 1));
        v78 = v77;
        if ( sub_43C700() )
        {
          if ( (byte_5D4594[2650637] & 0x80u) != 0 )
            sub_578B70(*(unsigned __int16 *)(v3 + 1));
          if ( sub_578B70(*(unsigned __int16 *)(v3 + 1)) )
            LODWORD(v5) = sub_45A720(v78);
          else
            LODWORD(v5) = sub_45A6F0(v78);
          if ( (_DWORD)v5 )
          {
            v79 = v5 + 432;
            if ( (_DWORD)v5 != (_DWORD)-432 )
            {
              v80 = 0;
              v81 = (int *)(v5 + 432);
              do
              {
                *v81 = sub_413330(*(unsigned __int8 *)(v80++ + v3 + 3));
                ++v81;
              }
              while ( v80 < 4 );
              *(_WORD *)(v79 + 16) = -1;
              *(_WORD *)(v79 + 18) = -1;
            }
          }
        }
        v3 += 7;
        goto LABEL_1184;
      case 0x68u:
        v82 = sub_578B30(*(_WORD *)(v3 + 1));
        v83 = v82;
        if ( !sub_43C700() )
          goto LABEL_1057;
        if ( (byte_5D4594[2650637] & 0x80u) != 0 )
          sub_578B70(*(unsigned __int16 *)(v3 + 1));
        if ( v83 == *(_DWORD *)&byte_5D4594[2616328] )
        {
          LOBYTE(k) = *(_BYTE *)(v3 + 7);
          sub_467470(k, *(float *)(v3 + 3));
          v3 += 8;
        }
        else
        {
LABEL_1057:
          v3 += 8;
        }
        goto LABEL_1184;
      case 0x69u:
        if ( sub_43C700() )
        {
          v285 = *(_WORD *)(v3 + 1);
          v286 = v285;
          v285 &= 0x7FFFu;
          *(_WORD *)(v3 + 1) = v285;
          v287 = v286 >> 15;
          v288 = sub_49A340(v285);
          if ( v288 )
          {
            LODWORD(v5) = sub_49A380(v288, *(unsigned __int16 *)(v3 + 1));
          }
          else
          {
            LODWORD(v5) = sub_49A300(*(unsigned __int16 *)(v3 + 1));
            v288 = (char *)v5;
          }
          if ( v288 )
          {
            k = (int)(v288 + 8);
            v289 = (_BYTE *)(v3 + 4);
            v358 = (int *)(v288 + 8);
            v360 = 6;
            do
            {
              BYTE4(v5) = v289[1];
              LOBYTE(v5) = *v289;
              LOBYTE(k) = *(v289 - 1);
              v289 += 3;
              *v358 = sub_4344A0(k, v5, SHIDWORD(v5));
              k = (int)(v358 + 1);
              LODWORD(v5) = v360 - 1;
              v250 = v360 == 1;
              ++v358;
              --v360;
            }
            while ( !v250 );
            *((_DWORD *)v288 + 328) = v287;
          }
        }
        v3 += 21;
        goto LABEL_1184;
      case 0x6Au:
        v119 = sub_417040(*(unsigned __int16 *)(v3 + 1));
        if ( !v119 )
          goto LABEL_1070;
        if ( !sub_40A5C0(1) )
        {
          sub_417530((int)v119, 1059);
          sub_4174F0((int)v119, *(_DWORD *)(v3 + 3) & 0x423);
        }
        if ( *(_DWORD *)&byte_5D4594[2650636] & 0x40000
          || (HIDWORD(v5) = *(unsigned __int16 *)(v3 + 1), WORD2(v5) != *(_DWORD *)&byte_5D4594[2616328]) )
        {
LABEL_1070:
          v3 += 7;
        }
        else
        {
          if ( v119[3680] & 1 )
          {
            *(_DWORD *)&byte_587000[80828] = 0;
          }
          else if ( *(_DWORD *)&byte_587000[80832] == 1 )
          {
            *(_DWORD *)&byte_587000[80828] = 1;
          }
          sub_470C40((*((_DWORD *)v119 + 920) >> 10) & 1);
          v3 += 7;
        }
        goto LABEL_1184;
      case 0x6Bu:
        v69 = sub_578B30(*(_WORD *)(v3 + 1));
        v70 = v69;
        if ( !sub_43C700() )
          goto LABEL_948;
        if ( (byte_5D4594[2650637] & 0x80u) != 0 )
          sub_578B70(*(unsigned __int16 *)(v3 + 1));
        LODWORD(v5) = sub_578B70(*(unsigned __int16 *)(v3 + 1)) ? sub_45A720(v70) : sub_45A6F0(v70);
        if ( !(_DWORD)v5 )
          goto LABEL_948;
        sub_45AB80(v5, *(_DWORD *)(v3 + 3));
        v3 += 7;
        goto LABEL_1184;
      case 0x6Cu:
        v184 = sub_578B30(*(_WORD *)(v3 + 1));
        v185 = v184;
        if ( !sub_43C700() )
          goto LABEL_638;
        v186 = *(_WORD *)(v3 + 3);
        v187 = v186;
        v186 &= 0x7FFFu;
        *(_WORD *)(v3 + 3) = v186;
        sub_4C2E50(*(unsigned __int16 *)(v3 + 1), v186, v187 & 0x8000);
        if ( sub_578B70(*(unsigned __int16 *)(v3 + 1)) )
          v188 = sub_45A720(v185);
        else
          v188 = sub_45A6F0(v185);
        if ( v188 || (v188 = sub_48E970(*(unsigned __int16 *)(v3 + 3), v185, 0, 0)) != 0 )
          sub_459DD0((int)v188, 1);
        sub_495060(*(unsigned __int16 *)(v3 + 1), 0, 0);
        v3 += 5;
        goto LABEL_1184;
      case 0x6Du:
        v189 = sub_578B30(*(_WORD *)(v3 + 1));
        v190 = v189;
        if ( !sub_43C700() )
          goto LABEL_1183;
        v191 = *(_WORD *)(v3 + 1);
        v192 = v191;
        v191 &= 0x7FFFu;
        *(_WORD *)(v3 + 1) = v191;
        sub_4C3140(v191, (void *)(v192 & 0x8000));
        sub_4950C0(*(unsigned __int16 *)(v3 + 1));
        v337 = v190;
        if ( !sub_578B70(*(unsigned __int16 *)(v3 + 1)) )
          goto LABEL_642;
        LODWORD(v5) = sub_45A720(v190);
        goto LABEL_643;
      case 0x6Eu:
        if ( !sub_43C700() )
          goto LABEL_1163;
        sub_467440(*(_DWORD *)(v3 + 1));
        v3 += 5;
        goto LABEL_1184;
      case 0x6Fu:
        v139 = 0;
        if ( sub_43C700() )
        {
          if ( *(_BYTE *)(v3 + 3) & 0x80 )
            v139 = 1;
          sub_45CFE0(*(unsigned __int8 *)(v3 + 1), *(unsigned __int8 *)(v3 + 2), *(_BYTE *)(v3 + 3) & 0x7F, v139);
        }
        v3 += 4;
        goto LABEL_1184;
      case 0x70u:
        sub_49BB80(*(_BYTE *)(v3 + 1));
        v3 += 2;
        goto LABEL_1184;
      case 0x71u:
        sub_467CA0();
        ++v3;
        goto LABEL_1184;
      case 0x7Cu:
        v236 = sub_578B30(*(_WORD *)(v3 + 8));
        v237 = v236;
        if ( sub_43C700() )
        {
          if ( sub_578B70(*(unsigned __int16 *)(v3 + 8)) )
            v238 = sub_45A720(v237);
          else
            v238 = sub_45A6F0(v237);
          HIWORD(k) = 0;
          v382[0] = (int)v238;
          LOWORD(k) = *(_WORD *)(v3 + 2);
          HIWORD(v5) = 0;
          v382[5] = (unsigned __int16)k;
          WORD2(v5) = *(_WORD *)(v3 + 4);
          v382[6] = WORD2(v5);
          v382[7] = *(unsigned __int16 *)(v3 + 6);
          switch ( *(unsigned __int8 *)(v3 + 1) )
          {
            case 0u:
              sub_4AEEA0((unsigned __int8 **)v382);
              v3 += 14;
              break;
            case 1u:
              sub_4AEF80(v382);
              v3 += 14;
              break;
            case 2u:
              sub_4AF0F0((unsigned __int8 **)v382);
              v3 += 14;
              break;
            case 3u:
              sub_4AF2A0((unsigned __int8 **)v382);
              v3 += 14;
              break;
            case 4u:
              sub_4AF3D0(v382);
              v3 += 14;
              break;
            case 5u:
              sub_4AF450(v382);
              v3 += 14;
              break;
            case 6u:
              sub_4AF5A0(v382);
              goto LABEL_788;
            default:
              goto LABEL_788;
          }
        }
        else
        {
LABEL_788:
          v3 += 14;
        }
        goto LABEL_1184;
      case 0x7Du:
      case 0x8Cu:
      case 0x8Du:
      case 0x8Eu:
        if ( !sub_43C700() )
          goto LABEL_732;
        sub_49BDD0((unsigned __int8 *)v3);
        HIWORD(k) = 0;
        v379.field_0 = *(unsigned __int16 *)(v3 + 1);
        v379.field_4 = *(unsigned __int16 *)(v3 + 3);
        LOWORD(k) = *(_WORD *)(v3 + 5);
        HIWORD(v5) = 0;
        v377.field_0 = (unsigned __int16)k;
        WORD2(v5) = *(_WORD *)(v3 + 7);
        v377.field_4 = WORD2(v5);
        LOBYTE(v5) = *(_BYTE *)v3;
        if ( *(_BYTE *)v3 == (_BYTE)-116 || (_BYTE)v5 == (_BYTE)-114 )
        {
          sub_4999D0(*(int *)&byte_5D4594[1200776], &v379, &v377);
        }
        else if ( (_BYTE)v5 == 125 )
        {
          sub_499710(*(unsigned __int16 *)(v3 + 5), *(unsigned __int16 *)(v3 + 7), 10, *(int *)&byte_5D4594[1200776]);
          v3 += 9;
          goto LABEL_1184;
        }
LABEL_732:
        v3 += 9;
        goto LABEL_1184;
      case 0x7Eu:
        if ( sub_43C700() )
        {
          sub_4B7C40(
            *(_WORD *)(v3 + 5),
            (unsigned __int16 *)(v3 + 1),
            *(_WORD *)(v3 + 7),
            *(_BYTE *)(v3 + 9),
            *(_WORD *)(v3 + 10));
          v3 += 12;
        }
        else
        {
LABEL_1130:
          v3 += 12;
        }
        goto LABEL_1184;
      case 0x7Fu:
        if ( sub_43C700() )
          sub_4B7EE0(*(_WORD *)(v3 + 1));
        goto LABEL_1183;
      case 0x80u:
        if ( sub_43C700() )
          sub_4B8090(*(unsigned __int16 *)(v3 + 1), *(unsigned __int8 *)(v3 + 3));
        goto LABEL_764;
      case 0x81u:
        if ( !sub_43C700() )
          goto LABEL_797;
        sub_499610(*(int *)&byte_5D4594[1200776], 50, 1000, 30, *(__int16 *)(v3 + 1), *(__int16 *)(v3 + 3));
        v3 += 5;
        goto LABEL_1184;
      case 0x82u:
        if ( !sub_43C700() )
          goto LABEL_797;
        sub_499610(*(int *)&byte_5D4594[1200780], 25, 500, 25, *(__int16 *)(v3 + 1), *(__int16 *)(v3 + 3));
        v3 += 5;
        goto LABEL_1184;
      case 0x83u:
        if ( !sub_43C700() )
          goto LABEL_797;
        sub_499610(*(int *)&byte_5D4594[1200784], 25, 500, 25, *(__int16 *)(v3 + 1), *(__int16 *)(v3 + 3));
        v3 += 5;
        goto LABEL_1184;
      case 0x84u:
        if ( sub_43C700() )
          sub_499610(*(int *)&byte_5D4594[1200796], 25, 500, 25, *(__int16 *)(v3 + 1), *(__int16 *)(v3 + 3));
LABEL_797:
        v3 += 5;
        goto LABEL_1184;
      case 0x85u:
      case 0x86u:
      case 0x87u:
      case 0x88u:
      case 0x89u:
      case 0x8Au:
      case 0x8Bu:
      case 0xA3u:
        if ( sub_43C700() )
        {
          k = 0;
          switch ( v8 )
          {
            case 133:
              v257 = *(_DWORD *)&byte_5D4594[1200872];
              if ( !*(_DWORD *)&byte_5D4594[1200872] )
              {
                v257 = sub_44CFC0((CHAR *)&byte_587000[160152]);
                *(_DWORD *)&byte_5D4594[1200872] = v257;
              }
              v258 = *(__int16 *)(v3 + 3);
              goto LABEL_858;
            case 134:
              v257 = *(_DWORD *)&byte_5D4594[1200876];
              if ( !*(_DWORD *)&byte_5D4594[1200876] )
              {
                v257 = sub_44CFC0((CHAR *)&byte_587000[160164]);
                *(_DWORD *)&byte_5D4594[1200876] = v257;
              }
              v258 = *(__int16 *)(v3 + 3);
              goto LABEL_858;
            case 135:
              v257 = *(_DWORD *)&byte_5D4594[1200880];
              if ( !*(_DWORD *)&byte_5D4594[1200880] )
              {
                v257 = sub_44CFC0((CHAR *)&byte_587000[160180]);
                *(_DWORD *)&byte_5D4594[1200880] = v257;
              }
              v258 = *(__int16 *)(v3 + 3);
              goto LABEL_858;
            case 136:
              v257 = *(_DWORD *)&byte_5D4594[1200884];
              if ( !*(_DWORD *)&byte_5D4594[1200884] )
              {
                v257 = sub_44CFC0((CHAR *)&byte_587000[160200]);
                *(_DWORD *)&byte_5D4594[1200884] = v257;
              }
              v258 = *(__int16 *)(v3 + 3);
              goto LABEL_858;
            case 137:
              v257 = *(_DWORD *)&byte_5D4594[1200888];
              if ( !*(_DWORD *)&byte_5D4594[1200888] )
              {
                v257 = sub_44CFC0((CHAR *)&byte_587000[160216]);
                *(_DWORD *)&byte_5D4594[1200888] = v257;
              }
              goto LABEL_857;
            case 138:
              if ( !*(_DWORD *)&byte_5D4594[1200900] )
              {
                *(_DWORD *)&byte_5D4594[1200900] = sub_44CFC0((CHAR *)&byte_587000[160244]);
                *(_DWORD *)&byte_5D4594[1200896] = sub_44CFC0((CHAR *)&byte_587000[160252]);
              }
              v259 = sub_45A360(*(int *)&byte_5D4594[1200900], *(__int16 *)(v3 + 1), *(__int16 *)(v3 + 3));
              if ( v259 )
              {
                *(_WORD *)(v259 + 104) = 20;
                sub_45A110((_DWORD *)v259);
              }
              v260 = 6;
              do
              {
                v341 = *(__int16 *)(v3 + 3) + sub_415FF0(-15, 15, (const char *)&byte_587000[160260], 5711);
                v261 = sub_415FF0(-15, 15, (const char *)&byte_587000[160300], 5710);
                v262 = sub_45A360(*(int *)&byte_5D4594[1200896], *(__int16 *)(v3 + 1) + v261, v341);
                if ( v262 )
                {
                  *(_WORD *)(v262 + 104) = sub_415FF0(5, 25, (const char *)&byte_587000[160340], 5712);
                  sub_45A110((_DWORD *)v262);
                }
                --v260;
              }
              while ( v260 );
              goto LABEL_868;
            case 139:
              v257 = *(_DWORD *)&byte_5D4594[1200892];
              if ( !*(_DWORD *)&byte_5D4594[1200892] )
              {
                v257 = sub_44CFC0((CHAR *)&byte_587000[160232]);
                *(_DWORD *)&byte_5D4594[1200892] = v257;
              }
LABEL_857:
              v258 = *(__int16 *)(v3 + 3) + 2;
LABEL_858:
              LODWORD(v5) = sub_45A360(v257, *(__int16 *)(v3 + 1), v258);
              if ( !(_DWORD)v5 )
                goto LABEL_868;
              sub_45A110((_DWORD *)v5);
              v3 += 5;
              break;
            case 163:
              v340 = sub_419D40(&byte_587000[159972]);
              v252 = sub_419A70(v340);
              v357 = 150;
              v253 = v252 >> 2;
              for ( i = v252 >> 2; ; v253 = i )
              {
                v254 = v253 + sub_415FF0(0, v252, (const char *)&byte_587000[159992], 5536);
                if ( v254 > (int)v252 )
                  v254 = v252;
                v255 = sub_415FF0(0, 255, (const char *)&byte_587000[160032], 5541);
                LODWORD(v5) = sub_45A360(
                                *(int *)&byte_5D4594[1200784],
                                *(__int16 *)(v3 + 1) + v254 * *(int *)&byte_587000[8 * v255 + 192088] / 16,
                                *(__int16 *)(v3 + 3) + v254 * *(int *)&byte_587000[8 * v255 + 192092] / 16);
                v256 = v5;
                if ( (_DWORD)v5 )
                {
                  *(_DWORD *)(v5 + 432) = *(_DWORD *)(v5 + 12) << 12;
                  *(_DWORD *)(v5 + 436) = *(_DWORD *)(v5 + 16) << 12;
                  *(_BYTE *)(v5 + 299) = 0;
                  *(_DWORD *)(v5 + 440) = 0;
                  *(_DWORD *)(v5 + 448) = *(_DWORD *)&byte_5D4594[2598000]
                                        + sub_415FF0(30, 40, (const char *)&byte_587000[160072], 5562);
                  *(_DWORD *)(v256 + 444) = *(_DWORD *)&byte_5D4594[2598000];
                  *(_WORD *)(v256 + 104) = 0;
                  *(_BYTE *)(v256 + 296) = sub_415FF0(4, 10, (const char *)&byte_587000[160112], 5568);
                  sub_45A110((_DWORD *)v256);
                }
                if ( !--v357 )
                  break;
              }
              v3 += 5;
              goto LABEL_1184;
            default:
              goto LABEL_868;
          }
        }
        else
        {
LABEL_868:
          v3 += 5;
        }
        goto LABEL_1184;
      case 0x8Fu:
      case 0x90u:
      case 0x91u:
        if ( sub_43C700() )
          sub_49BDD0((unsigned __int8 *)v3);
LABEL_735:
        v3 += 9;
        goto LABEL_1184;
      case 0x93u:
        if ( !*(_DWORD *)&byte_5D4594[1200852] )
        {
          *(_DWORD *)&byte_5D4594[1200852] = sub_44CFC0((CHAR *)&byte_587000[159532]);
          *(_DWORD *)&byte_5D4594[1200856] = sub_44CFC0((CHAR *)&byte_587000[159540]);
          *(_DWORD *)&byte_5D4594[1197380] = sub_44CFC0((CHAR *)&byte_587000[159556]);
        }
        if ( !sub_43C700() )
          goto LABEL_916;
        v378.field_0 = *(__int16 *)(v3 + 1);
        v378.field_4 = *(__int16 *)(v3 + 3);
        sub_49A150(&v378, *(int *)&byte_5D4594[1200852], *(_BYTE *)(v3 + 5));
        v235 = *(_DWORD *)&byte_5D4594[1197380];
        if ( *(_BYTE *)(v3 + 5) <= 0xAAu )
          v235 = *(_DWORD *)&byte_5D4594[1200856];
        LODWORD(v5) = sub_45A360(v235, *(__int16 *)(v3 + 1), *(__int16 *)(v3 + 3));
        goto LABEL_829;
      case 0x94u:
        if ( sub_43C700() )
        {
          v241 = *(unsigned __int16 *)(v3 + 5) - *(unsigned __int16 *)(v3 + 1);
          v242 = *(unsigned __int16 *)(v3 + 7) - *(unsigned __int16 *)(v3 + 3);
          LODWORD(v5) = sub_419B10(sqrt((double)(v241 * v241 + v242 * v242))) + 1;
          v371 = v5;
          if ( (int)v5 >= 0 )
          {
            v360 = 0;
            v363 = 0;
            i = 2 * v242;
            v374 = 2 * v241;
            v356 = (unsigned int)(v5 + 2) >> 1;
            do
            {
              v243 = *(unsigned __int16 *)(v3 + 1) + v363 / v371;
              v244 = *(unsigned __int16 *)(v3 + 3) + v360 / v371;
              v245 = sub_45A360(*(int *)&byte_5D4594[1200796], v243, v244);
              v362 = v245;
              if ( v245 )
              {
                v246 = (_DWORD *)(v245 + 432);
                if ( v245 != -432 )
                {
                  *(_DWORD *)(v245 + 432) = v243 << 12;
                  *(_DWORD *)(v245 + 436) = v244 << 12;
                  v247 = sub_415FF0(0, 255, (const char *)&byte_587000[159740], 5393);
                  *(_BYTE *)(v362 + 299) = v247;
                  v246[2] = sub_415FF0(1, 200, (const char *)&byte_587000[159780], 5396);
                  v246[4] = *(_DWORD *)&byte_5D4594[2598000]
                          + sub_415FF0(20, 40, (const char *)&byte_587000[159820], 5399);
                  v246[3] = *(_DWORD *)&byte_5D4594[2598000];
                }
                v248 = sub_415FF0(15, 30, (const char *)&byte_587000[159860], 5405);
                v249 = v362;
                *(_WORD *)(v362 + 104) = v248;
                *(_BYTE *)(v249 + 296) = sub_415FF0(-4, 4, (const char *)&byte_587000[159900], 5406);
                sub_45A110((_DWORD *)v249);
              }
              k = i;
              HIDWORD(v5) = i + v360;
              v250 = v356 == 1;
              v363 += v374;
              v360 += i;
              --v356;
            }
            while ( !v250 );
          }
        }
        v3 += 9;
        goto LABEL_1184;
      case 0x95u:
        if ( sub_43C700() )
        {
          sub_4C5020(v3);
          if ( sub_415FF0(0, 100, (const char *)&byte_587000[159332], 4987) < 25 )
          {
            if ( *(_DWORD *)&byte_5D4594[2614252] )
            {
              v225 = *(unsigned __int16 *)(v3 + 5) - *(_DWORD *)(*(_DWORD *)&byte_5D4594[2614252] + 12);
              v226 = sub_419B10(sqrt((double)(v225 * v225
                                            + (*(unsigned __int16 *)(v3 + 7)
                                             - *(_DWORD *)(*(_DWORD *)&byte_5D4594[2614252] + 16))
                                            * (*(unsigned __int16 *)(v3 + 7)
                                             - *(_DWORD *)(*(_DWORD *)&byte_5D4594[2614252] + 16)))));
              if ( v226 < 600 )
                sub_452D80(297, 100 * (600 - v226) / 600);
            }
          }
          if ( !sub_413A50() )
          {
            v227 = *(unsigned __int16 *)(v3 + 5) - *(unsigned __int16 *)(v3 + 1);
            v228 = *(unsigned __int16 *)(v3 + 7) - *(unsigned __int16 *)(v3 + 3);
            v229 = sub_419B10(sqrt((double)(v227 * v227 + v228 * v228)));
            if ( !v229 )
              v229 = 1;
            v230 = *(unsigned __int16 *)(v3 + 5) - 4 * v227 / v229;
            v231 = *(unsigned __int16 *)(v3 + 7) - 4 * v228 / v229;
            LODWORD(v5) = sub_45A360(*(int *)&byte_5D4594[1200796], v230, v231);
            v362 = v5;
            if ( (_DWORD)v5 )
            {
              v232 = (_DWORD *)(v5 + 432);
              if ( (_DWORD)v5 != (_DWORD)-432 )
              {
                *(_DWORD *)(v5 + 432) = v230 << 12;
                *(_DWORD *)(v5 + 436) = v231 << 12;
                v233 = sub_415FF0(0, 255, (const char *)&byte_587000[159372], 5024);
                *(_BYTE *)(v362 + 299) = v233;
                v232[2] = sub_415FF0(1, 1500, (const char *)&byte_587000[159412], 5027);
                v232[4] = *(_DWORD *)&byte_5D4594[2598000] + sub_415FF0(5, 20, (const char *)&byte_587000[159452], 5030);
                v232[3] = *(_DWORD *)&byte_5D4594[2598000];
              }
              v234 = v362;
              *(_WORD *)(v362 + 104) = 22;
              *(_BYTE *)(v234 + 296) = sub_415FF0(-4, 4, (const char *)&byte_587000[159492], 5037);
              sub_45A110((_DWORD *)v234);
            }
          }
        }
        v3 += 9;
        goto LABEL_1184;
      case 0x96u:
        if ( sub_43C700() )
        {
          if ( !*(_DWORD *)&byte_5D4594[1200860] )
            *(_DWORD *)&byte_5D4594[1200860] = sub_44CFC0((CHAR *)&byte_587000[159568]);
          v239 = 5;
          do
          {
            LODWORD(v5) = sub_45A360(*(int *)&byte_5D4594[1200860], *(__int16 *)(v3 + 1), *(__int16 *)(v3 + 3));
            v240 = v5;
            if ( (_DWORD)v5 )
            {
              if ( (_DWORD)v5 != (_DWORD)-432 )
              {
                *(_DWORD *)(v5 + 432) = *(_DWORD *)(v5 + 12) << 12;
                *(_DWORD *)(v5 + 436) = *(_DWORD *)(v5 + 16) << 12;
                *(_BYTE *)(v5 + 299) = sub_415FF0(0, 255, (const char *)&byte_587000[159580], 5338);
                *(_DWORD *)(v240 + 440) = sub_415FF0(1333, 4000, (const char *)&byte_587000[159620], 5341);
                *(_DWORD *)(v240 + 448) = *(_DWORD *)&byte_5D4594[2598000]
                                        + sub_415FF0(5, 20, (const char *)&byte_587000[159660], 5344);
                *(_DWORD *)(v240 + 444) = *(_DWORD *)&byte_5D4594[2598000];
              }
              *(_WORD *)(v240 + 104) = 20;
              *(_BYTE *)(v240 + 296) = sub_415FF0(-5, 5, (const char *)&byte_587000[159700], 5351);
              sub_45A110((_DWORD *)v240);
            }
            --v239;
          }
          while ( v239 );
        }
        v3 += 5;
        goto LABEL_1184;
      case 0x97u:
        if ( sub_43C700() )
          sub_4355B0(*(unsigned __int8 *)(v3 + 1) / 3);
        goto LABEL_720;
      case 0x98u:
        if ( !*(_DWORD *)&byte_5D4594[1200844] )
          *(_DWORD *)&byte_5D4594[1200844] = sub_44CFC0((CHAR *)&byte_587000[159192]);
        if ( sub_43C700() )
        {
          LODWORD(v5) = sub_45A360(
                          *(int *)&byte_5D4594[1200844],
                          *(unsigned __int16 *)(v3 + 1)
                        + (*(unsigned __int16 *)(v3 + 5) - *(unsigned __int16 *)(v3 + 1)) / 2,
                          *(unsigned __int16 *)(v3 + 3)
                        + (*(unsigned __int16 *)(v3 + 7) - *(unsigned __int16 *)(v3 + 3)) / 2)
                      + 432;
          *(_BYTE *)v5 = 0;
          *(_DWORD *)(v5 + 5) = *(_DWORD *)(v3 + 1);
          HIDWORD(v5) = *(_DWORD *)(v3 + 5);
          *(_DWORD *)(v5 + 9) = HIDWORD(v5);
          k = *(unsigned __int16 *)(v3 + 9);
          *(_DWORD *)(v5 + 1) = k;
        }
        v3 += 11;
        goto LABEL_1184;
      case 0x9Au:
        if ( sub_43C700() )
          sub_473920();
        v3 += 5;
        goto LABEL_1184;
      case 0x9Bu:
      case 0x9Cu:
      case 0x9Du:
        if ( sub_43C700() )
          sub_4A9D00((unsigned __int8 *)v3);
        goto LABEL_1183;
      case 0x9Eu:
        LOBYTE(v376) = *(_BYTE *)(v3 + 1);
        switch ( (unsigned __int8)v376 )
        {
          case 1u:
          case 2u:
          case 3u:
          case 4u:
          case 5u:
          case 6u:
          case 7u:
            if ( sub_43C700() )
              sub_49C160(v3);
            goto LABEL_1070;
          case 8u:
          case 9u:
          case 0xAu:
          case 0xBu:
          case 0xCu:
          case 0xDu:
          case 0xEu:
            if ( !sub_43C700() )
              goto LABEL_1070;
            sub_49C450(v3);
            v3 += 7;
            break;
          default:
            return 0;
        }
        goto LABEL_1184;
      case 0x9Fu:
        v297 = sub_578B30(*(_WORD *)(v3 + 1));
        v298 = v297;
        if ( sub_43C700() )
        {
          LODWORD(v5) = sub_578B70(*(unsigned __int16 *)(v3 + 1)) ? sub_45A720(v298) : sub_45A6F0(v298);
          if ( (_DWORD)v5 )
          {
            LODWORD(v5) = v5 + 432;
            *(_DWORD *)v5 = *(_DWORD *)&byte_5D4594[2598000];
            i = *(char *)(v3 + 4);
            *(float *)(v5 + 8) = (double)i;
            k = *(unsigned __int8 *)(v3 + 3);
            i = *(unsigned __int8 *)(v3 + 3);
            *(float *)(v5 + 4) = (double)i;
            HIDWORD(v5) = *(unsigned __int8 *)(v3 + 5);
            i = *(unsigned __int8 *)(v3 + 5);
            *(float *)(v5 + 12) = (double)i;
          }
        }
        v3 += 6;
        goto LABEL_1184;
      case 0xA0u:
        if ( !sub_43C700() )
          goto LABEL_1163;
        sub_499880((__int16 *)(v3 + 1));
        v3 += 5;
        goto LABEL_1184;
      case 0xA1u:
        if ( !sub_43C700() )
          goto LABEL_916;
        if ( !*(_DWORD *)&byte_5D4594[1200864] )
        {
          *(_DWORD *)&byte_5D4594[1200864] = sub_44CFC0((CHAR *)&byte_587000[159940]);
          *(_DWORD *)&byte_5D4594[1200868] = sub_44CFC0((CHAR *)&byte_587000[159956]);
        }
        v251 = *(__int16 *)(v3 + 1);
        v339 = *(__int16 *)(v3 + 3);
        if ( *(_BYTE *)(v3 + 5) == 1 )
        {
          LODWORD(v5) = sub_45A360(*(int *)&byte_5D4594[1200864], v251 + 15, v339);
          if ( (_DWORD)v5 )
          {
            sub_45A110((_DWORD *)v5);
            v3 += 6;
            goto LABEL_1184;
          }
        }
        else
        {
          LODWORD(v5) = sub_45A360(*(int *)&byte_5D4594[1200868], v251 - 3, v339);
LABEL_829:
          if ( (_DWORD)v5 )
          {
            sub_45A110((_DWORD *)v5);
            v3 += 6;
            goto LABEL_1184;
          }
        }
LABEL_916:
        v3 += 6;
        goto LABEL_1184;
      case 0xA2u:
        if ( sub_43C700() )
        {
          if ( !*(_DWORD *)&byte_5D4594[1200848] )
            *(_DWORD *)&byte_5D4594[1200848] = sub_44CFC0((CHAR *)&byte_587000[159204]);
          v221 = *(unsigned __int16 *)(v3 + 9);
          k = v221 & 0xFFFC;
          if ( k <= 28 )
            v222 = v221 >> 2;
          else
            v222 = 7;
          v223 = v222 + 1;
          if ( v222 + 1 > 0 )
          {
            do
            {
              LOBYTE(v368) = sub_415FF0(6, 12, (const char *)&byte_587000[159212], 4957);
              v323 = v368;
              v318 = sub_415FF0(-20, 20, (const char *)&byte_587000[159252], 4961);
              v224 = sub_415FF0(-20, 20, (const char *)&byte_587000[159292], 4960);
              sub_499490(*(int *)&byte_5D4594[1200848], (_WORD *)(v3 + 1), v224, v318, v323, 0);
              --v223;
            }
            while ( v223 );
          }
        }
        v3 += 11;
        goto LABEL_1184;
      case 0xA4u:
        v15 = (unsigned __int8 *)(sub_494A60((unsigned __int8 *)(v3 + 1), a1, v384) + v3 + 1);
        if ( (unsigned int)v15 >= v4 )
          return 1;
        while ( 1 )
        {
          LODWORD(v5) = sub_494C30(v15, a1, v384);
          if ( (int)v5 <= 0 )
            break;
          v15 += v5;
          if ( (unsigned int)v15 >= v4 )
            return 1;
        }
        if ( (int)v5 < 0 )
          LODWORD(v5) = -(int)v5;
        v3 = (unsigned int)&v15[v5];
        goto LABEL_1184;
      case 0xA6u:
      case 0xA7u:
        if ( !sub_43C700() )
          goto LABEL_651;
        v338 = *(char *)(v3 + 1);
        v321 = (*(unsigned __int16 *)(v3 + 2) >> 9) & 0x7E;
        v317 = *(_WORD *)(v3 + 2) & 0x3FF;
        if ( *(char *)v3 == -89 )
        {
          sub_452E10(v317, v321, v338);
          v3 += 4;
        }
        else
        {
          sub_452DC0(v317, v321, v338);
LABEL_651:
          v3 += 4;
        }
        goto LABEL_1184;
      case 0xA8u:
        v198 = sub_578B30(*(_WORD *)(v3 + 1));
        v199 = v198;
        memset(&byte_5D4594[1197384], 0, 0x27Cu);
        v200 = *(unsigned __int8 *)(v3 + 3);
        if ( v200 & 8 )
        {
          v201 = sub_40F1D0((char *)(v3 + 11), 0, (const char *)&byte_587000[158732], 4486);
          nox_wcscpy((wchar_t *)&byte_5D4594[1197384], v201);
          v202 = 1;
        }
        else if ( v200 & 2 )
        {
          if ( v200 & 1 )
          {
            v203 = sub_40F1D0((char *)&byte_587000[158812], 0, (const char *)&byte_587000[158772], 4493);
            nox_swprintf((wchar_t *)&byte_5D4594[1197384], (const wchar_t *)&byte_587000[158828], v203, v3 + 11);
          }
          else
          {
            nox_swprintf((wchar_t *)&byte_5D4594[1197384], (const wchar_t *)&byte_587000[158844], v3 + 11);
          }
          v202 = 1;
        }
        else
        {
          if ( v200 & 1 )
          {
            v204 = sub_40F1D0((char *)&byte_587000[158892], 0, (const char *)&byte_587000[158852], 4506);
            nox_swprintf((wchar_t *)&byte_5D4594[1197384], (const wchar_t *)&byte_587000[158908], v204, v3 + 11);
          }
          else
          {
            nox_wcscpy((wchar_t *)&byte_5D4594[1197384], (const wchar_t *)(v3 + 11));
          }
          v202 = 2;
        }
        if ( !sub_43C700() )
          goto LABEL_693;
        if ( (byte_5D4594[2650637] & 0x80u) != 0 )
          sub_578B70(*(unsigned __int16 *)(v3 + 1));
        if ( *(_BYTE *)(v3 + 3) & 0x10 )
        {
          if ( sub_4356B0() == 3 )
          {
            nox_wcscpy((wchar_t *)&byte_5D4594[1200068], (const wchar_t *)&byte_5D4594[1197384]);
            v205 = sub_40F1D0((char *)&byte_587000[158964], 0, (const char *)&byte_587000[158924], 4536);
            sub_449A10(0, (int)v205, (int)&byte_5D4594[1200068], 33, 0, 0);
            k = v202 * *(unsigned __int8 *)(v3 + 8);
            v3 += k + 11;
            goto LABEL_1184;
          }
        }
        else if ( *(_WORD *)(v3 + 1) )
        {
          if ( sub_4356B0() == 3 )
          {
            v206 = sub_417040(*(unsigned __int16 *)(v3 + 1));
            v207 = v206;
            if ( v206 )
            {
              if ( !sub_57A160((int)v206) )
              {
                sub_450C00(0xFu, (wchar_t *)&byte_587000[158984], v207 + 4704, &byte_5D4594[1197384]);
                sub_48D880(v3, (wchar_t *)&byte_5D4594[1197384]);
                k = v202 * *(unsigned __int8 *)(v3 + 8);
                v3 += k + 11;
                goto LABEL_1184;
              }
            }
            else
            {
              sub_48D880(v3, (wchar_t *)&byte_5D4594[1197384]);
              if ( sub_578B70(*(unsigned __int16 *)(v3 + 1)) )
                LODWORD(v5) = sub_45A720(v199);
              else
                LODWORD(v5) = sub_45A6F0(v199);
              if ( (_DWORD)v5 )
              {
                v322 = *(unsigned __int16 *)(v3 + 1);
                v208 = sub_44CF30(*(_DWORD *)(v5 + 108));
                sub_450C00(6u, (wchar_t *)&byte_587000[159000], v208, v322, &byte_5D4594[1197384]);
              }
            }
          }
        }
        else if ( sub_4356B0() == 3 )
        {
          sub_445490((wchar_t *)&byte_5D4594[1197384]);
          k = v202 * *(unsigned __int8 *)(v3 + 8);
          v3 += k + 11;
          goto LABEL_1184;
        }
LABEL_693:
        k = v202 * *(unsigned __int8 *)(v3 + 8);
        v3 += k + 11;
        goto LABEL_1184;
      case 0xA9u:
        v3 += sub_4C9BF0(v3);
        goto LABEL_1184;
      case 0xAAu:
        v61 = sub_40A5C0(1) ? 5 : 1;
        if ( sub_43C700() )
        {
          v366[0] = -85;
          if ( sub_40A5C0(1) )
            *(_DWORD *)&v366[1] = *(_DWORD *)(v3 + 1);
          else
            *(_DWORD *)&v366[1] = v364;
          sub_40EBC0(a1, 0, v366, 5);
        }
        v3 += v61;
        goto LABEL_1184;
      case 0xABu:
        if ( sub_43C700() )
        {
          sub_4E55A0(a1, *(_DWORD *)(v3 + 1));
          v3 += 5;
        }
        else
        {
LABEL_1099:
          v3 += 5;
        }
        goto LABEL_1184;
      case 0xAEu:
        goto LABEL_1183;
      case 0xAFu:
        *(_DWORD *)&byte_5D4594[1200768] = 0;
        v34 = *(_DWORD *)(v3 + 1);
        if ( sub_40A350() < v34 )
        {
          sub_40A340(v34);
          sub_40A5C0(1024);
          v355 = sub_40A5C0(32);
          v360 = sub_40A5C0(32);
          v363 = sub_40A5C0(4096);
          if ( !sub_40A5C0(1) )
          {
            sub_40A540(524272);
            sub_40A4D0(*(_DWORD *)(v3 + 9));
            sub_409E40(*(_DWORD *)(v3 + 13));
            sub_409AE0(*(_DWORD *)(v3 + 5));
            sub_409F80(*(unsigned __int8 *)(v3 + 17));
            v35 = sub_416590(0);
            if ( v35[56] != *(_BYTE *)(v3 + 19) || *((_WORD *)v35 + 27) != *(unsigned __int8 *)(v3 + 18) )
              *(_DWORD *)&byte_5D4594[1200768] = 1;
            *((_WORD *)v35 + 27) = *(unsigned __int8 *)(v3 + 18);
            v35[56] = *(_BYTE *)(v3 + 19);
            if ( (signed char)*(_BYTE *)(v3 + 9) >= 0 )
            {
              *((_WORD *)v35 + 26) = *(_WORD *)(v3 + 9);
              strcpy(v35, sub_409B40());
            }
            if ( v355 || !sub_40A5C0(32) )
            {
              if ( !sub_40A5C0(32) )
                sub_455C10();
            }
            else
            {
              sub_455A50(2);
            }
            if ( v360 || !sub_40A5C0(64) )
            {
              if ( !sub_40A5C0(64) )
                sub_456050();
            }
            else
            {
              sub_455F60();
            }
            if ( v363 == 1 && !sub_40A5C0(4096) )
            {
              for ( j = sub_416EA0(); j; j = sub_416EE0((int)j) )
                sub_417680((int)j, 255);
            }
            if ( !sub_40A5C0(0x20000) && sub_4356B0() == 3 )
            {
              sub_43DDD0(0);
              sub_43DE60();
            }
          }
        }
        v3 += 20;
        goto LABEL_1184;
      case 0xB0u:
        if ( !sub_40A5C0(1) )
        {
          v37 = sub_416590(0);
          strncpy(v37 + 9, (const char *)(v3 + 1), 0xFu);
          if ( memcmp(&byte_5D4594[1200732], (const void *)(v3 + 17), 0x14u) )
            *(_DWORD *)&byte_5D4594[1200768] = 1;
          if ( *(_DWORD *)&byte_5D4594[1200752] != *(_DWORD *)(v3 + 37)
            || *(_DWORD *)&byte_5D4594[1200756] != *(_DWORD *)(v3 + 41) )
          {
            *(_DWORD *)&byte_5D4594[1200768] = 1;
          }
          qmemcpy(v37 + 24, (const void *)(v3 + 17), 0x14u);
          sub_4540E0((int)(v37 + 24));
          *((_DWORD *)v37 + 11) = *(_DWORD *)(v3 + 37);
          *((_DWORD *)v37 + 12) = *(_DWORD *)(v3 + 41);
          if ( *(_DWORD *)(v3 + 45) )
          {
            sub_40A1F0(1);
            sub_40A310(*(_DWORD *)(v3 + 45));
          }
          else
          {
            sub_40A1F0(0);
          }
          qmemcpy(&byte_5D4594[1200708], v37, 0x3Au);
          if ( sub_43C700() && *(_DWORD *)&byte_5D4594[1200768] )
          {
            v38 = sub_40F1D0((char *)&byte_587000[157156], 0, (const char *)&byte_587000[157116], 1429);
            sub_445490(v38);
            sub_452D80(310, 100);
          }
        }
        v3 += 49;
        goto LABEL_1184;
      case 0xB1u:
        v39 = sub_416590(*(unsigned __int8 *)(v3 + 1));
        LOBYTE(v40) = v39[52];
        LOBYTE(v4) = *(_BYTE *)(v3 + 54);
        qmemcpy(v39, (const void *)(v3 + 2), 0x3Au);
        if ( ((v40 >> 5) & 1) != ((v4 >> 5) & 1) )
          sub_4573A0();
        if ( !sub_4169C0() )
        {
          if ( !sub_459DA0() )
          {
            if ( *(_BYTE *)(v3 + 1) == 1 )
              sub_4165F0(1, 0);
            if ( sub_40A5C0(128) )
            {
              if ( *(_DWORD *)&byte_5D4594[1200832] )
              {
                v330 = *(_DWORD *)&byte_5D4594[2618908] + 4704;
                v41 = sub_40F1D0((char *)&byte_587000[157212], 0, (const char *)&byte_587000[157172], 1470);
                nox_swprintf(v401, v41, v330);
                sub_445490(v401);
                *(_DWORD *)&byte_5D4594[1200832] = 0;
              }
              if ( *(_DWORD *)&byte_587000[54276] )
                sub_49C560();
            }
          }
          sub_4169D0(1);
        }
        sub_459C30();
        v3 += 60;
        goto LABEL_1184;
      case 0xB2u:
        v18 = sub_578B30(*(_WORD *)(v3 + 1));
        v19 = v18;
        if ( sub_43C700() )
        {
          LODWORD(v5) = sub_578B70(*(unsigned __int16 *)(v3 + 1)) ? sub_45A720(v19) : sub_45A6F0(v19);
          if ( (_DWORD)v5 )
            *(_BYTE *)(v5 + 299) = *(_BYTE *)(v3 + 3);
        }
        v3 += 4;
        goto LABEL_1184;
      case 0xB3u:
        v20 = sub_578B30(*(_WORD *)(v3 + 1));
        v21 = v20;
        if ( sub_43C700() )
        {
          LODWORD(v5) = sub_578B70(*(unsigned __int16 *)(v3 + 1)) ? sub_45A720(v21) : sub_45A6F0(v21);
          v22 = v5;
          if ( (_DWORD)v5 )
          {
            sub_45A990(v5);
            v328 = (double)(16 * *(unsigned __int8 *)(v3 + 3) / 10);
            sub_484D70(v22 + 136, v328);
            sub_45AB80(v22, 8 * *(unsigned __int8 *)(v3 + 3) / 50);
            if ( *(_DWORD *)(v22 + 308) == 8 )
              *(_DWORD *)(v22 + 308) = 7;
          }
        }
        v3 += 4;
        goto LABEL_1184;
      case 0xB4u:
        v24 = sub_578B30(*(_WORD *)(v3 + 1));
        v25 = v24;
        if ( sub_43C700() )
        {
          LODWORD(v5) = sub_578B70(*(unsigned __int16 *)(v3 + 1)) ? sub_45A720(v25) : sub_45A6F0(v25);
          v26 = v5;
          if ( (_DWORD)v5 )
          {
            if ( *(_BYTE *)(v3 + 3) )
            {
              *(_DWORD *)(v5 + 112) |= 0x80000u;
              sub_484D70(v5 + 136, 41.958);
            }
            else
            {
              *(_DWORD *)(v5 + 112) &= 0xFFF7FFFF;
              sub_484D70(v5 + 136, 0.0);
            }
            sub_45AB80(v26, *(unsigned __int8 *)(v3 + 3));
            *(_DWORD *)(v26 + 288) = *(_DWORD *)&byte_5D4594[2598000];
          }
        }
        v3 += 4;
        goto LABEL_1184;
      case 0xB5u:
        if ( sub_43C700()
          && (v329 = *(unsigned __int16 *)(v3 + 7),
              v320 = *(unsigned __int16 *)(v3 + 5),
              v31 = sub_578B30(*(_WORD *)(v3 + 1)),
              LODWORD(v5) = sub_48E970(*(unsigned __int16 *)(v3 + 3), v31, v320, v329),
              (_DWORD)v5) )
        {
          *(_WORD *)(v5 + 508) = *(_WORD *)(v3 + 9);
          *(float *)(v5 + 468) = (double)*(char *)(v3 + 12) * 0.0625;
          *(float *)(v5 + 472) = (double)*(char *)(v3 + 13) * 0.0625;
          *(float *)(v5 + 476) = (double)*(char *)(v3 + 11) * 0.0625;
          *(_DWORD *)(v5 + 316) = *(_DWORD *)&byte_5D4594[2598000];
          *(_DWORD *)(v5 + 324) = *(unsigned __int16 *)(v3 + 5);
          v32 = *(unsigned __int16 *)(v3 + 7);
          *(_DWORD *)(v5 + 460) = sub_4CA540;
          *(_DWORD *)(v5 + 328) = v32;
          sub_49BC80((_DWORD *)v5);
          v3 += 14;
        }
        else
        {
LABEL_1093:
          v3 += 14;
        }
        goto LABEL_1184;
      case 0xB8u:
        if ( !sub_4ABAD0((char *)(v3 + 8), *(_DWORD *)(v3 + 4)) )
        {
          sub_43CAB0();
          sub_4AB560(0);
          sub_4AB570(0);
        }
        v3 += 88;
        goto LABEL_1184;
      case 0xB9u:
        sub_4AB7C0(*(_WORD *)(v3 + 2), (void *)(v3 + 6), *(unsigned __int16 *)(v3 + 4));
        k = *(unsigned __int16 *)(v3 + 4);
        v3 += k + 6;
        goto LABEL_1184;
      case 0xBAu:
        sub_4AB720();
        sub_4AB560(0);
        sub_4AB570(0);
        v3 += 2;
        goto LABEL_1184;
      case 0xBDu:
        if ( sub_43C700() )
        {
          if ( *(_BYTE *)(v3 + 1) == 1 )
            v290 = sub_40F1D0((char *)&byte_587000[160420], 0, (const char *)&byte_587000[160380], 6351);
          else
            v290 = sub_40F1D0((char *)&byte_587000[160472], 0, (const char *)&byte_587000[160432], 6356);
          sub_450C00(6u, v290);
        }
        v3 += 2;
        goto LABEL_1184;
      case 0xC2u:
        v263 = *(unsigned __int8 *)(v3 + 1);
        switch ( v263 )
        {
          case 0:
            v342 = *(_BYTE *)(v3 + 136);
            v324 = *(_DWORD *)(v3 + 4);
            v315 = *(_BYTE *)(v3 + 2);
            v264 = sub_43C750();
            sub_40B5D0(v264, v315, (const char *)(v3 + 8), v324, v342);
            v3 += 140;
            goto LABEL_1184;
          case 1:
            BYTE4(v5) = *(_BYTE *)(v3 + 3);
            v343 = (char *)HIDWORD(v5);
            v325 = *(_BYTE *)(v3 + 2);
            v265 = sub_43C750();
            sub_40BFF0(v265, v325, v343);
            v3 += 4;
            goto LABEL_1184;
          case 2:
            v365[0] = -62;
            v365[1] = 3;
            v365[2] = *(_BYTE *)(v3 + 2);
            *(_WORD *)&v365[4] = *(_WORD *)(v3 + 4);
            v266 = sub_43C750();
            sub_552640(v266, v365, 6, 3);
            v344 = *(unsigned __int16 *)(v3 + 6);
            v319 = *(_WORD *)(v3 + 4);
            v316 = *(_BYTE *)(v3 + 2);
            v267 = sub_43C750();
            sub_40B250(v267, v316, v319, (const void *)(v3 + 8), v344);
            HIDWORD(v5) = *(unsigned __int16 *)(v3 + 6);
            v3 += WORD2(v5) + 8;
            goto LABEL_1184;
          case 3:
            v345 = *(unsigned __int16 *)(v3 + 4);
            v326 = *(_BYTE *)(v3 + 2);
            v268 = sub_43C750();
            sub_40BF60(v268, v326, v345);
            v3 += 6;
            goto LABEL_1184;
          case 4:
            v346 = *(_BYTE *)(v3 + 2);
            v269 = sub_43C750();
            sub_40C030(v269, v346);
            goto LABEL_1183;
          case 5:
            LOBYTE(k) = *(_BYTE *)(v3 + 3);
            sub_40B720(k, *(_BYTE *)(v3 + 2));
            v3 += 4;
            goto LABEL_1184;
          case 6:
            LOBYTE(v263) = *(_BYTE *)(v3 + 3);
            v347 = *(_BYTE *)(v3 + 2);
            v327 = v263;
            v270 = sub_43C750();
            sub_40C070(v270, v327, v347);
            v3 += 4;
            goto LABEL_1184;
          default:
            return 0;
        }
      case 0xC3u:
        sub_578B30(*(_WORD *)(v3 + 1));
        if ( *(_DWORD *)&byte_5D4594[2650636] & 0x10000000 )
          sub_578B70(*(unsigned __int16 *)(v3 + 1));
        if ( *(_WORD *)(v3 + 3) || *(_WORD *)(v3 + 1) )
        {
          v27 = sub_48E970(
                  *(unsigned __int16 *)(v3 + 3),
                  *(unsigned __int16 *)(v3 + 1),
                  *(unsigned __int16 *)(v3 + 5),
                  *(unsigned __int16 *)(v3 + 7));
          if ( v27 )
          {
            v27[72] = *(_DWORD *)&byte_5D4594[2598000];
            sub_45AB80((int)v27, *(unsigned __int8 *)(v3 + 10));
            v28 = (*(_BYTE *)(v3 + 9) >> 4) & 7;
            *((_BYTE *)v27 + 297) = v28;
            if ( v28 > 3u )
              *((_BYTE *)v27 + 297) = v28 + 1;
            if ( v27[69] != *(unsigned __int8 *)(v3 + 11) )
            {
              v27[79] = *(_DWORD *)&byte_5D4594[2598000];
              k = *(unsigned __int8 *)(v3 + 11);
              v27[69] = k;
            }
          }
          HIDWORD(v5) = *(unsigned __int16 *)(v3 + 1);
          if ( WORD2(v5) == *(_DWORD *)&byte_5D4594[2616328] && sub_416120(8u) )
            sub_435600(*(unsigned __int16 *)(v3 + 5), *(unsigned __int16 *)(v3 + 7));
          v3 += 12;
        }
        else
        {
          sub_435600(*(unsigned __int16 *)(v3 + 5), *(unsigned __int16 *)(v3 + 7));
          sub_4160D0(8);
          v3 += 12;
        }
        goto LABEL_1184;
      case 0xC4u:
        switch ( *(unsigned __int8 *)(v3 + 1) )
        {
          case 0u:
            if ( !sub_43C700() )
              goto LABEL_888;
            qmemcpy(v386, (const void *)(v3 + 18), 2 * *(unsigned __int8 *)(v3 + 15));
            v386[*(unsigned __int8 *)(v3 + 15)] = 0;
            if ( *(_BYTE *)(v3 + 17) )
            {
              v271 = sub_418C20(*(unsigned __int8 *)(v3 + 16));
              nox_swprintf(v386, v271);
            }
            v272 = sub_418AB0(*(_DWORD *)(v3 + 2));
            if ( !v272 )
            {
              v272 = sub_4186D0(*(_BYTE *)(v3 + 2));
              if ( !v272 )
                goto LABEL_888;
            }
            sub_418800((wchar_t *)v272, v386, 0);
            sub_418830((int)v272, *(_DWORD *)(v3 + 6));
            sub_419090((int)v272, *(_DWORD *)(v3 + 10));
            v272[56] = *(_BYTE *)(v3 + 16);
            sub_457230(v386);
            if ( !(*(_BYTE *)(v3 + 14) & 1) )
              goto LABEL_888;
            v273 = sub_418C80(*(int *)&byte_5D4594[2616328]);
            if ( !v273 )
              goto LABEL_888;
            if ( sub_40A5C0(1) )
            {
              sub_4191D0(v272[57], (int)v273, 1, *(int *)&byte_5D4594[2616328], 1);
              HIDWORD(v5) = *(unsigned __int8 *)(v3 + 15);
              v3 += 2 * HIDWORD(v5) + 18;
            }
            else
            {
              sub_419900((int)v272, (int)v273, *(__int16 *)&byte_5D4594[2616328]);
LABEL_888:
              HIDWORD(v5) = *(unsigned __int8 *)(v3 + 15);
              v3 += 2 * HIDWORD(v5) + 18;
            }
            break;
          case 1u:
            v274 = sub_578B30(*(_WORD *)(v3 + 6));
            v275 = v274;
            if ( sub_43C700() )
            {
              if ( sub_578B70(*(unsigned __int16 *)(v3 + 6)) )
                LODWORD(v5) = sub_45A720(v275);
              else
                LODWORD(v5) = sub_45A6F0(v275);
              if ( !(_DWORD)v5 )
                LODWORD(v5) = sub_48E970(*(unsigned __int16 *)(v3 + 8), v275, 0, 0);
              v276 = v5 + 24;
              if ( (_DWORD)v5 != (_DWORD)-24 )
              {
                LODWORD(v5) = sub_418AB0(*(_DWORD *)(v3 + 2));
                v277 = v5;
                if ( (_DWORD)v5 )
                {
                  sub_4191D0(*(_BYTE *)(v5 + 57), v276, 0, *(unsigned __int16 *)(v3 + 6), 0);
                  sub_4571A0(*(unsigned __int16 *)(v3 + 6), *(unsigned __int8 *)(v277 + 57));
                }
              }
            }
            v3 += 10;
            goto LABEL_1184;
          case 2u:
            if ( sub_43C700() )
            {
              LODWORD(v5) = sub_418C80(*(_DWORD *)(v3 + 2));
              if ( (_DWORD)v5 )
              {
                sub_419570(v5, *(_DWORD *)(v3 + 2));
                sub_4571A0(*(_DWORD *)(v3 + 2), 0);
              }
            }
            goto LABEL_902;
          case 3u:
            if ( sub_43C700() )
            {
              v278 = sub_418C80(*(unsigned __int16 *)(v3 + 6));
              if ( v278 )
              {
                LODWORD(v5) = sub_418AB0(*(_DWORD *)(v3 + 2));
                v279 = v5;
                if ( (_DWORD)v5 )
                {
                  if ( sub_4196D0((int)v278, v5, *(unsigned __int16 *)(v3 + 6), 0) )
                    sub_4571A0(*(unsigned __int16 *)(v3 + 6), *(unsigned __int8 *)(v279 + 57));
                }
              }
            }
            goto LABEL_908;
          case 4u:
            if ( sub_43C700() )
            {
              LODWORD(v5) = sub_418AB0(*(_DWORD *)(v3 + 2));
              if ( (_DWORD)v5 )
                sub_418CD0((wchar_t *)v5, (wchar_t *)(v3 + 6));
            }
            v3 += 46;
            goto LABEL_1184;
          case 5u:
            if ( sub_43C700() )
            {
              LODWORD(v5) = sub_418AB0(*(_DWORD *)(v3 + 2));
              if ( (_DWORD)v5 )
                sub_418D80(v5);
            }
            goto LABEL_916;
          case 6u:
            if ( sub_43C700() )
            {
              LODWORD(v5) = sub_418AB0(*(_DWORD *)(v3 + 2));
              v280 = (wchar_t *)v5;
              if ( (_DWORD)v5 )
              {
                nox_wcscpy(v387, (const wchar_t *)v5);
                sub_418F20(v280, 0);
                sub_456EA0(v387);
              }
            }
            goto LABEL_920;
          case 7u:
            if ( sub_43C700() )
            {
              sub_419030(0);
              sub_456FA0();
            }
            v3 += 2;
            goto LABEL_1184;
          case 8u:
            if ( sub_43C700() && (LODWORD(v5) = sub_418AB0(*(_DWORD *)(v3 + 2)), (_DWORD)v5) )
            {
              sub_419090(v5, *(_DWORD *)(v3 + 6));
              v3 += 10;
            }
            else
            {
LABEL_908:
              v3 += 10;
            }
            break;
          case 9u:
            if ( sub_43C700() )
              sub_417D00();
            v3 += 2;
            break;
          case 0xCu:
            if ( sub_43C700() )
            {
              LODWORD(v5) = sub_417040(*(unsigned __int16 *)(v3 + 2));
              if ( (_DWORD)v5 )
                *(_BYTE *)(v5 + 2282) = *(_BYTE *)(v3 + 4);
            }
            v3 += 5;
            break;
          default:
            goto LABEL_1184;
        }
        goto LABEL_1184;
      case 0xC5u:
        sub_43B6E0();
        ++v3;
        goto LABEL_1184;
      case 0xC6u:
        sub_43B750();
        ++v3;
        goto LABEL_1184;
      case 0xC7u:
        v359 = -56;
        v33 = sub_43C750();
        sub_552640(v33, &v359, 1, 2);
        sub_446380();
        ++v3;
        goto LABEL_1184;
      case 0xC9u:
        switch ( *(unsigned __int8 *)(v3 + 1) )
        {
          case 1u:
            if ( sub_43C700() )
              sub_4C1590();
            v3 += 2;
            goto LABEL_1184;
          case 2u:
            if ( sub_43C700() )
              sub_479280();
            v3 += 2;
            goto LABEL_1184;
          case 3u:
            if ( sub_43C700() )
              sub_4C1BC0(v3);
            goto LABEL_1183;
          case 4u:
            if ( sub_43C700() )
              sub_4C1790(v3);
            v3 += 15;
            goto LABEL_1184;
          case 5u:
            if ( !sub_43C700() )
              goto LABEL_1133;
            sub_4C15D0(v3);
            v3 += 4;
            break;
          case 6u:
            if ( !sub_43C700() )
              goto LABEL_1093;
            sub_4C1B50(v3);
            v3 += 14;
            break;
          case 7u:
            if ( sub_43C700() )
              sub_4C1BF0();
            v3 += 2;
            goto LABEL_1184;
          case 8u:
            if ( sub_43C700() )
              sub_479300(
                *(unsigned __int16 *)(v3 + 2),
                *(unsigned __int16 *)(v3 + 4),
                *(_DWORD *)(v3 + 6),
                *(_DWORD *)(v3 + 10),
                v3 + 14);
            v3 += 18;
            goto LABEL_1184;
          case 9u:
            if ( !sub_43C700() )
              goto LABEL_1133;
            sub_479480(*(unsigned __int16 *)(v3 + 2));
            v3 += 4;
            break;
          case 0xCu:
            if ( sub_43C700() )
              sub_4C1320(v3);
            v3 += 52;
            goto LABEL_1184;
          case 0xDu:
            if ( sub_43C700() )
              sub_478FD0((const wchar_t *)(v3 + 4), (char *)(v3 + 54), *(unsigned __int16 *)(v3 + 2));
            v3 += 86;
            goto LABEL_1184;
          case 0x1Bu:
            if ( !sub_43C700() )
              goto LABEL_1133;
            sub_479520(*(unsigned __int16 *)(v3 + 2));
            v3 += 4;
            break;
          case 0x1Du:
            if ( sub_43C700() )
              sub_4795E0(*(unsigned __int16 *)(v3 + 2), *(_DWORD *)(v3 + 4));
            goto LABEL_1057;
          case 0x1Fu:
            if ( !sub_43C700() )
              goto LABEL_1057;
            sub_479740(*(unsigned __int16 *)(v3 + 2), *(_DWORD *)(v3 + 4));
            v3 += 8;
            break;
          default:
            return 0;
        }
        goto LABEL_1184;
      case 0xCAu:
        if ( sub_43C700() )
        {
          if ( *(short *)(v3 + 1) == -8531 )
            sub_48E940();
          else
            sub_48E8E0(*(unsigned __int16 *)(v3 + 1));
        }
        goto LABEL_1183;
      case 0xCBu:
        if ( sub_43C700() )
          sub_445450();
        ++v3;
        goto LABEL_1184;
      case 0xCCu:
        if ( sub_43C700() )
          sub_48D5A0(v3);
        k = *(unsigned __int8 *)(v3 + 3);
        v3 += k + 4;
        goto LABEL_1184;
      case 0xCDu:
        v86 = 0;
        if ( sub_43C700() )
        {
          v87 = *(_BYTE *)(v3 + 2);
          LOBYTE(v370) = *(_BYTE *)(v3 + 2) & 0x7F;
          if ( v87 < 0 )
            v86 = 1;
          sub_4611E0(*(unsigned __int8 *)(v3 + 1), (unsigned __int8)v370, (char *)v86);
        }
        goto LABEL_1183;
      case 0xCEu:
        if ( sub_43C700() )
          sub_461090(*(unsigned __int8 *)(v3 + 1), *(unsigned __int8 *)(v3 + 2));
        goto LABEL_1183;
      case 0xCFu:
        if ( sub_43C700() )
          sub_461120(*(unsigned __int8 *)(v3 + 1), *(unsigned __int8 *)(v3 + 2));
        goto LABEL_1183;
      case 0xD0u:
        if ( *(_BYTE *)(v3 + 1) == 3 )
        {
          if ( sub_43C700() )
          {
            sub_479D30(
              (wchar_t *)(v3 + 34),
              *(_DWORD *)(v3 + 98),
              (char *)(v3 + 2),
              (const char *)(v3 + 102),
              *(_BYTE *)(v3 + 134));
            if ( *(_DWORD *)&byte_5D4594[2618908] )
              sub_4174F0(*(int *)&byte_5D4594[2618908], 512);
          }
          v3 += 135;
        }
        else if ( *(_BYTE *)(v3 + 1) == 4 )
        {
          if ( sub_43C700() )
          {
            sub_47A1F0();
            if ( *(_DWORD *)&byte_5D4594[2618908] )
              sub_417530(*(int *)&byte_5D4594[2618908], 512);
          }
LABEL_966:
          v3 += 2;
        }
        goto LABEL_1184;
      case 0xD1u:
        if ( sub_43C700() )
          sub_45D140(*(unsigned __int8 *)(v3 + 1), *(_BYTE *)(v3 + 2) & 0x7F);
        goto LABEL_1183;
      case 0xD2u:
        v281 = sub_578B30(*(_WORD *)(v3 + 1));
        v282 = v281;
        if ( !sub_43C700() )
          goto LABEL_948;
        if ( sub_578B70(*(unsigned __int16 *)(v3 + 1)) )
        {
          v283 = sub_578B30(*(_WORD *)(v3 + 1));
          LODWORD(v5) = sub_45A720(v283);
        }
        else
        {
          v284 = sub_578B30(*(_WORD *)(v3 + 1));
          LODWORD(v5) = sub_45A6F0(v284);
        }
        if ( *(_BYTE *)(v3 + 5) == 1 )
        {
          if ( (_DWORD)v5 || (LODWORD(v5) = sub_48E970(*(unsigned __int16 *)(v3 + 3), v282, 0, 0), (_DWORD)v5) )
          {
            sub_459DD0(v5, *(_BYTE *)(v3 + 6));
            v3 += 7;
            goto LABEL_1184;
          }
        }
        else if ( (_DWORD)v5 )
        {
          sub_459E30(v5, *(_BYTE *)(v3 + 6));
        }
LABEL_948:
        v3 += 7;
        goto LABEL_1184;
      case 0xD3u:
        if ( !sub_43C700() )
          goto LABEL_112;
        if ( (unsigned int)(*(_DWORD *)&byte_5D4594[2598000] - *(_DWORD *)(v3 + 9)) >= 0x1E )
        {
          v359 = -44;
          sub_4E53C0(31, &v359, 1, 0, 1);
LABEL_112:
          v3 += 13;
        }
        else
        {
          if ( *(_DWORD *)(v3 + 1) )
          {
            sub_40A1F0(1);
            v5 = sub_40A310(*(_DWORD *)(v3 + 5));
          }
          else
          {
            sub_40A1F0(0);
          }
          v3 += 13;
        }
        goto LABEL_1184;
      case 0xD5u:
        v296 = *(_DWORD *)&byte_5D4594[2618908];
        switch ( *(_BYTE *)(v3 + 1) )
        {
          case 1:
            if ( sub_43C700() )
            {
              if ( v296 )
                sub_427490(v296, (char *)(v3 + 2), *(_WORD *)(v3 + 66));
              sub_469BC0();
            }
            v3 += 68;
            break;
          case 2:
            if ( sub_43C700() )
            {
              if ( v296 )
                sub_427590(v296, (const char *)(v3 + 2));
              sub_469BC0();
            }
            v3 += 68;
            break;
          case 3:
            if ( sub_43C700() && v296 )
              sub_4276B0(v296, (const char *)(v3 + 2), *(_WORD *)(v3 + 66));
            v3 += 68;
            break;
        }
        goto LABEL_1184;
      case 0xD6u:
        if ( sub_43C700() )
          sub_450160(*(unsigned __int8 *)(v3 + 1), *(unsigned __int8 *)(v3 + 2), 0);
        goto LABEL_1183;
      case 0xD7u:
        LODWORD(v5) = sub_417040(*(unsigned __int16 *)(v3 + 1));
        if ( (_DWORD)v5 )
        {
          LOWORD(k) = *(_WORD *)(v3 + 3);
          *(_WORD *)(v5 + 2148) = k;
        }
        v3 += 5;
        goto LABEL_1184;
      case 0xD8u:
        if ( sub_43C700() )
        {
          sub_455D80(*(_BYTE *)(v3 + 2), *(_BYTE *)(v3 + 1));
          sub_4705F0(*(_BYTE *)(v3 + 1), *(_BYTE *)(v3 + 3), *(_WORD *)(v3 + 4));
          v3 += 6;
        }
        else
        {
LABEL_920:
          v3 += 6;
        }
        goto LABEL_1184;
      case 0xD9u:
        if ( sub_43C700() )
        {
          sub_456140(*(_BYTE *)(v3 + 1));
          sub_470650(*(_BYTE *)(v3 + 1), *(_WORD *)(v3 + 2));
        }
        v3 += 4;
        goto LABEL_1184;
      case 0xDAu:
        v137 = sub_578B30(*(_WORD *)(v3 + 1));
        v138 = v137;
        if ( sub_43C700() )
        {
          if ( sub_4951F0(v138) )
            sub_4950F0(v138, *(_BYTE *)(v3 + 3));
          sub_49A3B0(v138, *(unsigned __int8 *)(v3 + 3));
          v3 += 4;
        }
        else
        {
LABEL_764:
          v3 += 4;
        }
        goto LABEL_1184;
      case 0xDBu:
        v193 = sub_578B30(*(_WORD *)(v3 + 1));
        v194 = v193;
        if ( sub_43C700() )
        {
          if ( sub_578B70(*(unsigned __int16 *)(v3 + 1)) )
            v195 = sub_45A720(v194);
          else
            v195 = sub_45A6F0(v194);
          if ( v195 || (v195 = sub_48E970(*(unsigned __int16 *)(v3 + 3), v194, 0, 0)) != 0 )
            sub_459DD0((int)v195, 1);
          sub_495060(v194, 0, 0);
        }
LABEL_638:
        v3 += 5;
        goto LABEL_1184;
      case 0xDCu:
        v196 = sub_578B30(*(_WORD *)(v3 + 1));
        v197 = v196;
        if ( !sub_43C700() )
          goto LABEL_1183;
        sub_4950C0(*(unsigned __int16 *)(v3 + 1));
        v337 = v197;
        if ( sub_578B70(*(unsigned __int16 *)(v3 + 1)) )
          LODWORD(v5) = sub_45A720(v197);
        else
LABEL_642:
          LODWORD(v5) = sub_45A6F0(v337);
LABEL_643:
        if ( (_DWORD)v5 )
          sub_459E30(v5, 1);
        goto LABEL_1183;
      case 0xDDu:
        v90 = sub_578B30(*(_WORD *)(v3 + 1));
        v91 = v90;
        if ( !sub_43C700() )
          goto LABEL_1149;
        if ( (byte_5D4594[2650637] & 0x80u) != 0 )
          sub_578B70(*(unsigned __int16 *)(v3 + 1));
        if ( v91 == *(_DWORD *)&byte_5D4594[2616328] )
        {
          sub_470C80(*(unsigned __int16 *)(v3 + 3), *(unsigned __int16 *)(v3 + 5));
          v3 += 7;
        }
        else if ( sub_4951F0(*(unsigned __int16 *)(v3 + 1)) )
        {
          sub_495120(*(unsigned __int16 *)(v3 + 1), *(_WORD *)(v3 + 3), *(_WORD *)(v3 + 5));
          v3 += 7;
        }
        else
        {
LABEL_1149:
          v3 += 7;
        }
        goto LABEL_1184;
      case 0xDEu:
        v94 = sub_578B30(*(_WORD *)(v3 + 1));
        v95 = v94;
        if ( !sub_43C700() )
          goto LABEL_948;
        if ( (byte_5D4594[2650637] & 0x80u) != 0 )
          sub_578B70(*(unsigned __int16 *)(v3 + 1));
        if ( v95 != *(_DWORD *)&byte_5D4594[2616328] )
          goto LABEL_948;
        sub_470CE0(*(unsigned __int16 *)(v3 + 3), *(unsigned __int16 *)(v3 + 5));
        v3 += 7;
        goto LABEL_1184;
      case 0xDFu:
        sub_460EB0(*(_DWORD *)(v3 + 1), *(_BYTE *)(v3 + 5));
        v3 += 6;
        goto LABEL_1184;
      case 0xE0u:
        v291 = sub_578B30(*(_WORD *)(v3 + 1));
        v292 = v291;
        if ( (byte_5D4594[2650637] & 0x80u) != 0 )
          sub_578B70(*(unsigned __int16 *)(v3 + 1));
        if ( *(_WORD *)(v3 + 1) )
          sub_467750(v292, *(_BYTE *)(v3 + 3));
        else
          sub_467750(0, *(_BYTE *)(v3 + 3));
        v3 += 4;
        goto LABEL_1184;
      case 0xE1u:
        v293 = sub_578B30(*(_WORD *)(v3 + 1));
        sub_467740(v293);
        goto LABEL_1183;
      case 0xE2u:
        v294 = sub_578B30(*(_WORD *)(v3 + 1));
        v295 = v294;
        if ( (byte_5D4594[2650637] & 0x80u) != 0 )
          sub_578B70(*(unsigned __int16 *)(v3 + 1));
        LODWORD(v5) = sub_478080(v295);
        if ( (_DWORD)v5
          || (LODWORD(v5) = sub_4676D0(v295), (_DWORD)v5)
          || (!sub_578B70(*(unsigned __int16 *)(v3 + 1)) ? (LODWORD(v5) = sub_45A6F0(v295)) : (LODWORD(v5) = sub_45A720(v295)),
              (_DWORD)v5) )
        {
          k = *(unsigned __int8 *)(v3 + 3);
          *(_DWORD *)(v5 + 432) = k;
        }
        v3 += 4;
        goto LABEL_1184;
      case 0xE4u:
        if ( sub_43C700() )
        {
          if ( *(_BYTE *)(v3 + 1) == 1 )
          {
            if ( !(*(_DWORD *)&byte_5D4594[2650636] & 0x40000) )
            {
              *(_DWORD *)&byte_5D4594[2650672] = 0;
              sub_42EE00();
              sub_413A00(1);
              sub_44DB30(25, *(_BYTE *)(v3 + 2) == 1, sub_44E020);
            }
          }
          else if ( !(*(_DWORD *)&byte_5D4594[2650636] & 0x40000) )
          {
            sub_44DAB0(25, *(_BYTE *)(v3 + 2) == 1, (void (*)(void))sub_44E000);
          }
        }
        goto LABEL_1183;
      case 0xE5u:
        if ( sub_43C700() )
          sub_43D9B0(*(unsigned __int8 *)(v3 + 1), *(unsigned __int8 *)(v3 + 2));
        goto LABEL_1183;
      case 0xE6u:
        if ( sub_43C700() )
          sub_43DA80();
        goto LABEL_1183;
      case 0xE7u:
        if ( sub_43C700() )
          sub_43DAD0();
        goto LABEL_1183;
      case 0xE8u:
        if ( sub_43C700() )
        {
          LODWORD(v5) = sub_417040(*(unsigned __int16 *)(v3 + 1));
          v111 = (_DWORD *)v5;
          if ( (_DWORD)v5 )
          {
            if ( (_DWORD)v5 == *(_DWORD *)&byte_5D4594[2618908] )
            {
              sub_4BFE40();
              sub_478000();
            }
            v112 = sub_45A6F0(*(unsigned __int16 *)(v3 + 1));
            if ( v112 )
              sub_459E30((int)v112, 3);
            if ( !sub_40A5C0(4096) )
            {
              v111[1] = 0;
              LODWORD(v5) = v111 + 582;
              v113 = 27;
              do
              {
                v114 = (_DWORD *)v5;
                LODWORD(v5) = v5 + 24;
                *(_DWORD *)(v5 - 4) = 0;
                v5 = (unsigned int)v5;
                *v114 = 0;
                --v113;
                v114[1] = 0;
                v114[2] = 0;
                v114[3] = 0;
              }
              while ( v113 );
              for ( k = 0; k < 624; k += 24 )
              {
                v115 = *(_DWORD *)((char *)v111 + k + 2972);
                if ( !(v115 & 0xC0D) )
                {
                  HIDWORD(v5) = ~v115 & *v111;
                  *v111 = HIDWORD(v5);
                  *(_DWORD *)((char *)v111 + k + 2972) = 0;
                  *(_DWORD *)((char *)v111 + k + 2976) = 0;
                  *(_DWORD *)((char *)v111 + k + 2980) = 0;
                  *(_DWORD *)((char *)v111 + k + 2984) = 0;
                  *(_DWORD *)((char *)v111 + k + 2988) = 0;
                }
              }
            }
          }
        }
        goto LABEL_1183;
      case 0xE9u:
        if ( sub_43C700() )
        {
          if ( sub_40A5C0(0x2000) )
          {
            k = *(unsigned __int16 *)(v3 + 1);
            if ( (unsigned __int16)k == *(_DWORD *)&byte_5D4594[2616328] )
              sub_45A670(*(_DWORD *)(v3 + 3));
          }
          if ( *(_BYTE *)(v3 + 8) & 1 )
          {
            LODWORD(v5) = sub_417040(*(unsigned __int16 *)(v3 + 1));
            if ( (_DWORD)v5 )
              sub_417680(v5, *(_BYTE *)(v3 + 7));
          }
        }
        v3 += 9;
        goto LABEL_1184;
      case 0xEAu:
        if ( sub_40A5C0(0x2000) )
        {
          sub_45A670(*(_DWORD *)(v3 + 1));
          v3 += 5;
        }
        else
        {
LABEL_1163:
          v3 += 5;
        }
        goto LABEL_1184;
      case 0xEBu:
        if ( !sub_43C700() )
          goto LABEL_720;
        sub_4610D0(*(_BYTE *)(v3 + 1));
        v3 += 2;
        goto LABEL_1184;
      case 0xECu:
        if ( !sub_43C700() )
          goto LABEL_720;
        sub_43C7A0(*(unsigned __int8 *)(v3 + 1));
        v3 += 2;
        goto LABEL_1184;
      case 0xEDu:
        if ( sub_43C700() )
        {
          sub_4C1CA0(*(unsigned __int8 *)(v3 + 1));
          v3 += 2;
        }
        else
        {
LABEL_720:
          v3 += 2;
        }
        goto LABEL_1184;
      case 0xEEu:
        if ( *(_BYTE *)(v3 + 1) == 6 )
        {
          sub_48D4B0(*(unsigned __int8 *)(v3 + 2));
LABEL_1183:
          v3 += 3;
LABEL_1184:
          v4 = v369;
          if ( v3 >= v369 )
            return 1;
          continue;
        }
        if ( *(_BYTE *)(v3 + 1) == 7 )
        {
          sub_48D4A0();
          v3 += 2;
          goto LABEL_1184;
        }
        return 0;
      case 0xEFu:
        if ( byte_5D4594[2661958] )
        {
          if ( byte_5D4594[2661958] == 1 )
          {
            *(_DWORD *)&byte_587000[312816] = *(_DWORD *)(v3 + 1);
            *(_DWORD *)&byte_587000[312820] = *(_DWORD *)(v3 + 5);
            *(_DWORD *)&byte_587000[312824] = *(_DWORD *)(v3 + 9);
            *(_DWORD *)&byte_587000[312828] = *(_DWORD *)(v3 + 13);
            sub_57B200();
            v3 += 17;
            goto LABEL_1184;
          }
          if ( byte_5D4594[2661958] == 2 )
          {
            *(_DWORD *)&byte_587000[312800] = *(_DWORD *)(v3 + 1);
            *(_DWORD *)&byte_587000[312804] = *(_DWORD *)(v3 + 5);
            *(_DWORD *)&byte_587000[312808] = *(_DWORD *)(v3 + 9);
            *(_DWORD *)&byte_587000[312812] = *(_DWORD *)(v3 + 13);
            sub_57B200();
            v3 += 17;
            goto LABEL_1184;
          }
        }
        else
        {
          *(_DWORD *)&byte_587000[312784] = *(_DWORD *)(v3 + 1);
          *(_DWORD *)&byte_587000[312788] = *(_DWORD *)(v3 + 5);
          *(_DWORD *)&byte_587000[312792] = *(_DWORD *)(v3 + 9);
          *(_DWORD *)&byte_587000[312796] = *(_DWORD *)(v3 + 13);
        }
        sub_57B200();
        v3 += 17;
        goto LABEL_1184;
      case 0xF0u:
        switch ( *(unsigned __int8 *)(v3 + 1) )
        {
          case 0u:
            if ( sub_43C700() == 1 )
            {
              if ( sub_40A5C0(1) )
              {
                sub_460380();
                sub_460E60();
                sub_41CC00((char *)&byte_5D4594[2660688]);
                sub_41A480((char *)&byte_5D4594[2660688]);
              }
              sub_470AA0(1);
              sub_48D4A0();
              sub_4721D0();
              sub_4705B0();
            }
            goto LABEL_1085;
          case 1u:
            if ( sub_43C700() == 1 )
            {
              sub_452D80(1008, 100);
              v299 = sub_417040(*(unsigned __int16 *)(v3 + 2));
              if ( v299 )
              {
                if ( !sub_40A5C0(1) )
                  *((_DWORD *)v299 + 1198) = 1;
              }
            }
            v3 += 4;
            goto LABEL_1184;
          case 2u:
            if ( sub_43C700() == 1 )
              sub_49B4B0((unsigned __int16 *)v3);
            goto LABEL_1093;
          case 4u:
            if ( sub_43C700() )
            {
              v300 = sub_417040(*(unsigned __int16 *)(v3 + 3));
              if ( v300 )
                v300[4816] = *(_BYTE *)(v3 + 2);
              HIDWORD(v5) = *(unsigned __int16 *)(v3 + 3);
              if ( WORD2(v5) == *(_DWORD *)&byte_5D4594[2616328] )
                sub_463420(*(unsigned __int8 *)(v3 + 2));
            }
            goto LABEL_1099;
          case 5u:
          case 6u:
          case 7u:
          case 8u:
          case 9u:
          case 0xAu:
            sub_43C700();
            v3 += 4;
            goto LABEL_1184;
          case 0xBu:
            sub_43C700();
            v3 += 16;
            goto LABEL_1184;
          case 0xCu:
            if ( sub_43C700() )
              sub_450770(v3);
            *(_DWORD *)&byte_5D4594[1556112] = 0;
            v3 += 90;
            goto LABEL_1184;
          case 0xDu:
            if ( sub_43C700() )
              sub_450980(v3, *(_BYTE *)(v3 + 4) & 1);
            goto LABEL_1119;
          case 0xEu:
            if ( sub_43C700() )
              sub_450A30(v3, 1);
LABEL_1119:
            *(_DWORD *)&byte_5D4594[1556112] = 0;
            v3 += 69;
            goto LABEL_1184;
          case 0xFu:
            if ( sub_43C700() )
            {
              LODWORD(v5) = sub_45A720(*(unsigned __int16 *)(v3 + 2));
              if ( (_DWORD)v5 )
                *(_BYTE *)(v5 + 432) = 0;
            }
            v3 += 4;
            goto LABEL_1184;
          case 0x10u:
            if ( !*(_DWORD *)&byte_5D4594[1200904] )
              *(_DWORD *)&byte_5D4594[1200904] = sub_44CFC0((CHAR *)&byte_587000[160484]);
            if ( sub_43C700() )
            {
              v301 = sub_45A360(
                       *(int *)&byte_5D4594[1200904],
                       *(unsigned __int16 *)(v3 + 6),
                       *(unsigned __int16 *)(v3 + 8));
              *(_BYTE *)(v301 + 432) = 0;
              *(_DWORD *)(v301 + 437) = *(_DWORD *)(v3 + 2);
              *(_DWORD *)(v301 + 441) = *(_DWORD *)(v3 + 6);
              *(_DWORD *)(v301 + 433) = *(unsigned __int16 *)(v3 + 10);
              sub_49B950((_DWORD *)v301, *(unsigned __int16 *)(v3 + 10));
            }
            goto LABEL_1130;
          case 0x11u:
            if ( sub_43C700() )
              sub_45D320(*(unsigned __int16 *)(v3 + 2));
            goto LABEL_1133;
          case 0x12u:
            if ( !sub_43C700() )
              goto LABEL_1133;
            sub_45D4A0(*(unsigned __int16 *)(v3 + 2));
            v3 += 4;
            goto LABEL_1184;
          case 0x13u:
            if ( !sub_43C700() )
              goto LABEL_1133;
            sub_45D400(*(unsigned __int16 *)(v3 + 2));
            v3 += 4;
            goto LABEL_1184;
          case 0x14u:
            if ( sub_43C700() != 1 || sub_470580() )
            {
LABEL_1085:
              v3 += 2;
            }
            else
            {
              sub_4705B0();
              v3 += 2;
            }
            goto LABEL_1184;
          case 0x15u:
            if ( sub_43C700() )
            {
              LODWORD(v5) = sub_417040(*(unsigned __int16 *)(v3 + 6));
              if ( (_DWORD)v5 )
              {
                HIDWORD(v5) = *(_DWORD *)(v3 + 2);
                *(_DWORD *)(v5 + 4820) = HIDWORD(v5);
              }
            }
            v3 += 8;
            goto LABEL_1184;
          case 0x16u:
            if ( sub_43C700() )
            {
              LODWORD(v5) = sub_417040(*(unsigned __int16 *)(v3 + 3));
              if ( (_DWORD)v5 )
                *(_BYTE *)(v5 + 4824) = *(_BYTE *)(v3 + 2);
            }
            v3 += 5;
            goto LABEL_1184;
          case 0x17u:
            if ( sub_43C700() )
            {
              LODWORD(v5) = sub_417040(*(unsigned __int16 *)(v3 + 3));
              if ( (_DWORD)v5 )
                *(_BYTE *)(v5 + 4825) = *(_BYTE *)(v3 + 2);
            }
            v3 += 5;
            goto LABEL_1184;
          case 0x18u:
            if ( sub_43C700() == 1 )
              sub_4BFBB0((_DWORD *)*(unsigned __int8 *)(v3 + 2));
            goto LABEL_1183;
          case 0x19u:
            if ( !*(_DWORD *)&byte_5D4594[1200908] )
            {
              *(_DWORD *)&byte_5D4594[1200908] = sub_44CFC0((CHAR *)&byte_587000[160496]);
              *(_DWORD *)&byte_5D4594[1200912] = sub_44CFC0((CHAR *)&byte_587000[160508]);
            }
            v302 = (_DWORD *)sub_45A360(*(int *)&byte_5D4594[1200912], *(__int16 *)(v3 + 2), *(__int16 *)(v3 + 4));
            if ( v302 )
              sub_45A110(v302);
            if ( sub_43C700() )
            {
              v380.field_0 = *(__int16 *)(v3 + 2);
              v380.field_4 = *(__int16 *)(v3 + 4);
              sub_49A150(&v380, *(int *)&byte_5D4594[1200908], *(_BYTE *)(v3 + 6));
            }
            goto LABEL_1149;
          case 0x1Au:
            if ( sub_43C700() )
              sub_499610(*(int *)&byte_5D4594[1200788], 25, 500, 25, *(__int16 *)(v3 + 2), *(__int16 *)(v3 + 4));
            v3 += 6;
            goto LABEL_1184;
          case 0x1Cu:
            if ( sub_43C700() )
              sub_41D1A0(*(unsigned __int8 *)(v3 + 2));
            goto LABEL_1183;
          case 0x1Du:
            if ( sub_43C700() )
            {
              sub_465DE0(*(unsigned __int16 *)(v3 + 2));
              v3 += 4;
            }
            else
            {
LABEL_1133:
              v3 += 4;
            }
            goto LABEL_1184;
          case 0x1Eu:
            v303 = sub_417040(*(unsigned __int16 *)(v3 + 3));
            if ( sub_43C700() && v303 )
            {
              if ( v303 == *(char **)&byte_5D4594[2618908] )
              {
                v348 = sub_424930(*(unsigned __int8 *)(v3 + 2));
                v304 = sub_40F1D0((char *)&byte_587000[160560], 0, (const char *)&byte_587000[160520], 8112);
                nox_swprintf(v405, v304, v348);
              }
              else
              {
                v349 = sub_424930(*(unsigned __int8 *)(v3 + 2));
                v305 = sub_40F1D0((char *)&byte_587000[160624], 0, (const char *)&byte_587000[160584], 8115);
                nox_swprintf(v405, v305, v303 + 4704, v349);
              }
              sub_445490(v405);
            }
            goto LABEL_1163;
          case 0x1Fu:
            v306 = sub_417040(*(unsigned __int16 *)(v3 + 3));
            if ( !sub_43C700() || !v306 )
              goto LABEL_1163;
            if ( v306 == *(char **)&byte_5D4594[2618908] )
            {
              v350 = sub_427240(*(unsigned __int8 *)(v3 + 2));
              v307 = sub_40F1D0((char *)&byte_587000[160696], 0, (const char *)&byte_587000[160656], 8145);
              nox_swprintf(v403, v307, v350);
            }
            else
            {
              v351 = sub_427240(*(unsigned __int8 *)(v3 + 2));
              v308 = sub_40F1D0((char *)&byte_587000[160760], 0, (const char *)&byte_587000[160720], 8148);
              nox_swprintf(v403, v308, v306 + 4704, v351);
            }
            sub_445490(v403);
            v3 += 5;
            break;
          case 0x20u:
            v309 = sub_417040(*(unsigned __int16 *)(v3 + 3));
            if ( !sub_43C700() || !v309 )
              goto LABEL_1163;
            if ( v309 == *(char **)&byte_5D4594[2618908] )
            {
              v352 = sub_425260(*(unsigned __int8 *)(v3 + 2));
              v310 = sub_40F1D0((char *)&byte_587000[160832], 0, (const char *)&byte_587000[160792], 8178);
              nox_swprintf(v404, v310, v352);
            }
            else
            {
              v353 = sub_425260(*(unsigned __int8 *)(v3 + 2));
              v311 = sub_40F1D0((char *)&byte_587000[160896], 0, (const char *)&byte_587000[160856], 8181);
              nox_swprintf(v404, v311, v309 + 4704, v353);
            }
            sub_445490(v404);
            v3 += 5;
            break;
          case 0x21u:
            if ( sub_43C700() )
            {
              v383[0] = (int)&byte_587000[160948];
              v383[1] = (int)&byte_587000[160988];
              v383[2] = (int)&byte_587000[161028];
              v383[3] = (int)&byte_587000[161068];
              v383[4] = (int)&byte_587000[161112];
              v354 = sub_40F1D0(
                       (char *)v383[*(unsigned __int8 *)(v3 + 51)],
                       0,
                       (const char *)&byte_587000[161136],
                       8217);
              v312 = sub_40F1D0((char *)(v3 + 2), 0, (const char *)&byte_587000[161176], 8216);
              nox_swprintf(v402, v312, v354);
              sub_445490(v402);
            }
            v3 += 52;
            goto LABEL_1184;
          default:
            return 0;
        }
        goto LABEL_1184;
      default:
        return 0;
    }
  }
}
// 48EC64: variable 'v16' is possibly undefined
// 48ECC4: variable 'v18' is possibly undefined
// 48ED16: variable 'v20' is possibly undefined
// 48EDD6: variable 'v24' is possibly undefined
// 48F160: variable 'v31' is possibly undefined
// 48F596: variable 'v40' is possibly undefined
// 48F671: variable 'v42' is possibly undefined
// 48F6EB: variable 'v44' is possibly undefined
// 48F793: variable 'v49' is possibly undefined
// 48F831: variable 'v54' is possibly undefined
// 48F929: variable 'v57' is possibly undefined
// 48F952: variable 'v59' is possibly undefined
// 48FAB0: variable 'v62' is possibly undefined
// 48FB1E: variable 'v64' is possibly undefined
// 48FD0B: variable 'v69' is possibly undefined
// 48FDA2: variable 'v71' is possibly undefined
// 48FE68: variable 'v77' is possibly undefined
// 48FEFD: variable 'v82' is possibly undefined
// 48FF39: variable 'k' is possibly undefined
// 48FF58: variable 'v84' is possibly undefined
// 49008E: variable 'v88' is possibly undefined
// 490118: variable 'v90' is possibly undefined
// 490281: variable 'v92' is possibly undefined
// 4902D3: variable 'v94' is possibly undefined
// 490334: variable 'v96' is possibly undefined
// 490394: variable 'v98' is possibly undefined
// 4904D6: variable 'v103' is possibly undefined
// 49056F: variable 'v105' is possibly undefined
// 49060D: variable 'v109' is possibly undefined
// 49096A: variable 'v120' is possibly undefined
// 4909AC: variable 'v122' is possibly undefined
// 4909ED: variable 'v124' is possibly undefined
// 490AC3: variable 'v129' is possibly undefined
// 490B3C: variable 'v132' is possibly undefined
// 490C1D: variable 'v137' is possibly undefined
// 490CFC: variable 'v140' is possibly undefined
// 490FE2: variable 'v152' is possibly undefined
// 491687: variable 'v178' is possibly undefined
// 4916D9: variable 'v180' is possibly undefined
// 491710: variable 'v5' is possibly undefined
// 49172D: variable 'v182' is possibly undefined
// 491768: variable 'v184' is possibly undefined
// 49180F: variable 'v189' is possibly undefined
// 49187C: variable 'v193' is possibly undefined
// 4918F3: variable 'v196' is possibly undefined
// 491AA8: variable 'v198' is possibly undefined
// 491D48: variable 'v209' is possibly undefined
// 491EEA: variable 'v214' is possibly undefined
// 49252B: variable 'v236' is possibly undefined
// 49308F: variable 'v274' is possibly undefined
// 493335: variable 'v281' is possibly undefined
// 493364: variable 'v283' is possibly undefined
// 493378: variable 'v284' is possibly undefined
// 493639: variable 'v291' is possibly undefined
// 493696: variable 'v293' is possibly undefined
// 4936AF: variable 'v294' is possibly undefined
// 4939A7: variable 'v297' is possibly undefined
// 467460: using guessed type int sub_467460(void);

//----- (004947E0) --------------------------------------------------------
char *__cdecl sub_4947E0(int a1)
{
  __int16 v1; // ax
  int v2; // edi
  char *result; // eax
  int i; // esi

  if ( sub_40A5C0(1) )
  {
    v1 = sub_40A5B0();
    v2 = (unsigned __int16)sub_40A020(v1);
  }
  else
  {
    v2 = *((unsigned __int16 *)sub_416590(0) + 27);
  }
  result = sub_416EA0();
  for ( i = (int)result; result; i = (int)result )
  {
    if ( !(*(_BYTE *)(i + 3680) & 1) )
    {
      if ( i == a1 )
      {
        if ( sub_40A5C0(1024) )
        {
          if ( *(_DWORD *)(i + 2140) >= v2 )
            *(_DWORD *)(i + 2140) = v2 - 1;
        }
        else
        {
          *(_DWORD *)(i + 2136) = v2;
        }
      }
      else if ( sub_40A5C0(1024) )
      {
        if ( *(_DWORD *)(i + 2140) < v2 )
          *(_DWORD *)(i + 2140) = v2;
      }
      else if ( *(_DWORD *)(i + 2136) >= v2 )
      {
        *(_DWORD *)(i + 2136) = v2 - 1;
      }
    }
    result = sub_416EE0(i);
  }
  return result;
}

//----- (004948B0) --------------------------------------------------------
int __cdecl sub_4948B0(int a1)
{
  __int16 v1; // ax
  int v2; // edi
  char *i; // esi
  int result; // eax
  int j; // ebp
  char *v6; // eax
  char *v7; // esi
  int k; // ebp
  char *v9; // eax
  char *v10; // esi

  if ( sub_40A5C0(1) )
  {
    v1 = sub_40A5B0();
    v2 = (unsigned __int16)sub_40A020(v1);
  }
  else
  {
    v2 = *((unsigned __int16 *)sub_416590(0) + 27);
  }
  for ( i = sub_418B10(); i; i = sub_418B60((int)i) )
  {
    if ( i == (char *)a1 )
    {
      if ( !sub_40A5C0(1024) )
        *((_DWORD *)i + 13) = v2;
    }
    else if ( !sub_40A5C0(1024) && *((_DWORD *)i + 13) >= v2 )
    {
      *((_DWORD *)i + 13) = v2 - 1;
    }
  }
  if ( sub_40A5C0(1) )
  {
    result = sub_4DA7C0();
    for ( j = result; result; j = result )
    {
      if ( !sub_419180(j + 48, *(_BYTE *)(a1 + 57)) )
      {
        v6 = sub_417040(*(_DWORD *)(j + 36));
        v7 = v6;
        if ( v6 )
        {
          if ( !(v6[3680] & 1) )
          {
            if ( sub_40A5C0(1024) )
            {
              if ( *((_DWORD *)v7 + 535) < v2 )
                *((_DWORD *)v7 + 535) = v2;
            }
            else if ( *((_DWORD *)v7 + 534) >= v2 )
            {
              *((_DWORD *)v7 + 534) = v2 - 1;
            }
          }
        }
      }
      result = sub_4DA7F0(j);
    }
  }
  else
  {
    result = sub_45A000();
    for ( k = result; result; k = result )
    {
      if ( !sub_419180(k + 24, *(_BYTE *)(a1 + 57)) )
      {
        v9 = sub_417040(*(_DWORD *)(k + 128));
        v10 = v9;
        if ( v9 )
        {
          if ( !(v9[3680] & 1) )
          {
            if ( sub_40A5C0(1024) )
            {
              if ( *((_DWORD *)v10 + 535) < v2 )
                *((_DWORD *)v10 + 535) = v2;
            }
            else if ( *((_DWORD *)v10 + 534) >= v2 )
            {
              *((_DWORD *)v10 + 534) = v2 - 1;
            }
          }
        }
      }
      result = sub_45A010(k);
    }
  }
  return result;
}

//----- (00494A60) --------------------------------------------------------
int __cdecl sub_494A60(unsigned __int8 *a1, int a2, _DWORD *a3)
{
  unsigned __int16 v3; // di
  unsigned __int16 v4; // bp
  unsigned __int8 *v5; // esi
  int v6; // ebx
  int v7; // eax
  unsigned __int16 v8; // ax
  unsigned __int16 v9; // cx
  unsigned __int8 *v10; // esi
  unsigned __int8 v11; // bl
  unsigned __int8 *v12; // esi
  unsigned __int8 v13; // dl
  unsigned __int8 v14; // dl
  int v15; // esi
  _DWORD *v16; // eax
  unsigned __int8 v17; // cl
  int v18; // edx
  unsigned __int16 v20; // [esp+10h] [ebp-18h]
  unsigned __int16 v21; // [esp+14h] [ebp-14h]
  unsigned __int8 *v22; // [esp+18h] [ebp-10h]
  char v23[10]; // [esp+1Ch] [ebp-Ch]
  unsigned __int8 v24; // [esp+2Ch] [ebp+4h]
  unsigned __int8 v25; // [esp+2Ch] [ebp+4h]
  unsigned __int8 v26; // [esp+30h] [ebp+8h]

  v22 = a1;
  if ( *a1 == 0xFFu )
  {
    v3 = *(_WORD *)(a1 + 1);
    v4 = *(_WORD *)(a1 + 3);
    v5 = a1 + 5;
    v6 = *(unsigned __int16 *)(a1 + 3);
    v24 = sub_57B9A0((int)&byte_5D4594[1198020], v3, v6, *(unsigned int *)&byte_5D4594[2598000]);
    if ( v24 != -1 )
    {
      sub_57BA10((int)&byte_5D4594[8 * v24 + 1198020], v3, v6, -1);
      v23[0] = -91;
      *(_WORD *)&v23[2] = v3;
      *(_WORD *)&v23[4] = v4;
      v23[1] = v24;
      *(_DWORD *)&v23[6] = -1;
      sub_40EBC0(a2, 0, v23, 10);
    }
  }
  else
  {
    v7 = 8 * *a1;
    v5 = a1 + 1;
    v3 = *(_WORD *)&byte_5D4594[v7 + 1198020];
    v4 = *(_WORD *)&byte_5D4594[v7 + 1198022];
  }
  v8 = *(_WORD *)v5;
  v9 = *((_WORD *)v5 + 1);
  v20 = *(_WORD *)v5;
  v10 = v5 + 4;
  v21 = v9;
  v11 = *v10;
  v12 = v10 + 1;
  if ( (v11 & 0x80u) == 0 )
  {
    v25 = 0;
  }
  else
  {
    v13 = *v12++;
    v25 = v13;
  }
  v14 = *v12;
  v15 = (int)(v12 + 1);
  v26 = v14;
  if ( v3 || v4 )
  {
    v16 = sub_48E970(v4, v3, v8, v9);
    if ( v16 )
    {
      v16[72] = *(_DWORD *)&byte_5D4594[2598000];
      v17 = (v11 >> 4) & 7;
      *((_BYTE *)v16 + 297) = v17;
      if ( v17 > 3u )
        *((_BYTE *)v16 + 297) = v17 + 1;
      if ( v16[69] != v26 )
      {
        v18 = *(_DWORD *)&byte_5D4594[2598000];
        v16[69] = v26;
        v16[79] = v18;
      }
      sub_45AB80((int)v16, v25);
    }
  }
  *a3 = v20;
  a3[1] = v21;
  sub_435600(v20, v21);
  return v15 - (_DWORD)v22;
}

//----- (00494C30) --------------------------------------------------------
unsigned __int8 *__cdecl sub_494C30(unsigned __int8 *a1, int a2, int *a3)
{
  unsigned __int8 *v3; // esi
  unsigned __int8 v4; // al
  unsigned __int16 v6; // di
  _WORD *v7; // esi
  unsigned __int16 v8; // bp
  unsigned __int16 v9; // bx
  __int16 *v10; // esi
  int v11; // eax
  int v12; // ecx
  int *v13; // ebx
  int v14; // esi
  int v15; // eax
  int v16; // ecx
  int v17; // eax
  _DWORD *v18; // eax
  int v19; // edi
  char v20; // cl
  unsigned __int8 v21; // al
  unsigned __int8 v22; // dl
  int v23; // ecx
  unsigned __int8 v24; // [esp+10h] [ebp-18h]
  int v25; // [esp+14h] [ebp-14h]
  char v26[10]; // [esp+1Ch] [ebp-Ch]
  char v27; // [esp+34h] [ebp+Ch]
  unsigned __int8 v28; // [esp+34h] [ebp+Ch]

  v3 = a1;
  v4 = *a1;
  v25 = 0;
  if ( !*a1 )
  {
    v4 = a1[1];
    v3 = a1 + 1;
    if ( !v4 && !a1[2] )
      return (unsigned __int8 *)-3;
    v25 = 1;
  }
  if ( v4 == 0xFFu )
  {
    v6 = *(_WORD *)(v3 + 1);
    v7 = v3 + 3;
    v8 = *v7;
    v9 = *v7;
    v10 = v7 + 1;
    v24 = sub_57B9A0((int)&byte_5D4594[1198020], v6, v9, *(unsigned int *)&byte_5D4594[2598000]);
    if ( v24 != -1 )
    {
      sub_57BA10((int)&byte_5D4594[8 * v24 + 1198020], v6, v9, *(_DWORD *)&byte_5D4594[2598000] + 60);
      v26[1] = v24;
      v26[0] = -91;
      *(_WORD *)&v26[2] = v6;
      *(_WORD *)&v26[4] = v8;
      *(_DWORD *)&v26[6] = *(_DWORD *)&byte_5D4594[2598000] + 60;
      sub_40EBC0(a2, 0, v26, 10);
    }
  }
  else
  {
    v11 = 8 * v4;
    v10 = (__int16 *)(v3 + 1);
    v6 = *(_WORD *)&byte_5D4594[v11 + 1198020];
    v8 = *(_WORD *)&byte_5D4594[v11 + 1198022];
  }
  if ( v25 )
  {
    v12 = *v10;
    v13 = a3;
    v14 = (int)(v10 + 2);
    *a3 = v12;
    a3[1] = *(__int16 *)(v14 - 2);
  }
  else
  {
    v13 = a3;
    v15 = *(char *)v10;
    v14 = (int)(v10 + 1);
    *a3 += v15;
    a3[1] += *(char *)(v14 - 1);
  }
  v16 = *v13;
  if ( (int)*v13 < 0 )
    return &a1[-v14];
  if ( v16 > 6000 )
    return &a1[-v14];
  v17 = v13[1];
  if ( v17 < 0 )
    return &a1[-v14];
  if ( v17 > 6000 )
    return &a1[-v14];
  v18 = sub_48E970(v8, v6, v16, v13[1]);
  v19 = (int)v18;
  if ( !v18 )
    return &a1[-v14];
  if ( v18[28] & 0x200000 )
  {
    v18[72] = *(_DWORD *)&byte_5D4594[2598000];
    v27 = *(_BYTE *)v14;
    v20 = *(_BYTE *)v14;
    v21 = (*(_BYTE *)v14 >> 4) & 7;
    *(_BYTE *)(v19 + 297) = v21;
    if ( v21 > 3u )
      *(_BYTE *)(v19 + 297) = v21 + 1;
    if ( v20 < 0 )
    {
      sub_45AB80(v19, *(unsigned __int8 *)++v14);
      v20 = v27;
    }
    if ( *(_BYTE *)(v19 + 112) & 4 )
    {
      v22 = *(_BYTE *)++v14;
      v28 = v22;
    }
    else
    {
      v28 = v20 & 0xF;
    }
    if ( *(_DWORD *)(v19 + 276) != v28 )
    {
      v23 = *(_DWORD *)&byte_5D4594[2598000];
      *(_DWORD *)(v19 + 276) = v28;
      *(_DWORD *)(v19 + 316) = v23;
    }
    ++v14;
  }
  else
  {
    v18[72] = *(_DWORD *)&byte_5D4594[2598000];
    sub_49AA00(v18);
  }
  *v13 = *(_DWORD *)(v19 + 12);
  v13[1] = *(_DWORD *)(v19 + 16);
  return (unsigned __int8 *)(v14 - (_DWORD)a1);
}

//----- (00494E90) --------------------------------------------------------
int __cdecl sub_494E90(int a1)
{
  int v1; // esi
  unsigned __int8 *v2; // eax
  int v3; // edi
  unsigned __int8 *v4; // eax
  int v5; // esi

  v1 = a1;
  v2 = sub_40F120(a1, &a1);
  if ( v2 )
    v3 = sub_48EA70(v1, (unsigned int)v2, a1);
  else
    v3 = a1;
  v4 = sub_40ED60(v1, 1u, &a1);
  if ( !v4 )
    return v3;
  v5 = sub_48EA70(v1, (unsigned int)v4, a1);
  if ( v5 )
    sub_48D660();
  return v5;
}

//----- (00494F00) --------------------------------------------------------
int sub_494F00()
{
  int result; // eax
  int v1; // esi
  int v2; // eax

  *(_DWORD *)&byte_5D4594[1200772] = sub_44CFC0((CHAR *)&byte_587000[161236]);
  if ( !*(_DWORD *)&byte_5D4594[1200772] )
    return 0;
  result = sub_44CFC0((CHAR *)&byte_587000[161244]);
  *(_DWORD *)&byte_5D4594[1200776] = result;
  if ( result )
  {
    result = sub_44CFC0((CHAR *)&byte_587000[161256]);
    *(_DWORD *)&byte_5D4594[1200780] = result;
    if ( result )
    {
      result = sub_44CFC0((CHAR *)&byte_587000[161268]);
      *(_DWORD *)&byte_5D4594[1200784] = result;
      if ( result )
      {
        result = sub_44CFC0((CHAR *)&byte_587000[161280]);
        *(_DWORD *)&byte_5D4594[1200788] = result;
        if ( result )
        {
          result = sub_44CFC0((CHAR *)&byte_587000[161292]);
          *(_DWORD *)&byte_5D4594[1200792] = result;
          if ( result )
          {
            v1 = 0;
            while ( 1 )
            {
              v2 = sub_44CFC0(*(CHAR **)&byte_587000[v1 + 161216]);
              *(_DWORD *)&byte_5D4594[v1 + 1200812] = v2;
              if ( !v2 )
                break;
              v1 += 4;
              if ( v1 >= 20 )
              {
                *(_DWORD *)&byte_5D4594[1200796] = sub_44CFC0((CHAR *)&byte_587000[161376]);
                return *(_DWORD *)&byte_5D4594[1200796] != 0;
              }
            }
            return 0;
          }
        }
      }
    }
  }
  return result;
}

//----- (00494FE0) --------------------------------------------------------
void sub_494FE0()
{
  srand(0xA33u);
}

//----- (00494FF0) --------------------------------------------------------
char *sub_494FF0()
{
  int v0; // eax
  unsigned __int8 *v1; // ecx

  v0 = 0;
  v1 = &byte_5D4594[1200928];
  while ( *(_DWORD *)v1 )
  {
    v1 += 16;
    ++v0;
    if ( (int)v1 >= (int)&byte_5D4594[1201440] )
      return 0;
  }
  return (char *)&byte_5D4594[16 * v0 + 1200916];
}

//----- (00495020) --------------------------------------------------------
char *__cdecl sub_495020(int a1)
{
  int v1; // eax
  unsigned __int8 *v2; // ecx

  v1 = 0;
  v2 = &byte_5D4594[1200916];
  while ( !*((_DWORD *)v2 + 3) || *(_DWORD *)v2 != a1 )
  {
    v2 += 16;
    ++v1;
    if ( (int)v2 >= (int)&byte_5D4594[1201428] )
      return 0;
  }
  return (char *)&byte_5D4594[16 * v1 + 1200916];
}

//----- (00495060) --------------------------------------------------------
int __cdecl sub_495060(int a1, __int16 a2, __int16 a3)
{
  unsigned __int8 *v3; // eax
  char *v4; // eax

  v3 = &byte_5D4594[1200916];
  do
  {
    if ( *((_DWORD *)v3 + 3) == 1 && *(_DWORD *)v3 == a1 )
      return 1;
    v3 += 16;
  }
  while ( (int)v3 < (int)&byte_5D4594[1201428] );
  v4 = sub_494FF0();
  if ( v4 )
  {
    *((_WORD *)v4 + 3) = a2;
    *((_WORD *)v4 + 4) = a3;
    *((_DWORD *)v4 + 3) = 1;
    v4[4] = 0;
    *(_DWORD *)v4 = a1;
    return 1;
  }
  return 0;
}

//----- (004950C0) --------------------------------------------------------
int __cdecl sub_4950C0(int a1)
{
  char *v1; // eax

  v1 = sub_495020(a1);
  if ( !v1 )
    return 0;
  *((_DWORD *)v1 + 3) = 0;
  return 1;
}

//----- (004950F0) --------------------------------------------------------
int __cdecl sub_4950F0(int a1, char a2)
{
  char *v2; // eax

  v2 = sub_495020(a1);
  if ( !v2 )
    return 0;
  v2[4] = a2;
  return 1;
}

//----- (00495120) --------------------------------------------------------
int __cdecl sub_495120(int a1, __int16 a2, __int16 a3)
{
  char *v3; // eax

  v3 = sub_495020(a1);
  if ( !v3 )
    return 0;
  *((_WORD *)v3 + 3) = a2;
  *((_WORD *)v3 + 4) = a3;
  return 1;
}

//----- (00495150) --------------------------------------------------------
int __cdecl sub_495150(int a1, __int16 a2)
{
  char *v2; // eax

  v2 = sub_495020(a1);
  if ( !v2 )
    return 0;
  *((_WORD *)v2 + 3) = a2;
  return 1;
}

//----- (00495180) --------------------------------------------------------
int __cdecl sub_495180(int a1, _WORD *a2, _WORD *a3, _BYTE *a4)
{
  char *v4; // eax

  v4 = sub_495020(a1);
  if ( !v4 )
    return 0;
  *a2 = *((_WORD *)v4 + 3);
  *a3 = *((_WORD *)v4 + 4);
  *a4 = v4[4];
  return 1;
}

//----- (004951C0) --------------------------------------------------------
char *sub_4951C0()
{
  char *result; // eax

  result = (char *)&byte_5D4594[1200922];
  do
  {
    *(_DWORD *)(result + 6) = 0;
    *(_WORD *)result = 0;
    *((_WORD *)result + 1) = 0;
    *(result - 2) = 0;
    *(_DWORD *)(result - 6) = 0;
    result += 16;
  }
  while ( (int)result < (int)&byte_5D4594[1201434] );
  return result;
}

//----- (004951F0) --------------------------------------------------------
BOOL __cdecl sub_4951F0(int a1)
{
  return sub_495020(a1) != 0;
}

//----- (00495210) --------------------------------------------------------
int __cdecl sub_495210(int a1)
{
  int v1; // esi
  int v2; // eax
  int v3; // eax

  v1 = *(_DWORD *)&byte_5D4594[1203836];
  if ( (*(_DWORD *)&byte_5D4594[1203836] + 1) % 100 == *(_DWORD *)&byte_5D4594[1203840] )
    *(_DWORD *)&byte_5D4594[1203840] = (*(_DWORD *)&byte_5D4594[1203840] + 1) % 100;
  if ( *(_BYTE *)(a1 + 10) == 1 )
  {
    v2 = *(unsigned __int16 *)(a1 + 8);
    if ( (unsigned __int16)v2 == *(_DWORD *)&byte_5D4594[1203844] )
    {
      *(_WORD *)(a1 + 8) = *(_WORD *)&byte_5D4594[1203856];
LABEL_8:
      v1 = *(_DWORD *)&byte_5D4594[1203836];
      goto LABEL_9;
    }
    if ( v2 == *(_DWORD *)&byte_5D4594[1203848] )
    {
      *(_WORD *)(a1 + 8) = *(_WORD *)&byte_5D4594[1203852];
      goto LABEL_8;
    }
  }
LABEL_9:
  v3 = 24 * v1;
  *(_DWORD *)&byte_5D4594[v3 + 1201428] = *(unsigned __int16 *)(a1 + 2);
  *(_DWORD *)&byte_5D4594[v3 + 1201432] = *(unsigned __int16 *)(a1 + 4);
  *(_DWORD *)&byte_5D4594[v3 + 1201436] = *(unsigned __int16 *)(a1 + 6);
  *(_DWORD *)&byte_5D4594[v3 + 1201440] = *(unsigned __int16 *)(a1 + 8);
  *(_DWORD *)&byte_5D4594[v3 + 1201444] = *(unsigned __int8 *)(a1 + 10);
  *(_DWORD *)&byte_5D4594[v3 + 1201448] = *(_DWORD *)&byte_5D4594[2598000];
  *(_DWORD *)&byte_5D4594[1203836] = (v1 + 1) % 100;
  return sub_4952E0((_WORD *)a1);
}

//----- (004952E0) --------------------------------------------------------
int __cdecl sub_4952E0(_WORD *a1)
{
  char *v1; // eax
  wchar_t *v2; // eax
  char *v3; // eax
  wchar_t *v4; // eax
  char *v5; // eax
  wchar_t *v6; // eax
  int v8; // [esp-4h] [ebp-108h]
  wchar_t *v9; // [esp-4h] [ebp-108h]
  int v10; // [esp+0h] [ebp-104h]
  wchar_t v11[32]; // [esp+4h] [ebp-100h]
  wchar_t v12[32]; // [esp+44h] [ebp-C0h]
  wchar_t v13[64]; // [esp+84h] [ebp-80h]

  if ( a1[1] && (v1 = sub_417040((unsigned __int16)a1[1])) != 0 )
  {
    v8 = (int)(v1 + 4704);
    v2 = sub_40F1D0((char *)&byte_587000[161432], 0, (const char *)&byte_587000[161388], 48);
    nox_swprintf(v13, v2, v8);
    if ( a1[2] )
    {
      v3 = sub_417040((unsigned __int16)a1[2]);
      if ( v3 )
      {
        nox_swprintf(v12, (const wchar_t *)&byte_587000[161456], v3 + 4704);
        nox_wcscat(v13, v12);
      }
    }
  }
  else
  {
    v9 = sub_40F1D0((char *)&byte_587000[161512], 0, (const char *)&byte_587000[161468], 65);
    v4 = sub_40F1D0((char *)&byte_587000[161576], 0, (const char *)&byte_587000[161532], 64);
    nox_swprintf(v13, v4, v9);
  }
  if ( a1[3] )
  {
    v5 = sub_417040((unsigned __int16)a1[3]);
    if ( v5 )
    {
      v10 = (int)(v5 + 4704);
      v6 = sub_40F1D0((char *)&byte_587000[161644], 0, (const char *)&byte_587000[161600], 72);
      nox_swprintf(v11, v6, v10);
    }
  }
  return sub_450C00(4u, (wchar_t *)&byte_587000[161668], v11, v13);
}

//----- (00495430) --------------------------------------------------------
int sub_495430()
{
  int v0; // ecx
  int v1; // esi
  int result; // eax
  int i; // edi
  __int64 v4; // rtt

  *(_DWORD *)&byte_5D4594[1203832] = 0;
  sub_434560(0);
  sub_4345F0(0);
  sub_434600(0);
  v0 = *(_DWORD *)&byte_5D4594[1203840];
  v1 = *(_DWORD *)&byte_5D4594[1203840];
  result = *(_DWORD *)&byte_5D4594[1203836];
  for ( i = *(_DWORD *)&byte_5D4594[3807120] / 4 / 36; v1 != *(_DWORD *)&byte_5D4594[1203836]; v1 = (v1 + 1) % 100 )
  {
    if ( *(_DWORD *)&byte_5D4594[1203832] > i )
      break;
    if ( (unsigned int)(*(_DWORD *)&byte_5D4594[2598000] - *(_DWORD *)&byte_5D4594[24 * v0 + 1201448]) <= 0x5A )
    {
      sub_495500((int *)&byte_5D4594[24 * v1 + 1201428]);
      v0 = *(_DWORD *)&byte_5D4594[1203840];
      ++*(_DWORD *)&byte_5D4594[1203832];
    }
    else
    {
      v4 = v0 + 1;
      v0 = (v0 + 1) % 100;
      *(_DWORD *)&byte_5D4594[1203840] = v4 % 100;
    }
    result = *(_DWORD *)&byte_5D4594[1203836];
  }
  return result;
}

//----- (00495500) --------------------------------------------------------
int *__cdecl sub_495500(int *a1)
{
  int v1; // edi
  int v2; // eax
  int v3; // ebp
  bool v4; // zf
  char *v5; // eax
  char *v6; // eax
  char *v7; // eax
  int v8; // ebp
  int v9; // eax
  int v10; // ebp
  int v11; // esi
  int v12; // esi
  int v13; // ecx
  int v14; // kr04_4
  int v15; // esi
  int v16; // edi
  int v17; // ebx
  int v18; // esi
  int *result; // eax
  int v20; // esi
  int v21; // [esp+10h] [ebp-DCh]
  int v22; // [esp+14h] [ebp-D8h]
  int v23; // [esp+18h] [ebp-D4h]
  int v24; // [esp+1Ch] [ebp-D0h]
  int v25; // [esp+20h] [ebp-CCh]
  int v26; // [esp+24h] [ebp-C8h]
  int v27; // [esp+28h] [ebp-C4h]
  wchar_t v28[32]; // [esp+2Ch] [ebp-C0h]
  wchar_t v29[32]; // [esp+6Ch] [ebp-80h]
  wchar_t v30[32]; // [esp+ACh] [ebp-40h]

  v1 = sub_43F360((char *)&byte_587000[161680]);
  v2 = *a1;
  v3 = 0;
  v4 = *a1 == 0;
  v24 = v1;
  v29[0] = 0;
  v28[0] = 0;
  v30[0] = 0;
  v23 = 0;
  v25 = 0;
  v27 = 0;
  v26 = 0;
  if ( !v4 )
  {
    v5 = sub_417040(v2);
    if ( v5 )
    {
      v3 = 1;
      nox_swprintf(v29, (const wchar_t *)v5 + 2352);
    }
  }
  if ( a1[1] )
  {
    v6 = sub_417040(a1[1]);
    if ( v6 )
    {
      if ( v3 )
        nox_swprintf(v28, (const wchar_t *)&byte_587000[161688], v6 + 4704);
      else
        nox_swprintf(v28, (const wchar_t *)v6 + 2352);
    }
  }
  if ( a1[2] )
  {
    v7 = sub_417040(a1[2]);
    if ( v7 )
      nox_swprintf(v30, (const wchar_t *)v7 + 2352);
  }
  if ( a1[4] != 1 )
  {
    if ( a1[4] == 2 )
    {
      switch ( a1[3] )
      {
        case 1:
        case 12:
          v8 = sub_424A90(5);
          goto LABEL_26;
        case 2:
          v8 = sub_425310(1, 0);
          goto LABEL_26;
        case 4:
          v8 = sub_424A90(130);
          goto LABEL_26;
        case 5:
          v8 = sub_424A90(60);
          goto LABEL_26;
        case 9:
        case 17:
          v8 = sub_424A90(43);
          goto LABEL_26;
        case 15:
          v8 = sub_424A90(56);
          goto LABEL_26;
        case 16:
          v8 = sub_424A90(16);
          goto LABEL_26;
        default:
          break;
      }
    }
LABEL_27:
    v8 = *(_DWORD *)&byte_5D4594[1203828];
    goto LABEL_28;
  }
  v9 = sub_44CF10(a1[3]);
  v10 = v9;
  if ( !v9 )
    goto LABEL_27;
  if ( *(_DWORD *)(v9 + 32) & 0x1001000 )
    sub_4B9650(a1[3]);
  v8 = *(_DWORD *)(v10 + 112);
LABEL_26:
  if ( !v8 )
    goto LABEL_27;
LABEL_28:
  sub_47D5C0(v8, &v27, &v26, &v23, &v25);
  sub_43F840(v1, v29, &v21, &v22, 0);
  v11 = v21;
  sub_43F840(v1, v28, &v21, &v22, 0);
  v12 = v21 + v11;
  sub_43F840(v1, v30, &v21, &v22, 0);
  v13 = v12 + v23 + v21 + 20;
  v14 = *(_DWORD *)&byte_5D4594[3805496] - (v12 + v23 + v21 + 10);
  v15 = v14 / 2;
  v16 = 36 * *(_DWORD *)&byte_5D4594[1203832];
  sub_49CF10(v14 / 2 - 5, 36 * *(_DWORD *)&byte_5D4594[1203832], v13, 36);
  v17 = v16 + (36 - v22) / 2;
  if ( *a1 )
  {
    sub_434390(*(int *)&byte_5D4594[2597996]);
    if ( *a1 == *(_DWORD *)&byte_5D4594[2616328] )
      sub_434390(*(int *)&byte_5D4594[2618904]);
    v15 = sub_43F6E0(v24, (__int16 *)v29, v14 / 2, v17);
  }
  if ( a1[1] )
  {
    sub_434390(*(int *)&byte_5D4594[2597996]);
    if ( a1[1] == *(_DWORD *)&byte_5D4594[2616328] )
      sub_434390(*(int *)&byte_5D4594[2618904]);
    v15 = sub_43F6E0(v24, (__int16 *)v28, v15, v17);
  }
  v18 = v15 + 5;
  if ( v8 )
    sub_47D2C0(v8, v18 - v27, v16 + (36 - v25) / 2 - v26);
  result = a1;
  v20 = v18 + v23 + 5;
  if ( a1[2] )
  {
    sub_434390(*(int *)&byte_5D4594[2597996]);
    if ( a1[2] == *(_DWORD *)&byte_5D4594[2616328] )
      sub_434390(*(int *)&byte_5D4594[2618904]);
    result = (int *)sub_43F6E0(v24, (__int16 *)v30, v20, v17);
  }
  return result;
}

//----- (004958F0) --------------------------------------------------------
int sub_4958F0()
{
  int result; // eax

  *(_DWORD *)&byte_5D4594[1203840] = 0;
  *(_DWORD *)&byte_5D4594[1203836] = 0;
  if ( !*(_DWORD *)&byte_5D4594[1203844] )
    *(_DWORD *)&byte_5D4594[1203844] = sub_44CFC0((CHAR *)&byte_587000[161696]);
  if ( !*(_DWORD *)&byte_5D4594[1203848] )
    *(_DWORD *)&byte_5D4594[1203848] = sub_44CFC0((CHAR *)&byte_587000[161708]);
  if ( !*(_DWORD *)&byte_5D4594[1203852] )
    *(_DWORD *)&byte_5D4594[1203852] = sub_44CFC0((CHAR *)&byte_587000[161720]);
  if ( !*(_DWORD *)&byte_5D4594[1203856] )
    *(_DWORD *)&byte_5D4594[1203856] = sub_44CFC0((CHAR *)&byte_587000[161724]);
  result = sub_424A90(15);
  *(_DWORD *)&byte_5D4594[1203828] = result;
  return result;
}

//----- (00495980) --------------------------------------------------------
BOOL sub_495980()
{
  *(_DWORD *)&byte_5D4594[1203860] = sub_413FE0((const char *)&byte_587000[161736], 8, 128);
  return *(_DWORD *)&byte_5D4594[1203860] != 0;
}

//----- (004959B0) --------------------------------------------------------
void sub_4959B0()
{
  sub_4144D0(*(_DWORD **)&byte_5D4594[1203860]);
  *(_DWORD *)&byte_5D4594[1203864] = 0;
}

//----- (004959D0) --------------------------------------------------------
int sub_4959D0()
{
  int result; // eax

  sub_414100(*(LPVOID *)&byte_5D4594[1203860]);
  result = 0;
  *(_DWORD *)&byte_5D4594[1203860] = 0;
  *(_DWORD *)&byte_5D4594[1203864] = 0;
  return result;
}

//----- (004959F0) --------------------------------------------------------
_DWORD *__cdecl sub_4959F0(int a1)
{
  _DWORD *result; // eax

  result = sub_4142F0(*(_DWORD **)&byte_5D4594[1203860]);
  if ( result )
  {
    *result = a1;
    result[1] = *(_DWORD *)&byte_5D4594[1203864];
    *(_DWORD *)&byte_5D4594[1203864] = result;
  }
  return result;
}

//----- (00495A20) --------------------------------------------------------
void __cdecl sub_495A20(int a1)
{
  int v1; // eax
  int v2; // ecx

  v1 = *(_DWORD *)&byte_5D4594[1203864];
  v2 = 0;
  if ( *(_DWORD *)&byte_5D4594[1203864] )
  {
    while ( *(_DWORD *)v1 != a1 )
    {
      v2 = v1;
      v1 = *(_DWORD *)(v1 + 4);
      if ( !v1 )
        return;
    }
    if ( v2 )
      *(_DWORD *)(v2 + 4) = *(_DWORD *)(v1 + 4);
    else
      *(_DWORD *)&byte_5D4594[1203864] = *(_DWORD *)(v1 + 4);
    sub_414330(*(unsigned int **)&byte_5D4594[1203860], (_QWORD *)v1);
  }
}

//----- (00495A80) --------------------------------------------------------
int __cdecl sub_495A80(int a1)
{
  _DWORD *v1; // eax

  v1 = *(_DWORD **)&byte_5D4594[1203864];
  if ( !*(_DWORD *)&byte_5D4594[1203864] )
    return 0;
  while ( *v1 != a1 )
  {
    v1 = (_DWORD *)v1[1];
    if ( !v1 )
      return 0;
  }
  return 1;
}

//----- (00495AB0) --------------------------------------------------------
int sub_495AB0()
{
  int result; // eax

  result = sub_413FE0((const char *)&byte_587000[161752], 80, 128);
  *(_DWORD *)&byte_5D4594[1203868] = result;
  if ( result )
  {
    *(_DWORD *)&byte_5D4594[1203872] = 0;
    result = 1;
  }
  return result;
}

//----- (00495AE0) --------------------------------------------------------
int sub_495AE0()
{
  int result; // eax

  sub_414100(*(LPVOID *)&byte_5D4594[1203868]);
  result = 0;
  *(_DWORD *)&byte_5D4594[1203868] = 0;
  *(_DWORD *)&byte_5D4594[1203872] = 0;
  return result;
}

//----- (00495B00) --------------------------------------------------------
void __cdecl sub_495B00(int a1)
{
  _DWORD *v1; // esi
  _DWORD *v2; // edi

  v1 = *(_DWORD **)(a1 + 456);
  if ( v1 )
  {
    do
    {
      v2 = (_DWORD *)v1[16];
      sub_495B50(v1);
      sub_414330(*(unsigned int **)&byte_5D4594[1203868], v1);
      v1 = v2;
    }
    while ( v2 );
    *(_DWORD *)(a1 + 456) = 0;
  }
  else
  {
    *(_DWORD *)(a1 + 456) = 0;
  }
}

//----- (00495B50) --------------------------------------------------------
_DWORD *__cdecl sub_495B50(_DWORD *a1)
{
  _DWORD *result; // eax
  int v2; // ecx
  int v3; // ecx
  int v4; // ecx
  int v5; // edx
  int v6; // ecx

  result = a1;
  if ( a1 )
  {
    v2 = a1[18];
    if ( v2 )
      *(_DWORD *)(v2 + 76) = a1[19];
    v3 = a1[19];
    if ( v3 )
      *(_DWORD *)(v3 + 72) = a1[18];
    else
      *(_DWORD *)&byte_5D4594[1203872] = a1[18];
    v4 = a1[16];
    v5 = a1[15];
    if ( v4 )
      *(_DWORD *)(v4 + 68) = a1[17];
    v6 = a1[17];
    if ( v6 )
    {
      *(_DWORD *)(v6 + 64) = a1[16];
    }
    else
    {
      result = (_DWORD *)a1[16];
      *(_DWORD *)(v5 + 456) = result;
    }
  }
  return result;
}

//----- (00495BB0) --------------------------------------------------------
_DWORD *__cdecl sub_495BB0(_DWORD *a1, _DWORD *a2)
{
  _DWORD *result; // eax
  _DWORD *v3; // esi

  result = (_DWORD *)a1[114];
  if ( result )
  {
    do
    {
      v3 = (_DWORD *)result[16];
      if ( *result == 1 )
      {
        sub_495BF0((int)a1, (int)result, (int)a2);
      }
      else if ( *result == 2 )
      {
        sub_495D00(a1, (int)result, a2);
      }
      result = v3;
    }
    while ( v3 );
  }
  return result;
}

//----- (00495BF0) --------------------------------------------------------
int __cdecl sub_495BF0(int a1, int a2, int a3)
{
  int v3; // ecx
  int result; // eax
  _DWORD *v5; // edx
  int v6; // edx
  int v7; // edi
  int v8; // ebx
  _DWORD *v9; // edi
  int v10; // ecx
  _DWORD *v11; // eax
  char v12; // al
  unsigned __int8 v13; // [esp+10h] [ebp-Ch]
  int v14; // [esp+14h] [ebp-8h]
  int v15; // [esp+18h] [ebp-4h]

  v3 = 0;
  result = *(unsigned __int8 *)(a2 + 56);
  v13 = -1;
  if ( result <= 0 )
  {
LABEL_6:
    if ( *(_DWORD *)(a1 + 12) == *(_DWORD *)(a1 + 32) && *(_DWORD *)(a1 + 16) == *(_DWORD *)(a1 + 36) )
    {
      *(_BYTE *)(a2 + 56) = 0;
      return result;
    }
  }
  else
  {
    v5 = (_DWORD *)(a2 + 8);
    while ( *v5 == v5[2] || v5[1] == v5[3] )
    {
      ++v3;
      v5 += 2;
      if ( v3 >= result )
        goto LABEL_6;
    }
  }
  v6 = *(_DWORD *)(a1 + 12);
  v7 = *(_DWORD *)(a1 + 16);
  v8 = 0;
  v14 = *(_DWORD *)(a1 + 12);
  v15 = *(_DWORD *)(a1 + 16);
  if ( result > 0 )
  {
    v9 = (_DWORD *)(a2 + 8);
    do
    {
      v13 -= 42;
      sub_434560(1);
      sub_434580(v13);
      *(_DWORD *)(a1 + 12) = *v9;
      *(_DWORD *)(a1 + 16) = v9[1];
      (*(void (__cdecl **)(int, int))(a1 + 300))(a3, a1);
      ++v8;
      v9 += 2;
    }
    while ( v8 < *(unsigned __int8 *)(a2 + 56) );
    v7 = v15;
    v6 = v14;
  }
  v10 = *(unsigned __int8 *)(a2 + 56);
  if ( v10 > 0 )
  {
    v11 = (_DWORD *)(a2 + 8 * v10);
    do
    {
      v11[2] = *v11;
      v11[3] = v11[1];
      v11 -= 2;
      --v10;
    }
    while ( v10 );
  }
  *(_DWORD *)(a1 + 12) = v6;
  *(_DWORD *)(a1 + 16) = v7;
  v12 = *(_BYTE *)(a2 + 56);
  *(_DWORD *)(a2 + 8) = v6;
  *(_DWORD *)(a2 + 12) = v7;
  if ( v12 != 5 )
    *(_BYTE *)(a2 + 56) = v12 + 1;
  return sub_434560(0);
}

//----- (00495D00) --------------------------------------------------------
int __cdecl sub_495D00(_DWORD *a1, int a2, _DWORD *a3)
{
  int v3; // eax
  int v4; // ecx
  _DWORD *v5; // edx
  _DWORD *v6; // ebp
  int result; // eax
  _DWORD *v8; // edi
  int v9; // ebx
  int v10; // esi
  int v11; // ebx
  int v12; // ecx
  int v13; // esi
  int v14; // ebp
  int v15; // esi
  int v16; // ebp
  int v17; // eax
  bool v18; // cc
  int v19; // edx
  _DWORD *v20; // eax
  char v21; // al
  float v22; // [esp+0h] [ebp-2Ch]
  float v23; // [esp+0h] [ebp-2Ch]
  float v24; // [esp+0h] [ebp-2Ch]
  float v25; // [esp+0h] [ebp-2Ch]
  unsigned __int8 v26; // [esp+14h] [ebp-18h]
  int v27; // [esp+18h] [ebp-14h]
  float *v28; // [esp+1Ch] [ebp-10h]
  float *v29; // [esp+20h] [ebp-Ch]
  int v30; // [esp+28h] [ebp-4h]
  int v31; // [esp+28h] [ebp-4h]
  _DWORD *v32; // [esp+38h] [ebp+Ch]

  v3 = 0;
  v4 = *(unsigned __int8 *)(a2 + 56);
  v26 = -1;
  if ( v4 <= 0 )
  {
LABEL_6:
    v6 = a1;
    if ( a1[3] == a1[8] )
    {
      result = a1[9];
      if ( a1[4] == result )
      {
        *(_BYTE *)(a2 + 56) = 0;
        return result;
      }
    }
  }
  else
  {
    v5 = (_DWORD *)(a2 + 8);
    while ( *v5 == v5[2] || v5[1] == v5[3] )
    {
      ++v3;
      v5 += 2;
      if ( v3 >= v4 )
        goto LABEL_6;
    }
    v6 = a1;
  }
  v8 = a3;
  v9 = v6[3] + *a3 - a3[4];
  v10 = 8 * v6[77];
  v30 = v6[4] - *((__int16 *)v6 + 52) - *((__int16 *)v6 + 53) - a3[5] + a3[1] - 10;
  v28 = (float *)&byte_587000[64 * v6[77] + 194136];
  v22 = *(float *)&byte_587000[64 * v6[77] + 194136] * -12.0;
  v11 = sub_419A70(v22) + v9;
  v29 = (float *)&byte_587000[8 * v10 + 194140];
  v23 = *(float *)&byte_587000[8 * v10 + 194140] * -12.0;
  v27 = 0;
  v31 = sub_419A70(v23) + v30;
  v12 = a2;
  if ( *(_BYTE *)(a2 + 56) )
  {
    v32 = (_DWORD *)(a2 + 12);
    do
    {
      v26 -= 63;
      sub_434560(1);
      sub_434580(v26);
      v13 = *v8 + *(v32 - 1) - v8[4];
      v14 = *v32 - *((__int16 *)v6 + 52) - *((__int16 *)v6 + 53) - v8[5] + v8[1] - 10;
      v24 = *v28 * -12.0;
      v15 = sub_419A70(v24) + v13;
      v25 = *v29 * -12.0;
      v16 = sub_419A70(v25) + v14;
      v17 = sub_4344A0(200, 200, 200);
      sub_434460(v17);
      sub_49F500(v11, v31);
      sub_49F500(v15, v16);
      sub_49E4B0();
      v12 = a2;
      v32 += 2;
      v31 = v16;
      v6 = a1;
      v18 = v27 + 1 < *(unsigned __int8 *)(a2 + 56);
      v11 = v15;
      ++v27;
    }
    while ( v18 );
  }
  v19 = *(unsigned __int8 *)(v12 + 56);
  if ( v19 > 0 )
  {
    v20 = (_DWORD *)(v12 + 8 * v19);
    do
    {
      v20[2] = *v20;
      v20[3] = v20[1];
      v20 -= 2;
      --v19;
    }
    while ( v19 );
  }
  *(_DWORD *)(v12 + 8) = v6[3];
  *(_DWORD *)(v12 + 12) = v6[4];
  v21 = *(_BYTE *)(v12 + 56);
  if ( v21 != 5 )
    *(_BYTE *)(v12 + 56) = v21 + 1;
  return sub_434560(0);
}

//----- (00495F30) --------------------------------------------------------
void __cdecl sub_495F30(int a1, int a2)
{
  _DWORD *v2; // esi

  v2 = *(_DWORD **)(a1 + 456);
  if ( v2 )
  {
    while ( *v2 != a2 )
    {
      v2 = (_DWORD *)v2[16];
      if ( !v2 )
        return;
    }
    sub_495B50(v2);
    sub_414330(*(unsigned int **)&byte_5D4594[1203868], v2);
  }
}

//----- (00495F70) --------------------------------------------------------
void __cdecl sub_495F70(int a1)
{
  _DWORD *v1; // eax

  if ( a1 && sub_496020(a1, 1) != 1 )
  {
    v1 = sub_4142F0(*(_DWORD **)&byte_5D4594[1203868]);
    if ( v1 )
    {
      *v1 = 1;
      v1[1] = 0;
      sub_495FC0(v1, a1);
    }
  }
}

//----- (00495FC0) --------------------------------------------------------
_DWORD *__cdecl sub_495FC0(_DWORD *a1, int a2)
{
  _DWORD *result; // eax
  int v3; // edx

  result = a1;
  if ( a1 && a2 )
  {
    a1[15] = a2;
    a1[18] = *(_DWORD *)&byte_5D4594[1203872];
    a1[19] = 0;
    if ( *(_DWORD *)&byte_5D4594[1203872] )
      *(_DWORD *)(*(_DWORD *)&byte_5D4594[1203872] + 76) = a1;
    *(_DWORD *)&byte_5D4594[1203872] = a1;
    a1[16] = *(_DWORD *)(a2 + 456);
    a1[17] = 0;
    v3 = *(_DWORD *)(a2 + 456);
    if ( v3 )
      *(_DWORD *)(v3 + 68) = a1;
    *(_DWORD *)(a2 + 456) = a1;
  }
  return result;
}

//----- (00496020) --------------------------------------------------------
int __cdecl sub_496020(int a1, int a2)
{
  _DWORD *v2; // eax

  v2 = *(_DWORD **)(a1 + 456);
  if ( !v2 )
    return 0;
  while ( *v2 != a2 )
  {
    v2 = (_DWORD *)v2[16];
    if ( !v2 )
      return 0;
  }
  return 1;
}

//----- (00496050) --------------------------------------------------------
void __cdecl sub_496050(int a1)
{
  _DWORD *v1; // eax
  int v2; // ecx

  if ( a1 && sub_496020(a1, 2) != 1 )
  {
    v1 = sub_4142F0(*(_DWORD **)&byte_5D4594[1203868]);
    if ( v1 )
    {
      *v1 = 2;
      v2 = *((unsigned __int8 *)v1 + 56);
      v1[1] = 0;
      v1[2 * v2 + 2] = *(_DWORD *)(a1 + 12);
      v1[2 * v2 + 3] = *(_DWORD *)(a1 + 16);
      ++*((_BYTE *)v1 + 56);
      sub_495FC0(v1, a1);
    }
  }
}

//----- (004960B0) --------------------------------------------------------
int sub_4960B0()
{
  int result; // eax

  result = (int)malloc(4 * (4 * *(int *)&byte_5D4594[3805496] / 23 * (*(int *)&byte_5D4594[3807120] / 23) / 2));
  *(_DWORD *)&byte_5D4594[1217456] = result;
  if ( result )
  {
    sub_4CA860();
    result = 1;
  }
  return result;
}

//----- (00496120) --------------------------------------------------------
int sub_496120()
{
  if ( *(_DWORD *)&byte_5D4594[1217456] )
  {
    free(*(LPVOID *)&byte_5D4594[1217456]);
    *(_DWORD *)&byte_5D4594[1217456] = 0;
  }
  return 1;
}

//----- (00496150) --------------------------------------------------------
int __cdecl sub_496150(int *a1)
{
  int v1; // esi
  int v2; // ecx
  int v3; // ebx
  int v4; // ebp
  int v5; // ebx
  int v6; // esi
  int v7; // eax
  int v8; // ebp
  unsigned __int8 *v9; // esi
  unsigned __int8 v10; // dl
  int v11; // ecx
  unsigned __int8 v12; // al
  unsigned __int8 v13; // al
  int v14; // edx
  unsigned __int8 v15; // al
  unsigned __int8 *v16; // esi
  bool v17; // zf
  int v18; // ebp
  int v19; // esi
  int v20; // ebx
  int v21; // ebp
  int v22; // eax
  int v23; // ecx
  char v24; // al
  int v25; // ebp
  int v26; // edx
  int v27; // ecx
  int v28; // ebp
  int v29; // eax
  int v30; // ebp
  int v31; // edx
  int v32; // ecx
  int v33; // ecx
  int v34; // ebp
  double v35; // st7
  int v36; // ebx
  int v37; // ebx
  int v38; // ecx
  int v39; // ebp
  int v40; // ebx
  int v41; // ebx
  int v42; // ebx
  double v43; // st7
  double v44; // st7
  int v45; // ebx
  int v46; // ebx
  int v47; // ebx
  int v48; // edx
  int v49; // ecx
  int v50; // edx
  int v51; // ebx
  int v52; // ebx
  int v53; // esi
  int v54; // eax
  unsigned __int8 v55; // cl
  unsigned __int8 v56; // dl
  int v57; // ecx
  int v58; // edi
  int v59; // ebp
  int v60; // ecx
  int v61; // ecx
  int v62; // ecx
  int v63; // ecx
  int v64; // ebp
  int v65; // ecx
  int v66; // ecx
  int v68; // [esp+4h] [ebp-8Ch]
  int v69; // [esp+18h] [ebp-78h]
  int v70; // [esp+1Ch] [ebp-74h]
  int v71; // [esp+20h] [ebp-70h]
  int v72; // [esp+20h] [ebp-70h]
  unsigned int v73; // [esp+28h] [ebp-68h]
  int v74; // [esp+2Ch] [ebp-64h]
  int v75; // [esp+30h] [ebp-60h]
  int v76; // [esp+34h] [ebp-5Ch]
  float2 a4; // [esp+38h] [ebp-58h]
  float2 v78; // [esp+40h] [ebp-50h]
  int v79; // [esp+48h] [ebp-48h]
  int v80; // [esp+4Ch] [ebp-44h]
  int2 a1a; // [esp+50h] [ebp-40h]
  int2 a2; // [esp+58h] [ebp-38h]
  float4 v83; // [esp+60h] [ebp-30h]
  float4 a3; // [esp+70h] [ebp-20h]
  float4 v86; // [esp+80h] [ebp-10h]

  sub_4CAE60();
  *(_DWORD *)&byte_5D4594[1217464] = 0;
  *(_DWORD *)&byte_5D4594[1217460] = 0;
  v1 = a1[4];
  v2 = a1[5];
  v3 = a1[8];
  v79 = v1 / 23;
  v80 = v2 / 23;
  v74 = (v3 + v1) / 23 - v1 / 23;
  v4 = (a1[9] + v2) / 23 - v2 / 23;
  *(_DWORD *)&byte_5D4594[1217444] = v1 + v3 / 2;
  *(_DWORD *)&byte_5D4594[1217448] = a1[5] + a1[12] + a1[9] / 2;
  sub_498030(a1);
  sub_497260(a1);
  if ( v4 < 0 )
    goto LABEL_32;
  v5 = v80;
  v6 = v74;
  v71 = v80;
  v70 = 23 * v80;
  v75 = v4 + 1;
  do
  {
    v7 = ((_BYTE)v5 + (_BYTE)v79) & 1;
    if ( v7 > v6 )
      goto LABEL_31;
    v8 = v7 + v79;
    v69 = 23 * (v7 + v79);
    v73 = (unsigned int)(v6 - v7 + 2) >> 1;
    do
    {
      v9 = (unsigned __int8 *)sub_410580(v8, v5);
      if ( v9 )
      {
        v10 = (unsigned char)sub_57B500(v8, v5, 64);
        if ( v10 != 255 )
        {
          v11 = v9[1];
          v12 = v9[4];
          if ( byte_5D4594[12332 * v11 + 2692780] & 1 )
          {
            if ( v12 & 0x40 )
            {
              if ( (*(int *)&byte_5D4594[1217444] - v69 - 11) * (*(int *)&byte_5D4594[1217444] - v69 - 11)
                 + (*(int *)&byte_5D4594[1217448] - v70 - 11) * (*(int *)&byte_5D4594[1217448] - v70 - 11) < 3600 )
              {
                v5 = v71;
                v9[4] = v12 | 1;
                goto LABEL_29;
              }
              v5 = v71;
            }
            if ( v10 )
            {
              if ( v10 == 1 )
              {
                sub_497C40(v8, v5, 6);
              }
              else
              {
                v16 = &byte_587000[v10 + 161764];
                if ( byte_587000[v10 + 161764] & 2 )
                  sub_497C40(v8, v5, 2);
                if ( *v16 & 1 )
                  sub_497C40(v8, v5, 1);
                if ( *v16 & 8 )
                  sub_497C40(v8, v5, 8);
                if ( *v16 & 4 )
                  sub_497C40(v8, v5, 4);
              }
            }
            else
            {
              sub_497C40(v8, v5, 9);
            }
          }
          else
          {
            v13 = v12 | 1;
            v14 = v9[6];
            v9[4] = v13;
            if ( 23 * v14 <= *(int *)&byte_5D4594[1217448] )
              v15 = v13 & 0xFD;
            else
              v15 = v13 | 2;
            v9[4] = v15;
            if ( byte_5D4594[12332 * v11 + 2692780] & 4 )
              sub_4754C0((int)v9);
          }
        }
      }
LABEL_29:
      v8 += 2;
      v17 = v73 == 1;
      v69 += 46;
      --v73;
    }
    while ( !v17 );
    v6 = v74;
LABEL_31:
    ++v5;
    v17 = v75 == 1;
    v70 += 23;
    v71 = v5;
    --v75;
  }
  while ( !v17 );
LABEL_32:
  sub_498110();
  v72 = 0;
  a3.field_0 = (double)*(int *)&byte_5D4594[1217444];
  a3.field_4 = (double)*(int *)&byte_5D4594[1217448];
  if ( *(int *)&byte_5D4594[1217460] <= 0 )
  {
    v51 = *(_DWORD *)&byte_5D4594[1217464];
  }
  else
  {
    do
    {
      v18 = 0;
      v19 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1217456] + 4 * v72);
      switch ( *(unsigned __int8 *)(v19 + 56) )
      {
        case 0u:
          v20 = 25736 * *(int *)(v19 + 40) / 75000;
          a3.field_8 = (double)(int)(*(_DWORD *)&byte_5D4594[1217444] + sub_414BD0(6434 - v20));
          a3.field_C = (double)(int)(*(_DWORD *)&byte_5D4594[1217448] + sub_414BD0(v20));
          sub_4CA960((_DWORD *)(v19 + 24), *(_BYTE *)(v19 + 36), &a3, &a4);
          v21 = 25736 * *(int *)(v19 + 44) / 75000;
          a3.field_8 = (double)(int)(*(_DWORD *)&byte_5D4594[1217444] + sub_414BD0(6434 - v21));
          a3.field_C = (double)(int)(*(_DWORD *)&byte_5D4594[1217448] + sub_414BD0(v21));
          sub_4CA960((_DWORD *)(v19 + 24), *(_BYTE *)(v19 + 36), &a3, &v78);
          v22 = sub_410580(*(_DWORD *)(v19 + 24), *(_DWORD *)(v19 + 28));
          v23 = v22;
          LOBYTE(v22) = *(_BYTE *)(v22 + 4);
          *(_DWORD *)(v23 + 12) = 1;
          v24 = v22 | 1;
          *(_BYTE *)(v23 + 4) = v24;
          if ( v78.field_0 < (double)a4.field_0 )
            *(_BYTE *)(v23 + 4) = v24 | 2;
          *(_BYTE *)(v23 + 3) |= *(_BYTE *)(v19 + 36);
          v18 = *(_DWORD *)(v19 + 24) + (*(_DWORD *)(v19 + 28) << 8);
          break;
        case 1u:
          a4.field_0 = (double)(*(int *)&byte_5D4594[1217444]
                              + sub_414C50(25736 * *(int *)(v19 + 40) / 75000 - 19302) * (a1[9] / 2) / 4096);
          a4.field_4 = (double)a1[5];
          v18 = 0;
          v78.field_0 = (double)(*(int *)&byte_5D4594[1217444]
                               + sub_414C50(25736 * *(int *)(v19 + 44) / 75000 - 19302) * (a1[9] / 2) / 4096);
          v78.field_4 = (double)a1[5];
          break;
        case 2u:
          v25 = a1[9];
          v26 = *(_DWORD *)&byte_5D4594[1217444]
              - sub_414C50(25736 * *(int *)(v19 + 40) / 75000 - 6434) * (v25 / 2) / 4096;
          v27 = a1[5] + v25 - 1;
          v28 = a1[9];
          a4.field_0 = (double)v26;
          a4.field_4 = (double)v27;
          v29 = sub_414C50(25736 * *(int *)(v19 + 44) / 75000 - 6434);
          v76 = a1[5] + v28 - 1;
          v78.field_0 = (double)(*(int *)&byte_5D4594[1217444] - v29 * (v28 / 2) / 4096);
          v78.field_4 = (double)v76;
          v18 = 0;
          break;
        case 3u:
          v32 = 25736 * *(_DWORD *)(v19 + 40);
          a4.field_0 = (double)a1[4];
          a4.field_4 = (double)(*(int *)&byte_5D4594[1217448] - sub_414C50(v32 / 75000 - 12868) * (a1[8] / 2) / 4096);
          v33 = 25736 * *(_DWORD *)(v19 + 44);
          v78.field_0 = (double)a1[4];
          v18 = 0;
          v78.field_4 = (double)(*(int *)&byte_5D4594[1217448] - sub_414C50(v33 / 75000 - 12868) * (a1[8] / 2) / 4096);
          break;
        case 4u:
          v30 = a1[8];
          v68 = 25736 * *(int *)(v19 + 40) / 75000;
          a4.field_0 = (double)(int)(a1[8] + a1[4] - 1);
          a4.field_4 = (double)(int)(*(_DWORD *)&byte_5D4594[1217448] + sub_414C50(v68) * (v30 / 2) / 4096);
          v31 = 25736 * *(int *)(v19 + 44) / 75000;
          v78.field_0 = (double)(int)(a1[4] + v30 - 1);
          v78.field_4 = (double)(int)(*(_DWORD *)&byte_5D4594[1217448] + sub_414C50(v31) * (a1[8] / 2) / 4096);
          v18 = 0;
          break;
        case 6u:
          v34 = *(_DWORD *)(v19 + 20);
          v35 = (double)*(int *)(v34 + 12);
          *(_DWORD *)(v34 + 132) = 1;
          v86.field_0 = v35;
          v86.field_4 = (double)*(int *)(v34 + 16);
          v86.field_8 = (double)(*(int *)(v34 + 12)
                               + *(int *)&byte_587000[8 * *(unsigned __int8 *)(v34 + 299) + 196184]);
          v86.field_C = (double)(*(int *)(v34 + 16)
                               + *(int *)&byte_587000[8 * *(unsigned __int8 *)(v34 + 299) + 196188]);
          v36 = 25736 * *(int *)(v19 + 40) / 75000;
          a3.field_8 = (double)(*(int *)&byte_5D4594[1217444] + sub_414BD0(6434 - v36));
          a3.field_C = (double)(*(int *)&byte_5D4594[1217448] + sub_414BD0(v36));
          if ( !sub_497180(&a3.field_0, &v86.field_0, &a4.field_0) )
            a4 = *(float2*)&v86.field_0;
          v37 = 25736 * *(int *)(v19 + 44) / 75000;
          a3.field_8 = (double)(*(int *)&byte_5D4594[1217444] + sub_414BD0(6434 - v37));
          a3.field_C = (double)(*(int *)&byte_5D4594[1217448] + sub_414BD0(v37));
          if ( !sub_497180(&a3.field_0, &v86.field_0, &v78.field_0) )
            v78 = *(float2*)&v86.field_8;
          v18 = *(_DWORD *)(v34 + 128);
          break;
        case 7u:
          *(_DWORD *)(*(_DWORD *)(v19 + 20) + 132) = 1;
          v38 = *(_DWORD *)(v19 + 20);
          v39 = *(_DWORD *)&byte_5D4594[1217444] - *(_DWORD *)(v38 + 12);
          v40 = *(_DWORD *)(v38 + 16) - *(_DWORD *)&byte_5D4594[1217448];
          sub_419B10(sqrt((double)*(int *)(v19 + 32)));
          v83.field_0 = (double)(int)(v40 + *(int *)(*(_DWORD *)(v19 + 20) + 12));
          v83.field_4 = (double)(int)(v39 + *(int *)(*(_DWORD *)(v19 + 20) + 16));
          v83.field_8 = (double)(int)(*(int *)(*(_DWORD *)(v19 + 20) + 12) - v40);
          v83.field_C = (double)(int)(*(int *)(*(_DWORD *)(v19 + 20) + 16) - v39);
          v41 = 25736 * *(int *)(v19 + 40) / 75000;
          a3.field_8 = (double)(int)(*(int *)&byte_5D4594[1217444] + sub_414BD0(6434 - v41));
          a3.field_C = (double)(int)(*(int *)&byte_5D4594[1217448] + sub_414BD0(v41));
          if ( !sub_497180(&a3.field_0, &v83.field_0, &a4.field_0) )
            a4 = *(float2*)&v83;
          v42 = 25736 * *(int *)(v19 + 44) / 75000;
          a3.field_8 = (double)(int)(*(int *)&byte_5D4594[1217444] + sub_414BD0(6434 - v42));
          a3.field_C = (double)(int)(*(int *)&byte_5D4594[1217448] + sub_414BD0(v42));
          if ( sub_497180(&a3.field_0, &v83.field_0, &v78.field_0) )
            goto LABEL_63;
          goto LABEL_62;
        case 8u:
        case 9u:
        case 0xAu:
        case 0xBu:
        case 0xDu:
        case 0xEu:
          *(_DWORD *)(*(_DWORD *)(v19 + 20) + 132) = 1;
          switch ( *(unsigned __int8 *)(v19 + 56) )
          {
            case 8u:
              v83.field_0 = (double)*(int *)(*(int *)(v19 + 20) + 12) + *(float *)(*(_DWORD *)(v19 + 20) + 64);
              v83.field_4 = (double)*(int *)(*(int *)(v19 + 20) + 16) + *(float *)(*(_DWORD *)(v19 + 20) + 68);
              v83.field_8 = (double)*(int *)(*(int *)(v19 + 20) + 12) + *(float *)(*(_DWORD *)(v19 + 20) + 72);
              v43 = (double)*(int *)(*(int *)(v19 + 20) + 16) + *(float *)(*(_DWORD *)(v19 + 20) + 76);
              goto LABEL_58;
            case 9u:
              v83.field_0 = (double)*(int *)(*(int *)(v19 + 20) + 12) + *(float *)(*(_DWORD *)(v19 + 20) + 64);
              v44 = (double)*(int *)(*(int *)(v19 + 20) + 16) + *(float *)(*(_DWORD *)(v19 + 20) + 68);
              goto LABEL_57;
            case 0xAu:
              v83.field_0 = (double)*(int *)(*(int *)(v19 + 20) + 12) + *(float *)(*(_DWORD *)(v19 + 20) + 88);
              v83.field_4 = (double)*(int *)(*(int *)(v19 + 20) + 16) + *(float *)(*(_DWORD *)(v19 + 20) + 92);
              v83.field_8 = (double)*(int *)(*(int *)(v19 + 20) + 12) + *(float *)(*(_DWORD *)(v19 + 20) + 72);
              v43 = (double)*(int *)(*(int *)(v19 + 20) + 16) + *(float *)(*(_DWORD *)(v19 + 20) + 76);
              goto LABEL_58;
            case 0xBu:
              v83.field_0 = (double)*(int *)(*(int *)(v19 + 20) + 12) + *(float *)(*(_DWORD *)(v19 + 20) + 88);
              v44 = (double)*(int *)(*(int *)(v19 + 20) + 16) + *(float *)(*(_DWORD *)(v19 + 20) + 92);
              goto LABEL_57;
            case 0xDu:
              v83.field_0 = (double)*(int *)(*(int *)(v19 + 20) + 12) + *(float *)(*(_DWORD *)(v19 + 20) + 64);
              v83.field_4 = (double)*(int *)(*(int *)(v19 + 20) + 16) + *(float *)(*(_DWORD *)(v19 + 20) + 68);
              v83.field_8 = (double)*(int *)(*(int *)(v19 + 20) + 12) + *(float *)(*(_DWORD *)(v19 + 20) + 88);
              v43 = (double)*(int *)(*(int *)(v19 + 20) + 16) + *(float *)(*(_DWORD *)(v19 + 20) + 92);
              goto LABEL_58;
            case 0xEu:
              v83.field_0 = (double)*(int *)(*(_DWORD *)(v19 + 20) + 12) + *(float *)(*(_DWORD *)(v19 + 20) + 72);
              v44 = (double)*(int *)(*(_DWORD *)(v19 + 20) + 16) + *(float *)(*(_DWORD *)(v19 + 20) + 76);
LABEL_57:
              v83.field_4 = v44;
              v83.field_8 = (double)*(int *)(*(int *)(v19 + 20) + 12) + *(float *)(*(_DWORD *)(v19 + 20) + 80);
              v43 = (double)*(int *)(*(int *)(v19 + 20) + 16) + *(float *)(*(_DWORD *)(v19 + 20) + 84);
LABEL_58:
              v83.field_C = v43;
              break;
            default:
              break;
          }
          v45 = 25736 * *(int *)(v19 + 40) / 75000;
          a3.field_8 = (double)(int)(*(int *)&byte_5D4594[1217444] + sub_414BD0(6434 - v45));
          a3.field_C = (double)(int)(*(int *)&byte_5D4594[1217448] + sub_414BD0(v45));
          if ( !sub_497180(&a3.field_0, &v83.field_0, &a4.field_0) )
            a4 = *(float2*)&v83.field_0;
          v46 = 25736 * *(int *)(v19 + 44) / 75000;
          a3.field_8 = (double)(int)(*(int *)&byte_5D4594[1217444] + sub_414BD0(6434 - v46));
          a3.field_C = (double)(int)(*(int *)&byte_5D4594[1217448] + sub_414BD0(v46));
          if ( !sub_497180(&a3.field_0, &v83.field_0, &v78.field_0) )
LABEL_62:
            v78 = *(float2*)&v83.field_8;
LABEL_63:
          v18 = *(_DWORD *)(*(_DWORD *)(v19 + 20) + 128);
          break;
        default:
          break;
      }
      a1a.field_0 = *a1 - a1[4] + sub_419A70(a4.field_0);
      a1a.field_4 = a1[1] - a1[5] + sub_419A70(a4.field_4);
      a2.field_0 = *a1 - a1[4] + sub_419A70(v78.field_0);
      a2.field_4 = a1[1] - a1[5] + sub_419A70(v78.field_4);
	  //dprintf("%d\t%d\t%d %d %d %d", v72, *(unsigned __int8 *)(v19 + 56), a1a.field_0, a1a.field_4, a2.field_0, a2.field_4);
      if ( sub_57BA30(&a1a, &a2, (int4 *)a1) )
      {
        v47 = *(_DWORD *)&byte_5D4594[1217464];
        v48 = a1a.field_4;
        *(_DWORD *)&byte_5D4594[8 * *(_DWORD *)&byte_5D4594[1217464] + 1203876] = a1a.field_0;
        v49 = a2.field_0;
        *(_DWORD *)&byte_5D4594[8 * v47 + 1203880] = v48;
        v50 = a2.field_4;
        *(_DWORD *)&byte_5D4594[4 * v47 + 1213348] = v18;
        byte_5D4594[v47++ + 1212324] = *(_BYTE *)(v19 + 56);
        *(_DWORD *)&byte_5D4594[1217464] = v47;
        *(_DWORD *)&byte_5D4594[8 * v47 + 1203876] = v49;
        *(_DWORD *)&byte_5D4594[8 * v47 + 1203880] = v50;
        *(_DWORD *)&byte_5D4594[4 * v47 + 1213348] = v18;
        byte_5D4594[v47 + 1212324] = *(_BYTE *)(v19 + 56);
        v51 = v47 + 1;
        *(_DWORD *)&byte_5D4594[1217464] = v51;
      }
      else
      {
        v51 = *(_DWORD *)&byte_5D4594[1217464];
      }
      ++v72;
    }
    while ( v72 < *(int *)&byte_5D4594[1217460] );
  }
  v52 = v51 - 1;
  v53 = 0;
  *(_DWORD *)&byte_5D4594[1217464] = v52;
  v54 = v52 - 1;
  while ( v53 < v52 )
  {
    v55 = byte_5D4594[v54 + 1212324];
    if ( v55 )
    {
      v56 = byte_5D4594[v53 + 1212324];
      if ( !v56 )
        goto LABEL_89;
      if ( v56 != v55 )
        goto LABEL_99;
      if ( *(_DWORD *)&byte_5D4594[4 * v53 + 1213348] != *(_DWORD *)&byte_5D4594[4 * v54 + 1213348] )
      {
        v57 = *(_DWORD *)&byte_5D4594[8 * v54 + 1203876];
        v58 = *(_DWORD *)&byte_5D4594[8 * v53 + 1203876] - v57;
        if ( v58 < 0 )
        {
          v59 = v57 - *(_DWORD *)&byte_5D4594[8 * v53 + 1203876];
LABEL_83:
          v61 = *(_DWORD *)&byte_5D4594[8 * v54 + 1203880];
          if ( *(int *)&byte_5D4594[8 * v53 + 1203880] - v61 >= 0 )
            v62 = *(_DWORD *)&byte_5D4594[8 * v53 + 1203880] - v61;
          else
            v62 = v61 - *(_DWORD *)&byte_5D4594[8 * v53 + 1203880];
          if ( v59 <= 4 && v62 <= 4 )
            goto LABEL_100;
LABEL_99:
          byte_5D4594[v54 + 1212324] = 12;
          goto LABEL_100;
        }
LABEL_82:
        v59 = v58;
        goto LABEL_83;
      }
    }
    else
    {
      if ( byte_5D4594[v53 + 1212324] )
      {
LABEL_89:
        if ( v55 == 6 || byte_5D4594[v53 + 1212324] == 6 )
        {
          v63 = *(_DWORD *)&byte_5D4594[8 * v54 + 1203876];
          v64 = *(int *)&byte_5D4594[8 * v53 + 1203876] - v63 >= 0 ? *(_DWORD *)&byte_5D4594[8 * v53 + 1203876] - v63 : v63 - *(_DWORD *)&byte_5D4594[8 * v53 + 1203876];
          v65 = *(_DWORD *)&byte_5D4594[8 * v54 + 1203880];
          v66 = *(int *)&byte_5D4594[8 * v53 + 1203880] - v65 >= 0 ? *(_DWORD *)&byte_5D4594[8 * v53 + 1203880] - v65 : v65 - *(_DWORD *)&byte_5D4594[8 * v53 + 1203880];
          if ( v64 <= 4 && v66 <= 4 )
            goto LABEL_100;
        }
        goto LABEL_99;
      }
      if ( *(_DWORD *)&byte_5D4594[4 * v54 + 1213348] != *(_DWORD *)&byte_5D4594[4 * v53 + 1213348] )
      {
        v60 = *(_DWORD *)&byte_5D4594[8 * v54 + 1203876];
        v58 = *(_DWORD *)&byte_5D4594[8 * v53 + 1203876] - v60;
        if ( v58 < 0 )
        {
          v59 = v60 - *(_DWORD *)&byte_5D4594[8 * v53 + 1203876];
          goto LABEL_83;
        }
        goto LABEL_82;
      }
    }
LABEL_100:
    v54 = v53++;
  }
  sub_4989A0();
  return sub_4C52E0((int *)&byte_5D4594[1203876], *(int *)&byte_5D4594[1217464]);
}

//----- (00497180) --------------------------------------------------------
int __cdecl sub_497180(float *a1, float *a2, float *a3)
{
  double v3; // st7
  double v4; // st6
  float v5; // ecx
  double v6; // st5
  float v7; // eax
  float v8; // eax
  int result; // eax
  float v10; // [esp+4h] [ebp-1Ch]
  float v11; // [esp+8h] [ebp-18h]
  float v12; // [esp+14h] [ebp-Ch]

  if ( *a1 >= (double)a1[2] )
  {
    v3 = a1[2];
    v4 = *a1;
  }
  else
  {
    v3 = *a1;
    v4 = a1[2];
  }
  if ( a1[1] >= (double)a1[3] )
  {
    v5 = a1[1];
    v12 = a1[3];
  }
  else
  {
    v5 = a1[3];
    v12 = a1[1];
  }
  if ( *a2 >= (double)a2[2] )
  {
    v6 = a2[2];
    v7 = *a2;
  }
  else
  {
    v6 = *a2;
    v7 = a2[2];
  }
  v11 = v7;
  if ( a2[1] >= (double)a2[3] )
  {
    v10 = a2[3];
    v8 = a2[1];
  }
  else
  {
    v10 = a2[1];
    v8 = a2[3];
  }
  if ( v6 > v4 || v11 < v3 || v10 > (double)v5 || v8 < (double)v12 )
    result = 0;
  else
    result = sub_4278B0(a1, a2, a3);
  return result;
}

//----- (00497260) --------------------------------------------------------
int __cdecl sub_497260(int *a1)
{
  int result; // eax
  int v2; // esi
  int *v3; // edi
  double v4; // st7
  double v5; // st6
  int v6; // eax
  double v7; // st7
  double v8; // st6
  double v9; // st7
  double v10; // st6
  float v11; // [esp+Ch] [ebp-Ch]
  float v12; // [esp+Ch] [ebp-Ch]
  float v13; // [esp+Ch] [ebp-Ch]
  float v14; // [esp+10h] [ebp-8h]
  float v15; // [esp+10h] [ebp-8h]
  float v16; // [esp+10h] [ebp-8h]
  float v17; // [esp+14h] [ebp-4h]
  float v18; // [esp+14h] [ebp-4h]
  float v19; // [esp+14h] [ebp-4h]
  float v20; // [esp+1Ch] [ebp+4h]
  float v21; // [esp+1Ch] [ebp+4h]
  float v22; // [esp+1Ch] [ebp+4h]

  result = sub_45A030();
  v2 = result;
  if ( result )
  {
    v3 = a1;
    do
    {
      *(_DWORD *)(v2 + 132) = 0;
      if ( !sub_4356C0(v2, 0) )
      {
        if ( *(char *)(v2 + 112) >= 0 )
        {
          v6 = *(_DWORD *)(v2 + 44);
          if ( v6 == 2 )
          {
            v7 = (double)*(int *)(v2 + 12);
            v8 = (double)*(int *)(v2 + 16);
            if ( v7 - *(float *)(v2 + 48) < (double)(v3[4] + v3[8]) )
            {
              v21 = v7;
              v15 = v21 + *(float *)(v2 + 48);
              if ( (double)v3[4] < v15 )
              {
                v12 = v8 - *(float *)(v2 + 48);
                if ( (double)(v3[5] + v3[9]) > v12 )
                {
                  v18 = v8 + *(float *)(v2 + 48);
                  if ( (double)v3[5] < v18 )
                    sub_497650(*(float *)&v2);
                }
              }
            }
          }
          else if ( v6 == 3 )
          {
            v9 = (double)*(int *)(v2 + 12);
            v10 = (double)*(int *)(v2 + 16);
            if ( v9 + *(float *)(v2 + 72) < (double)(v3[4] + v3[8]) )
            {
              v22 = v9;
              v16 = v22 + *(float *)(v2 + 80);
              if ( (double)v3[4] < v16 )
              {
                v13 = v10 + *(float *)(v2 + 68);
                if ( (double)(v3[5] + v3[9]) > v13 )
                {
                  v19 = v10 + *(float *)(v2 + 92);
                  if ( (double)v3[5] < v19 )
                    sub_4977C0(v2);
                }
              }
            }
          }
        }
        else
        {
          v4 = (double)*(int *)(v2 + 12);
          v5 = (double)*(int *)(v2 + 16);
          if ( v4 - 32.0 < (double)(v3[4] + v3[8]) )
          {
            v20 = v4;
            v14 = v20 + 32.0;
            if ( (double)v3[4] < v14 )
            {
              v11 = v5 - 32.0;
              if ( (double)(v3[5] + v3[9]) > v11 )
              {
                v17 = v5 + 32.0;
                if ( (double)v3[5] < v17 )
                  sub_4974B0(v2);
              }
            }
          }
        }
      }
      result = sub_45A040(v2);
      v2 = result;
    }
    while ( result );
  }
  return result;
}

//----- (004974B0) --------------------------------------------------------
void __cdecl sub_4974B0(int a1)
{
  int v1; // edi
  int v2; // esi
  int v3; // ecx
  double v4; // st7
  int v5; // eax
  int v6; // eax
  int v7; // eax
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // eax
  int v12; // ecx
  int v13; // eax
  float v14; // [esp+0h] [ebp-14h]
  int v15; // [esp+18h] [ebp+4h]

  v1 = a1;
  if ( !(*(_BYTE *)(a1 + 116) & 4) )
  {
    v2 = sub_4CADD0();
    *(_BYTE *)(v2 + 48) = 1;
    *(_BYTE *)(v2 + 56) = 6;
    *(_DWORD *)(v2 + 20) = a1;
    v3 = 8 * *(unsigned __int8 *)(a1 + 299);
    v4 = (double)(int)(*(_DWORD *)&byte_5D4594[1217444] - *(int *)&byte_587000[v3 + 196184] / 2 - *(_DWORD *)(a1 + 12));
    v15 = *(_DWORD *)&byte_5D4594[1217448] - *(int *)&byte_587000[v3 + 196188] / 2 - *(_DWORD *)(a1 + 16);
    v14 = (double)v15 * (double)v15 + v4 * v4;
    *(_DWORD *)(v2 + 32) = sub_419A70(v14);
    v5 = sub_4CA8B0(
           *(_DWORD *)(v1 + 16) - *(_DWORD *)&byte_5D4594[1217448],
           *(_DWORD *)(v1 + 12) - *(_DWORD *)&byte_5D4594[1217444]);
    *(_DWORD *)(v2 + 40) = v5;
    if ( v5 < 0 )
    {
      do
      {
        v6 = *(_DWORD *)(v2 + 40);
        *(_DWORD *)(v2 + 40) = v6 + 75000;
      }
      while ( v6 + 75000 < 0 );
    }
    if ( *(int *)(v2 + 40) >= 75000 )
    {
      do
      {
        v7 = *(_DWORD *)(v2 + 40) - 75000;
        *(_DWORD *)(v2 + 40) = v7;
      }
      while ( v7 >= 75000 );
    }
    v8 = sub_4CA8B0(
           *(_DWORD *)(v1 + 16)
         + *(_DWORD *)&byte_587000[8 * *(unsigned __int8 *)(v1 + 299) + 196188]
         - *(_DWORD *)&byte_5D4594[1217448],
           *(_DWORD *)(v1 + 12)
         + *(_DWORD *)&byte_587000[8 * *(unsigned __int8 *)(v1 + 299) + 196184]
         - *(_DWORD *)&byte_5D4594[1217444]);
    *(_DWORD *)(v2 + 44) = v8;
    if ( v8 < 0 )
    {
      do
      {
        v9 = *(_DWORD *)(v2 + 44);
        *(_DWORD *)(v2 + 44) = v9 + 75000;
      }
      while ( v9 + 75000 < 0 );
    }
    if ( *(int *)(v2 + 44) >= 75000 )
    {
      do
      {
        v10 = *(_DWORD *)(v2 + 44) - 75000;
        *(_DWORD *)(v2 + 44) = v10;
      }
      while ( v10 >= 75000 );
    }
    v11 = *(_DWORD *)(v2 + 44);
    v12 = *(_DWORD *)(v2 + 40);
    if ( v11 < v12 )
    {
      *(_DWORD *)(v2 + 40) = v11;
      *(_DWORD *)(v2 + 44) = v12;
    }
    if ( (double)(int)(*(_DWORD *)(v2 + 44) - *(_DWORD *)(v2 + 40)) >= 37500.0 )
    {
      v13 = sub_4CAED0(v2);
      *(_DWORD *)(v13 + 40) = 0;
      *(_DWORD *)(v13 + 44) = *(_DWORD *)(v2 + 40);
      *(_DWORD *)(v2 + 40) = *(_DWORD *)(v2 + 44);
      *(_DWORD *)(v2 + 44) = 74999;
      sub_4CAE90(v13);
    }
    sub_4CAE90(v2);
  }
}

//----- (00497650) --------------------------------------------------------
int __cdecl sub_497650(float a1)
{
  int v1; // eax
  float v2; // edi
  _DWORD *v3; // esi
  int v4; // ecx
  double v5; // st7
  int v6; // eax
  int v7; // ebx
  int v8; // eax
  int v9; // ebp
  int v10; // eax
  int v11; // eax
  int v12; // ecx
  int v13; // edi
  int v14; // ebp
  int v15; // eax
  int v16; // eax
  int v17; // eax
  int v18; // ecx
  int v19; // eax
  float v21; // [esp+0h] [ebp-1Ch]
  int v22; // [esp+0h] [ebp-1Ch]
  float v23; // [esp+14h] [ebp-8h]
  float v24; // [esp+20h] [ebp+4h]

  v1 = sub_4CADD0();
  v2 = a1;
  v3 = (_DWORD *)v1;
  *(_BYTE *)(v1 + 48) = 1;
  *(_BYTE *)(v1 + 56) = 7;
  *(float *)(v1 + 20) = a1;
  v4 = *(_DWORD *)(LODWORD(a1) + 16);
  v24 = (double)(int)(*(_DWORD *)(LODWORD(a1) + 12) - *(_DWORD *)&byte_5D4594[1217444]);
  v5 = (double)(int)(v4 - *(_DWORD *)&byte_5D4594[1217448]);
  v23 = v5;
  v21 = v5 * v23 + v24 * v24;
  v6 = sub_419A70(v21);
  v3[8] = v6;
  v7 = (__int64)sqrt((double)v6);
  v22 = sub_419A70(v24);
  v8 = sub_419A70(v23);
  v9 = sub_4CA8B0(v8, v22);
  v10 = sub_419A70(*(float *)(LODWORD(v2) + 48));
  v11 = sub_4CA8B0(v10, v7);
  v3[10] = v11 + v9;
  if ( v11 + v9 < 0 )
  {
    do
    {
      v12 = v3[10];
      v3[10] = v12 + 75000;
    }
    while ( v12 + 75000 < 0 );
  }
  if ( v3[10] >= 75000 )
  {
    do
    {
      v13 = v3[10] - 75000;
      v3[10] = v13;
    }
    while ( v13 >= 75000 );
  }
  v14 = v9 - v11;
  v3[11] = v14;
  if ( v14 < 0 )
  {
    do
    {
      v15 = v3[11];
      v3[11] = v15 + 75000;
    }
    while ( v15 + 75000 < 0 );
  }
  if ( v3[11] >= 75000 )
  {
    do
    {
      v16 = v3[11] - 75000;
      v3[11] = v16;
    }
    while ( v16 >= 75000 );
  }
  v17 = v3[11];
  v18 = v3[10];
  if ( v17 < v18 )
  {
    v3[10] = v17;
    v3[11] = v18;
  }
  if ( (double)(v3[11] - v3[10]) >= 37500.0 )
  {
    v19 = sub_4CAED0((int)v3);
    *(_DWORD *)(v19 + 40) = 0;
    *(_DWORD *)(v19 + 44) = v3[10];
    v3[10] = v3[11];
    v3[11] = 74999;
    sub_4CAE90(v19);
  }
  return sub_4CAE90((int)v3);
}

//----- (004977C0) --------------------------------------------------------
int __cdecl sub_4977C0(int a1)
{
  int v1; // esi
  double v2; // st7
  double v3; // st6
  int v4; // eax
  int v5; // edi
  int v6; // eax
  int v7; // ebp
  int v8; // eax
  int v9; // ebx
  int v10; // eax
  int result; // eax
  double v12; // st7
  int v13; // eax
  double v14; // st7
  int v15; // eax
  double v16; // st7
  int v17; // eax
  double v18; // st7
  int v19; // eax
  double v20; // st7
  int v21; // eax
  double v22; // st7
  int v23; // eax
  float v24; // [esp+0h] [ebp-40h]
  float v25; // [esp+0h] [ebp-40h]
  float v26; // [esp+0h] [ebp-40h]
  float v27; // [esp+0h] [ebp-40h]
  float v28; // [esp+0h] [ebp-40h]
  float v29; // [esp+0h] [ebp-40h]
  int v30; // [esp+4h] [ebp-3Ch]
  int v31; // [esp+4h] [ebp-3Ch]
  int v32; // [esp+4h] [ebp-3Ch]
  int v33; // [esp+4h] [ebp-3Ch]
  float v34; // [esp+1Ch] [ebp-24h]
  float v35; // [esp+1Ch] [ebp-24h]
  float v36; // [esp+1Ch] [ebp-24h]
  float v37; // [esp+1Ch] [ebp-24h]
  float v38[8]; // [esp+20h] [ebp-20h]
  float v39; // [esp+44h] [ebp+4h]
  int v40; // [esp+44h] [ebp+4h]

  v1 = a1;
  v2 = (double)*(int *)(a1 + 12);
  v38[0] = v2 + *(float *)(a1 + 64);
  v3 = (double)*(int *)(a1 + 16);
  v39 = v3;
  v38[1] = v3 + *(float *)(v1 + 68);
  v38[2] = v2 + *(float *)(v1 + 72);
  v38[3] = v39 + *(float *)(v1 + 76);
  v38[4] = v2 + *(float *)(v1 + 80);
  v38[5] = v39 + *(float *)(v1 + 84);
  v38[6] = v2 + *(float *)(v1 + 88);
  v38[7] = v39 + *(float *)(v1 + 92);
  v30 = sub_419A70(v38[0]) - *(_DWORD *)&byte_5D4594[1217444];
  v4 = sub_419A70(v38[1]);
  v5 = sub_4CA8B0(v4 - *(_DWORD *)&byte_5D4594[1217448], v30);
  v31 = sub_419A70(v38[2]) - *(_DWORD *)&byte_5D4594[1217444];
  v6 = sub_419A70(v38[3]);
  v7 = sub_4CA8B0(v6 - *(_DWORD *)&byte_5D4594[1217448], v31);
  v32 = sub_419A70(v38[4]) - *(_DWORD *)&byte_5D4594[1217444];
  v8 = sub_419A70(v38[5]);
  v9 = sub_4CA8B0(v8 - *(_DWORD *)&byte_5D4594[1217448], v32);
  v33 = sub_419A70(v38[6]) - *(_DWORD *)&byte_5D4594[1217444];
  v10 = sub_419A70(v38[7]);
  v40 = sub_4CA8B0(v10 - *(_DWORD *)&byte_5D4594[1217448], v33);
  result = (unsigned __int8)sub_497B80(v38, (int *)&byte_5D4594[1217444]) - 1;
  switch ( result )
  {
    case 0:
      v35 = (v38[5] + v38[1]) * 0.5;
      v14 = (v38[4] + v38[0]) * 0.5 - (double)*(int *)&byte_5D4594[1217444];
      v25 = (v35 - (double)*(int *)&byte_5D4594[1217448]) * (v35 - (double)*(int *)&byte_5D4594[1217448]) + v14 * v14;
      v15 = sub_419A70(v25);
      result = sub_497F60(v5, v9, 9, v15, v1);
      break;
    case 1:
      v37 = (v38[7] + v38[3]) * 0.5;
      v18 = (v38[6] + v38[2]) * 0.5 - (double)*(int *)&byte_5D4594[1217444];
      v27 = (v37 - (double)*(int *)&byte_5D4594[1217448]) * (v37 - (double)*(int *)&byte_5D4594[1217448]) + v18 * v18;
      v19 = sub_419A70(v27);
      result = sub_497F60(v40, v7, 10, v19, v1);
      break;
    case 3:
      v34 = (v38[3] + v38[1]) * 0.5;
      v12 = (v38[2] + v38[0]) * 0.5 - (double)*(int *)&byte_5D4594[1217444];
      v24 = (v34 - (double)*(int *)&byte_5D4594[1217448]) * (v34 - (double)*(int *)&byte_5D4594[1217448]) + v12 * v12;
      v13 = sub_419A70(v24);
      result = sub_497F60(v5, v7, 8, v13, v1);
      break;
    case 4:
    case 9:
      v22 = (double)(int)(*(_DWORD *)(v1 + 12) - *(_DWORD *)&byte_5D4594[1217444]);
      v29 = (double)(int)(*(_DWORD *)(v1 + 16) - *(_DWORD *)&byte_5D4594[1217448])
          * (double)(int)(*(_DWORD *)(v1 + 16) - *(_DWORD *)&byte_5D4594[1217448])
          + v22 * v22;
      v23 = sub_419A70(v29);
      result = sub_497F60(v7, v9, 14, v23, v1);
      break;
    case 5:
    case 8:
      v20 = (double)(int)(*(_DWORD *)(v1 + 12) - *(_DWORD *)&byte_5D4594[1217444]);
      v28 = (double)(int)(*(_DWORD *)(v1 + 16) - *(_DWORD *)&byte_5D4594[1217448])
          * (double)(int)(*(_DWORD *)(v1 + 16) - *(_DWORD *)&byte_5D4594[1217448])
          + v20 * v20;
      v21 = sub_419A70(v28);
      result = sub_497F60(v5, v40, 13, v21, v1);
      break;
    case 7:
      v36 = (v38[7] + v38[5]) * 0.5;
      v16 = (v38[6] + v38[4]) * 0.5 - (double)*(int *)&byte_5D4594[1217444];
      v26 = (v36 - (double)*(int *)&byte_5D4594[1217448]) * (v36 - (double)*(int *)&byte_5D4594[1217448]) + v16 * v16;
      v17 = sub_419A70(v26);
      result = sub_497F60(v40, v9, 11, v17, v1);
      break;
    default:
      return result;
  }
  return result;
}

//----- (00497B80) --------------------------------------------------------
char __cdecl sub_497B80(float *a1, int *a2)
{
  int *v2; // eax
  float *v3; // ecx
  char v4; // dl
  double v5; // st7
  float v7; // [esp+0h] [ebp-4h]
  float v8; // [esp+8h] [ebp+4h]
  float v9; // [esp+Ch] [ebp+8h]

  v2 = a2;
  v3 = a1;
  v4 = 0;
  v9 = (double)*a2;
  v7 = (double)v2[1];
  v5 = (a1[5] + a1[4] - v9 - v7) * 0.70709997;
  v8 = (a1[1] + *a1 - v9 - v7) * 0.70709997;
  if ( (v3[1] - *v3 + v9 - v7) * 0.70709997 <= 0.0 )
  {
    if ( (v3[3] - v3[2] + v9 - v7) * 0.70709997 < 0.0 )
      v4 = 2;
  }
  else
  {
    v4 = 1;
  }
  if ( v5 < 0.0 )
    return v4 | 8;
  if ( v8 > 0.0 )
    v4 |= 4u;
  return v4;
}

//----- (00497C40) --------------------------------------------------------
int __cdecl sub_497C40(int a1, int a2, char a3)
{
  int v3; // edi
  int v4; // ebp
  int v5; // ebx
  int v6; // esi
  int v7; // ecx
  int v8; // eax
  int v9; // edi
  int v10; // ecx
  int v11; // eax
  int v12; // eax
  int v13; // eax
  int v14; // eax
  int v15; // eax
  int v16; // eax
  int v17; // eax
  int v18; // ecx
  int v19; // eax
  int v21; // [esp+10h] [ebp-10h]
  int v22; // [esp+14h] [ebp-Ch]
  int v23; // [esp+18h] [ebp-8h]
  int v24; // [esp+1Ch] [ebp-4h]

  v21 = 23 * a1;
  v22 = 23 * a2;
  v3 = 23 * a1 + sub_419A70(11.5);
  v4 = 23 * a2 + sub_419A70(11.5);
  v5 = sub_4CADD0();
  *(_DWORD *)(v5 + 24) = a1;
  *(_BYTE *)(v5 + 36) = a3;
  *(_DWORD *)(v5 + 28) = a2;
  *(_BYTE *)(v5 + 48) = 1;
  *(_BYTE *)(v5 + 56) = 0;
  switch ( a3 )
  {
    case 1:
      v6 = v3 - *(_DWORD *)&byte_5D4594[1217444] + sub_419A70(5.75);
      v7 = v4 - *(_DWORD *)&byte_5D4594[1217448] - sub_419A70(5.75);
      v8 = v3;
      v9 = 23 * a2;
      v23 = v21 + 23;
      break;
    case 2:
      v6 = v3 - *(_DWORD *)&byte_5D4594[1217444] - sub_419A70(5.75);
      v7 = v4 - *(_DWORD *)&byte_5D4594[1217448] - sub_419A70(5.75);
      v8 = v3;
      v9 = 23 * a2;
      v23 = 23 * a1;
      break;
    case 4:
      v6 = v3 - *(_DWORD *)&byte_5D4594[1217444] + sub_419A70(5.75);
      v10 = sub_419A70(5.75);
      v8 = v3;
      v7 = v4 - *(_DWORD *)&byte_5D4594[1217448] + v10;
      v23 = v21 + 23;
      v9 = v22 + 23;
      break;
    case 6:
      v8 = 23 * a1;
      v7 = v4 - *(_DWORD *)&byte_5D4594[1217448];
      v4 = 23 * a2;
      v6 = v3 - *(_DWORD *)&byte_5D4594[1217444];
      v23 = v21 + 23;
      v9 = v22 + 23;
      break;
    case 8:
      v6 = v3 - *(_DWORD *)&byte_5D4594[1217444] - sub_419A70(5.75);
      v23 = 23 * a1;
      v7 = v4 - *(_DWORD *)&byte_5D4594[1217448] + sub_419A70(5.75);
      v8 = v3;
      v9 = v22 + 23;
      break;
    case 9:
      v6 = v3 - *(_DWORD *)&byte_5D4594[1217444];
      v7 = v4 - *(_DWORD *)&byte_5D4594[1217448];
      v4 = 23 * a2;
      v8 = v21 + 23;
      v23 = 23 * a1;
      v9 = v22 + 23;
      break;
    default:
      v6 = a1;
      v7 = a1;
      v4 = v24;
      v8 = v23;
      v9 = v24;
      break;
  }
  *(_DWORD *)(v5 + 32) = v6 * v6 + v7 * v7;
  v11 = sub_4CA8B0(v4 - *(_DWORD *)&byte_5D4594[1217448], v8 - *(_DWORD *)&byte_5D4594[1217444]);
  *(_DWORD *)(v5 + 40) = v11;
  if ( v11 < 0 )
  {
    do
    {
      v12 = *(_DWORD *)(v5 + 40);
      *(_DWORD *)(v5 + 40) = v12 + 75000;
    }
    while ( v12 + 75000 < 0 );
  }
  if ( *(_DWORD *)(v5 + 40) >= 75000 )
  {
    do
    {
      v13 = *(_DWORD *)(v5 + 40) - 75000;
      *(_DWORD *)(v5 + 40) = v13;
    }
    while ( v13 >= 75000 );
  }
  v14 = sub_4CA8B0(v9 - *(_DWORD *)&byte_5D4594[1217448], v23 - *(_DWORD *)&byte_5D4594[1217444]);
  *(_DWORD *)(v5 + 44) = v14;
  if ( v14 < 0 )
  {
    do
    {
      v15 = *(_DWORD *)(v5 + 44);
      *(_DWORD *)(v5 + 44) = v15 + 75000;
    }
    while ( v15 + 75000 < 0 );
  }
  if ( *(_DWORD *)(v5 + 44) >= 75000 )
  {
    do
    {
      v16 = *(_DWORD *)(v5 + 44) - 75000;
      *(_DWORD *)(v5 + 44) = v16;
    }
    while ( v16 >= 75000 );
  }
  v17 = *(_DWORD *)(v5 + 44);
  v18 = *(_DWORD *)(v5 + 40);
  if ( v17 < v18 )
  {
    *(_DWORD *)(v5 + 40) = v17;
    *(_DWORD *)(v5 + 44) = v18;
  }
  if ( *(_DWORD *)(v5 + 44) - *(_DWORD *)(v5 + 40) >= 37500 )
  {
    v19 = sub_4CAED0(v5);
    *(_DWORD *)(v19 + 40) = 0;
    *(_DWORD *)(v19 + 44) = *(_DWORD *)(v5 + 40);
    *(_DWORD *)(v5 + 40) = *(_DWORD *)(v5 + 44);
    *(_DWORD *)(v5 + 44) = 74999;
    sub_4CAE90(v19);
  }
  return sub_4CAE90(v5);
}
// 497E2E: variable 'v24' is possibly undefined
// 497E32: variable 'v23' is possibly undefined

//----- (00497F60) --------------------------------------------------------
int __cdecl sub_497F60(int a1, int a2, char a3, int a4, int a5)
{
  int v5; // esi
  int v6; // ecx
  int v7; // edx
  int v8; // edx
  int v9; // edx
  int v10; // eax

  v5 = sub_4CADD0();
  *(_BYTE *)(v5 + 56) = a3;
  *(_DWORD *)(v5 + 32) = a4;
  *(_BYTE *)(v5 + 48) = 1;
  *(_DWORD *)(v5 + 20) = a5;
  if ( a2 >= a1 )
  {
    *(_DWORD *)(v5 + 40) = a1;
    *(_DWORD *)(v5 + 44) = a2;
  }
  else
  {
    *(_DWORD *)(v5 + 40) = a2;
    *(_DWORD *)(v5 + 44) = a1;
  }
  if ( *(int *)(v5 + 40) < 0 )
  {
    do
    {
      v6 = *(_DWORD *)(v5 + 40);
      *(_DWORD *)(v5 + 40) = v6 + 75000;
    }
    while ( v6 + 75000 < 0 );
  }
  if ( *(_DWORD *)(v5 + 40) >= 75000 )
  {
    do
    {
      v7 = *(_DWORD *)(v5 + 40) - 75000;
      *(_DWORD *)(v5 + 40) = v7;
    }
    while ( v7 >= 75000 );
  }
  if ( *(int *)(v5 + 44) < 0 )
  {
    do
    {
      v8 = *(_DWORD *)(v5 + 44);
      *(_DWORD *)(v5 + 44) = v8 + 75000;
    }
    while ( v8 + 75000 < 0 );
  }
  if ( *(_DWORD *)(v5 + 44) >= 75000 )
  {
    do
    {
      v9 = *(_DWORD *)(v5 + 44) - 75000;
      *(_DWORD *)(v5 + 44) = v9;
    }
    while ( v9 >= 75000 );
  }
  if ( *(int *)(v5 + 44) - *(int *)(v5 + 40) >= 37500 )
  {
    v10 = sub_4CAED0(v5);
    *(_DWORD *)(v10 + 40) = 0;
    *(_DWORD *)(v10 + 44) = *(_DWORD *)(v5 + 40);
    *(_DWORD *)(v5 + 40) = *(_DWORD *)(v5 + 44);
    *(_DWORD *)(v5 + 44) = 74999;
    sub_4CAE90(v10);
  }
  return sub_4CAE90(v5);
}

//----- (00498030) --------------------------------------------------------
int __cdecl sub_498030(_DWORD *a1)
{
  int v1; // esi
  int v2; // edi
  int v3; // ebx
  int v4; // ebp
  int v5; // edi
  int v6; // ebx
  int v7; // esi
  int v9; // [esp+14h] [ebp+4h]

  v1 = a1[4];
  v2 = a1[5];
  v3 = a1[8] + v1;
  v4 = a1[9] + v2;
  v9 = sub_4CA8B0(v2 - *(_DWORD *)&byte_5D4594[1217448], v1 - *(_DWORD *)&byte_5D4594[1217444]);
  v5 = sub_4CA8B0(v2 - *(_DWORD *)&byte_5D4594[1217448], v3 - *(_DWORD *)&byte_5D4594[1217444]);
  v6 = sub_4CA8B0(v4 - *(_DWORD *)&byte_5D4594[1217448], v3 - *(_DWORD *)&byte_5D4594[1217444]);
  v7 = sub_4CA8B0(v4 - *(_DWORD *)&byte_5D4594[1217448], v1 - *(_DWORD *)&byte_5D4594[1217444]);
  sub_497F60(v9, v5, 1, 0x7FFFFFFF, 0);
  sub_497F60(v5, v6, 4, 0x7FFFFFFF, 0);
  sub_497F60(v6, v7, 2, 0x7FFFFFFF, 0);
  return sub_497F60(v7, v9, 3, 0x7FFFFFFF, 0);
}

//----- (00498110) --------------------------------------------------------
int sub_498110()
{
  int result; // eax

  for ( result = sub_4CAEB0(); result; result = sub_4CAEB0() )
  {
    sub_498130(result);
  }
  return result;
}

//----- (00498130) --------------------------------------------------------
int __cdecl sub_498130(int a1)
{
  int i; // ebx
  int v2; // esi

  for ( i = sub_498290(a1); i < *(int *)&byte_5D4594[1217460]; ++i )
  {
    v2 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1217456] + 4 * i);
    if ( *(int *)(v2 + 40) > *(int *)(a1 + 44) )
      break;
    sub_498380(a1, *(_DWORD *)(*(_DWORD *)&byte_5D4594[1217456] + 4 * i));
    if ( !*(_BYTE *)(a1 + 48) || *(int *)(a1 + 44) - *(int *)(a1 + 40) < 0 )
      return sub_4CAE40(a1);
    if ( !*(_BYTE *)(v2 + 48) || *(int *)(v2 + 44) - *(int *)(v2 + 40) < 0 )
    {
      if ( sub_4982E0(v2) <= i )
        --i;
      sub_4CAE40(v2);
    }
  }
  return sub_4981D0(a1);
}

//----- (004981D0) --------------------------------------------------------
int __cdecl sub_4981D0(int a1)
{
  int v1; // ecx
  int v2; // esi
  int v3; // eax

  v1 = *(_DWORD *)&byte_5D4594[1217460] - 1;
  v2 = 0;
  while ( v2 <= v1 )
  {
    v3 = (v1 + v2) / 2;
    if ( *(int *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1217456] + 4 * v3) + 40) >= *(int *)(a1 + 40) )
      v1 = v3 - 1;
    else
      v2 = v3 + 1;
  }
  return sub_498220(a1, v2);
}

//----- (00498220) --------------------------------------------------------
int __cdecl sub_498220(int a1, int a2)
{
  if ( a2 < *(int *)&byte_5D4594[1217460] )
    memmove(
      *(_DWORD *)&byte_5D4594[1217456] + 4 * a2 + 4,
      (_BYTE *)(*(_DWORD *)&byte_5D4594[1217456] + 4 * a2),
      4 * (*(_DWORD *)&byte_5D4594[1217460] + 0x3FFFFFFF * a2));
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[1217456] + 4 * a2) = a1;
  return ++*(_DWORD *)&byte_5D4594[1217460];
}

//----- (00498290) --------------------------------------------------------
int __cdecl sub_498290(int a1)
{
  int v1; // esi
  int v2; // ecx
  int v3; // eax
  int result; // eax

  v1 = 0;
  v2 = *(_DWORD *)&byte_5D4594[1217460] - 1;
  if ( *(int *)&byte_5D4594[1217460] - 1 < 0 )
    goto LABEL_11;
  do
  {
    v3 = (v2 + v1) / 2;
    if ( *(int *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1217456] + 4 * v3) + 44) >= *(int *)(a1 + 40) )
      v2 = v3 - 1;
    else
      v1 = v3 + 1;
  }
  while ( v1 <= v2 );
  if ( v2 >= 0 )
    result = v2;
  else
LABEL_11:
    result = 0;
  return result;
}

//----- (004982E0) --------------------------------------------------------
int __cdecl sub_4982E0(int a1)
{
  int v1; // esi

  v1 = sub_498330(a1);
  memmove(
    *(_DWORD *)&byte_5D4594[1217456] + 4 * v1,
    (_BYTE *)(*(_DWORD *)&byte_5D4594[1217456] + 4 * (v1 + 1)),
    4 * (*(_DWORD *)&byte_5D4594[1217460] + 0x3FFFFFFF * (v1 + 1)));
  --*(_DWORD *)&byte_5D4594[1217460];
  return v1;
}

//----- (00498330) --------------------------------------------------------
int __cdecl sub_498330(int a1)
{
  int v1; // ebx
  int v2; // edi
  int v3; // esi
  int result; // eax
  int v5; // ecx

  v1 = *(_DWORD *)(a1 + 40);
  v2 = 0;
  v3 = *(_DWORD *)&byte_5D4594[1217460] - 1;
  while ( 1 )
  {
    result = (v3 + v2) / 2;
    v5 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1217456] + 4 * result) + 40);
    if ( v5 == v1 )
      break;
    if ( v5 >= v1 )
      v3 = (v3 + v2) / 2;
    else
      v2 = result + 1;
    if ( v2 > v3 )
      exit(-1);
  }
  return result;
}

//----- (00498380) --------------------------------------------------------
void __cdecl sub_498380(int a1, int a2)
{
  int v2; // ebx
  int v3; // edx
  int v4; // ecx
  int v5; // eax
  int v6; // ecx
  int v7; // eax
  int v8; // ebx
  int v9; // ecx
  int v10; // ecx
  int v11; // esi
  bool v12; // cc
  int v13; // edx
  int v14; // eax
  int v15; // ebx
  int v16; // ecx
  int v17; // ecx
  int v18; // edi
  int v19; // ecx
  int v20; // eax
  int v21; // eax
  int v22; // ecx

  v2 = *(_DWORD *)(a1 + 40);
  v3 = *(_DWORD *)(a2 + 44);
  if ( v3 < v2 )
    return;
  v4 = *(_DWORD *)(a2 + 40);
  v5 = *(_DWORD *)(a1 + 44);
  if ( v4 > v5 )
    return;
  if ( v4 < v2 )
  {
    if ( v3 <= v5 )
    {
      if ( *(int *)(a1 + 32) >= *(int *)(a2 + 32) )
      {
        v6 = *(_DWORD *)(a1 + 44);
        *(_DWORD *)(a1 + 40) = v3 + 1;
        if ( v3 + 1 > v6 )
          *(_BYTE *)(a1 + 48) = 0;
      }
      else
      {
        *(_DWORD *)(a2 + 44) = v2 - 1;
      }
      return;
    }
    if ( *(int *)(a1 + 32) < *(int *)(a2 + 32) )
    {
      v7 = sub_4CAED0(a2);
      v8 = *(_DWORD *)(v7 + 44);
      v9 = *(_DWORD *)(a1 + 44) + 1;
      *(_DWORD *)(v7 + 40) = v9;
      if ( v9 > v8 )
        *(_BYTE *)(v7 + 48) = 0;
      v10 = *(_DWORD *)(a1 + 40) - 1;
      v11 = *(_DWORD *)(a2 + 40);
      *(_DWORD *)(a2 + 44) = v10;
      if ( v11 > v10 )
        *(_BYTE *)(a2 + 48) = 0;
      sub_4CAE90(v7);
      return;
    }
LABEL_27:
    *(_BYTE *)(a1 + 48) = 0;
    return;
  }
  v12 = v3 <= v5;
  v13 = *(_DWORD *)(a1 + 32);
  if ( v12 )
  {
    if ( v13 >= *(int *)(a2 + 32) )
    {
      v14 = sub_4CAED0(a1);
      v15 = *(_DWORD *)(v14 + 44);
      v16 = *(_DWORD *)(a2 + 44) + 1;
      *(_DWORD *)(v14 + 40) = v16;
      if ( v16 > v15 )
        *(_BYTE *)(v14 + 48) = 0;
      v17 = *(_DWORD *)(a2 + 40) - 1;
      v18 = *(_DWORD *)(a1 + 40);
      *(_DWORD *)(a1 + 44) = v17;
      if ( v18 > v17 )
        *(_BYTE *)(a1 + 48) = 0;
      sub_4CAE90(v14);
    }
    else
    {
      *(_BYTE *)(a2 + 48) = 0;
    }
  }
  else
  {
    if ( v13 >= *(int *)(a2 + 32) )
    {
      v21 = v4 - 1;
      v22 = *(_DWORD *)(a1 + 40);
      *(_DWORD *)(a1 + 44) = v21;
      if ( v22 <= v21 )
        return;
      goto LABEL_27;
    }
    v19 = *(_DWORD *)(a2 + 44);
    v20 = v5 + 1;
    *(_DWORD *)(a2 + 40) = v20;
    if ( v20 > v19 )
      *(_BYTE *)(a2 + 48) = 0;
  }
}

//----- (004984B0) --------------------------------------------------------
int __cdecl sub_4984B0(int a1)
{
  int v1; // edi
  int v3; // ebx
  int v4; // ecx
  int v5; // kr0C_4
  int v6; // ebp
  int v7; // esi
  int v8; // ebx
  int v9; // ecx
  int v10; // edx
  int v11; // eax
  int v12; // eax
  int v13; // ebp
  int v14; // esi
  int v15; // ebx
  int v16; // ecx
  int v17; // esi
  int v18; // eax
  int v19; // ebp
  int v20; // ecx
  int v21; // edx
  int *v22; // esi
  int v23; // edi
  int v24; // ebx
  int v25; // ecx
  int v26; // edx
  int v27; // ebp
  int *v28; // esi
  int v29; // edi
  int v30; // ebx
  int v31; // [esp+10h] [ebp-58h]
  int v32; // [esp+10h] [ebp-58h]
  char *v33; // [esp+14h] [ebp-54h]
  int v34; // [esp+18h] [ebp-50h]
  int v35; // [esp+18h] [ebp-50h]
  int v36; // [esp+18h] [ebp-50h]
  int v37; // [esp+1Ch] [ebp-4Ch]
  int v38; // [esp+1Ch] [ebp-4Ch]
  int v39; // [esp+20h] [ebp-48h]
  int v40; // [esp+20h] [ebp-48h]
  int v41; // [esp+24h] [ebp-44h]
  int v42; // [esp+28h] [ebp-40h]
  int v43; // [esp+2Ch] [ebp-3Ch]
  int v44; // [esp+30h] [ebp-38h]
  int v45; // [esp+34h] [ebp-34h]
  int4 a1a; // [esp+38h] [ebp-30h]
  int4 a2; // [esp+48h] [ebp-20h]
  int4 v48; // [esp+58h] [ebp-10h]
  int *i; // [esp+6Ch] [ebp+4h]
  int v50; // [esp+6Ch] [ebp+4h]
  int v51; // [esp+6Ch] [ebp+4h]

  v1 = a1;
  if ( !*(_DWORD *)(a1 + 300) )
    return 0;
  if ( a1 == *(_DWORD *)&byte_5D4594[2614252] )
    return 1;
  if ( (signed char)*(_BYTE *)(a1 + 112) >= 0 )
  {
    v42 = *(_DWORD *)(a1 + 12);
    v43 = *(_DWORD *)(a1 + 16);
    v6 = *(_DWORD *)(a1 + 12);
  }
  else
  {
    if ( !(*(_BYTE *)(a1 + 116) & 4) )
      return *(_DWORD *)(a1 + 132);
    v3 = *(_DWORD *)(a1 + 12);
    v4 = 8 * *(unsigned __int8 *)(a1 + 299);
    v5 = *(_DWORD *)&byte_587000[v4 + 196184];
    v6 = v3 + v5 / 2;
    v42 = v3 + v5 / 2;
    v43 = *(_DWORD *)(a1 + 16) + *(int *)&byte_587000[v4 + 196188] / 2;
  }
  if ( *(_DWORD *)(a1 + 120) & 0x10000 )
    return *(_DWORD *)(a1 + 132);
  v31 = 0;
  v33 = sub_437250();
  v7 = *((_DWORD *)v33 + 4) - *(_DWORD *)v33;
  v44 = v7;
  v8 = *((_DWORD *)v33 + 5) - *((_DWORD *)v33 + 1);
  v45 = v8;
  a1a.field_0 = *(_DWORD *)v33 + *((int *)v33 + 8) / 2;
  a1a.field_4 = *((_DWORD *)v33 + 1) + *((_DWORD *)v33 + 12) + *((int *)v33 + 9) / 2;
  v37 = v6 - v7;
  a1a.field_8 = v6 - v7;
  a1a.field_C = v43 - v8;
  v9 = *(_DWORD *)&byte_5D4594[8 * *(_DWORD *)&byte_5D4594[1217464] + 1203868];
  v10 = *(_DWORD *)&byte_5D4594[8 * *(_DWORD *)&byte_5D4594[1217464] + 1203872];
  if ( *(int *)&byte_5D4594[1217464] <= 0 )
    return 1;
  for ( i = (int *)&byte_5D4594[1203880]; ; i += 2 )
  {
    a2.field_4 = v10;
    a2.field_0 = v9;
    v34 = *(i - 1);
    v11 = *i;
    a2.field_8 = *(i - 1);
    v39 = v11;
    a2.field_C = v11;
    if ( sub_427C80(&a1a, &a2) )
      break;
    v9 = v34;
    v10 = v39;
    if ( ++v31 >= *(int *)&byte_5D4594[1217464] )
      return 1;
  }
  if ( *(_DWORD *)(v1 + 44) == 2 )
  {
    v12 = sub_419A70(*(float *)(v1 + 48));
    v50 = v12;
    if ( *(_WORD *)(v1 + 2) )
    {
      v35 = *(unsigned __int16 *)(v1 + 6);
      v13 = v6 - (*(unsigned __int16 *)(v1 + 4) >> 1) - v7;
      v14 = v43 + v12 + *(__int16 *)(v1 + 104) - v35 - v8 - sub_419A70(*(float *)(v1 + 96));
      v15 = v13 + *(unsigned __int16 *)(v1 + 4);
      v16 = v14 + v35;
    }
    else
    {
      v13 = v6 - v12 - v7;
      v14 = v43 - v12 - v8 - sub_419A70(*(float *)(v1 + 100));
      v15 = v42 + v50 - v44;
      v16 = v43 + v50 + *(__int16 *)(v1 + 104) - v45 - sub_419A70(*(float *)(v1 + 96));
    }
  }
  else if ( *(_WORD *)(v1 + 2) )
  {
    v13 = v6 - (*(unsigned __int16 *)(v1 + 4) >> 1) - v7;
    v16 = sub_419A70(*(float *)(v1 + 92)) + v43 + *(__int16 *)(v1 + 104) - v8;
    v14 = v16 - *(unsigned __int16 *)(v1 + 6);
    v15 = v13 + *(unsigned __int16 *)(v1 + 4);
  }
  else
  {
    v13 = v37 + sub_419A70(*(float *)(v1 + 72));
    v17 = v43 - v8 - sub_419A70(*(float *)(v1 + 100));
    v14 = sub_419A70(*(float *)(v1 + 68)) + v17;
    v15 = v37 + sub_419A70(*(float *)(v1 + 80));
    v16 = sub_419A70(*(float *)(v1 + 92)) + v43 + *(__int16 *)(v1 + 104) - v45;
  }
  v32 = 0;
  v51 = 0;
  v41 = v13;
  v38 = v14;
  v40 = v15;
  v36 = v16;
  if ( v13 < *(int *)v33 || v13 > *((_DWORD *)v33 + 2) )
    v32 = 1;
  else
    v51 = 1;
  if ( v14 < *((_DWORD *)v33 + 1) || v14 > *((_DWORD *)v33 + 3) )
    ++v32;
  else
    ++v51;
  if ( v15 < *(int *)v33 || v15 > *((_DWORD *)v33 + 2) )
    ++v32;
  else
    ++v51;
  if ( v16 < *((_DWORD *)v33 + 1) || v16 > *((_DWORD *)v33 + 3) )
    ++v32;
  else
    ++v51;
  if ( *(_WORD *)(v1 + 2) )
  {
    if ( v15 - v13 > 6 )
    {
      v13 += 3;
      v15 -= 3;
    }
    if ( v16 - v14 >= 22 )
    {
      v14 += 11;
      v16 -= 11;
    }
  }
  if ( !v51 || !v32 )
    return 0;
  v48.field_0 = a1a.field_0;
  v48.field_4 = a1a.field_4;
  if ( v41 >= *(int *)v33 )
  {
    if ( v40 <= *((_DWORD *)v33 + 2) )
      goto LABEL_50;
    v48.field_8 = v13;
    a1a.field_8 = v13;
  }
  else
  {
    v48.field_8 = v15;
    a1a.field_8 = v15;
  }
  a1a.field_C = v14;
  v48.field_C = v16;
LABEL_50:
  if ( v38 >= *((_DWORD *)v33 + 1) )
  {
    if ( v36 <= *((_DWORD *)v33 + 3) )
      goto LABEL_55;
    a1a.field_8 = v13;
    v48.field_C = v14;
    a1a.field_C = v14;
  }
  else
  {
    a1a.field_8 = v13;
    v48.field_C = v16;
    a1a.field_C = v16;
  }
  v48.field_8 = v15;
LABEL_55:
  v18 = *(_DWORD *)&byte_5D4594[1217464];
  v19 = 0;
  v20 = *(_DWORD *)&byte_5D4594[8 * *(_DWORD *)&byte_5D4594[1217464] + 1203868];
  v21 = *(_DWORD *)&byte_5D4594[8 * *(_DWORD *)&byte_5D4594[1217464] + 1203872];
  if ( *(int *)&byte_5D4594[1217464] <= 0 )
  {
LABEL_59:
    v25 = *(_DWORD *)&byte_5D4594[8 * v18 + 1203868];
    v26 = *(_DWORD *)&byte_5D4594[8 * v18 + 1203872];
    v27 = 0;
    if ( v18 <= 0 )
      return 1;
    v28 = (int *)&byte_5D4594[1203880];
    while ( 1 )
    {
      v29 = *(v28 - 1);
      v30 = *v28;
      a2.field_0 = v25;
      a2.field_4 = v26;
      a2.field_8 = v29;
      a2.field_C = v30;
      if ( sub_427C80(&v48, &a2) )
        break;
      ++v27;
      v28 += 2;
      v25 = v29;
      v26 = v30;
      if ( v27 >= *(int *)&byte_5D4594[1217464] )
        return 1;
    }
  }
  else
  {
    v22 = (int *)&byte_5D4594[1203880];
    while ( 1 )
    {
      v23 = *(v22 - 1);
      v24 = *v22;
      a2.field_4 = v21;
      a2.field_0 = v20;
      a2.field_8 = v23;
      a2.field_C = v24;
      if ( sub_427C80(&a1a, &a2) )
        break;
      v18 = *(_DWORD *)&byte_5D4594[1217464];
      ++v19;
      v22 += 2;
      v20 = v23;
      v21 = v24;
      if ( v19 >= *(int *)&byte_5D4594[1217464] )
        goto LABEL_59;
    }
  }
  return 0;
}

//----- (004989A0) --------------------------------------------------------
void __cdecl sub_4989A0()
{
  int v0; // ebp
  unsigned __int8 *v1; // edx
  int v2; // eax
  int v3; // ecx
  int v4; // esi
  int v5; // edi
  int v6; // ebx
  int v7; // [esp+0h] [ebp-24h]
  unsigned __int8 *v8; // [esp+4h] [ebp-20h]
  unsigned __int8 *v9; // [esp+8h] [ebp-1Ch]
  int v10; // [esp+Ch] [ebp-18h]
  unsigned __int8 *v11; // [esp+10h] [ebp-14h]
  int v12; // [esp+14h] [ebp-10h]
  int v13; // [esp+18h] [ebp-Ch]
  unsigned __int8 *i; // [esp+1Ch] [ebp-8h]
  unsigned __int8 v15; // [esp+20h] [ebp-4h]

  if ( *(_DWORD *)&byte_5D4594[1217464] > 2 )
  {
    v0 = 2;
    v1 = &byte_5D4594[1203896];
    v12 = *(_DWORD *)&byte_5D4594[1203876];
    v2 = *(_DWORD *)&byte_5D4594[1203884];
    v13 = *(_DWORD *)&byte_5D4594[1203880];
    v3 = *(_DWORD *)&byte_5D4594[1203888];
    v10 = 2;
    v7 = 1;
    v9 = &byte_5D4594[1213352];
    v8 = &byte_5D4594[1203888];
    v11 = &byte_5D4594[1213356];
    for ( i = &byte_5D4594[1203896]; ; i += 8 )
    {
      v4 = *((_DWORD *)v1 - 1);
      v5 = *(_DWORD *)v1;
      v15 = byte_5D4594[v0 + 1212324];
      if ( (v12 - v2) * (*(_DWORD *)v1 - v3) != (v13 - v3) * (v4 - v2) )
        break;
      v6 = v7;
      if ( byte_5D4594[v10 + 1212324] != byte_5D4594[v7 + 1212324] )
        goto LABEL_7;
LABEL_8:
      v0 = v10 + 1;
      *((_DWORD *)v8 - 1) = v4;
      *(_DWORD *)v8 = v5;
      v10 = v0;
      byte_5D4594[v6 + 1212324] = v15;
      *(_DWORD *)v9 = *(_DWORD *)v11;
      v3 = v5;
      v2 = v4;
      v1 = i + 8;
      v11 += 4;
      if ( v0 >= *(int *)&byte_5D4594[1217464] )
      {
        *(_DWORD *)&byte_5D4594[1217464] = v6 + 1;
        return;
      }
    }
    v6 = v7;
LABEL_7:
    v7 = ++v6;
    v8 += 8;
    v12 = v2;
    v9 += 4;
    v13 = v3;
    goto LABEL_8;
  }
}

//----- (00498AE0) --------------------------------------------------------
int sub_498AE0()
{
  int v0; // ecx
  int v1; // esi
  int i; // eax

  sub_434560(1);
  sub_434430(0, 0, 0);
  v0 = *(_DWORD *)&byte_5D4594[1217464];
  v1 = 0;
  for ( i = *(_DWORD *)&byte_5D4594[1217464] - 1; v1 < v0; ++v1 )
  {
    if ( byte_5D4594[i + 1212324] == 12 )
    {
      sub_498B50(
        *(_DWORD *)&byte_5D4594[8 * i + 1203876],
        *(_DWORD *)&byte_5D4594[8 * i + 1203880],
        *(_DWORD *)&byte_5D4594[8 * v1 + 1203876],
        *(_DWORD *)&byte_5D4594[8 * v1 + 1203880]);
      v0 = *(_DWORD *)&byte_5D4594[1217464];
    }
    i = v1;
  }
  return sub_434560(0);
}

//----- (00498B50) --------------------------------------------------------
int __cdecl sub_498B50(int a1, int a2, int a3, int a4)
{
  int v4; // ebp
  int v5; // esi
  int v6; // edi
  int v7; // ecx
  int v8; // eax
  int v9; // ebx
  int v10; // edx
  int v11; // eax
  int v12; // ebx
  int v13; // ebp
  int result; // eax
  unsigned __int8 v15; // [esp+14h] [ebp+4h]
  int v16; // [esp+18h] [ebp+8h]
  int v17; // [esp+1Ch] [ebp+Ch]
  int v18; // [esp+20h] [ebp+10h]

  v4 = a3;
  v5 = a1;
  v6 = a2;
  v7 = a2 - a4;
  v8 = a1 - a3;
  v9 = a1 - a3;
  v10 = a4 - a2;
  if ( a1 - a3 < 0 )
    v8 = a3 - a1;
  if ( v7 < 0 )
    v7 = a4 - a2;
  if ( v8 <= v7 )
  {
    v16 = 0;
    v17 = v10 < 0 ? 1 : -1;
  }
  else
  {
    v17 = 0;
    v11 = (v9 < 0) - 1;
    LOBYTE(v11) = v11 & 0xFE;
    v16 = v11 + 1;
  }
  v15 = -48;
  v12 = a4 - v6;
  v13 = v4 - v5;
  v18 = 10;
  do
  {
    sub_434580(v15);
    v15 -= 20;
    sub_49F500(v5, v6);
    sub_49F500(v5 + v13, v12 + v6);
    sub_49E4B0();
    v5 += v17;
    v6 += v16;
    result = --v18;
  }
  while ( v18 );
  return result;
}

//----- (00498C20) --------------------------------------------------------
int __cdecl sub_498C20(int2 *a1, int2 *a2, int a3)
{
  int2 *v3; // edi
  int2 *v4; // ebp
  char v5; // al
  char v6; // bl
  int v7; // eax
  int v8; // edx
  int *v9; // ecx
  int v10; // eax
  int v11; // ebp
  int v12; // edx
  int v13; // ebp
  int v14; // edx
  int v15; // eax
  int v16; // esi
  int v17; // eax
  int v18; // ecx
  bool v19; // cc
  float v21; // [esp+0h] [ebp-44h]
  float v22; // [esp+0h] [ebp-44h]
  float v23; // [esp+0h] [ebp-44h]
  float v24; // [esp+0h] [ebp-44h]
  float v25; // [esp+0h] [ebp-44h]
  float v26; // [esp+0h] [ebp-44h]
  float v27; // [esp+4h] [ebp-40h]
  float v28; // [esp+14h] [ebp-30h]
  float v29; // [esp+18h] [ebp-2Ch]
  float v30; // [esp+1Ch] [ebp-28h]
  int v31; // [esp+20h] [ebp-24h]
  int v32; // [esp+24h] [ebp-20h]
  unsigned __int8 *v33; // [esp+28h] [ebp-1Ch]
  int2 a1a; // [esp+2Ch] [ebp-18h]
  int2 a2a; // [esp+34h] [ebp-10h]
  int2 a3a; // [esp+3Ch] [ebp-8h]
  char v37; // [esp+48h] [ebp+4h]
  char v38; // [esp+50h] [ebp+Ch]
  float v39; // [esp+50h] [ebp+Ch]

  v3 = a1;
  if ( !a1 )
    return 0;
  v4 = a2;
  if ( !a2 )
    return 0;
  if ( !a3 )
    return 0;
  *(_DWORD *)&byte_5D4594[1217452] = 0;
  v5 = sub_4990D0(a1, a2);
  v6 = v5;
  v37 = v5;
  if ( !v5 )
    return 0;
  if ( v5 != 4 && v5 != 8 )
  {
    v29 = (double)(a2->field_4 - v3->field_4) / (double)(a2->field_0 - v3->field_0);
    v27 = (double)v3->field_0 * v29;
    v31 = v3->field_4 - sub_419A70(v27);
  }
  v7 = *(_DWORD *)&byte_5D4594[1217464];
  v8 = 0;
  v32 = 0;
  if ( *(_DWORD *)&byte_5D4594[1217464] > 0 )
  {
    v9 = (int *)&byte_5D4594[1203884];
    v33 = &byte_5D4594[1203884];
    while ( 1 )
    {
      a2a = *((int2 *)v9 - 1);
      if ( v8 == v7 - 1 )
      {
        a3a = *(int2 *)&byte_5D4594[1203876];
      }
      else
      {
        v10 = v9[1];
        a3a.field_0 = *v9;
        a3a.field_4 = v10;
      }
      v38 = sub_4990D0(&a2a, &a3a);
      if ( v38
        && (!(v6 & 1)
         || a2a.field_0 <= v3->field_0
         || a2a.field_0 <= v4->field_0
         || a3a.field_0 <= v3->field_0
         || a3a.field_0 <= v4->field_0)
        && (!(v37 & 2) || a2a.field_0 >= v3->field_0 || a2a.field_0 >= v4->field_0 || a3a.field_0 >= v3->field_0) )
      {
        if ( !(v37 & 4)
          || (v11 = v3->field_4, a2a.field_4 <= v11)
          || (v12 = a2->field_4, a2a.field_4 <= v12)
          || a3a.field_4 <= v11
          || a3a.field_4 <= v12 )
        {
          if ( !(v37 & 8)
            || (v13 = v3->field_4, a2a.field_4 >= v13)
            || (v14 = a2->field_4, a2a.field_4 >= v14)
            || a3a.field_4 >= v13
            || a3a.field_4 >= v14 )
          {
            if ( a2a.field_0 == a3a.field_0 )
            {
              if ( v37 == 4 || v37 == 8 )
                goto LABEL_65;
              if ( v37 != 1 && v37 != 2 )
              {
                a1a.field_0 = a2a.field_0;
                v26 = (double)a2a.field_0 * v29;
                a1a.field_4 = v31 + sub_419A70(v26);
LABEL_59:
                if ( sub_499160(&a1a, &a2a, &a3a) && sub_499160(&a1a, v3, a2) )
                  sub_499130(&a1a.field_0);
                goto LABEL_65;
              }
              a1a.field_4 = v3->field_0;
              a1a.field_0 = a2a.field_0;
              if ( sub_499160(&a1a, &a2a, &a3a) && sub_499160(&a1a, v3, a2) )
              {
LABEL_64:
                sub_499130(&a1a.field_0);
                goto LABEL_65;
              }
            }
            else
            {
              v28 = (double)(a3a.field_4 - a2a.field_4) / (double)(a3a.field_0 - a2a.field_0);
              v21 = (double)a2a.field_0 * v28;
              v15 = sub_419A70(v21);
              v16 = a2a.field_4 - v15;
              if ( v37 == 4 || v37 == 8 )
              {
                if ( v38 == 1 || v38 == 2 )
                {
                  a1a.field_0 = v3->field_0;
                  a1a.field_4 = a2a.field_0;
                  if ( sub_499160(&a1a, &a2a, &a3a) && sub_499160(&a1a, v3, a2) )
                    sub_499130(&a1a.field_0);
                }
                else
                {
                  a1a.field_0 = v3->field_0;
                  v22 = (double)a1a.field_0 * v28;
                  a1a.field_4 = v16 + sub_419A70(v22);
                  if ( sub_499160(&a1a, &a2a, &a3a) && sub_499160(&a1a, v3, a2) )
                    sub_499130(&a1a.field_0);
                }
              }
              if ( v37 == 1 || v37 == 2 )
              {
                if ( v38 == 1 || v38 == 2 )
                  goto LABEL_65;
                v25 = (double)(v31 - v16) / v28;
                v17 = sub_419A70(v25);
                v18 = v3->field_4;
                a1a.field_0 = v17;
                a1a.field_4 = v18;
                goto LABEL_59;
              }
              if ( v29 != v28 )
              {
                v39 = (double)(v31 - v16);
                v30 = v28 - v29;
                v23 = v39 / v30;
                a1a.field_0 = sub_419A70(v23);
                v24 = v39 * v28 / v30;
                a1a.field_4 = v16 + sub_419A70(v24);
                if ( sub_499160(&a1a, &a2a, &a3a) && sub_499160(&a1a, v3, a2) )
                  goto LABEL_64;
              }
            }
          }
        }
      }
LABEL_65:
      v7 = *(_DWORD *)&byte_5D4594[1217464];
      v8 = v32 + 1;
      v9 = (int *)(v33 + 8);
      v19 = ++v32 < *(int *)&byte_5D4594[1217464];
      v33 += 8;
      if ( !v19 )
        break;
      v6 = v37;
      v4 = a2;
    }
  }
  sub_4991E0(v3);
  return *(_DWORD *)&byte_5D4594[1217452];
}
// 498EE0: variable 'v29' is possibly undefined
// 498EFA: variable 'v31' is possibly undefined

//----- (004990D0) --------------------------------------------------------
char __cdecl sub_4990D0(_DWORD *a1, _DWORD *a2)
{
  int v2; // ecx
  int v3; // edx
  char result; // al
  int v5; // ecx
  int v6; // edx
  int v7; // ecx
  int v8; // edx

  if ( *a1 <= *a2 )
  {
    if ( *a1 >= *a2 )
    {
      v7 = a1[1];
      v8 = a2[1];
      if ( v7 <= v8 )
      {
        if ( v7 >= v8 )
          result = 0;
        else
          result = 8;
      }
      else
      {
        result = 4;
      }
    }
    else
    {
      v5 = a1[1];
      v6 = a2[1];
      result = 2;
      if ( v5 <= v6 )
      {
        if ( v5 < v6 )
          result = 10;
      }
      else
      {
        result = 6;
      }
    }
  }
  else
  {
    v2 = a1[1];
    v3 = a2[1];
    result = 1;
    if ( v2 <= v3 )
    {
      if ( v2 < v3 )
        result = 9;
    }
    else
    {
      result = 5;
    }
  }
  return result;
}

//----- (00499130) --------------------------------------------------------
int __cdecl sub_499130(int *a1)
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[1217452];
  if ( *(int *)&byte_5D4594[1217452] < 32 )
  {
    result = *(_DWORD *)&byte_5D4594[1217452] + 1;
    *(_DWORD *)&byte_5D4594[8 * result + 1212060] = *a1;
    *(_DWORD *)&byte_5D4594[8 * result + 1212064] = a1[1];
    *(_DWORD *)&byte_5D4594[1217452] = result;
  }
  return result;
}

//----- (00499160) --------------------------------------------------------
BOOL __cdecl sub_499160(int2 *a1, int2 *a2, int2 *a3)
{
  int v3; // edi
  int v4; // esi
  int v5; // eax
  int v6; // edx
  int v7; // ecx
  BOOL result; // eax

  v3 = a3->field_0;
  if ( a3->field_0 > a2->field_0 )
  {
    v4 = a3->field_4;
    if ( v4 > a2->field_4 )
    {
      v3 = a3->field_0;
      v6 = a2->field_0;
      v4 = a2->field_4;
      v5 = a3->field_4;
    }
    else
    {
      v6 = a2->field_0;
      v5 = a2->field_4;
    }
  }
  else
  {
    v4 = a2->field_4;
    if ( a3->field_4 > v4 )
    {
      v6 = a3->field_0;
      v3 = a2->field_0;
      v5 = a3->field_4;
    }
    else
    {
      v5 = a2->field_4;
      v6 = a3->field_0;
      v4 = a3->field_4;
      v3 = a2->field_0;
    }
  }
  result = 0;
  if ( a1->field_0 >= v6 && a1->field_0 <= v3 )
  {
    v7 = a1->field_4;
    if ( v7 >= v4 && v7 <= v5 )
      result = 1;
  }
  return result;
}

//----- (004991E0) --------------------------------------------------------
void __cdecl sub_4991E0(_DWORD *a1)
{
  int v1; // ebp
  _DWORD *v2; // ebx
  int v3; // esi
  unsigned __int8 *v4; // edx
  int v5; // edi
  int v6; // edi
  _DWORD *v7; // ecx
  int v8; // eax
  int v9; // eax
  int v10; // esi
  int v11; // eax
  int v12; // [esp+4h] [ebp-4h]
  int v13; // [esp+Ch] [ebp+4h]

  v1 = *(_DWORD *)&byte_5D4594[1217452];
  if ( *(_DWORD *)&byte_5D4594[1217452] > 0 )
  {
    v2 = a1;
    v3 = 1;
    v12 = 1;
    v4 = &byte_5D4594[1212068];
    do
    {
      v5 = *((_DWORD *)v4 + 1) - v2[1];
      v6 = (*(_DWORD *)v4 - *v2) * (*(_DWORD *)v4 - *v2) + v5 * v5;
      if ( v3 < v1 )
      {
        v7 = v4 + 8;
        v13 = v1 - v3;
        do
        {
          v8 = v7[1] - v2[1];
          v9 = (*v7 - *v2) * (*v7 - *v2) + v8 * v8;
          if ( v9 < v6 )
          {
            v10 = *((_DWORD *)v4 + 1);
            v6 = v9;
            v11 = *(_DWORD *)v4;
            *(_DWORD *)v4 = *v7;
            *((_DWORD *)v4 + 1) = v7[1];
            *v7 = v11;
            v7[1] = v10;
          }
          v7 += 2;
          --v13;
        }
        while ( v13 );
        v1 = *(_DWORD *)&byte_5D4594[1217452];
        v3 = v12;
      }
      ++v3;
      v4 += 8;
      v12 = v3;
    }
    while ( v3 - 1 < v1 );
  }
}

//----- (00499290) --------------------------------------------------------
_QWORD __cdecl sub_499290(int a1)
{
  __int64 result; // rax

  LODWORD(result) = *(_DWORD *)&byte_5D4594[8 * a1 + 1212068];
  HIDWORD(result) = *(_DWORD *)&byte_5D4594[8 * a1 + 1212072];
  return result;
}

//----- (004992B0) --------------------------------------------------------
BOOL __cdecl sub_4992B0(int a1, int a2)
{
  BOOL result; // eax
  int v3; // ecx
  int v4; // ebp
  int v5; // ecx
  int v6; // edx
  BOOL v7; // [esp+0h] [ebp-8h]
  int v8; // [esp+4h] [ebp-4h]

  result = 0;
  v7 = 0;
  v8 = 0;
  if ( *(_DWORD *)&byte_5D4594[1217464] > 0 )
  {
    v3 = 8 * *(_DWORD *)&byte_5D4594[1217464] - 8;
    do
    {
      v4 = *(_DWORD *)&byte_5D4594[v3 + 1203876];
      v5 = *(_DWORD *)&byte_5D4594[v3 + 1203880];
      v6 = *(_DWORD *)&byte_5D4594[8 * v8 + 1203880];
      if ( v6 > a2 )
      {
        if ( v5 > a2 )
          goto LABEL_11;
      }
      else if ( a2 < v5 )
      {
        goto LABEL_8;
      }
      if ( a2 < v6 )
      {
LABEL_8:
        if ( a1 >= *(int *)&byte_5D4594[8 * v8 + 1203876]
                 + (a2 - v6) * (v4 - *(_DWORD *)&byte_5D4594[8 * v8 + 1203876]) / (v5 - v6) )
        {
          result = v7;
        }
        else
        {
          result = !v7;
          v7 = !v7;
        }
      }
LABEL_11:
      v3 = 8 * v8++;
    }
    while ( v8 < *(int *)&byte_5D4594[1217464] );
  }
  return result;
}

//----- (00499360) --------------------------------------------------------
int sub_499360()
{
  int v0; // eax
  int v1; // eax
  int v2; // eax
  int v3; // eax
  int v4; // eax
  int v5; // eax
  int v6; // eax
  int v7; // eax
  unsigned __int8 *v8; // eax

  v0 = sub_44CFC0((CHAR *)&byte_587000[161848]);
  *(_DWORD *)&byte_5D4594[1217468] = sub_45A240(v0);
  v1 = sub_44CFC0((CHAR *)&byte_587000[161868]);
  *(_DWORD *)&byte_5D4594[1217472] = sub_45A240(v1);
  v2 = sub_44CFC0((CHAR *)&byte_587000[161888]);
  *(_DWORD *)&byte_5D4594[1217476] = sub_45A240(v2);
  v3 = sub_44CFC0((CHAR *)&byte_587000[161908]);
  *(_DWORD *)&byte_5D4594[1217480] = sub_45A240(v3);
  *(_DWORD *)&byte_5D4594[1217484] = 0;
  v4 = sub_44CFC0((CHAR *)&byte_587000[161928]);
  *(_DWORD *)&byte_5D4594[1217488] = sub_45A240(v4);
  v5 = sub_44CFC0((CHAR *)&byte_587000[161948]);
  *(_DWORD *)&byte_5D4594[1217492] = sub_45A240(v5);
  v6 = sub_44CFC0((CHAR *)&byte_587000[161968]);
  *(_DWORD *)&byte_5D4594[1217496] = sub_45A240(v6);
  v7 = sub_44CFC0((CHAR *)&byte_587000[161988]);
  *(_DWORD *)&byte_5D4594[1217500] = sub_45A240(v7);
  v8 = &byte_5D4594[1217468];
  while ( v8 == &byte_5D4594[1217484] )
  {
LABEL_5:
    v8 += 4;
    if ( (int)v8 >= (int)&byte_5D4594[1217504] )
    {
      *(_DWORD *)&byte_5D4594[1217504] = 0;
      return 1;
    }
  }
  if ( *(_DWORD *)v8 )
  {
    *(_DWORD *)(*(_DWORD *)v8 + 120) |= 0x1000000u;
    goto LABEL_5;
  }
  return 0;
}

//----- (00499450) --------------------------------------------------------
int sub_499450()
{
  unsigned __int8 *v0; // esi
  int result; // eax

  v0 = &byte_5D4594[1217468];
  do
  {
    result = *(_DWORD *)v0;
    if ( *(_DWORD *)v0 )
      result = sub_45A4B0(*(_QWORD **)v0);
    *(_DWORD *)v0 = 0;
    v0 += 4;
  }
  while ( (int)v0 < (int)&byte_5D4594[1217504] );
  *(_DWORD *)&byte_5D4594[1217504] = 0;
  return result;
}

//----- (00499490) --------------------------------------------------------
_DWORD *__cdecl sub_499490(int a1, _WORD *a2, int a3, int a4, char a5, char a6)
{
  _DWORD *result; // eax
  _DWORD *v7; // esi

  result = (_DWORD *)sub_45A360(a1, a3 + (unsigned __int16)a2[2], a4 + (unsigned __int16)a2[3]);
  v7 = result;
  if ( result )
  {
    *((_WORD *)result + 216) = *a2;
    *((_WORD *)result + 217) = a2[1];
    *((_BYTE *)result + 443) = a5;
    *((_BYTE *)result + 444) = sub_415FF0(3, 10, (const char *)&byte_587000[162008], 138);
    *((_BYTE *)v7 + 446) = a6;
    *((_BYTE *)v7 + 445) = a6;
    result = sub_45A110(v7);
  }
  return result;
}

//----- (00499520) --------------------------------------------------------
_DWORD *__cdecl sub_499520(int a1, unsigned __int16 *a2, __int16 a3, char a4, char a5)
{
  int v5; // ebp
  int v6; // edi
  _DWORD *result; // eax
  _DWORD *v8; // esi

  v5 = a2[3];
  v6 = a2[2];
  result = (_DWORD *)sub_45A360(a1, v6, (unsigned __int16)v5);
  v8 = result;
  if ( result )
  {
    *((_WORD *)result + 216) = *a2;
    *((_WORD *)result + 217) = a2[1];
    *((_WORD *)result + 218) = v6;
    *((_WORD *)result + 219) = v5;
    *((_BYTE *)result + 442) = a3;
    *((_WORD *)result + 220) = (__int64)sqrt((double)((v6 - *a2) * (v6 - *a2) + (v5 - a2[1]) * (v5 - a2[1])));
    *((_BYTE *)result + 443) = a4;
    *((_BYTE *)result + 444) = sub_415FF0(3, 10, (const char *)&byte_587000[162040], 182);
    *((_BYTE *)v8 + 446) = a5;
    *((_BYTE *)v8 + 445) = a5;
    v8[116] = sub_4CA720;
    *((_WORD *)v8 + 254) = a3;
    result = sub_45A110(v8);
  }
  return result;
}

//----- (00499610) --------------------------------------------------------
int __cdecl sub_499610(int a1, int a2, int a3, int a4, int a5, int a6)
{
  int result; // eax
  int v7; // eax
  int v8; // esi

  result = a2;
  if ( a2 > 0 )
  {
    do
    {
      v7 = sub_45A360(a1, a5, a6);
      v8 = v7;
      if ( v7 )
      {
        *(_DWORD *)(v7 + 432) = *(_DWORD *)(v7 + 12) << 12;
        *(_DWORD *)(v7 + 436) = *(_DWORD *)(v7 + 16) << 12;
        *(_BYTE *)(v7 + 299) = sub_415FF0(0, 255, (const char *)&byte_587000[162072], 227);
        *(_DWORD *)(v8 + 440) = sub_415FF0(1, a3, (const char *)&byte_587000[162104], 230);
        *(_DWORD *)(v8 + 448) = *(_DWORD *)&byte_5D4594[2598000]
                              + sub_415FF0(a4, 64, (const char *)&byte_587000[162136], 233);
        *(_DWORD *)(v8 + 444) = *(_DWORD *)&byte_5D4594[2598000];
        *(_WORD *)(v8 + 104) = 0;
        *(_BYTE *)(v8 + 296) = sub_415FF0(2, 10, (const char *)&byte_587000[162168], 239);
        sub_45A110((_DWORD *)v8);
      }
      result = --a2;
    }
    while ( a2 );
  }
  return result;
}

//----- (00499710) --------------------------------------------------------
int __cdecl sub_499710(int a1, int a2, __int16 a3, int a4)
{
  int v4; // eax
  int v5; // esi
  int result; // eax
  int v7; // [esp+10h] [ebp-4h]

  v7 = 2;
  do
  {
    v4 = sub_45A360(a4, a1, a2);
    v5 = v4;
    if ( v4 )
    {
      *(_DWORD *)(v4 + 432) = a1 << 12;
      *(_DWORD *)(v4 + 436) = a2 << 12;
      *(_BYTE *)(v4 + 299) = sub_415FF0(0, 255, (const char *)&byte_587000[162200], 268);
      *(_DWORD *)(v5 + 440) = sub_415FF0(1, 3000, (const char *)&byte_587000[162232], 271);
      *(_DWORD *)(v5 + 448) = *(_DWORD *)&byte_5D4594[2598000]
                            + sub_415FF0(5, 20, (const char *)&byte_587000[162264], 274);
      *(_DWORD *)(v5 + 444) = *(_DWORD *)&byte_5D4594[2598000];
      *(_WORD *)(v5 + 104) = a3 + sub_415FF0(0, 20, (const char *)&byte_587000[162296], 279);
      *(_BYTE *)(v5 + 296) = sub_415FF0(0, 4, (const char *)&byte_587000[162328], 280);
      sub_45A110((_DWORD *)v5);
    }
    result = --v7;
  }
  while ( v7 );
  return result;
}

//----- (00499810) --------------------------------------------------------
int __cdecl sub_499810(int a1, int a2)
{
  int v3; // [esp-4h] [ebp-8h]

  *(_DWORD *)(*(_DWORD *)&byte_5D4594[4 * *(unsigned __int8 *)(a2 + 297) + 1217468] + 12) = *(_DWORD *)(a2 + 12)
                                                                                          + *(_DWORD *)&byte_587000[8 * *(unsigned __int8 *)(a2 + 297) + 161776];
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[4 * *(unsigned __int8 *)(a2 + 297) + 1217468] + 16) = *(_DWORD *)(a2 + 16)
                                                                                          + *(__int16 *)(a2 + 104)
                                                                                          + *(_DWORD *)&byte_587000[8 * *(unsigned __int8 *)(a2 + 297) + 161780];
  v3 = *(_DWORD *)&byte_5D4594[4 * *(unsigned __int8 *)(a2 + 297) + 1217468];
  (*(void (__cdecl **)(int, int))(v3 + 300))(a1, v3);
  return 0;
}

//----- (00499880) --------------------------------------------------------
_DWORD *__cdecl sub_499880(__int16 *a1)
{
  int i; // ebx
  _DWORD *result; // eax
  _DWORD *v3; // esi
  int v4; // eax
  double v5; // st7

  if ( !*(_DWORD *)&byte_5D4594[1217508] )
    *(_DWORD *)&byte_5D4594[1217508] = sub_44CFC0((CHAR *)&byte_587000[162360]);
  for ( i = 0; i < 256; i += 6 )
  {
    result = (_DWORD *)sub_45A360(*(int *)&byte_5D4594[1217508], *a1, a1[1]);
    v3 = result;
    if ( result )
    {
      v4 = 8 * (__int16)i;
      *((_WORD *)v3 + 254) = i;
      *((float *)v3 + 117) = *(float *)&byte_587000[v4 + 194136] * 4.0;
      v5 = *(float *)&byte_587000[v4 + 194140] * 4.0;
      v3[119] = 0;
      *((float *)v3 + 118) = v5;
      v3[79] = *(_DWORD *)&byte_5D4594[2598000];
      v3[81] = *a1;
      v3[82] = a1[1];
      v3[115] = sub_4CA540;
      sub_49BC80(v3);
      result = sub_49BAB0(v3);
    }
  }
  return result;
}

//----- (00499950) --------------------------------------------------------
int __cdecl sub_499950(int a1, int2 *a2, int2 *a3, unsigned __int16 a4, char a5)
{
  int result; // eax
  int v6; // esi

  result = sub_45A360(a1, a2->field_0, a2->field_4);
  v6 = result;
  if ( result )
  {
    *(_DWORD *)(result + 104) = a4;
    *(_BYTE *)(result + 296) = a5;
    *(_WORD *)(result + 440) = a4;
    *(_BYTE *)(result + 442) = sub_415FF0(3, 10, (const char *)&byte_587000[162376], 406);
    *(int2 *)(v6 + 432) = *a3;
    result = sub_45A110((_DWORD *)v6);
  }
  return result;
}

//----- (004999D0) --------------------------------------------------------
int __cdecl sub_4999D0(int a1, int2 *a2, int2 *a3)
{
  int2 *v3; // ebp
  int v4; // esi
  int v5; // edi
  __int64 v6; // rax
  int v7; // ebx
  int v8; // ecx
  int v9; // esi
  int v10; // edi
  int v11; // eax
  int v12; // ebp
  int v14; // [esp+10h] [ebp-Ch]
  int v15; // [esp+14h] [ebp-8h]
  int v16; // [esp+18h] [ebp-4h]
  int2 *v17; // [esp+28h] [ebp+Ch]

  v3 = a2;
  v4 = a3->field_0 - a2->field_0;
  v5 = a3->field_4 - a2->field_4;
  v14 = a3->field_0 - a2->field_0;
  v15 = v5;
  v6 = (__int64)sqrt((double)(v4 * v4 + v5 * v5));
  v7 = v6;
  v16 = v6;
  if ( (int)v6 > 0 )
  {
    LODWORD(v6) = sub_415FF0(0, v6, (const char *)&byte_587000[162408], 437);
    v8 = v6;
    v17 = (int2 *)v6;
    if ( (int)v6 <= v7 )
    {
      while ( 1 )
      {
        v9 = v3->field_0 + v4 * v8 / v7;
        v10 = v3->field_4 + v5 * v8 / v7;
        v11 = sub_45A360(a1, v9, v10);
        v12 = v11;
        if ( v11 )
        {
          if ( v11 != -432 )
          {
            *(_DWORD *)(v11 + 432) = v9 << 12;
            *(_DWORD *)(v11 + 436) = v10 << 12;
            *(_BYTE *)(v11 + 299) = sub_415FF0(0, 255, (const char *)&byte_587000[162472], 458);
            *(_DWORD *)(v12 + 440) = sub_415FF0(1, 3000, (const char *)&byte_587000[162504], 461);
            *(_DWORD *)(v12 + 448) = *(_DWORD *)&byte_5D4594[2598000]
                                   + sub_415FF0(5, 20, (const char *)&byte_587000[162536], 464);
            *(_DWORD *)(v12 + 444) = *(_DWORD *)&byte_5D4594[2598000];
          }
          *(_WORD *)(v12 + 104) = sub_415FF0(15, 30, (const char *)&byte_587000[162568], 471);
          *(_BYTE *)(v12 + 296) = sub_415FF0(-4, 4, (const char *)&byte_587000[162600], 472);
          sub_45A110((_DWORD *)v12);
          v7 = v16;
        }
        LODWORD(v6) = sub_415FF0(8, 100, (const char *)&byte_587000[162440], 439);
        v17 = (int2 *)((char *)v17 + v6);
        if ( (int)v17 > v7 )
          break;
        v3 = a2;
        v4 = v14;
        v5 = v15;
        v8 = (int)v17;
      }
    }
  }
  return v6;
}

//----- (00499B70) --------------------------------------------------------
void __cdecl sub_499B70(int xLeft, int yTop, int a3)
{
  switch ( a3 )
  {
    case 0:
    case 1:
      sub_49EFA0(xLeft, yTop);
      break;
    case 2:
      sub_49CE30(xLeft, yTop, 2, 2);
      break;
    case 3:
      sub_49EFA0(xLeft, yTop - 1);
      sub_49CE30(xLeft - 1, yTop, 3, 1);
      sub_49EFA0(xLeft, yTop + 1);
      break;
    case 4:
      sub_49CE30(xLeft, yTop - 1, 2, 1);
      sub_49CE30(xLeft - 1, yTop, 4, 2);
      sub_49CE30(xLeft, yTop + 2, 2, 1);
      break;
    case 5:
      sub_49CE30(xLeft - 1, yTop - 2, 3, 1);
      sub_49CE30(xLeft - 2, yTop - 1, 5, 3);
      sub_49CE30(xLeft - 1, yTop + 2, 3, 1);
      break;
    case 6:
      sub_49CE30(xLeft, yTop - 2, 2, 1);
      sub_49CE30(xLeft - 1, yTop - 1, 4, 1);
      sub_49CE30(xLeft - 2, yTop, 6, 2);
      sub_49CE30(xLeft - 1, yTop + 2, 4, 1);
      sub_49CE30(xLeft, yTop + 3, 2, 1);
      break;
    default:
      sub_4B0BC0(xLeft, yTop, a3 >> 1);
      break;
  }
}

//----- (00499CF0) --------------------------------------------------------
unsigned int __cdecl sub_499CF0(int *a1, int a2, int a3)
{
  unsigned int result; // eax
  int v4; // esi
  int2 a3a; // [esp+8h] [ebp-8h]

  sub_437250();
  if ( !sub_40A5C0(2048) || (result = sub_430B40() - *(_DWORD *)&byte_5D4594[1217504], result >= 2) )
  {
    *(_DWORD *)&byte_5D4594[1217504] = sub_430B40();
    if ( a1 == (int *)2 )
      v4 = 0;
    else
      v4 = (a1 == (int *)3) + 2;
    a3a.field_0 = 5;
    a3a.field_4 = *(_DWORD *)&byte_5D4594[3807120] / 3;
    sub_45D200(a1, a2, &a3a);
    sub_499E70(v4, a3a.field_0, a3a.field_4, 271, 166, 1, 1);
    sub_499E70(v4, a3a.field_0, a3a.field_4, 135, 166, 2, 1);
    sub_499E70(v4, a3a.field_0, a3a.field_4 + 166, 135, 166, 2, 1);
    sub_499E70(v4, a3a.field_0 + 271, a3a.field_4, 271, 166, 1, 2);
    sub_499E70(v4, a3a.field_0 + 135, a3a.field_4, 135, 166, 2, 2);
    result = sub_499E70(v4, a3a.field_0 + 135, a3a.field_4 + 166, 135, 166, 2, 2);
    if ( a1 != (int *)4 && a3 == 1 )
      result = sub_45D570((int)a1, a2);
  }
  return result;
}

//----- (00499E70) --------------------------------------------------------
int __cdecl sub_499E70(int a1, int a2, int a3, int a4, int a5, int a6, int a7)
{
  int v7; // edi
  int v8; // esi
  char v9; // bl
  int v10; // ebp
  int v11; // eax
  int result; // eax
  int v13; // [esp+10h] [ebp-4h]

  v13 = 100;
  do
  {
    if ( a6 == 2 )
    {
      v7 = a3;
      v8 = a2 + sub_415FF0(0, a4, (const char *)&byte_587000[162632], 555);
    }
    else
    {
      v8 = a2;
      v7 = a3 + sub_415FF0(0, a5, (const char *)&byte_587000[162664], 563);
    }
    v9 = sub_415FF0(2, 5, (const char *)&byte_587000[162696], 568);
    v10 = sub_415FF0(-40, -20, (const char *)&byte_587000[162728], 571);
    if ( a7 == 1 )
      v11 = sub_415FF0(-20, 0, (const char *)&byte_587000[162760], 573);
    else
      v11 = sub_415FF0(0, 20, (const char *)&byte_587000[162792], 575);
    sub_431540(a1, v8, v7, v11, v10, 1, v9, 0, 0, 1);
    result = --v13;
  }
  while ( v13 );
  return result;
}

//----- (00499F60) --------------------------------------------------------
_DWORD *__cdecl sub_499F60(int a1, int a2, int a3, __int16 a4, char a5, char a6, char a7, char a8, char a9, int a10)
{
  _DWORD *result; // eax
  int v11; // edx
  int v12; // ecx
  _DWORD *v13; // esi
  int v14; // eax

  if ( !*(_DWORD *)&byte_5D4594[1217512] )
  {
    *(_DWORD *)&byte_5D4594[1217512] = sub_44CFC0((CHAR *)&byte_587000[162824]);
    *(_DWORD *)&byte_5D4594[1217516] = sub_44CFC0((CHAR *)&byte_587000[162844]);
    *(_DWORD *)&byte_5D4594[1217520] = sub_44CFC0((CHAR *)&byte_587000[162864]);
    *(_DWORD *)&byte_5D4594[1217524] = sub_44CFC0((CHAR *)&byte_587000[162888]);
    *(_DWORD *)&byte_5D4594[1217528] = sub_44CFC0((CHAR *)&byte_587000[162912]);
    *(_DWORD *)&byte_5D4594[1217532] = sub_44CFC0((CHAR *)&byte_587000[162932]);
    *(_DWORD *)&byte_5D4594[1217536] = sub_44CFC0((CHAR *)&byte_587000[162956]);
    *(_DWORD *)&byte_5D4594[1217540] = sub_44CFC0((CHAR *)&byte_587000[162984]);
  }
  result = (_DWORD *)sub_45A360(a1, a2, a3);
  v13 = result;
  if ( result )
  {
    BYTE1(v11) = HIBYTE(a4);
    LOBYTE(result) = *((_BYTE *)result + 160);
    LOBYTE(v12) = *((_BYTE *)v13 + 156);
    *((_WORD *)v13 + 52) = a4;
    LOBYTE(v11) = *((_BYTE *)v13 + 152);
    v13[108] = sub_4344A0(v11, v12, (int)result);
    if ( a1 == *(_DWORD *)&byte_5D4594[1217512] )
    {
      v14 = sub_4344A0(255, 128, 128);
    }
    else if ( a1 == *(_DWORD *)&byte_5D4594[1217516] )
    {
      v14 = sub_4344A0(255, 255, 255);
    }
    else if ( a1 == *(_DWORD *)&byte_5D4594[1217524] )
    {
      v14 = sub_4344A0(255, 100, 50);
    }
    else if ( a1 == *(_DWORD *)&byte_5D4594[1217528] )
    {
      v14 = sub_4344A0(64, 255, 64);
    }
    else if ( a1 == *(_DWORD *)&byte_5D4594[1217532] )
    {
      v14 = sub_4344A0(255, 100, 255);
    }
    else if ( a1 == *(_DWORD *)&byte_5D4594[1217536] )
    {
      v14 = sub_4344A0(255, 200, 255);
    }
    else if ( a1 == *(_DWORD *)&byte_5D4594[1217540] )
    {
      v14 = sub_4344A0(255, 255, 200);
    }
    else
    {
      v14 = sub_4344A0(200, 200, 255);
    }
    v13[109] = v14;
    *((_BYTE *)v13 + 440) = a5;
    *((_BYTE *)v13 + 443) = a6;
    *((_BYTE *)v13 + 442) = a6;
    *((_BYTE *)v13 + 441) = 1;
    *((_BYTE *)v13 + 444) = a8;
    *((_BYTE *)v13 + 445) = a9;
    *((_BYTE *)v13 + 446) = a7;
    sub_49BAB0(v13);
    sub_49B950(v13, a10);
    result = sub_45A110(v13);
  }
  return result;
}
// 49A025: variable 'v11' is possibly undefined
// 49A025: variable 'v12' is possibly undefined

//----- (0049A150) --------------------------------------------------------
int __cdecl sub_49A150(int2 *a1, int a2, unsigned __int8 a3)
{
  int v3; // ebx
  int result; // eax
  int v5; // ebp
  int v6; // eax
  int v7; // esi
  int v8; // [esp+1Ch] [ebp+Ch]

  v3 = 2400 * a3 / 255 + 200;
  result = 84215050 * a3;
  v5 = 10 * a3 / 255 + 5;
  if ( 180 * a3 / 255 + 10 > 0 )
  {
    v8 = 180 * a3 / 255 + 10;
    do
    {
      v6 = sub_45A360(a2, a1->field_0, a1->field_4);
      v7 = v6;
      if ( v6 )
      {
        if ( v6 != -432 )
        {
          *(_DWORD *)(v6 + 432) = *(_DWORD *)(v6 + 12) << 12;
          *(_DWORD *)(v6 + 436) = *(_DWORD *)(v6 + 16) << 12;
          *(_BYTE *)(v6 + 299) = sub_415FF0(0, 255, (const char *)&byte_587000[163008], 822);
          *(_DWORD *)(v7 + 440) = sub_415FF0(1, v3, (const char *)&byte_587000[163040], 825);
          *(_DWORD *)(v7 + 448) = *(_DWORD *)&byte_5D4594[2598000]
                                + sub_415FF0(v5, 96, (const char *)&byte_587000[163072], 828);
          *(_DWORD *)(v7 + 444) = *(_DWORD *)&byte_5D4594[2598000];
        }
        *(_WORD *)(v7 + 104) = sub_415FF0(5, 15, (const char *)&byte_587000[163104], 834);
        *(_WORD *)(v7 + 106) = 0;
        *(_BYTE *)(v7 + 296) = sub_415FF0(0, 8, (const char *)&byte_587000[163136], 836);
        sub_45A110((_DWORD *)v7);
      }
      result = --v8;
    }
    while ( v8 );
  }
  return result;
}

//----- (0049A2C0) --------------------------------------------------------
int sub_49A2C0()
{
  int result; // eax

  result = 0;
  npc_array = calloc(1024, 1316);
  return result;
}

//----- (0049A300) --------------------------------------------------------
unsigned __int8 *__cdecl sub_49A300(int a1)
{
  int v1; // ecx
  unsigned __int8 *v2; // eax
  unsigned __int8 *v4; // esi

  v1 = 0;
  v2 = npc_array;
  while ( *v2 )
  {
    v2 += 1316;
    ++v1;
    if ( v1 >= 1024 )
      return 0;
  }
  sub_49A380(v2, a1);
  return v2;
}

//----- (0049A340) --------------------------------------------------------
char *__cdecl sub_49A340(int a1)
{
  int v1; // ecx
  unsigned __int8 *v2; // eax

  v1 = 0;
  v2 = npc_array;
  while ( *((_DWORD *)v2 + 1) != a1 || *v2 != 1 )
  {
    v2 += 1316;
    ++v1;
    if ( v1 >= 1024 )
      return 0;
  }
  return v2;
}

//----- (0049A380) --------------------------------------------------------
int __cdecl sub_49A380(_DWORD *a1, int a2)
{
  int result; // eax

  memset(a1, 0, 0x524u);
  result = a2;
  *(_BYTE *)a1 = 1;
  a1[1] = a2;
  return result;
}

//----- (0049A3B0) --------------------------------------------------------
char *__cdecl sub_49A3B0(int a1, int a2)
{
  char *result; // eax

  result = sub_49A340(a1);
  if ( result )
    *((_DWORD *)result + 328) = a2;
  return result;
}

//----- (0049A3D0) --------------------------------------------------------
char *__cdecl sub_49A3D0(char a1, int a2, int a3, int a4)
{
  char *result; // eax
  int v5; // ecx
  _DWORD *k; // edx
  char *v7; // ecx
  char **v8; // edi
  int l; // esi
  int v10; // ecx
  _DWORD *i; // edx
  char *v12; // ecx
  char **v13; // edi
  int j; // esi

  result = sub_49A340(a2);
  if ( result )
  {
    if ( a1 == 81 || a1 == 80 )
    {
      v10 = 0;
      for ( i = result + 32; *i; i += 6 )
      {
        if ( ++v10 >= 27 )
          return result;
      }
      v12 = &result[24 * v10];
      *((_DWORD *)v12 + 8) = a3;
      v13 = (char **)(v12 + 36);
      *((_DWORD *)result + 326) |= a3;
      for ( j = 0; j < 4; ++j )
      {
        result = (char *)sub_413330(*(unsigned __int8 *)(j + a4));
        *v13 = result;
        ++v13;
      }
    }
    else
    {
      v5 = 0;
      for ( k = result + 680; *k; k += 6 )
      {
        if ( ++v5 >= 26 )
          return result;
      }
      v7 = &result[24 * v5];
      *((_DWORD *)v7 + 170) = a3;
      v8 = (char **)(v7 + 684);
      *((_DWORD *)result + 327) |= a3;
      for ( l = 0; l < 4; ++l )
      {
        result = (char *)sub_413330(*(unsigned __int8 *)(l + a4));
        *v8 = result;
        ++v8;
      }
    }
  }
  return result;
}

//----- (0049A4B0) --------------------------------------------------------
int __cdecl sub_49A4B0(_DWORD *a1, int a2, int a3)
{
  int result; // eax
  int v4; // ecx

  result = a1[108];
  v4 = a1[69] - 1;
  a1[108] = 0;
  switch ( v4 )
  {
    case 0:
    case 1:
    case 2:
    case 3:
      if ( !(a2 & 0xFFFFFFFC) )
      {
        if ( !result || !a1[77] )
          result = sub_415FF0(23, 24, (const char *)&byte_587000[163168], 286);
        goto LABEL_12;
      }
      result = sub_4FA280(a2 & 0xFFFFFFFC);
      break;
    case 4:
    case 5:
      if ( a2 & 0x400 )
      {
        if ( result && a1[77] )
        {
LABEL_12:
          a1[108] = result;
        }
        else
        {
          result = sub_415FF0(47, 49, (const char *)&byte_587000[163208], 314);
          a1[108] = result;
        }
      }
      else if ( a2 & 0x7FF8000 )
      {
        result = 30;
      }
      else
      {
        if ( !(a3 & 0x3000000) )
          goto LABEL_22;
        result = 40;
      }
      break;
    case 6:
      result = 21;
      break;
    case 7:
LABEL_22:
      result = (a2 & 0x400) != 0 ? 0x26 : 0;
      break;
    case 8:
      result = 1;
      break;
    case 9:
      result = 2;
      break;
    case 11:
      result = 4;
      break;
    case 12:
      result = 6;
      break;
    case 13:
      result = 50;
      break;
    default:
      result = 0;
      break;
  }
  return result;
}

//----- (0049A5F0) --------------------------------------------------------
int sub_49A5F0()
{
  int result; // eax

  result = sub_413FE0((const char *)&byte_587000[163248], 20, 32);
  *(_DWORD *)&byte_5D4594[1301772] = result;
  if ( result )
  {
    *(_DWORD *)&byte_5D4594[1301780] = sub_43F360((char *)&byte_587000[163264]);
    result = 1;
  }
  return result;
}

//----- (0049A630) --------------------------------------------------------
void sub_49A630()
{
  sub_4144D0(*(_DWORD **)&byte_5D4594[1301772]);
  *(_DWORD *)&byte_5D4594[1301776] = 0;
}

//----- (0049A650) --------------------------------------------------------
_WORD *__cdecl sub_49A650(int a1, __int16 a2)
{
  _WORD *result; // eax
  _WORD *v3; // esi

  result = sub_4142F0(*(_DWORD **)&byte_5D4594[1301772]);
  v3 = result;
  if ( result )
  {
    *(_DWORD *)result = a1;
    result[2] = a2;
    *((_DWORD *)result + 2) = sub_430B40();
    *((_DWORD *)v3 + 3) = *(_DWORD *)&byte_5D4594[1301776];
    *((_DWORD *)v3 + 4) = 0;
    result = *(_WORD **)&byte_5D4594[1301776];
    if ( *(_DWORD *)&byte_5D4594[1301776] )
      *(_DWORD *)(*(_DWORD *)&byte_5D4594[1301776] + 16) = v3;
    *(_DWORD *)&byte_5D4594[1301776] = v3;
  }
  return result;
}

//----- (0049A6A0) --------------------------------------------------------
void __cdecl sub_49A6A0(_DWORD *a1, int a2)
{
  _DWORD *v2; // eax
  int v3; // esi
  _DWORD *v4; // edi
  int v5; // edi
  int v6; // esi
  int v7; // edi
  _DWORD *v8; // [esp+4h] [ebp-C0h]
  int v9; // [esp+Ch] [ebp-B8h]
  int v10; // [esp+10h] [ebp-B4h]
  _DWORD *v11; // [esp+1Ch] [ebp-A8h]
  int v12; // [esp+20h] [ebp-A4h]
  wchar_t v13[80]; // [esp+24h] [ebp-A0h]

  v10 = sub_430B40();
  if ( a2 == *(_DWORD *)&byte_5D4594[2614252] )
    v9 = *(_DWORD *)&byte_5D4594[2650644];
  else
    v9 = *(_DWORD *)&byte_5D4594[2589772];
  v2 = *(_DWORD **)&byte_5D4594[1301776];
  v8 = *(_DWORD **)&byte_5D4594[1301776];
  if ( *(_DWORD *)&byte_5D4594[1301776] )
  {
    while ( 1 )
    {
      v3 = v2[2];
      v4 = (_DWORD *)v2[3];
      v11 = (_DWORD *)v2[3];
      if ( (unsigned int)(v10 - v3) <= 0x1E )
      {
        if ( *v2 == *(_DWORD *)(a2 + 128) )
        {
          v5 = *a1 + *(_DWORD *)(a2 + 12) - a1[4];
          v6 = *(_DWORD *)(a2 + 16)
             + a1[1]
             + 2 * (v3 - v10)
             - *(__int16 *)(a2 + 104)
             - (unsigned __int64)(__int64)*(float *)(a2 + 100)
             - a1[5];
          nox_swprintf(v13, (const wchar_t *)&byte_587000[163272], abs32(*((__int16 *)v8 + 2)));
          sub_43F840(*(int *)&byte_5D4594[1301780], v13, &v12, 0, 0);
          v7 = v12 / -2 + v5;
          sub_434390(*(int *)&byte_5D4594[2650656]);
          sub_43F6E0(*(int *)&byte_5D4594[1301780], (__int16 *)v13, v7 - 1, v6 - 1);
          sub_43F6E0(*(int *)&byte_5D4594[1301780], (__int16 *)v13, v7 - 1, v6 + 1);
          sub_43F6E0(*(int *)&byte_5D4594[1301780], (__int16 *)v13, v7 + 1, v6 - 1);
          sub_43F6E0(*(int *)&byte_5D4594[1301780], (__int16 *)v13, v7 + 1, v6 + 1);
          if ( *((short *)v8 + 2) <= 0 )
            sub_434390(v9);
          else
            sub_434390(*(int *)&byte_5D4594[2618904]);
          sub_43F6E0(*(int *)&byte_5D4594[1301780], (__int16 *)v13, v7, v6);
          v4 = v11;
        }
      }
      else
      {
        sub_49A880((int)v2);
      }
      v8 = v4;
      if ( !v4 )
        break;
      v2 = v4;
    }
  }
}

//----- (0049A880) --------------------------------------------------------
void __cdecl sub_49A880(int a1)
{
  int v1; // ecx
  int v2; // ecx

  v1 = *(_DWORD *)(a1 + 16);
  if ( v1 )
    *(_DWORD *)(v1 + 12) = *(_DWORD *)(a1 + 12);
  else
    *(_DWORD *)&byte_5D4594[1301776] = *(_DWORD *)(a1 + 12);
  v2 = *(_DWORD *)(a1 + 12);
  if ( v2 )
    *(_DWORD *)(v2 + 16) = *(_DWORD *)(a1 + 16);
  sub_414330(*(unsigned int **)&byte_5D4594[1301772], (_QWORD *)a1);
}

//----- (0049A8C0) --------------------------------------------------------
int sub_49A8C0()
{
  int result; // eax

  sub_414100(*(LPVOID *)&byte_5D4594[1301772]);
  result = 0;
  *(_DWORD *)&byte_5D4594[1301772] = 0;
  *(_DWORD *)&byte_5D4594[1301776] = 0;
  *(_DWORD *)&byte_5D4594[1301780] = 0;
  return result;
}

//----- (0049A8E0) --------------------------------------------------------
int sub_49A8E0()
{
  size_t v1; // eax
  int v2; // esi

  *(_DWORD *)&byte_5D4594[1301788] = 47;
  *(_DWORD *)&byte_5D4594[1301784] = malloc(0xBCu);
  if ( !*(_DWORD *)&byte_5D4594[1301784] )
    return 0;
  v1 = *(_DWORD *)&byte_5D4594[1301788];
  v2 = 0;
  if ( *(_DWORD *)&byte_5D4594[1301788] > 0 )
  {
    while ( 1 )
    {
      *(_DWORD *)(*(_DWORD *)&byte_5D4594[1301784] + 4 * v2) = calloc(v1, 4u);
      if ( !*(_DWORD *)(*(_DWORD *)&byte_5D4594[1301784] + 4 * v2) )
        break;
      v1 = *(_DWORD *)&byte_5D4594[1301788];
      if ( ++v2 >= *(int *)&byte_5D4594[1301788] )
        return 1;
    }
    return 0;
  }
  return 1;
}

//----- (0049A950) --------------------------------------------------------
int sub_49A950()
{
  int i; // esi

  if ( !*(_DWORD *)&byte_5D4594[1301784] )
    return 1;
  for ( i = 0; i < *(int *)&byte_5D4594[1301788]; ++i )
    free(*(LPVOID *)(*(_DWORD *)&byte_5D4594[1301784] + 4 * i));
  free(*(LPVOID *)&byte_5D4594[1301784]);
  *(_DWORD *)&byte_5D4594[1301784] = 0;
  return 1;
}

//----- (0049A9B0) --------------------------------------------------------
int __cdecl sub_49A9B0(int a1)
{
  int result; // eax
  int v2; // ecx
  int v3; // ecx

  result = a1;
  v2 = *(_DWORD *)(a1 + 404);
  if ( v2 )
    *(_DWORD *)(v2 + 400) = *(_DWORD *)(a1 + 400);
  else
    **(_DWORD **)(a1 + 396) = *(_DWORD *)(a1 + 400);
  v3 = *(_DWORD *)(a1 + 400);
  if ( v3 )
    *(_DWORD *)(v3 + 404) = *(_DWORD *)(a1 + 404);
  *(_DWORD *)(a1 + 396) = 0;
  return result;
}

//----- (0049AA00) --------------------------------------------------------
int __cdecl sub_49AA00(_DWORD *a1)
{
  int v1; // edi
  int v2; // ebx
  int result; // eax
  int v4; // ecx

  v1 = a1[3] / 128;
  v2 = a1[4] / 128;
  if ( a1[99] )
    sub_49A9B0((int)a1);
  a1[101] = 0;
  result = 4 * v2;
  a1[100] = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1301784] + 4 * v1) + 4 * v2);
  v4 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1301784] + 4 * v1) + 4 * v2);
  if ( v4 )
    *(_DWORD *)(v4 + 404) = a1;
  *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1301784] + 4 * v1) + 4 * v2) = a1;
  a1[99] = result + *(_DWORD *)(*(_DWORD *)&byte_5D4594[1301784] + 4 * v1);
  return result;
}

//----- (0049AA90) --------------------------------------------------------
int __cdecl sub_49AA90(_DWORD *a1, int a2, int a3)
{
  int v3; // ebx
  int v4; // ecx
  int v5; // edi
  int v6; // edx

  v3 = a2;
  v4 = a1[4];
  a1[8] = a1[3];
  a1[9] = v4;
  if ( a2 < 0 || a2 >= 5888 || (v5 = a3, a3 < 0) || a3 >= 5888 )
  {
    v3 = 50;
    v5 = 50;
    if ( !(a1[30] & 0x400000) )
      sub_45A110(a1);
  }
  v6 = a1[5];
  a1[3] = v3;
  a1[10] = v6;
  a1[4] = v5;
  a1[5] = *(_DWORD *)&byte_5D4594[2598000];
  return sub_49AA00(a1);
}

//----- (0049AB00) --------------------------------------------------------
void __cdecl sub_49AB00(int4 *a1, void (__cdecl *a2)(int, int), int a3)
{
  int v3; // edi
  int v4; // esi
  int v5; // ecx
  int v6; // ebp
  int v7; // esi
  int v8; // [esp+10h] [ebp-10h]
  int v9; // [esp+14h] [ebp-Ch]
  int v10; // [esp+18h] [ebp-8h]

  if ( a2 )
  {
    v3 = a1->field_0 / 128;
    v4 = a1->field_4 / 128;
    v5 = a1->field_C / 128;
    v10 = a1->field_0 / 128;
    v8 = a1->field_8 / 128;
    v9 = a1->field_C / 128;
    if ( v3 < 0 )
    {
      v10 = 0;
      v3 = 0;
    }
    if ( a1->field_8 / 128 >= *(int *)&byte_5D4594[1301788] )
      v8 = *(_DWORD *)&byte_5D4594[1301788] - 1;
    if ( v4 < 0 )
      v4 = 0;
    if ( v5 >= *(int *)&byte_5D4594[1301788] )
    {
      v9 = *(_DWORD *)&byte_5D4594[1301788] - 1;
      v5 = *(_DWORD *)&byte_5D4594[1301788] - 1;
    }
    v6 = v4;
    if ( v4 <= v5 )
    {
      while ( 1 )
      {
        if ( v10 <= v8 )
        {
          do
          {
            v7 = *(_DWORD *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1301784] + 4 * v3) + 4 * v6);
            if ( v7 )
            {
              do
              {
                a2(v7, a3);
                v7 = *(_DWORD *)(v7 + 400);
              }
              while ( v7 );
              v5 = v9;
            }
            ++v3;
          }
          while ( v3 <= v8 );
        }
        if ( ++v6 > v5 )
          break;
        v3 = v10;
      }
    }
  }
}

//----- (0049ABF0) --------------------------------------------------------
_DWORD *__cdecl sub_49ABF0(_DWORD *a1, int a2)
{
  int v2; // ecx
  _DWORD *v3; // edi
  int v4; // ebx
  int v5; // esi
  int v6; // ebp
  int v7; // esi
  int v8; // eax
  int v9; // edx
  int v10; // ebp
  _DWORD *v11; // esi
  int v12; // eax
  int v13; // eax
  _DWORD *v15; // [esp+10h] [ebp-10h]
  int v16; // [esp+14h] [ebp-Ch]
  int i; // [esp+18h] [ebp-8h]
  int v18; // [esp+1Ch] [ebp-4h]
  int v19; // [esp+24h] [ebp+4h]
  int v20; // [esp+24h] [ebp+4h]
  int v21; // [esp+28h] [ebp+8h]

  v2 = a2;
  v3 = a1;
  v18 = a2 * a2;
  v4 = 999999999;
  v5 = *a1;
  v15 = 0;
  v16 = (*a1 - a2) / 128;
  if ( v16 < 0 )
    v16 = 0;
  v19 = a1[1];
  v6 = (v19 - a2) / 128;
  if ( v6 < 0 )
    v6 = 0;
  v7 = (v5 + a2) / 128;
  v21 = v7;
  if ( v7 >= *(int *)&byte_5D4594[1301788] )
  {
    v21 = *(_DWORD *)&byte_5D4594[1301788] - 1;
    v7 = *(_DWORD *)&byte_5D4594[1301788] - 1;
  }
  v8 = (v2 + v19) / 128;
  v20 = v8;
  if ( v8 >= *(int *)&byte_5D4594[1301788] )
  {
    v20 = *(_DWORD *)&byte_5D4594[1301788] - 1;
    v8 = *(_DWORD *)&byte_5D4594[1301788] - 1;
  }
  v9 = v6;
  for ( i = v6; v9 <= v8; i = v9 )
  {
    v10 = v16;
    if ( v16 <= v7 )
    {
      do
      {
        v11 = *(_DWORD **)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[1301784] + 4 * v10) + 4 * v9);
        if ( v11 )
        {
          do
          {
            if ( sub_4984B0((int)v11) )
            {
              v12 = v3[1] - v11[4];
              v13 = (*v3 - v11[3]) * (*v3 - v11[3]) + v12 * v12;
              if ( v13 < v4 && v13 < v18 )
              {
                v4 = v13;
                v15 = v11;
              }
            }
            v11 = (_DWORD *)v11[100];
          }
          while ( v11 );
          v8 = v20;
          v9 = i;
        }
        ++v10;
      }
      while ( v10 <= v21 );
      v7 = v21;
    }
    ++v9;
  }
  return v15;
}

//----- (0049AD20) --------------------------------------------------------
int __cdecl sub_49AD20(_DWORD *a1, int a2)
{
  int v2; // ecx
  int v3; // eax
  int v4; // ebp
  int v5; // ecx
  int v6; // ebx
  int v7; // edi
  _DWORD *v8; // esi
  int result; // eax
  int v10; // [esp+14h] [ebp+4h]

  v2 = *a1 / 128;
  v3 = a1[1] / 128;
  v4 = (v2 - 1) & ((v2 - 1 < 0) - 1);
  v5 = v2 + 1;
  if ( v5 >= *(int *)&byte_5D4594[1301788] - 1 )
    v5 = *(_DWORD *)&byte_5D4594[1301788] - 1;
  v10 = v3 + 1;
  if ( v3 + 1 >= *(int *)&byte_5D4594[1301788] - 1 )
    v10 = *(_DWORD *)&byte_5D4594[1301788] - 1;
  v6 = v3 - 1 < 0 ? 0 : v3 - 1;
  if ( v6 > v10 )
    return 0;
  while ( 1 )
  {
    v7 = v4;
    if ( v4 <= v5 )
      break;
LABEL_12:
    if ( ++v6 > v10 )
      return 0;
  }
  v8 = (_DWORD *)(*(_DWORD *)&byte_5D4594[1301784] + 4 * v4);
  while ( 1 )
  {
    result = *(_DWORD *)(*v8 + 4 * v6);
    if ( result )
      break;
LABEL_11:
    ++v7;
    ++v8;
    if ( v7 > v5 )
      goto LABEL_12;
  }
  while ( *(_DWORD *)(result + 128) != a2 )
  {
    result = *(_DWORD *)(result + 400);
    if ( !result )
      goto LABEL_11;
  }
  return result;
}

//----- (0049ADD0) --------------------------------------------------------
int __cdecl sub_49ADD0(int a1)
{
  _DWORD *v2; // eax
  int v3; // ecx

  *(_DWORD *)&byte_5D4594[1301844] = 0;
  *(_DWORD *)&byte_5D4594[1301848] = 0;
  *(_DWORD *)&byte_5D4594[1301824] = 0;
  *(_DWORD *)&byte_5D4594[1301832] = 0;
  *(_DWORD *)&byte_5D4594[1301800] = 0;
  *(_DWORD *)&byte_5D4594[1301828] = 0;
  *(_DWORD *)&byte_5D4594[1301840] = 0;
  *(_DWORD *)&byte_5D4594[1301792] = 0;
  *(_DWORD *)&byte_5D4594[1301836] = 0;
  *(_DWORD *)&byte_5D4594[1301812] = 0;
  *(_DWORD *)&byte_5D4594[1301804] = 0;
  *(_DWORD *)&byte_5D4594[1301816] = 0;
  *(_DWORD *)&byte_5D4594[1301808] = 0;
  *(_DWORD *)&byte_5D4594[1301796] = 0;
  *(_DWORD *)&byte_5D4594[1301820] = a1;
  *(_DWORD *)&byte_5D4594[1301844] = sub_413FE0((const char *)&byte_587000[163280], 12, a1);
  if ( !*(_DWORD *)&byte_5D4594[1301844] )
    return 0;
  *(_DWORD *)&byte_5D4594[1301824] = *(_DWORD *)&byte_5D4594[3807120];
  v2 = malloc(4 * *(_DWORD *)&byte_5D4594[3807120]);
  *(_DWORD *)&byte_5D4594[1301848] = v2;
  if ( !v2 )
    return 0;
  v3 = 0;
  if ( *(_DWORD *)&byte_5D4594[1301824] > 0 )
  {
    while ( 1 )
    {
      v2[v3++] = 0;
      if ( v3 >= *(int *)&byte_5D4594[1301824] )
        break;
      v2 = *(_DWORD **)&byte_5D4594[1301848];
    }
  }
  return 1;
}

//----- (0049AEA0) --------------------------------------------------------
int sub_49AEA0()
{
  if ( *(_DWORD *)&byte_5D4594[1301844] )
  {
    sub_414100(*(LPVOID *)&byte_5D4594[1301844]);
    *(_DWORD *)&byte_5D4594[1301844] = 0;
  }
  if ( *(_DWORD *)&byte_5D4594[1301848] )
  {
    free(*(LPVOID *)&byte_5D4594[1301848]);
    *(_DWORD *)&byte_5D4594[1301848] = 0;
  }
  return 1;
}

//----- (0049AEE0) --------------------------------------------------------
void sub_49AEE0()
{
  int v0; // edx
  unsigned int v1; // ecx
  int v2; // eax

  v0 = 0;
  *(_DWORD *)&byte_5D4594[1301792] = 0;
  *(_DWORD *)&byte_5D4594[1301812] = 0;
  *(_DWORD *)&byte_5D4594[1301816] = 0;
  *(_DWORD *)&byte_5D4594[1301796] = 0;
  if ( *(_DWORD *)&byte_5D4594[1301824] > 0 )
  {
    do
    {
      v1 = 0;
      *(_DWORD *)&byte_5D4594[1301808] = 0;
      v2 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1301848] + 4 * v0);
      if ( v2 )
      {
        do
        {
          *(_DWORD *)&byte_5D4594[1301808] = ++v1;
          v2 = *(_DWORD *)(v2 + 8);
        }
        while ( v2 );
        if ( v1 > *(int *)&byte_5D4594[1301816] )
        {
          *(_DWORD *)&byte_5D4594[1301816] = v1;
          *(_DWORD *)&byte_5D4594[1301796] = v0;
        }
      }
      ++v0;
      *(_DWORD *)&byte_5D4594[1301812] += v1;
      *(_DWORD *)(*(_DWORD *)&byte_5D4594[1301848] + 4 * v0 - 4) = 0;
    }
    while ( v0 < *(int *)&byte_5D4594[1301824] );
    if ( *(_DWORD *)&byte_5D4594[1301812] > *(int *)&byte_5D4594[1301804] )
      *(_DWORD *)&byte_5D4594[1301804] = *(_DWORD *)&byte_5D4594[1301812];
  }
  sub_4144D0(*(_DWORD **)&byte_5D4594[1301844]);
}

//----- (0049AF80) --------------------------------------------------------
int *__cdecl sub_49AF80(int a1, int a2, int a3)
{
  int *result; // eax
  int v4; // edx
  int *v5; // esi

  *(_DWORD *)&byte_5D4594[1301836] = a1;
  if ( *(_DWORD *)(*(_DWORD *)&byte_5D4594[1301848] + 4 * a1) )
  {
    result = *(int **)&byte_5D4594[1301800];
    if ( *(_DWORD *)&byte_5D4594[1301832] )
    {
      if ( *(_DWORD *)&byte_5D4594[1301832] != *(_DWORD *)&byte_5D4594[1301800] )
      {
        if ( *(_DWORD *)&byte_5D4594[1301800] )
          v4 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1301800] + 4);
        else
          v4 = a3;
        *(_DWORD *)(*(_DWORD *)&byte_5D4594[1301832] + 4) = v4;
        result = (int *)sub_49B1D0(*(int *)&byte_5D4594[1301832], *(int *)&byte_5D4594[1301840]);
      }
    }
    else if ( *(_DWORD *)&byte_5D4594[1301800] )
    {
      **(_DWORD **)&byte_5D4594[1301800] = a2;
      result = (int *)sub_49B1D0(*(int *)&byte_5D4594[1301828], *(int *)&byte_5D4594[1301800]);
    }
    else
    {
      result = (int *)sub_414190(*(_DWORD **)&byte_5D4594[1301844]);
      v5 = result;
      if ( result )
      {
        *result = a2;
        result[1] = a3;
        sub_49B1D0(*(int *)&byte_5D4594[1301828], *(int *)&byte_5D4594[1301840]);
        result = *(int **)&byte_5D4594[1301828];
        if ( *(_DWORD *)&byte_5D4594[1301828] )
        {
          *(_DWORD *)(*(_DWORD *)&byte_5D4594[1301828] + 8) = v5;
        }
        else
        {
          result = *(int **)&byte_5D4594[1301848];
          *(_DWORD *)(*(_DWORD *)&byte_5D4594[1301848] + 4 * *(_DWORD *)&byte_5D4594[1301836]) = v5;
        }
        v5[2] = *(_DWORD *)&byte_5D4594[1301840];
      }
    }
  }
  else
  {
    result = (int *)sub_414190(*(_DWORD **)&byte_5D4594[1301844]);
    if ( result )
    {
      *result = a2;
      result[1] = a3;
      result[2] = 0;
      *(_DWORD *)(*(_DWORD *)&byte_5D4594[1301848] + 4 * *(_DWORD *)&byte_5D4594[1301836]) = result;
    }
  }
  return result;
}

//----- (0049B0A0) --------------------------------------------------------
int __cdecl sub_49B0A0(int a1, int a2, int a3)
{
  int *v3; // eax
  int *v5; // ecx
  int *v6; // eax

  if ( *(_DWORD *)&byte_5D4594[1301792] )
  {
    sub_49B1A0(*(int *)&byte_5D4594[1301792]);
    *(_DWORD *)&byte_5D4594[1301792] = 0;
  }
  *(_DWORD *)&byte_5D4594[1301836] = a1;
  v3 = (int *)sub_414190(*(_DWORD **)&byte_5D4594[1301844]);
  *(_DWORD *)&byte_5D4594[1301792] = v3;
  if ( !v3 )
    return 0;
  *v3 = a2;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[1301792] + 4) = a3;
  v5 = 0;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[1301792] + 8) = 0;
  *(_DWORD *)&byte_5D4594[1301832] = 0;
  *(_DWORD *)&byte_5D4594[1301828] = 0;
  v6 = *(int **)(*(_DWORD *)&byte_5D4594[1301848] + 4 * *(_DWORD *)&byte_5D4594[1301836]);
  if ( !v6 )
    goto LABEL_22;
  do
  {
    if ( *v6 > a2 )
      break;
    if ( v6[1] + 1 >= a2 )
    {
      *(_DWORD *)&byte_5D4594[1301832] = v6;
      goto LABEL_13;
    }
    v5 = v6;
    *(_DWORD *)&byte_5D4594[1301828] = v6;
    v6 = (int *)v6[2];
  }
  while ( v6 );
  v6 = v5;
  if ( !v5 )
LABEL_22:
    v6 = *(int **)(*(_DWORD *)&byte_5D4594[1301848] + 4 * *(_DWORD *)&byte_5D4594[1301836]);
LABEL_13:
  *(_DWORD *)&byte_5D4594[1301800] = 0;
  *(_DWORD *)&byte_5D4594[1301840] = 0;
  if ( v6 )
  {
    while ( *v6 - 1 <= a3 )
    {
      if ( v6[1] >= a3 )
      {
        *(_DWORD *)&byte_5D4594[1301800] = v6;
        v6 = (int *)v6[2];
        break;
      }
      v6 = (int *)v6[2];
      if ( !v6 )
      {
        *(_DWORD *)&byte_5D4594[1301840] = 0;
        return sub_49B260();
      }
    }
  }
  *(_DWORD *)&byte_5D4594[1301840] = v6;
  return sub_49B260();
}

//----- (0049B1A0) --------------------------------------------------------
int __cdecl sub_49B1A0(int a1)
{
  int result; // eax
  int v2; // esi

  result = a1;
  if ( a1 )
  {
    do
    {
      v2 = *(_DWORD *)(result + 8);
      sub_414330(*(unsigned int **)&byte_5D4594[1301844], (_QWORD *)result);
      result = v2;
    }
    while ( v2 );
  }
  return result;
}

//----- (0049B1D0) --------------------------------------------------------
int __cdecl sub_49B1D0(int a1, int a2)
{
  int *v2; // ecx
  int result; // eax

  if ( a1 )
  {
    for ( result = *(_DWORD *)(a1 + 8); result; result = *(_DWORD *)(a1 + 8) )
    {
      if ( result == a2 )
        break;
      *(_DWORD *)(a1 + 8) = *(_DWORD *)(result + 8);
      sub_414330(*(unsigned int **)&byte_5D4594[1301844], (_QWORD *)result);
    }
  }
  else
  {
    v2 = (int *)(*(_DWORD *)&byte_5D4594[1301848] + 4 * *(_DWORD *)&byte_5D4594[1301836]);
    for ( result = *v2; result; v2 = (int *)(*(_DWORD *)&byte_5D4594[1301848] + 4 * *(_DWORD *)&byte_5D4594[1301836]) )
    {
      if ( result == a2 )
        break;
      *v2 = *(_DWORD *)(result + 8);
      sub_414330(*(unsigned int **)&byte_5D4594[1301844], (_QWORD *)result);
      result = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1301848] + 4 * *(_DWORD *)&byte_5D4594[1301836]);
    }
  }
  return result;
}

//----- (0049B260) --------------------------------------------------------
int sub_49B260()
{
  int *v0; // edi
  int *v1; // ebx
  int *v3; // esi
  int v4; // ebp
  int *v5; // eax
  int v6; // edx

  if ( *(_DWORD *)&byte_5D4594[1301832] )
  {
    if ( *(_DWORD *)&byte_5D4594[1301832] == *(_DWORD *)&byte_5D4594[1301800] )
      return 0;
    **(_DWORD **)&byte_5D4594[1301792] = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1301832] + 4) + 1;
    v0 = *(int **)(*(_DWORD *)&byte_5D4594[1301832] + 8);
    if ( *(_DWORD *)&byte_5D4594[1301800] )
    {
      *(_DWORD *)(*(_DWORD *)&byte_5D4594[1301792] + 4) = **(_DWORD **)&byte_5D4594[1301800] - 1;
      v1 = *(int **)&byte_5D4594[1301800];
      goto LABEL_11;
    }
LABEL_10:
    v1 = *(int **)&byte_5D4594[1301840];
    goto LABEL_11;
  }
  v0 = *(int **)&byte_5D4594[1301828];
  if ( !*(_DWORD *)&byte_5D4594[1301828] )
    v0 = *(int **)(*(_DWORD *)&byte_5D4594[1301848] + 4 * *(_DWORD *)&byte_5D4594[1301836]);
  if ( !*(_DWORD *)&byte_5D4594[1301800] )
    goto LABEL_10;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[1301792] + 4) = **(_DWORD **)&byte_5D4594[1301800] - 1;
  v1 = *(int **)&byte_5D4594[1301800];
LABEL_11:
  v3 = *(int **)&byte_5D4594[1301792];
  v4 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1301792] + 4);
  if ( v0 != v1 )
  {
    while ( *v0 <= v4 )
    {
      if ( *v0 >= *v3 )
      {
        v5 = (int *)sub_414190(*(_DWORD **)&byte_5D4594[1301844]);
        if ( !v5 )
        {
          sub_49B1A0(*(int *)&byte_5D4594[1301792]);
          *(_DWORD *)&byte_5D4594[1301792] = 0;
          return 0;
        }
        *v5 = v0[1] + 1;
        v5[1] = v3[1];
        v5[2] = 0;
        v6 = *v0;
        v3[2] = (int)v5;
        v3[1] = v6 - 1;
        v3 = v5;
      }
      v0 = (int *)v0[2];
      if ( v0 == v1 )
        return *(_DWORD *)&byte_5D4594[1301792];
    }
  }
  return *(_DWORD *)&byte_5D4594[1301792];
}

//----- (0049B370) --------------------------------------------------------
int sub_49B370()
{
  return *(_DWORD *)&byte_5D4594[1301796];
}

//----- (0049B380) --------------------------------------------------------
int sub_49B380()
{
  return *(_DWORD *)&byte_5D4594[1301816];
}

//----- (0049B3A0) --------------------------------------------------------
int sub_49B3A0()
{
  return *(_DWORD *)&byte_5D4594[1301812];
}

//----- (0049B3B0) --------------------------------------------------------
int sub_49B3B0()
{
  return *(_DWORD *)&byte_5D4594[1301820];
}

//----- (0049B3C0) --------------------------------------------------------
int sub_49B3C0()
{
  int result; // eax

  result = 0;
  *(_DWORD *)&byte_5D4594[1301812] = 0;
  *(_DWORD *)&byte_5D4594[1301816] = 0;
  *(_DWORD *)&byte_5D4594[1301808] = 0;
  *(_DWORD *)&byte_5D4594[1301796] = 0;
  return result;
}

//----- (0049B3E0) --------------------------------------------------------
int sub_49B3E0()
{
  int result; // eax

  result = sub_4A0AD0((const char *)&byte_587000[163292], sub_49B420);
  *(_DWORD *)&byte_5D4594[1303452] = result;
  if ( result )
  {
    sub_46AC00(result, 1);
    sub_46ABB0(*(int *)&byte_5D4594[1303452], 0);
    result = 1;
  }
  return result;
}

//----- (0049B420) --------------------------------------------------------
int __cdecl sub_49B420(int a1, int a2, int *a3, int a4)
{
  int v3; // esi

  if ( a2 == 16391 )
  {
    v3 = sub_46B0A0(a3);
    sub_452D80(766, 100);
    if ( v3 == 10701 )
    {
      sub_4460C0();
      sub_49B6B0();
    }
    else if ( v3 == 10702 )
    {
      LOWORD(a2) = 1008;
      sub_4E53C0(31, &a2, 2, 0, 1);
      sub_49B6B0();
      return 0;
    }
  }
  return 0;
}

//----- (0049B490) --------------------------------------------------------
int sub_49B490()
{
  int result; // eax

  result = sub_46C4E0(*(_DWORD **)&byte_5D4594[1303452]);
  *(_DWORD *)&byte_5D4594[1303452] = 0;
  return result;
}

//----- (0049B4B0) --------------------------------------------------------
int __cdecl sub_49B4B0(unsigned __int16 *a1)
{
  wchar_t *v1; // eax
  wchar_t *v2; // eax
  wchar_t *v3; // eax
  _DWORD *v4; // eax
  _DWORD *v5; // eax
  _DWORD *v6; // eax
  _DWORD *v7; // eax
  _DWORD *v8; // eax
  _DWORD *v9; // eax
  int result; // eax
  int v11; // [esp-4h] [ebp-10h]
  int v12; // [esp-4h] [ebp-10h]
  int v13; // [esp-4h] [ebp-10h]
  int v14; // [esp+4h] [ebp-8h]
  int v15; // [esp+8h] [ebp-4h]

  sub_46AC00(*(int *)&byte_5D4594[1303452], 0);
  sub_46ABB0(*(int *)&byte_5D4594[1303452], 1);
  sub_452D80(1007, 100);
  sub_46AB70(*(int *)&byte_5D4594[1303452], &v15, &v14);
  sub_46A9B0(
    *(_DWORD **)&byte_5D4594[1303452],
    *(int *)&byte_5D4594[3805496] / 2 - v15 / 2,
    *(int *)&byte_5D4594[3807120] / 2 - v14 / 2);
  v11 = a1[1];
  v1 = sub_40F1D0((char *)&byte_587000[163344], 0, (const char *)&byte_587000[163304], 178);
  nox_swprintf((wchar_t *)&byte_5D4594[1302172], v1, v11);
  v12 = a1[2];
  v2 = sub_40F1D0((char *)&byte_587000[163416], 0, (const char *)&byte_587000[163376], 181);
  nox_swprintf((wchar_t *)&byte_5D4594[1301916], v2, v12);
  v13 = a1[3];
  v3 = sub_40F1D0((char *)&byte_587000[163484], 0, (const char *)&byte_587000[163444], 183);
  nox_swprintf((wchar_t *)&byte_5D4594[1302428], v3, v13);
  nox_swprintf((wchar_t *)&byte_5D4594[1303196], (const wchar_t *)&byte_5D4594[1303460]);
  v4 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1303452], 10710);
  sub_46AEE0((int)v4, (int)&byte_5D4594[1302172]);
  v5 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1303452], 10705);
  sub_46AEE0((int)v5, (int)&byte_5D4594[1302940]);
  v6 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1303452], 10706);
  sub_46AEE0((int)v6, (int)&byte_5D4594[1302684]);
  v7 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1303452], 10707);
  sub_46AEE0((int)v7, (int)&byte_5D4594[1301916]);
  v8 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1303452], 10708);
  sub_46AEE0((int)v8, (int)&byte_5D4594[1302428]);
  v9 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1303452], 10711);
  sub_46AEE0((int)v9, (int)&byte_5D4594[1303196]);
  result = *(_DWORD *)&byte_5D4594[2598000];
  *(_DWORD *)&byte_5D4594[1303456] = *(_DWORD *)&byte_5D4594[2598000];
  return result;
}

//----- (0049B6B0) --------------------------------------------------------
int sub_49B6B0()
{
  sub_46AC00(*(int *)&byte_5D4594[1303452], 1);
  sub_46ABB0(*(int *)&byte_5D4594[1303452], 0);
  return sub_46B500(0);
}

//----- (0049B6E0) --------------------------------------------------------
int sub_49B6E0()
{
  int result; // eax
  int v1; // eax
  wchar_t *v2; // eax
  _DWORD *v3; // eax
  int v4; // [esp-4h] [ebp-4h]

  result = *(_DWORD *)&byte_5D4594[1303452];
  if ( *(_DWORD *)&byte_5D4594[1303452] )
  {
    result = sub_46ACC0(*(int *)&byte_5D4594[1303452]);
    if ( !result )
    {
      v1 = *(_DWORD *)&byte_5D4594[1303456] + 30 * *(_DWORD *)&byte_5D4594[2649704] - *(_DWORD *)&byte_5D4594[2598000];
      if ( v1 < 0 )
        v1 = 0;
      if ( *(_DWORD *)&byte_5D4594[2618908] && *(_BYTE *)(*(_DWORD *)&byte_5D4594[2618908] + 2064) == 31 )
      {
        nox_wcscpy((wchar_t *)&byte_5D4594[1301852], (const wchar_t *)&byte_5D4594[1303464]);
      }
      else
      {
        v4 = (unsigned int)v1 / *(_DWORD *)&byte_5D4594[2649704];
        v2 = sub_40F1D0((char *)&byte_587000[163544], 0, (const char *)&byte_587000[163504], 265);
        nox_swprintf((wchar_t *)&byte_5D4594[1301852], (const wchar_t *)&byte_587000[163560], v2, v4);
      }
      v3 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1303452], 10712);
      result = sub_46AEE0((int)v3, (int)&byte_5D4594[1301852]);
    }
  }
  return result;
}

//----- (0049B7A0) --------------------------------------------------------
void sub_49B7A0()
{
  int v0; // esi
  void *v2; // ecx

  v0 = 0;
  if ( !sub_477600() && !sub_44E0D0() )
  {
    if ( sub_460660() )
      v0 = 1;
    if ( !sub_46A6A0() && v0 != 1 )
    {
      if ( sub_45D9B0() == 1 )
      {
        sub_45D870();
      }
      else
      {
        if ( sub_4BFE40() )
          v0 = 1;
        if ( sub_4606B0() )
          v0 = 1;
        if ( sub_462740() )
          v0 = 1;
        if ( !sub_44A4E0() && v0 != 1 )
        {
          if ( sub_479590() == 2 )
          {
            sub_4795A0(1);
          }
          else if ( sub_479590() == 3 )
          {
            sub_4795A0(1);
          }
          else if ( sub_479590() == 4 )
          {
            sub_4795A0(1);
          }
          else if ( !sub_478040() && !sub_479950() )
          {
            if ( sub_467C10() )
              v0 = 1;
            if ( sub_45ACA0(0) )
              v0 = 1;
            if ( sub_4512B0() )
              v0 = 1;
            if ( sub_446780() )
              v0 = 1;
            if ( sub_4574D0() )
              v0 = 1;
            if ( sub_48CAD0() )
              v0 = 1;
            if ( sub_4AD9B0(1) )
              v0 = 1;
            if ( sub_4C35B0(1) )
              v0 = 1;
            if ( !sub_46D6F0() && v0 != 1 )
            {
              if ( sub_4DCCB0() )
                sub_445C40();
              else
                sub_452D80(231, 100);
            }
          }
        }
      }
    }
  }
}
// 49B874: variable 'v1' is possibly undefined
// 49B881: variable 'v2' is possibly undefined

//----- (0049B950) --------------------------------------------------------
_DWORD *__cdecl sub_49B950(_DWORD *a1, int a2)
{
  unsigned int v2; // edx
  _DWORD *result; // eax
  _DWORD *v4; // ecx
  int v5; // ecx

  if ( a1[89] )
    sub_49BA10(a1);
  v2 = *(_DWORD *)&byte_5D4594[2598000] + a2;
  a1[89] = *(_DWORD *)&byte_5D4594[2598000] + a2;
  result = *(_DWORD **)&byte_5D4594[1303468];
  if ( *(_DWORD *)&byte_5D4594[1303468] )
  {
    v4 = 0;
    while ( result[89] < v2 )
    {
      v4 = result;
      result = (_DWORD *)result[87];
      if ( !result )
        goto LABEL_10;
    }
    if ( !result )
    {
LABEL_10:
      v4[87] = a1;
      a1[87] = 0;
      a1[88] = v4;
      return result;
    }
    a1[87] = result;
    a1[88] = result[88];
    v5 = result[88];
    if ( v5 )
      *(_DWORD *)(v5 + 348) = a1;
    else
      *(_DWORD *)&byte_5D4594[1303468] = a1;
    result[88] = a1;
  }
  else
  {
    a1[87] = *(_DWORD *)&byte_5D4594[1303468];
    a1[88] = result;
    *(_DWORD *)&byte_5D4594[1303468] = a1;
  }
  return result;
}

//----- (0049BA10) --------------------------------------------------------
_DWORD *__cdecl sub_49BA10(_DWORD *a1)
{
  _DWORD *result; // eax
  int v2; // ecx
  int v3; // ecx

  result = a1;
  if ( a1[89] )
  {
    v2 = a1[88];
    if ( v2 )
      *(_DWORD *)(v2 + 348) = a1[87];
    else
      *(_DWORD *)&byte_5D4594[1303468] = a1[87];
    v3 = a1[87];
    if ( v3 )
      *(_DWORD *)(v3 + 352) = a1[88];
    a1[89] = 0;
  }
  return result;
}

//----- (0049BA70) --------------------------------------------------------
int sub_49BA70()
{
  int result; // eax
  int v1; // esi

  result = *(_DWORD *)&byte_5D4594[1303468];
  if ( *(_DWORD *)&byte_5D4594[1303468] )
  {
    do
    {
      v1 = *(_DWORD *)(result + 348);
      if ( *(_DWORD *)(result + 356) > *(int *)&byte_5D4594[2598000] )
        break;
      sub_45A4E0(result);
      result = v1;
    }
    while ( v1 );
  }
  return result;
}

//----- (0049BAB0) --------------------------------------------------------
_DWORD *__cdecl sub_49BAB0(_DWORD *a1)
{
  _DWORD *result; // eax

  result = a1;
  a1[84] = 0;
  a1[83] = *(_DWORD *)&byte_5D4594[1303472];
  if ( *(_DWORD *)&byte_5D4594[1303472] )
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1303472] + 336) = a1;
  *(_DWORD *)&byte_5D4594[1303472] = a1;
  a1[30] |= 0x200000u;
  return result;
}

//----- (0049BAF0) --------------------------------------------------------
_DWORD *__cdecl sub_49BAF0(_DWORD *a1)
{
  _DWORD *result; // eax
  int v2; // ecx
  int v3; // ecx

  result = a1;
  if ( a1[30] & 0x200000 )
  {
    v2 = a1[84];
    if ( v2 )
      *(_DWORD *)(v2 + 332) = a1[83];
    else
      *(_DWORD *)&byte_5D4594[1303472] = a1[83];
    v3 = a1[83];
    if ( v3 )
      *(_DWORD *)(v3 + 336) = a1[84];
    a1[30] &= 0xFFDFFFFF;
  }
  return result;
}

//----- (0049BB40) --------------------------------------------------------
void sub_49BB40()
{
  int v0; // esi
  int v1; // edi

  v0 = *(_DWORD *)&byte_5D4594[1303472];
  if ( *(_DWORD *)&byte_5D4594[1303472] )
  {
    do
    {
      v1 = *(_DWORD *)(v0 + 332);
      if ( *(_DWORD *)(v0 + 340) < (unsigned int)sub_435590() )
        sub_45A4E0(v0);
      v0 = v1;
    }
    while ( v1 );
  }
}

//----- (0049BB80) --------------------------------------------------------
void *__cdecl sub_49BB80(char a1)
{
  void *result; // eax

  byte_5D4594[1303504] = a1;
  byte_5D4594[1303512] = 0;
  *(_DWORD *)&byte_5D4594[1303516] = *(_DWORD *)&byte_5D4594[2598000];
  result = sub_424820();
  *(_DWORD *)&byte_5D4594[1303508] = result;
  return result;
}

//----- (0049BBB0) --------------------------------------------------------
void sub_49BBB0()
{
  byte_5D4594[1303504] = 0;
}

//----- (0049BBC0) --------------------------------------------------------
void sub_49BBC0()
{
  int v0; // eax
  unsigned __int8 v1; // [esp+0h] [ebp-4h]

  if ( byte_5D4594[1303504] )
  {
    v1 = sub_424A20(byte_5D4594[1303504])[byte_5D4594[1303512]];
    if ( *(_DWORD *)&byte_5D4594[2598000] >= *(int *)&byte_5D4594[1303516] )
    {
      v0 = sub_4FE1C0(*(int *)&byte_5D4594[2616328], v1);
      sub_452D80(v0, 100);
      sub_476E00(*(_DWORD *)&byte_587000[4 * v1 + 163576]);
      *(_DWORD *)&byte_5D4594[1303516] = *(_DWORD *)&byte_5D4594[2598000] + 3;
      *(_DWORD *)&byte_5D4594[1303508] = sub_424830(*(int *)&byte_5D4594[1303508], v1);
      ++byte_5D4594[1303512];
    }
    if ( **(_DWORD **)&byte_5D4594[1303508] == byte_5D4594[1303504] )
      sub_49BBB0();
  }
}

//----- (0049BC80) --------------------------------------------------------
_DWORD *__cdecl sub_49BC80(_DWORD *a1)
{
  _DWORD *result; // eax

  result = a1;
  if ( !a1[96] )
  {
    a1[95] = 0;
    a1[94] = *(_DWORD *)&byte_5D4594[1303536];
    if ( *(_DWORD *)&byte_5D4594[1303536] )
      *(_DWORD *)(*(_DWORD *)&byte_5D4594[1303536] + 380) = a1;
    *(_DWORD *)&byte_5D4594[1303536] = a1;
    a1[96] = 1;
  }
  return result;
}

//----- (0049BCD0) --------------------------------------------------------
_DWORD *__cdecl sub_49BCD0(_DWORD *a1)
{
  _DWORD *result; // eax
  int v2; // ecx
  int v3; // ecx
  int v4; // ecx

  result = a1;
  if ( a1[96] )
  {
    v2 = a1[95];
    if ( v2 )
    {
      *(_DWORD *)(v2 + 376) = a1[94];
      v3 = a1[94];
      if ( v3 )
      {
        *(_DWORD *)(v3 + 380) = a1[95];
        a1[96] = 0;
        return result;
      }
    }
    else
    {
      *(_DWORD *)&byte_5D4594[1303536] = a1[94];
      v4 = a1[94];
      if ( v4 )
        *(_DWORD *)(v4 + 380) = 0;
    }
    a1[96] = 0;
  }
  return result;
}

//----- (0049BD40) --------------------------------------------------------
int sub_49BD40()
{
  return *(_DWORD *)&byte_5D4594[1303536];
}

//----- (0049BD50) --------------------------------------------------------
int __cdecl sub_49BD50(int a1)
{
  int result; // eax

  if ( a1 )
    result = *(_DWORD *)(a1 + 376);
  else
    result = 0;
  return result;
}

//----- (0049BD70) --------------------------------------------------------
int (__cdecl *__cdecl sub_49BD70(int a1))(int, int)
{
  int (__cdecl *result)(int, int); // eax
  int (__cdecl *v2)(int, int); // esi
  int v3; // edi
  int (__cdecl *v4)(int, _DWORD); // eax

  result = (int (__cdecl *)(int, int))sub_413A50();
  if ( result != (int (__cdecl *)(int, int))1 )
  {
    result = (int (__cdecl *)(int, int))sub_49BD40();
    v2 = result;
    if ( result )
    {
      do
      {
        v3 = sub_49BD50((int)v2);
        v4 = (int (__cdecl *)(int, _DWORD))*((_DWORD *)v2 + 116);
        if ( !v4 || (result = (int (__cdecl *)(int, int))v4(a1, v2)) != 0 )
        {
          result = (int (__cdecl *)(int, int))*((_DWORD *)v2 + 115);
          if ( result )
            result = (int (__cdecl *)(int, int))result(a1, (int)v2);
        }
        v2 = (int (__cdecl *)(int, int))v3;
      }
      while ( v3 );
    }
  }
  return result;
}

//----- (0049BDD0) --------------------------------------------------------
int __cdecl sub_49BDD0(unsigned __int8 *a1)
{
  int result; // eax
  unsigned __int8 *v2; // esi
  unsigned __int8 *v3; // edi
  int v4; // ebx
  int v5; // ebp
  int v6; // eax
  int v7; // ecx
  int v8; // eax
  int v9; // eax
  int v10; // eax
  int v11; // ecx
  int v12; // [esp-Ch] [ebp-28h]
  int v13; // [esp-Ch] [ebp-28h]
  int v14; // [esp-Ch] [ebp-28h]
  int v15; // [esp-Ch] [ebp-28h]
  char v16; // [esp+10h] [ebp-Ch]
  char v17; // [esp+10h] [ebp-Ch]
  char v18; // [esp+10h] [ebp-Ch]
  WORD v19[4]; // [esp+14h] [ebp-8h]
  int v20; // [esp+20h] [ebp+4h]

  result = *(_DWORD *)&byte_5D4594[1304308];
  if ( *(int *)&byte_5D4594[1304308] < 96 )
  {
    if ( !*(_DWORD *)&byte_5D4594[1304316] )
    {
      *(_DWORD *)&byte_5D4594[1304316] = sub_44CFC0((CHAR *)&byte_587000[163612]);
      *(_DWORD *)&byte_5D4594[1304320] = sub_44CFC0((CHAR *)&byte_587000[163632]);
      *(_DWORD *)&byte_5D4594[1304324] = sub_44CFC0((CHAR *)&byte_587000[163656]);
      *(_DWORD *)&byte_5D4594[1304348] = sub_44CFC0((CHAR *)&byte_587000[163676]);
      *(_DWORD *)&byte_5D4594[1304328] = sub_44CFC0((CHAR *)&byte_587000[163688]);
      *(_DWORD *)&byte_5D4594[1304332] = sub_44CFC0((CHAR *)&byte_587000[163696]);
      *(_DWORD *)&byte_5D4594[1304336] = sub_44CFC0((CHAR *)&byte_587000[163708]);
      *(_DWORD *)&byte_5D4594[1304340] = sub_44CFC0((CHAR *)&byte_587000[163724]);
      *(_DWORD *)&byte_5D4594[1304344] = sub_44CFC0((CHAR *)&byte_587000[163732]);
    }
    v2 = a1;
    v3 = a1 + 1;
    v4 = *(unsigned __int16 *)(a1 + 1) + (*(unsigned __int16 *)(a1 + 5) - *(unsigned __int16 *)(a1 + 1)) / 2;
    result = *a1 - 125;
    v5 = *(unsigned __int16 *)(a1 + 3) + (*(unsigned __int16 *)(a1 + 7) - *(unsigned __int16 *)(a1 + 3)) / 2;
    switch ( *a1 )
    {
      case 0x7Du:
        v20 = *(_DWORD *)&byte_5D4594[1304332];
        goto LABEL_17;
      case 0x8Cu:
        v20 = *(_DWORD *)&byte_5D4594[1304316];
        goto LABEL_17;
      case 0x8Du:
        v20 = *(_DWORD *)&byte_5D4594[1304324];
        goto LABEL_17;
      case 0x8Eu:
        v20 = *(_DWORD *)&byte_5D4594[1304320];
        goto LABEL_17;
      case 0x8Fu:
        v18 = sub_415FF0(6, 12, (const char *)&byte_587000[164184], 137);
        v20 = *(_DWORD *)&byte_5D4594[1304328];
        if ( sub_415FF0(0, 100, (const char *)&byte_587000[164224], 140) < 50 )
        {
          v15 = sub_415FF0(-20, 20, (const char *)&byte_587000[164264], 143);
          v10 = sub_415FF0(-20, 20, (const char *)&byte_587000[164304], 142);
          sub_499490(*(int *)&byte_5D4594[1304336], v3, v10, v15, v18, 0);
        }
        goto LABEL_17;
      case 0x90u:
        v16 = sub_415FF0(6, 12, (const char *)&byte_587000[163744], 101);
        v20 = *(_DWORD *)&byte_5D4594[1304328];
        if ( sub_415FF0(0, 100, (const char *)&byte_587000[163784], 104) < 50 )
        {
          v12 = sub_415FF0(-20, 20, (const char *)&byte_587000[163824], 107);
          v6 = sub_415FF0(-20, 20, (const char *)&byte_587000[163864], 106);
          sub_499490(*(int *)&byte_5D4594[1304344], v3, v6, v12, v16, 0);
        }
        v7 = *(_DWORD *)v3;
        *(_DWORD *)v19 = *(_DWORD *)(v2 + 5);
        *(_DWORD *)&v19[2] = v7;
        if ( sub_415FF0(0, 100, (const char *)&byte_587000[163904], 112) < 50 )
        {
          v13 = sub_415FF0(-20, 20, (const char *)&byte_587000[163944], 115);
          v8 = sub_415FF0(-20, 20, (const char *)&byte_587000[163984], 114);
          sub_499490(*(int *)&byte_5D4594[1304344], v19, v8, v13, v16, 0);
        }
        goto LABEL_17;
      case 0x91u:
        v17 = sub_415FF0(6, 12, (const char *)&byte_587000[164024], 123);
        v20 = *(_DWORD *)&byte_5D4594[1304328];
        if ( sub_415FF0(0, 100, (const char *)&byte_587000[164064], 126) < 50 )
        {
          v14 = sub_415FF0(-20, 20, (const char *)&byte_587000[164104], 129);
          v9 = sub_415FF0(-20, 20, (const char *)&byte_587000[164144], 128);
          sub_499490(*(int *)&byte_5D4594[1304340], v3, v9, v14, v17, 0);
        }
LABEL_17:
        result = sub_45A360(v20, v4, v5);
        if ( result )
        {
          *(_BYTE *)(result + 432) = 0;
          *(_DWORD *)(result + 437) = *(_DWORD *)v3;
          *(_DWORD *)(result + 441) = *((_DWORD *)v3 + 1);
          v11 = *(_DWORD *)&byte_5D4594[1304308];
          *(_DWORD *)&byte_5D4594[4 * *(_DWORD *)&byte_5D4594[1304308] + 1303540] = result;
          *(_DWORD *)&byte_5D4594[1304308] = v11 + 1;
        }
        break;
      default:
        return result;
    }
  }
  return result;
}

//----- (0049C160) --------------------------------------------------------
_DWORD *__cdecl sub_49C160(int a1)
{
  _DWORD *result; // eax
  int v2; // eax
  int v3; // esi
  int v4; // eax
  int v5; // ebx
  _DWORD *v6; // eax
  _DWORD *v7; // edi
  int v8; // esi
  int v9; // edi
  int v10; // kr00_4
  int v11; // ecx
  int v12; // edx
  int v13; // edx
  unsigned __int8 *v14; // ecx

  result = *(_DWORD **)&byte_5D4594[1304312];
  if ( *(int *)&byte_5D4594[1304312] < 96 )
  {
    if ( !*(_DWORD *)&byte_5D4594[1304352] )
    {
      *(_DWORD *)&byte_5D4594[1304352] = sub_44CFC0((CHAR *)&byte_587000[164344]);
      *(_DWORD *)&byte_5D4594[1304356] = sub_44CFC0((CHAR *)&byte_587000[164364]);
      *(_DWORD *)&byte_5D4594[1304360] = sub_44CFC0((CHAR *)&byte_587000[164388]);
      *(_DWORD *)&byte_5D4594[1304364] = sub_44CFC0((CHAR *)&byte_587000[164408]);
      *(_DWORD *)&byte_5D4594[1304368] = sub_44CFC0((CHAR *)&byte_587000[164416]);
      *(_DWORD *)&byte_5D4594[1304372] = sub_44CFC0((CHAR *)&byte_587000[164428]);
      *(_DWORD *)&byte_5D4594[1304376] = sub_44CFC0((CHAR *)&byte_587000[164444]);
      *(_DWORD *)&byte_5D4594[1304380] = sub_44CFC0((CHAR *)&byte_587000[164452]);
      *(_DWORD *)&byte_5D4594[1304384] = sub_44CFC0((CHAR *)&byte_587000[164464]);
      *(_DWORD *)&byte_5D4594[1304388] = sub_44CFC0((CHAR *)&byte_587000[164480]);
      *(_DWORD *)&byte_5D4594[1304392] = sub_44CFC0((CHAR *)&byte_587000[164488]);
      *(_DWORD *)&byte_5D4594[1304396] = sub_44CFC0((CHAR *)&byte_587000[164500]);
    }
    v2 = sub_578B30(*(_WORD *)(a1 + 3));
    v3 = v2;
    v4 = sub_578B30(*(_WORD *)(a1 + 5));
    v5 = v4;
    v6 = sub_578B70(*(unsigned __int16 *)(a1 + 3)) ? sub_45A720(v3) : sub_45A6F0(v3);
    v7 = v6;
    result = sub_578B70(*(unsigned __int16 *)(a1 + 5)) ? sub_45A720(v5) : sub_45A6F0(v5);
    if ( v7 && result )
    {
      v8 = v7[3];
      v9 = v7[4];
      v10 = result[4] - v9;
      v11 = v8 + ((int)result[3] - v8) / 2;
      result = (_DWORD *)(v9 + v10 / 2);
      switch ( *(unsigned __int8 *)(a1 + 1) )
      {
        case 1u:
          v12 = *(_DWORD *)&byte_5D4594[1304368];
          goto LABEL_21;
        case 2u:
          v12 = *(_DWORD *)&byte_5D4594[1304380];
          goto LABEL_21;
        case 3u:
          v12 = *(_DWORD *)&byte_5D4594[1304356];
          goto LABEL_21;
        case 4u:
          v12 = *(_DWORD *)&byte_5D4594[1304360];
          goto LABEL_21;
        case 5u:
          v12 = *(_DWORD *)&byte_5D4594[1304372];
          goto LABEL_21;
        case 6u:
          v12 = *(_DWORD *)&byte_5D4594[1304376];
          goto LABEL_21;
        case 7u:
          v12 = *(_DWORD *)&byte_5D4594[1304396];
          goto LABEL_21;
        case 0x8Cu:
          v12 = *(_DWORD *)&byte_5D4594[1304352];
LABEL_21:
          result = (_DWORD *)sub_45A360(v12, v11, v9 + v10 / 2);
          if ( !result )
            return result;
          *((_BYTE *)result + 432) = 1;
          *(_DWORD *)((char *)result + 437) = *(unsigned __int16 *)(a1 + 3);
          *(_DWORD *)((char *)result + 441) = *(unsigned __int16 *)(a1 + 5);
          v13 = 0;
          *(_DWORD *)((char *)result + 433) = *(unsigned __int8 *)(a1 + 2);
          v14 = &byte_5D4594[1303924];
          break;
        default:
          return result;
      }
      while ( *(_DWORD *)v14 )
      {
        v14 += 4;
        ++v13;
        if ( (int)v14 >= (int)&byte_5D4594[1304308] )
          return result;
      }
      *(_DWORD *)&byte_5D4594[4 * v13 + 1303924] = result;
    }
  }
  return result;
}
// 49C248: variable 'v2' is possibly undefined
// 49C256: variable 'v4' is possibly undefined

//----- (0049C450) --------------------------------------------------------
int __cdecl sub_49C450(int a1)
{
  int v1; // esi
  int *v2; // ecx
  int result; // eax

  v1 = 0;
  v2 = (int *)&byte_5D4594[1303924];
  while ( 1 )
  {
    result = *v2;
    if ( *v2 )
    {
      if ( *(unsigned __int16 *)(a1 + 3) == *(_DWORD *)(result + 437)
        && *(unsigned __int16 *)(a1 + 5) == *(_DWORD *)(result + 441) )
      {
        break;
      }
    }
    ++v2;
    ++v1;
    if ( (int)v2 >= (int)&byte_5D4594[1304308] )
      return result;
  }
  result = sub_45A4E0(*v2);
  *(_DWORD *)&byte_5D4594[4 * v1 + 1303924] = 0;
  return result;
}

//----- (0049C4B0) --------------------------------------------------------
void sub_49C4B0()
{
  int v0; // esi
  int *v1; // edi

  v0 = 0;
  if ( *(_DWORD *)&byte_5D4594[1304308] > 0 )
  {
    v1 = (int *)&byte_5D4594[1303540];
    do
    {
      sub_45A4E0(*v1);
      ++v0;
      ++v1;
    }
    while ( v0 < *(int *)&byte_5D4594[1304308] );
  }
  *(_DWORD *)&byte_5D4594[1304308] = 0;
  sub_4C5050();
}

//----- (0049C4F0) --------------------------------------------------------
int sub_49C4F0()
{
  int *v0; // esi
  int result; // eax

  v0 = (int *)&byte_5D4594[1303924];
  do
  {
    result = *v0;
    if ( *v0 )
    {
      result = sub_45A4E0(*v0);
      *v0 = 0;
    }
    ++v0;
  }
  while ( (int)v0 < (int)&byte_5D4594[1304308] );
  return result;
}

//----- (0049C520) --------------------------------------------------------
int __cdecl sub_49C520(int a1)
{
  unsigned __int8 *v1; // eax
  int v2; // eax
  unsigned __int8 *i; // ecx

  v1 = &byte_5D4594[1303924];
  while ( a1 != *(_DWORD *)v1 )
  {
    v1 += 4;
    if ( (int)v1 >= (int)&byte_5D4594[1304308] )
    {
      v2 = 0;
      if ( *(int *)&byte_5D4594[1304308] <= 0 )
        return 0;
      for ( i = &byte_5D4594[1303540]; a1 != *(_DWORD *)i; i += 4 )
      {
        if ( ++v2 >= *(int *)&byte_5D4594[1304308] )
          return 0;
      }
      return 1;
    }
  }
  return 1;
}

//----- (0049C560) --------------------------------------------------------
_DWORD *sub_49C560()
{
  int v0; // esi
  _DWORD *result; // eax
  _DWORD *v2; // esi
  wchar_t *v3; // eax
  wchar_t *v4; // eax
  wchar_t *v5; // eax
  char *v6; // [esp-4h] [ebp-8h]
  char *v7; // [esp-4h] [ebp-8h]
  char *v8; // [esp-4h] [ebp-8h]

  v0 = *(_DWORD *)&byte_587000[26048];
  if ( sub_43F320(0) > 10 )
    v0 = 2;
  result = sub_4A0AD0(*(const char **)&byte_587000[4 * v0 + 164512], sub_49C760);
  *(_DWORD *)&byte_5D4594[1305680] = result;
  if ( result )
  {
    sub_46B120(result, 0);
    sub_46A8C0(*(int *)&byte_5D4594[1305680]);
    sub_46C690(*(int *)&byte_5D4594[1305680]);
    sub_46B500(*(int *)&byte_5D4594[1305680]);
    sub_46A9B0(
      *(_DWORD **)&byte_5D4594[1305680],
      (*(int *)&byte_5D4594[3805496] - *(int *)(*(_DWORD *)&byte_5D4594[1305680] + 8)) / 2,
      (*(int *)&byte_5D4594[3807120] - *(int *)(*(_DWORD *)&byte_5D4594[1305680] + 12)) / 2);
    if ( sub_40A5C0(1) )
    {
      v2 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1305680], 4102);
      v6 = sub_42E8E0(45, 1);
      v3 = sub_40F1D0((char *)&byte_587000[164712], 0, (const char *)&byte_587000[164672], 85);
      nox_swprintf((wchar_t *)&byte_5D4594[1304656], v3, v6);
      nox_wcscat((wchar_t *)&byte_5D4594[1304656], (const wchar_t *)&byte_587000[164732]);
      v7 = sub_42E8E0(8, 1);
      v4 = sub_40F1D0((char *)&byte_587000[164776], 0, (const char *)&byte_587000[164736], 87);
    }
    else
    {
      v2 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1305680], 4102);
      v8 = sub_42E8E0(45, 1);
      v5 = sub_40F1D0((char *)&byte_587000[164836], 0, (const char *)&byte_587000[164796], 94);
      nox_swprintf((wchar_t *)&byte_5D4594[1304656], v5, v8);
      nox_wcscat((wchar_t *)&byte_5D4594[1304656], (const wchar_t *)&byte_587000[164860]);
      v7 = sub_42E8E0(8, 1);
      v4 = sub_40F1D0((char *)&byte_587000[164904], 0, (const char *)&byte_587000[164864], 96);
    }
    nox_swprintf((wchar_t *)&byte_5D4594[1304400], v4, v7);
    nox_wcscat((wchar_t *)&byte_5D4594[1304656], (const wchar_t *)&byte_5D4594[1304400]);
    sub_46B490((int)v2, 16385, (int)&byte_5D4594[1304656], 0);
    if ( sub_40A5C0(1) )
    {
      if ( !sub_459DA0() )
        sub_457500();
      sub_459D80(1);
    }
    if ( sub_40A5C0(4096) || (result = (_DWORD *)sub_4D6F50()) != 0 )
      result = (_DWORD *)sub_49C7A0();
  }
  return result;
}

//----- (0049C760) --------------------------------------------------------
int __cdecl sub_49C760(int a1, int a2, int *a3, int a4)
{
  int v3; // esi

  if ( a2 == 16391 )
  {
    v3 = sub_46B0A0(a3);
    sub_452D80(766, 100);
    if ( v3 == 4103 )
      sub_49C7A0();
  }
  return 1;
}

//----- (0049C7A0) --------------------------------------------------------
int sub_49C7A0()
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[1305680];
  if ( *(_DWORD *)&byte_5D4594[1305680] )
  {
    *(_DWORD *)&byte_587000[54276] = ((unsigned int)~sub_46B0C0(*(_DWORD **)&byte_5D4594[1305680], 4104)[9] >> 2) & 1;
    sub_46C6E0(*(int *)&byte_5D4594[1305680]);
    sub_46ADE0(*(int *)&byte_5D4594[1305680]);
    sub_46C4E0(*(_DWORD **)&byte_5D4594[1305680]);
    *(_DWORD *)&byte_5D4594[1305680] = 0;
    sub_46B500(0);
    result = sub_40A5C0(1);
    if ( result )
      result = sub_459D80(0);
  }
  return result;
}

//----- (0049C810) --------------------------------------------------------
BOOL sub_49C810()
{
  return *(_DWORD *)&byte_5D4594[1305680] != 0;
}

//----- (0049C820) --------------------------------------------------------
int sub_49C820()
{
  _DWORD *v0; // edi
  char **v1; // esi
  wchar_t *v2; // eax

  *(_DWORD *)&byte_5D4594[1305684] = sub_4A0AD0((const char *)&byte_587000[165008], sub_49CA60);
  sub_46B120(*(_DWORD **)&byte_5D4594[1305684], 0);
  sub_46A8C0(*(int *)&byte_5D4594[1305684]);
  sub_46C690(*(int *)&byte_5D4594[1305684]);
  sub_46B500(*(int *)&byte_5D4594[1305684]);
  sub_49C910();
  sub_46A9B0(
    *(_DWORD **)&byte_5D4594[1305684],
    *(int *)&byte_5D4594[3805496] / 2 - *(int *)(*(_DWORD *)&byte_5D4594[1305684] + 8) / 2,
    *(int *)&byte_5D4594[3807120] / 2 - *(int *)(*(_DWORD *)&byte_5D4594[1305684] + 12) / 2);
  sub_457500();
  sub_459D80(1);
  v0 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1305684], 10352);
  v1 = (char **)&byte_587000[164928];
  do
  {
    v2 = sub_40F1D0(*v1, 0, (const char *)&byte_587000[165024], 158);
    sub_46B490((int)v0, 16397, (int)v2, -1);
    ++v1;
  }
  while ( (int)v1 < (int)&byte_587000[164944] );
  return sub_46B490((int)v0, 16403, 0, 0);
}

//----- (0049C910) --------------------------------------------------------
_DWORD *sub_49C910()
{
  unsigned __int16 *v0; // eax
  unsigned __int16 *v1; // esi
  char **v2; // ebx
  int v3; // eax
  int v4; // edi
  unsigned __int16 *v5; // eax
  int v6; // edi
  int v7; // eax
  _DWORD *result; // eax
  int v9; // ecx
  int v10; // edi
  int v11; // [esp+Ch] [ebp-8h]
  int v12; // [esp+10h] [ebp-4h]

  v0 = (unsigned __int16 *)sub_46B0C0(*(_DWORD **)&byte_5D4594[1305684], 10352);
  v1 = v0;
  v2 = (char **)&byte_587000[164928];
  v3 = 5 * (sub_43F320(*((_DWORD *)v0 + 59)) + 1);
  *((_DWORD *)v1 + 7) = *((_DWORD *)v1 + 5) + v3 + 2;
  *((_DWORD *)v1 + 3) = v3 + 2;
  v4 = 0;
  do
  {
    v5 = sub_40F1D0(*v2, 0, (const char *)&byte_587000[165064], 53);
    sub_43F840(*((_DWORD *)v1 + 59), v5, &v11, 0, 0);
    if ( v11 > v4 )
      v4 = v11;
    ++v2;
  }
  while ( (int)v2 < (int)&byte_587000[164944] );
  v6 = v4 + 7;
  sub_43F840(*((_DWORD *)v1 + 59), v1 + 54, &v12, 0, 0);
  if ( v6 <= v12 )
    v6 = v12;
  v7 = *((_DWORD *)v1 + 4);
  *((_DWORD *)v1 + 2) = v6;
  *((_DWORD *)v1 + 6) = v7 + v6;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[1305684] + 16) = v7 - 40;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[1305684] + 20) = *((_DWORD *)v1 + 5) - 40;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[1305684] + 24) = *((_DWORD *)v1 + 6) + 40;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[1305684] + 28) = *((_DWORD *)v1 + 7) + 40;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[1305684] + 8) = *((_DWORD *)v1 + 2) + 80;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[1305684] + 12) = *((_DWORD *)v1 + 3) + 80;
  result = sub_46B0C0(*(_DWORD **)&byte_5D4594[1305684], 10353);
  result[5] = *((_DWORD *)v1 + 7) + 10;
  v9 = result[2];
  v10 = result[5];
  result[4] = *((_DWORD *)v1 + 6) - v9;
  result[7] = v10 + result[3];
  result[6] = v9 + result[4];
  return result;
}

//----- (0049CA60) --------------------------------------------------------
int __cdecl sub_49CA60(int a1, int a2, int *a3, int a4)
{
  int v3; // esi
  _DWORD *v4; // eax
  int v5; // eax
  int v6; // eax

  if ( a2 == 16391 )
  {
    v3 = sub_46B0A0(a3);
    sub_452D80(766, 100);
    if ( v3 == 10353 )
    {
      sub_46C6E0(*(int *)&byte_5D4594[1305684]);
      sub_46ADE0(*(int *)&byte_5D4594[1305684]);
      if ( sub_40A5C0(128) && *(_DWORD *)&byte_587000[54276] )
        sub_49C560();
      else
        sub_459D80(0);
      v4 = sub_46B0C0(*(_DWORD **)&byte_5D4594[1305684], 10352);
      v5 = sub_46B490((int)v4, 16404, 0, 0);
      *(_DWORD *)&byte_5D4594[3596] = v5 + 1;
      v6 = sub_40A710(v5 + 1);
      sub_40A6D0(v6);
      sub_46C4E0(*(_DWORD **)&byte_5D4594[1305684]);
      *(_DWORD *)&byte_5D4594[1305684] = 0;
      sub_46B500(0);
    }
  }
  return 1;
}

//----- (0049CB40) --------------------------------------------------------
BOOL sub_49CB40()
{
  return *(_DWORD *)&byte_5D4594[1305684] != 0;
}

//----- (0049CB50) --------------------------------------------------------
int sub_49CB50()
{
  if ( !*(_DWORD *)&byte_5D4594[3801780] )
  {
    *(_DWORD *)&byte_5D4594[1305704] = sub_49D1E0;
    *(_DWORD *)&byte_5D4594[1305712] = sub_49D680;
    *(_DWORD *)&byte_5D4594[1305720] = sub_49D880;
    *(_DWORD *)&byte_5D4594[1305700] = sub_49DA90;
    *(_DWORD *)&byte_5D4594[1305716] = sub_49DB20;
    *(_DWORD *)&byte_5D4594[1305696] = sub_49DD60;
    *(_DWORD *)&byte_5D4594[1305708] = sub_49E380;
    return 1;
  }
  if ( *(_DWORD *)&byte_5D4594[3801780] != 1 )
    return 1;
  *(_DWORD *)&byte_5D4594[1305704] = sub_49D270;
  if ( *(_DWORD *)&byte_5D4594[3801804] )
  {
    *(_DWORD *)&byte_5D4594[1305692] = sub_49D540;
    *(_DWORD *)&byte_5D4594[1305712] = sub_49D770;
    *(_DWORD *)&byte_5D4594[1305720] = sub_49D770;
    *(_DWORD *)&byte_5D4594[1305700] = sub_49D9A0;
    *(_DWORD *)&byte_5D4594[1305716] = sub_49DC70;
  }
  else
  {
    *(_DWORD *)&byte_5D4594[1305692] = sub_49D370;
    *(_DWORD *)&byte_5D4594[1305712] = sub_49D6F0;
    *(_DWORD *)&byte_5D4594[1305720] = sub_49D6F0;
    *(_DWORD *)&byte_5D4594[1305700] = sub_49D8E0;
    *(_DWORD *)&byte_5D4594[1305716] = sub_49DBB0;
  }
  *(_DWORD *)&byte_5D4594[1305696] = sub_49E060;
  *(_DWORD *)&byte_5D4594[1305708] = sub_49E3C0;
  return 1;
}

//----- (0049CC70) --------------------------------------------------------
void __cdecl sub_49CC70(int xLeft, int yTop, int a3, int a4)
{
  int v4; // ebx
  int v5; // ebp
  RECT rc; // [esp+10h] [ebp-10h]

  if ( a3 )
  {
    if ( a4 )
    {
      if ( !**(_DWORD **)&byte_5D4594[3799572]
        || (SetRect(&rc, xLeft, yTop, xLeft + a3, yTop + a4),
            sub_49F930((int4 *)&rc, (int4 *)&rc, (int4 *)(*(_DWORD *)&byte_5D4594[3799572] + 4))) )
      {
        v4 = xLeft + a3 - 1;
        (*(void (__cdecl **)(_DWORD, _DWORD, _DWORD))&byte_5D4594[3798720])(xLeft, yTop, v4);
        v5 = yTop + a4 - 1;
        (*(void (__cdecl **)(_DWORD, _DWORD, _DWORD))&byte_5D4594[3798712])(v4, yTop + 1, v5);
        (*(void (__cdecl **)(_DWORD, _DWORD, _DWORD))&byte_5D4594[3798720])(xLeft, v5, xLeft + a3 - 2);
        (*(void (__cdecl **)(_DWORD, _DWORD, _DWORD))&byte_5D4594[3798712])(xLeft, yTop + 1, yTop + a4 - 2);
      }
    }
  }
}

//----- (0049CD30) --------------------------------------------------------
void __cdecl sub_49CD30(int xLeft, int yTop, int a3, int a4, int a5, int a6)
{
  RECT rc; // [esp+10h] [ebp-10h]

  if ( a3 )
  {
    if ( a4 )
    {
      if ( !**(_DWORD **)&byte_5D4594[3799572]
        || (SetRect(&rc, xLeft, yTop, xLeft + a3, yTop + a4),
            sub_49F930((int4 *)&rc, (int4 *)&rc, (int4 *)(*(_DWORD *)&byte_5D4594[3799572] + 4))) )
      {
        sub_434040(a5);
        sub_434080(a6);
        sub_49F500(xLeft, yTop);
        sub_49F500(xLeft + a3 - 1, yTop);
        sub_49E4F0(64);
        sub_49F500(xLeft + a3, yTop);
        sub_49F500(xLeft + a3, yTop + a4 - 1);
        sub_49E4F0(64);
        sub_49F500(xLeft + a3, yTop + a4);
        sub_49F500(xLeft, yTop + a4);
        sub_49E4F0(64);
        sub_49F500(xLeft, yTop + a4 - 1);
        sub_49F500(xLeft, yTop + 1);
        sub_49E4F0(64);
      }
    }
  }
}

//----- (0049CE30) --------------------------------------------------------
void __cdecl sub_49CE30(int xLeft, int yTop, int a3, int a4)
{
  int v4; // ecx
  int v5; // eax
  int v6; // edi
  int v7; // edx
  LONG v8; // esi
  int v9; // esi
  RECT rc; // [esp+8h] [ebp-10h]

  v4 = a3;
  if ( a3 )
  {
    v5 = a4;
    if ( a4 )
    {
      v6 = *(_DWORD *)&byte_5D4594[3799572];
      v7 = yTop;
      if ( **(_DWORD **)&byte_5D4594[3799572] )
      {
        SetRect(&rc, xLeft, yTop, xLeft + a3, yTop + a4);
        if ( !sub_49F930((int4 *)&rc, (int4 *)&rc, (int4 *)(*(_DWORD *)&byte_5D4594[3799572] + 4)) )
          return;
        v7 = rc.top;
        v6 = *(_DWORD *)&byte_5D4594[3799572];
        v8 = rc.left;
        v4 = rc.right - rc.left;
        v5 = rc.bottom - rc.top;
      }
      else
      {
        v8 = xLeft;
      }
      if ( v8 || v7 || v4 != *(_DWORD *)&byte_5D4594[3801784] || v5 != *(_DWORD *)&byte_5D4594[3801788] )
      {
        (*(void (__cdecl **)(_DWORD, _DWORD, _DWORD, _DWORD))&byte_5D4594[1305704])(v8, v7, v4, v5);
      }
      else
      {
        v9 = *(_DWORD *)(v6 + 232);
        *(_DWORD *)(v6 + 232) = *(_DWORD *)(v6 + 244);
        sub_440900();
        *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 232) = v9;
      }
    }
  }
}

//----- (0049CF10) --------------------------------------------------------
int4 *__cdecl sub_49CF10(int xLeft, int yTop, int a3, int a4)
{
  int4 *result; // eax
  RECT rc; // [esp+4h] [ebp-10h]

  if ( !**(_DWORD **)&byte_5D4594[3799572] )
    return (int4 *)(*(int (__cdecl **)(_DWORD, _DWORD, _DWORD, _DWORD))&byte_5D4594[1305712])(xLeft, yTop, a3, a4);
  SetRect(&rc, xLeft, yTop, xLeft + a3, yTop + a4);
  result = sub_49F930((int4 *)&rc, (int4 *)&rc, (int4 *)(*(_DWORD *)&byte_5D4594[3799572] + 4));
  if ( result )
    result = (int4 *)(*(int (__cdecl **)(_DWORD, _DWORD, _DWORD, _DWORD))&byte_5D4594[1305712])(
                       rc.left,
                       rc.top,
                       rc.right - rc.left,
                       rc.bottom - rc.top);
  return result;
}

//----- (0049CFB0) --------------------------------------------------------
int4 *__cdecl sub_49CFB0(int xLeft, int yTop, int a3, int a4)
{
  int4 *result; // eax
  RECT rc; // [esp+4h] [ebp-10h]

  if ( !**(_DWORD **)&byte_5D4594[3799572] )
    return (int4 *)(*(int (__cdecl **)(_DWORD, _DWORD, _DWORD, _DWORD))&byte_5D4594[1305720])(xLeft, yTop, a3, a4);
  SetRect(&rc, xLeft, yTop, xLeft + a3, yTop + a4);
  result = sub_49F930((int4 *)&rc, (int4 *)&rc, (int4 *)(*(_DWORD *)&byte_5D4594[3799572] + 4));
  if ( result )
    result = (int4 *)(*(int (__cdecl **)(_DWORD, _DWORD, _DWORD, _DWORD))&byte_5D4594[1305720])(
                       rc.left,
                       rc.top,
                       rc.right - rc.left,
                       rc.bottom - rc.top);
  return result;
}

//----- (0049D050) --------------------------------------------------------
int4 *__cdecl sub_49D050(int xLeft, int yTop, int a3, int a4)
{
  int4 *result; // eax
  RECT rc; // [esp+4h] [ebp-10h]

  if ( !**(_DWORD **)&byte_5D4594[3799572] )
    return (int4 *)(*(int (__cdecl **)(_DWORD, _DWORD, _DWORD, _DWORD))&byte_5D4594[1305700])(xLeft, yTop, a3, a4);
  SetRect(&rc, xLeft, yTop, xLeft + a3, yTop + a4);
  result = sub_49F930((int4 *)&rc, (int4 *)&rc, (int4 *)(*(_DWORD *)&byte_5D4594[3799572] + 4));
  if ( result )
    result = (int4 *)(*(int (__cdecl **)(_DWORD, _DWORD, _DWORD, _DWORD))&byte_5D4594[1305700])(
                       rc.left,
                       rc.top,
                       rc.right - rc.left,
                       rc.bottom - rc.top);
  return result;
}

//----- (0049D0F0) --------------------------------------------------------
int4 *__cdecl sub_49D0F0(int xLeft, int yTop, int a3, int a4)
{
  int4 *result; // eax
  RECT rc; // [esp+4h] [ebp-10h]

  if ( !**(_DWORD **)&byte_5D4594[3799572] )
    return (int4 *)(*(int (__cdecl **)(_DWORD, _DWORD, _DWORD, _DWORD))&byte_5D4594[1305716])(xLeft, yTop, a3, a4);
  SetRect(&rc, xLeft, yTop, xLeft + a3, yTop + a4);
  result = sub_49F930((int4 *)&rc, (int4 *)&rc, (int4 *)(*(_DWORD *)&byte_5D4594[3799572] + 4));
  if ( result )
    result = (int4 *)(*(int (__cdecl **)(_DWORD, _DWORD, _DWORD, _DWORD))&byte_5D4594[1305716])(
                       rc.left,
                       rc.top,
                       rc.right - rc.left,
                       rc.bottom - rc.top);
  return result;
}

//----- (0049D190) --------------------------------------------------------
int __cdecl sub_49D190(int a1, int a2, int a3, int a4, int a5)
{
  return (*(int (__cdecl **)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD))&byte_5D4594[1305696])(a1, a2, a3, a4, a5);
}

//----- (0049D1C0) --------------------------------------------------------
int __cdecl sub_49D1C0(int a1, int a2, int a3)
{
  return (*(int (__cdecl **)(_DWORD, _DWORD, _DWORD))&byte_5D4594[1305708])(a1, a2, a3);
}

//----- (0049D1E0) --------------------------------------------------------
void __cdecl sub_49D1E0(int a1, int a2, unsigned int a3, int a4)
{
  int result; // eax
  _DWORD *v5; // esi
  char *v6; // edi
  char *v7; // edi

  result = *(_DWORD *)&byte_5D4594[3799572];
  if ( *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 52) )
  {
    sub_49D2F0(a1, a2, a3, a4);
    return;
  }
  if ( a4 > 0 && (int)a3 > 0 )
  {
    result = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 244);
    v5 = (_DWORD *)(*(_DWORD *)&byte_5D4594[3798784] + 4 * a2);
    do
    {
      v6 = (char *)(a1 + *v5);
      memset32(v6, result, a3 >> 2);
      v7 = &v6[4 * (a3 >> 2)];
      if ( a3 & 3 )
      {
        *v7 = result;
        if ( (a3 & 3) != 1 )
        {
          v7[1] = result;
          if ( (a3 & 3) != 2 )
            v7[2] = result;
        }
      }
      ++v5;
    }
    while ( a4-- > 1 );
  }
}

//----- (0049D270) --------------------------------------------------------
void __cdecl sub_49D270(int a1, int a2, unsigned int a3, int a4)
{
  int result; // eax
  int v5; // edx
  _DWORD *v6; // esi
  char *v7; // edi
  char *v8; // edi

  result = *(_DWORD *)&byte_5D4594[3799572];
  if ( *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 52) )
  {
      (*(void (__cdecl **)(_DWORD, _DWORD, _DWORD, _DWORD))&byte_5D4594[1305692])(a1, a2, a3, a4);
      return;
  }
  v5 = a4;
  if ( a4 > 0 && (int)a3 > 0 )
  {
    result = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 244);
    v6 = (_DWORD *)(*(_DWORD *)&byte_5D4594[3798784] + 4 * a2);
    do
    {
      v7 = (char *)(2 * a1 + *v6);
      memset32(v7, result, a3 >> 1);
      v8 = &v7[4 * (a3 >> 1)];
      if ( a3 & 1 )
        *(_WORD *)v8 = result;
      ++v6;
    }
    while ( v5-- > 1 );
  }
}

//----- (0049D2F0) --------------------------------------------------------
int __cdecl sub_49D2F0(int a1, int a2, int a3, int a4)
{
  int result; // eax
  int v5; // edi
  int v6; // eax
  unsigned __int8 *v7; // eax
  int v8; // esi
  int v9; // edx
  unsigned __int8 v10; // [esp+0h] [ebp-4h]

  result = a4 - 1;
  v10 = *(_BYTE *)(*(_DWORD *)&byte_5D4594[3799572] + 244);
  if ( a4 )
  {
    v5 = 4 * a2;
    do
    {
      v6 = *(_DWORD *)(v5 + *(_DWORD *)&byte_5D4594[3798784]);
      v5 += 4;
      v7 = (unsigned __int8 *)(a1 + v6);
      if ( a3 )
      {
        v8 = a3;
        do
        {
          v9 = v10 + (*v7++ << 8);
          --v8;
          *(v7 - 1) = *(_BYTE *)(v9 + *(_DWORD *)&byte_5D4594[810632]);
        }
        while ( v8 );
      }
      result = --a4;
    }
    while ( a4 );
  }
  return result;
}

//----- (0049D370) --------------------------------------------------------
void __cdecl sub_49D370(int a1, int a2, int a3, int a4)
{
  int v4; // eax
  unsigned __int8 v5; // bl
  int result; // eax
  int v7; // ecx
  int v8; // edx
  int v9; // esi
  __int16 *v10; // esi
  int v11; // ebp
  __int16 v12; // cx
  bool v13; // zf
  unsigned __int8 v14; // [esp+Ch] [ebp-28h]
  unsigned __int8 v15; // [esp+10h] [ebp-24h]
  unsigned __int8 v16; // [esp+14h] [ebp-20h]
  int v17; // [esp+38h] [ebp+4h]
  int v18; // [esp+3Ch] [ebp+8h]
  int v19; // [esp+44h] [ebp+10h]

  v4 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 244) & 0xFFFF;
  v17 = 2 * a1;
  v5 = byte_5D4594[3804372];
  v16 = (*(_DWORD *)&byte_5D4594[3804364] & (unsigned int)v4) >> byte_5D4594[3804376];
  v15 = (*(_DWORD *)&byte_5D4594[3804368] & (unsigned int)v4) >> byte_5D4594[3804380];
  v14 = ((unsigned __int8)*(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 244) & byte_5D4594[3804372]) << byte_5D4594[3804384];
  result = a4 - 1;
  if ( a4 )
  {
    v7 = a3;
    v8 = 4 * a2;
    v18 = a4;
    do
    {
      v9 = *(_DWORD *)(v8 + *(_DWORD *)&byte_5D4594[3798784]);
      v8 += 4;
      v10 = (__int16 *)(v17 + v9);
      if ( v7 )
      {
        v11 = v16;
        v19 = v7;
        while ( 1 )
        {
          v12 = *v10;
          ++v10;
          v13 = v19 == 1;
          *(v10 - 1) = *(_WORD *)(*(_DWORD *)&byte_5D4594[3804664]
                                + 2
                                * (unsigned __int8)((((unsigned __int8)v12 & v5) << byte_5D4594[3804384])
                                                  + ((v14
                                                    - (unsigned __int8)(((unsigned __int8)v12 & v5) << byte_5D4594[3804384])) >> 1))) | *(_WORD *)(*(_DWORD *)&byte_5D4594[3804656] + 2 * (unsigned __int8)(((unsigned __int16)(*(_WORD *)&byte_5D4594[3804368] & v12) >> byte_5D4594[3804380]) + ((v15 - (unsigned __int8)((unsigned __int16)(*(_WORD *)&byte_5D4594[3804368] & v12) >> byte_5D4594[3804380])) >> 1))) | *(_WORD *)(*(_DWORD *)&byte_5D4594[3804672] + 2 * (unsigned __int8)(((unsigned __int16)(*(_WORD *)&byte_5D4594[3804364] & v12) >> byte_5D4594[3804376]) + ((v11 - (unsigned __int8)((unsigned __int16)(*(_WORD *)&byte_5D4594[3804364] & v12) >> byte_5D4594[3804376])) >> 1)));
          v5 = byte_5D4594[3804372];
          --v19;
          if ( v13 )
            break;
          v11 = v16;
        }
        v7 = a3;
      }
      result = --v18;
    }
    while ( v18 );
  }
}


int __cdecl sub_49D540(int a1, int a2, int a3, int a4)
{
	DebugBreak();
	return 0;
}

#if 0
//----- (0049D540) --------------------------------------------------------
int __cdecl sub_49D540(int a1, int a2, int a3, int a4)
{
  __m64 v4; // mm0
  __m64 v5; // mm1
  __m64 v6; // mm2
  int *v7; // esi
  int result; // eax
  int v9; // ecx
  int v10; // edi
  __m64 *v11; // edi
  __m64 v12; // mm3
  __m64 v13; // mm4
  __m64 v14; // mm5
  __m64 v15; // mm3
  bool v16; // cc
  int v17; // ecx
  __m64 v18; // [esp+Ch] [ebp-8h]
  __m64 v19; // [esp+Ch] [ebp-8h]

  v18.m64_i32[0] = *(_DWORD *)&byte_5D4594[3800960];
  v18.m64_i32[1] = *(_DWORD *)&byte_5D4594[3800960];
  v4 = _m_psrlw(_m_pand(v18, *(__m64 *)&byte_5D4594[3804396]), *(__m64 *)&byte_5D4594[3804444]);
  v5 = _m_psrlw(_m_pand(v18, *(__m64 *)&byte_5D4594[3804404]), *(__m64 *)&byte_5D4594[3804452]);
  v6 = _m_psllw(_m_pand(v18, *(__m64 *)&byte_5D4594[3804412]), *(__m64 *)&byte_5D4594[3804460]);
  v7 = (int *)(*(_DWORD *)&byte_5D4594[3798784] + 4 * a2);
  result = 2 * a1;
LABEL_2:
  while ( 2 )
  {
    v9 = a3;
    v10 = *v7;
    ++v7;
    v11 = (__m64 *)(result + v10);
    while ( 1 )
    {
      v12 = _m_psrlw(_m_pand((__m64)v11->m64_u64, *(__m64 *)&byte_5D4594[3804396]), *(__m64 *)&byte_5D4594[3804444]);
      v13 = _m_psrlw(_m_pand((__m64)v11->m64_u64, *(__m64 *)&byte_5D4594[3804404]), *(__m64 *)&byte_5D4594[3804452]);
      v14 = _m_psllw(_m_pand((__m64)v11->m64_u64, *(__m64 *)&byte_5D4594[3804412]), *(__m64 *)&byte_5D4594[3804460]);
      v15 = _m_por(
              _m_por(
                _m_pand(
                  _m_psllw(_m_paddw(v12, _m_psrlwi(_m_psubw(v4, v12), 1u)), *(__m64 *)&byte_5D4594[3804444]),
                  *(__m64 *)&byte_5D4594[3804396]),
                _m_pand(
                  _m_psllw(_m_paddw(v13, _m_psrlwi(_m_psubw(v5, v13), 1u)), *(__m64 *)&byte_5D4594[3804452]),
                  *(__m64 *)&byte_5D4594[3804404])),
              _m_psrlw(_m_paddw(v14, _m_psrlwi(_m_psubw(v6, v14), 1u)), *(__m64 *)&byte_5D4594[3804460]));
      v16 = v9 < 4;
      v9 -= 4;
      if ( v16 )
        break;
      v11->m64_u64 = (unsigned __int64)v15;
      ++v11;
      if ( v16 )
      {
        v16 = a4-- <= 1;
        if ( !v16 )
          goto LABEL_2;
        goto LABEL_11;
      }
    }
    v19 = v15;
    LOWORD(v11->m64_i32[0]) = v19.m64_i16[0];
    v17 = v9 + 3;
    if ( v17 )
    {
      HIWORD(v11->m64_i32[0]) = v19.m64_i16[1];
      if ( v17 != 1 )
        LOWORD(v11->m64_i32[1]) = v19.m64_i16[2];
    }
    v16 = a4-- <= 1;
    if ( !v16 )
      continue;
    break;
  }
LABEL_11:
  _m_femms();
  return result;
}
#endif

//----- (0049D680) --------------------------------------------------------
int __cdecl sub_49D680(int a1, int a2, int a3, int a4)
{
  int result; // eax
  int v5; // ecx
  unsigned __int8 *v6; // eax
  int v7; // esi
  int v8; // edx

  result = a4 - 1;
  if ( a4 )
  {
    v5 = 4 * a2;
    do
    {
      v5 += 4;
      v6 = (unsigned __int8 *)(a1 + *(_DWORD *)(v5 + *(_DWORD *)&byte_5D4594[3798784] - 4));
      if ( a3 )
      {
        v7 = a3;
        do
        {
          v8 = *v6++ << 8;
          --v7;
          *(v6 - 1) = *(_BYTE *)(v8 + *(_DWORD *)&byte_5D4594[810632]);
        }
        while ( v7 );
      }
      result = --a4;
    }
    while ( a4 );
  }
  return result;
}

//----- (0049D6F0) --------------------------------------------------------
__int16 __cdecl sub_49D6F0(int a1, int a2, unsigned int a3, int a4)
{
  unsigned int v4; // eax
  _DWORD *v5; // esi
  int v6; // edx
  int v7; // ebx
  char v8; // cf
  //char v9; // of
  char v10; // cc
  int v11; // ecx
  unsigned int *v12; // edi
  int v13; // ecx
  unsigned int *v14; // edi
  unsigned int v16; // [esp+1Ch] [ebp+10h]

  if ( a4 > 0 )
  {
    LOWORD(v4) = a2;
    v5 = (_DWORD *)(*(_DWORD *)&byte_5D4594[3798784] + 4 * a2);
    v6 = *(_DWORD *)&byte_5D4594[3804388];
    v7 = 2 * a1;
    v8 = a3 & 1;
    //v10 = (((a3 >> 1) & 0x80000000) != 0) ^ v9 | (a3 >> 1 == 0);
    v16 = a3 >> 1;
    if ( v16 )
    {
      if ( v8 )
      {
        do
        {
          v13 = v16;
          v14 = (unsigned int *)(v7 + *v5);
          do
          {
            *v14 = (v6 & *v14) >> 1;
            ++v14;
            v10 = v13-- <= 1;
          }
          while ( !v10 );
          LOWORD(v4) = (unsigned __int16)(v6 & *(_WORD *)v14) >> 1;
          *(_WORD *)v14 = v4;
          ++v5;
          v10 = a4-- <= 1;
        }
        while ( !v10 );
      }
      else
      {
        do
        {
          v11 = v16;
          v12 = (unsigned int *)(v7 + *v5);
          do
          {
            v4 = (v6 & *v12) >> 1;
            *v12 = v4;
            ++v12;
            v10 = v11-- <= 1;
          }
          while ( !v10 );
          ++v5;
          v10 = a4-- <= 1;
        }
        while ( !v10 );
      }
    }
  }
  return v4;
}

void __cdecl sub_49D770(int a1, int a2, unsigned int a3, int a4)
{
	DebugBreak();
	return;
}

#if 0
//----- (0049D770) --------------------------------------------------------
void __cdecl sub_49D770(int a1, int a2, unsigned int a3, int a4)
{
  _DWORD *v4; // esi
  __m64 v5; // mm1
  int v6; // edx
  int v7; // ebx
  unsigned int v8; // eax
  signed int v9; // ecx
  __m64 *v10; // edi
  bool v11; // cc
  signed int v12; // ecx
  __m64 *v13; // edi
  signed int v14; // ecx
  __m64 *v15; // edi
  signed int v16; // ecx
  __m64 *v17; // edi

  if ( a4 > 0 && (int)a3 > 0 )
  {
    v4 = (_DWORD *)(*(_DWORD *)&byte_5D4594[3798784] + 4 * a2);
    v5 = *(__m64 *)&byte_5D4594[3804516];
    v6 = _mm_cvtsi64_si32(*(__m64 *)&byte_5D4594[3804516]);
    v7 = 2 * a1;
    v8 = a3 >> 1;
    if ( a3 & 1 )
    {
      if ( v8 & 1 )
      {
        do
        {
          v14 = a3 >> 2;
          v15 = (__m64 *)(v7 + *v4);
          do
          {
            v15->m64_u64 = (unsigned __int64)_m_psrlwi(_m_pand((__m64)v15->m64_u64, v5), 1u);
            ++v15;
            v11 = v14-- <= 1;
          }
          while ( !v11 );
          v15->m64_i32[0] = ((unsigned int)v6 & v15->m64_i32[0]) >> 1;
          HIWORD(v15->m64_i32[0]) = (unsigned __int16)(v6 & HIWORD(v15->m64_i32[0])) >> 1;
          ++v4;
          v11 = a4-- <= 1;
        }
        while ( !v11 );
      }
      else
      {
        do
        {
          v12 = a3 >> 2;
          v13 = (__m64 *)(v7 + *v4);
          do
          {
            v13->m64_u64 = (unsigned __int64)_m_psrlwi(_m_pand((__m64)v13->m64_u64, v5), 1u);
            ++v13;
            v11 = v12-- <= 1;
          }
          while ( !v11 );
          LOWORD(v13->m64_i32[0]) = (unsigned __int16)(v6 & LOWORD(v13->m64_i32[0])) >> 1;
          ++v4;
          v11 = a4-- <= 1;
        }
        while ( !v11 );
      }
    }
    else if ( v8 & 1 )
    {
      do
      {
        v9 = a3 >> 2;
        v10 = (__m64 *)(v7 + *v4);
        do
        {
          v10->m64_u64 = (unsigned __int64)_m_psrlwi(_m_pand((__m64)v10->m64_u64, v5), 1u);
          ++v10;
          v11 = v9-- <= 1;
        }
        while ( !v11 );
        v10->m64_i32[0] = ((unsigned int)v6 & v10->m64_i32[0]) >> 1;
        ++v4;
        v11 = a4-- <= 1;
      }
      while ( !v11 );
    }
    else
    {
      do
      {
        v16 = a3 >> 2;
        v17 = (__m64 *)(v7 + *v4);
        do
        {
          v17->m64_u64 = (unsigned __int64)_m_psrlwi(_m_pand((__m64)v17->m64_u64, v5), 1u);
          ++v17;
          v11 = v16-- <= 1;
        }
        while ( !v11 );
        ++v4;
        v11 = a4-- <= 1;
      }
      while ( !v11 );
    }
    _m_femms();
  }
}
#endif

//----- (0049D880) --------------------------------------------------------
void __cdecl sub_49D880(int a1, int a2, int a3, int a4)
{
  _DWORD *v4; // esi
  int v5; // ebx
  int v6; // ecx
  unsigned __int8 *v7; // edi
  bool v9; // cc

  if ( a4 > 0 && a3 > 0 )
  {
    v4 = (_DWORD *)(*(_DWORD *)&byte_5D4594[3798784] + 4 * a2);
    v5 = (*(_DWORD *)&byte_5D4594[3801748] >> 3) + *(_DWORD *)&byte_5D4594[810636];
    do
    {
      v6 = a3;
      v7 = (unsigned __int8 *)(a1 + *v4);
      do
      {
        *v7++ = *(_BYTE *)(v5 + 32 * *v7);
        v9 = v6-- <= 1;
      }
      while ( !v9 );
      ++v4;
      v9 = a4-- <= 1;
    }
    while ( !v9 );
  }
}

//----- (0049D8E0) --------------------------------------------------------
int __cdecl sub_49D8E0(int a1, int a2, int a3, int a4)
{
  int *v4; // esi
  int v5; // edi
  _WORD *v6; // edi
  unsigned int v7; // edx
  int v8; // eax
  unsigned int v9; // ebx
  int v10; // edx
  int result; // eax
  bool v12; // cc
  int v13; // [esp+Ch] [ebp-4h]

  v4 = (int *)(*(_DWORD *)&byte_5D4594[3798784] + 4 * a2);
  do
  {
    v13 = a3;
    v5 = *v4;
    ++v4;
    v6 = (_WORD *)(a1 + a1 + v5);
    do
    {
      v7 = (unsigned __int16)*v6;
      v8 = (unsigned __int16)(*(_WORD *)&byte_5D4594[3804364] & *v6) >> byte_5D4594[3804376];
      LOBYTE(v8) = SADD8(byte_5D4594[3800932], v8);//__CFADD__(byte_5D4594[3800932], (_BYTE)v8) ? -1 : (unsigned __int8)(byte_5D4594[3800932] + v8);
      v9 = (*(_DWORD *)&byte_5D4594[3804368] & v7) >> byte_5D4594[3804380];
      LOBYTE(v9) = SADD8(byte_5D4594[3800936], v9);//__CFADD__(byte_5D4594[3800936], (_BYTE)v9) ? -1 : (unsigned __int8)(byte_5D4594[3800936] + v9);
      v10 = (*(_DWORD *)&byte_5D4594[3804372] & v7) << byte_5D4594[3804384];
      LOBYTE(v10) = SADD8(byte_5D4594[3800940], v10);//__CFADD__(byte_5D4594[3800940], (_BYTE)v10) ? -1 : (unsigned __int8)(byte_5D4594[3800940] + v10);
      result = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3804664] + 2 * v10) | *(_DWORD *)(*(_DWORD *)&byte_5D4594[3804656]
                                                                                   + 2 * v9) | *(_DWORD *)(*(_DWORD *)&byte_5D4594[3804672] + 2 * v8);
      *v6 = result;
      ++v6;
      v12 = v13-- <= 1;
    }
    while ( !v12 );
    v12 = a4-- <= 1;
  }
  while ( !v12 );
  return result;
}


int __cdecl sub_49D9A0(int a1, int a2, int a3, int a4)
{
	DebugBreak();
	return 0;
}

#if 0
//----- (0049D9A0) --------------------------------------------------------
int __cdecl sub_49D9A0(int a1, int a2, int a3, int a4)
{
  int *v4; // esi
  __m64 v5; // mm0
  __m64 v6; // mm1
  __m64 v7; // mm2
  int result; // eax
  int v9; // ecx
  int v10; // edi
  __m64 *v11; // edi
  __m64 v12; // mm3
  bool v13; // cc
  int v14; // ecx
  __m64 v15; // [esp+Ch] [ebp-8h]

  v4 = (int *)(*(_DWORD *)&byte_5D4594[3798784] + 4 * a2);
  v5 = *(__m64 *)&byte_5D4594[3800908];
  v6 = *(__m64 *)&byte_5D4594[3800916];
  v7 = *(__m64 *)&byte_5D4594[3800924];
  result = 2 * a1;
LABEL_2:
  while ( 2 )
  {
    v9 = a3;
    v10 = *v4;
    ++v4;
    v11 = (__m64 *)(result + v10);
    while ( 1 )
    {
      v12 = _m_por(
              _m_por(
                _m_pand(
                  _m_psllw(
                    _m_paddusb(
                      _m_psrlw(
                        _m_pand((__m64)v11->m64_u64, *(__m64 *)&byte_5D4594[3804396]),
                        *(__m64 *)&byte_5D4594[3804444]),
                      v5),
                    *(__m64 *)&byte_5D4594[3804444]),
                  *(__m64 *)&byte_5D4594[3804396]),
                _m_pand(
                  _m_psllw(
                    _m_paddusb(
                      _m_psrlw(
                        _m_pand((__m64)v11->m64_u64, *(__m64 *)&byte_5D4594[3804404]),
                        *(__m64 *)&byte_5D4594[3804452]),
                      v6),
                    *(__m64 *)&byte_5D4594[3804452]),
                  *(__m64 *)&byte_5D4594[3804404])),
              _m_psrlw(
                _m_paddusb(
                  _m_psllw(
                    _m_pand((__m64)v11->m64_u64, *(__m64 *)&byte_5D4594[3804412]),
                    *(__m64 *)&byte_5D4594[3804460]),
                  v7),
                *(__m64 *)&byte_5D4594[3804460]));
      v13 = v9 < 4;
      v9 -= 4;
      if ( v13 )
        break;
      v11->m64_u64 = (unsigned __int64)v12;
      ++v11;
      if ( v13 )
      {
        v13 = a4-- <= 1;
        if ( !v13 )
          goto LABEL_2;
        goto LABEL_11;
      }
    }
    v15 = v12;
    LOWORD(v11->m64_i32[0]) = v15.m64_i16[0];
    v14 = v9 + 3;
    if ( v14 )
    {
      HIWORD(v11->m64_i32[0]) = v15.m64_i16[1];
      if ( v14 != 1 )
        LOWORD(v11->m64_i32[1]) = v15.m64_i16[2];
    }
    v13 = a4-- <= 1;
    if ( !v13 )
      continue;
    break;
  }
LABEL_11:
  _m_femms();
  return result;
}

#endif

//----- (0049DA90) --------------------------------------------------------
unsigned __int8 __cdecl sub_49DA90(int a1, int a2, int a3, int a4)
{
  int *v4; // esi
  int v5; // ecx
  int v6; // edi
  unsigned __int8 *v7; // edi
  int v8; // eax
  char v9; // bl
  char v10; // bh
  int v11; // eax
  unsigned __int8 result; // al
  bool v13; // cc

  v4 = (int *)(*(_DWORD *)&byte_5D4594[3798784] + 4 * a2);
  do
  {
    v5 = a3;
    v6 = *v4;
    ++v4;
    v7 = (unsigned __int8 *)(a1 + v6);
    do
    {
      v8 = *v7;
      //v9 = (unsigned __int8)(__CFADD__(byte_5D4594[3800940], byte_5D4594[4 * v8 + 3803310]) ? -1 : (unsigned __int8)(byte_5D4594[3800940] + byte_5D4594[4 * v8 + 3803310])) >> 3;
	  v9 = SADD8(byte_5D4594[3800940], byte_5D4594[4 * v8 + 3803310]) >> 3;
      //v10 = (__CFADD__(byte_5D4594[3800936], byte_5D4594[4 * v8 + 3803309]) ? -1 : (unsigned __int8)(byte_5D4594[3800936] + byte_5D4594[4 * v8 + 3803309])) & 0xF8;
	  v10 = SADD8(byte_5D4594[3800936], byte_5D4594[4 * v8 + 3803309]) & 0xF8;
      //v11 = 32
      //    * (((unsigned __int8)-__CFADD__(byte_5D4594[3800932], byte_5D4594[4 * v8 + 3803308]) | (unsigned __int8)(byte_5D4594[3800932] + byte_5D4594[4 * v8 + 3803308])) & 0xF8);
      v11 = 32 * (SADD8(byte_5D4594[3800932], byte_5D4594[4 * v8 + 3803308]) & 0xF8);
	  LOBYTE(v11) = v10;
      v11 *= 4;
      LOBYTE(v11) = v9 | v11;
      result = *(_BYTE *)(*(_DWORD *)&byte_5D4594[810640] + v11);
      *v7++ = result;
      v13 = v5-- <= 1;
    }
    while ( !v13 );
    v13 = a4-- <= 1;
  }
  while ( !v13 );
  return result;
}

//----- (0049DB20) --------------------------------------------------------
unsigned __int8 __cdecl sub_49DB20(int a1, int a2, int a3, int a4)
{
  int *v4; // esi
  int v5; // ecx
  int v6; // edi
  unsigned __int8 *v7; // edi
  int v8; // eax
  char v9; // bl
  char v10; // bh
  int v11; // eax
  unsigned __int8 result; // al
  bool v13; // cc

  v4 = (int *)(*(_DWORD *)&byte_5D4594[3798784] + 4 * a2);
  do
  {
    v5 = a3;
    v6 = *v4;
    ++v4;
    v7 = (unsigned __int8 *)(a1 + v6);
    do
    {
      v8 = *v7;
      v9 = (unsigned __int8)(byte_5D4594[4 * v8 + 3803310] < byte_5D4594[3800940] ? 0 : (unsigned __int8)(byte_5D4594[4 * v8 + 3803310] - byte_5D4594[3800940])) >> 3;
      v10 = (byte_5D4594[4 * v8 + 3803309] < byte_5D4594[3800936] ? 0 : (unsigned __int8)(byte_5D4594[4 * v8 + 3803309]
                                                                                        - byte_5D4594[3800936])) & 0xF8;
      v11 = 32
          * ((unsigned __int8)((byte_5D4594[4 * v8 + 3803308] < byte_5D4594[3800932]) - 1) & (unsigned __int8)(byte_5D4594[4 * v8 + 3803308] - byte_5D4594[3800932]) & 0xF8);
      LOBYTE(v11) = v10;
      v11 *= 4;
      LOBYTE(v11) = v9 | v11;
      result = *(_BYTE *)(*(_DWORD *)&byte_5D4594[810640] + v11);
      *v7++ = result;
      v13 = v5-- <= 1;
    }
    while ( !v13 );
    v13 = a4-- <= 1;
  }
  while ( !v13 );
  return result;
}

//----- (0049DBB0) --------------------------------------------------------
int __cdecl sub_49DBB0(int a1, int a2, int a3, int a4)
{
  int *v4; // esi
  int v5; // edi
  _WORD *v6; // edi
  unsigned __int64 v7; // kr00_8
  unsigned __int64 v8; // kr08_8
  int result; // eax
  bool v10; // cc
  int v11; // [esp+Ch] [ebp-4h]

  v4 = (int *)(*(_DWORD *)&byte_5D4594[3798784] + 4 * a2);
  do
  {
    v11 = a3;
    v5 = *v4;
    ++v4;
    v6 = (_WORD *)(a1 + a1 + v5);
    do
    {
      v7 = ((unsigned __int16)(*(_WORD *)&byte_5D4594[3804368] & *v6) >> byte_5D4594[3804380])
         - (unsigned __int64)*(unsigned int *)&byte_5D4594[3800936];
      v8 = ((unsigned __int16)(*(_WORD *)&byte_5D4594[3804372] & *v6) << byte_5D4594[3804384])
         - (unsigned __int64)*(unsigned int *)&byte_5D4594[3800940];
      result = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3804664] + 2 * (~HIDWORD(v8) & v8)) | *(_DWORD *)(*(_DWORD *)&byte_5D4594[3804656] + 2 * (~HIDWORD(v7) & v7)) | *(_DWORD *)(*(_DWORD *)&byte_5D4594[3804672] + 2 * (~((__PAIR64__(*(unsigned int *)&byte_5D4594[3804376], (unsigned __int16)(*(_WORD *)&byte_5D4594[3804364] & *v6) >> byte_5D4594[3804376]) - __PAIR64__(*(unsigned int *)&byte_5D4594[3804376], *(unsigned int *)&byte_5D4594[3800932])) >> 32) & (((unsigned __int16)(*(_WORD *)&byte_5D4594[3804364] & *v6) >> byte_5D4594[3804376]) - *(_DWORD *)&byte_5D4594[3800932])));
      *v6 = result;
      ++v6;
      v10 = v11-- <= 1;
    }
    while ( !v10 );
    v10 = a4-- <= 1;
  }
  while ( !v10 );
  return result;
}


int __cdecl sub_49DC70(int a1, int a2, int a3, int a4)
{
	DebugBreak();
	return 0;
}

#if 0
//----- (0049DC70) --------------------------------------------------------
int __cdecl sub_49DC70(int a1, int a2, int a3, int a4)
{
  int *v4; // esi
  __m64 v5; // mm0
  __m64 v6; // mm1
  __m64 v7; // mm2
  int result; // eax
  int v9; // ecx
  int v10; // edi
  __m64 *v11; // edi
  __m64 v12; // mm3
  bool v13; // cc
  int v14; // ecx
  __m64 v15; // [esp+Ch] [ebp-8h]

  v4 = (int *)(*(_DWORD *)&byte_5D4594[3798784] + 4 * a2);
  v5 = *(__m64 *)&byte_5D4594[3800908];
  v6 = *(__m64 *)&byte_5D4594[3800916];
  v7 = *(__m64 *)&byte_5D4594[3800924];
  result = 2 * a1;
LABEL_2:
  while ( 2 )
  {
    v9 = a3;
    v10 = *v4;
    ++v4;
    v11 = (__m64 *)(result + v10);
    while ( 1 )
    {
      v12 = _m_por(
              _m_por(
                _m_pand(
                  _m_psllw(
                    _m_psubusb(
                      _m_psrlw(
                        _m_pand((__m64)v11->m64_u64, *(__m64 *)&byte_5D4594[3804396]),
                        *(__m64 *)&byte_5D4594[3804444]),
                      v5),
                    *(__m64 *)&byte_5D4594[3804444]),
                  *(__m64 *)&byte_5D4594[3804396]),
                _m_pand(
                  _m_psllw(
                    _m_psubusb(
                      _m_psrlw(
                        _m_pand((__m64)v11->m64_u64, *(__m64 *)&byte_5D4594[3804404]),
                        *(__m64 *)&byte_5D4594[3804452]),
                      v6),
                    *(__m64 *)&byte_5D4594[3804452]),
                  *(__m64 *)&byte_5D4594[3804404])),
              _m_psrlw(
                _m_psubusb(
                  _m_psllw(
                    _m_pand((__m64)v11->m64_u64, *(__m64 *)&byte_5D4594[3804412]),
                    *(__m64 *)&byte_5D4594[3804460]),
                  v7),
                *(__m64 *)&byte_5D4594[3804460]));
      v13 = v9 < 4;
      v9 -= 4;
      if ( v13 )
        break;
      v11->m64_u64 = (unsigned __int64)v12;
      ++v11;
      if ( v13 )
      {
        v13 = a4-- <= 1;
        if ( !v13 )
          goto LABEL_2;
        goto LABEL_11;
      }
    }
    v15 = v12;
    LOWORD(v11->m64_i32[0]) = v15.m64_i16[0];
    v14 = v9 + 3;
    if ( v14 )
    {
      HIWORD(v11->m64_i32[0]) = v15.m64_i16[1];
      if ( v14 != 1 )
        LOWORD(v11->m64_i32[1]) = v15.m64_i16[2];
    }
    v13 = a4-- <= 1;
    if ( !v13 )
      continue;
    break;
  }
LABEL_11:
  _m_femms();
  return result;
}
#endif
//----- (0049DD60) --------------------------------------------------------
int4 *__cdecl sub_49DD60(unsigned __int8 a1, int a2, int a3, int a4, int a5)
{
  int4 *result; // eax
  int v6; // ebp
  int v7; // esi
  int4 *v8; // ecx
  unsigned __int8 v9; // dl
  int v10; // eax
  int v11; // ebx
  int v12; // ecx
  int v13; // edi
  _BYTE *v14; // eax
  _BYTE *v15; // ecx
  _BYTE *v16; // esi
  int v17; // edi
  int v18; // ebp
  int v19; // ebx
  int v20; // edx
  unsigned __int8 *v21; // eax
  int v22; // esi
  int v23; // ecx
  int v24; // ecx
  int v25; // eax
  int v26; // edx
  char v27; // al
  int *v28; // eax
  int v29; // ecx
  int v30; // esi
  bool v31; // zf
  int v32; // [esp+Ch] [ebp-6Ch]
  int v33; // [esp+10h] [ebp-68h]
  int v34; // [esp+18h] [ebp-60h]
  int v35; // [esp+1Ch] [ebp-5Ch]
  int v36; // [esp+20h] [ebp-58h]
  int4 a3a; // [esp+24h] [ebp-54h]
  int4 a2a; // [esp+34h] [ebp-44h]
  int4 a1a; // [esp+44h] [ebp-34h]
  _BYTE *v40[9]; // [esp+54h] [ebp-24h]
  int v41; // [esp+84h] [ebp+Ch]

  if ( **(_DWORD **)&byte_5D4594[3799572] )
  {
    a2a.field_0 = a2;
    a2a.field_8 = a4 + a2;
    a2a.field_4 = a3;
    a2a.field_C = a5 + a3;
    a3a.field_4 = 1;
    a3a.field_0 = 1;
    a3a.field_8 = *(_DWORD *)&byte_5D4594[3801784] - 1;
    a3a.field_C = *(_DWORD *)&byte_5D4594[3801788] - 1;
    result = sub_49F930(&a1a, &a2a, &a3a);
    if ( !result )
      return result;
    v6 = a1a.field_0;
    a2 = a1a.field_0;
    v7 = a1a.field_4;
    a4 = a1a.field_8 - a1a.field_0;
    v8 = (int4 *)(a1a.field_C - a1a.field_4);
  }
  else
  {
    v8 = (int4 *)a5;
    v7 = a3;
    v6 = a2;
  }
  v9 = a1;
  v10 = 4 * a1;
  v34 = byte_5D4594[v10 + 3803308];
  v35 = byte_5D4594[v10 + 3803309];
  v11 = byte_5D4594[v10 + 3803310];
  result = v8;
  v12 = (int)&v8[-1].field_C + 3;
  v36 = v11;
  if ( result )
  {
    v13 = 4 * v7;
    v41 = 4 * v7;
    v33 = v12 + 1;
    while ( 1 )
    {
      v14 = (_BYTE *)(v6 + *(_DWORD *)(v13 + *(_DWORD *)&byte_5D4594[3798784] - 4));
      v40[1] = v14;
      v40[0] = v14 - 1;
      v40[2] = v14 + 1;
      v15 = (_BYTE *)(v6 + *(_DWORD *)(v13 + *(_DWORD *)&byte_5D4594[3798784]));
      v16 = (_BYTE *)(v6 + *(_DWORD *)(v13 + *(_DWORD *)&byte_5D4594[3798784] + 4));
      v40[4] = v15;
      v40[7] = v16;
      v40[3] = v15 - 1;
      v40[5] = v15 + 1;
      v40[6] = v16 - 1;
      v40[8] = v16 + 1;
      if ( a4 > 0 )
      {
        v32 = a4;
        while ( 1 )
        {
          if ( *v40[0] == v9
            || *v14 == v9
            || *v40[2] == v9
            || *v40[3] == v9
            || *v15 == v9
            || *v40[5] == v9
            || *v40[6] == v9
            || *v16 == v9
            || *v40[8] == v9 )
          {
            v17 = 0;
            v18 = 0;
            v19 = 0;
            v20 = 0;
            do
            {
              v21 = v40[v20];
              v22 = *(_DWORD *)&byte_581450[v20 * 4 + 9680];
              ++v20;
              v23 = 4 * *v21;
              v17 += v22 * byte_5D4594[v23 + 3803308];
              v18 += v22 * byte_5D4594[v23 + 3803309];
              v19 += v22 * byte_5D4594[v23 + 3803310];
            }
            while ( v20 < 9 );
            v24 = v17 / 12;
            v25 = v19 / 12;
            if ( v17 / 12 > v34 )
              LOBYTE(v24) = v34;
            v26 = v18 / 12;
            if ( v18 / 12 > v35 )
              LOBYTE(v26) = v35;
            if ( v25 > v36 )
              v25 = v36;
            v6 = a2;
            v13 = v41;
            v27 = *(_BYTE *)(((v25 >> 3) & 0xFFFF | (unsigned __int16)(4 * (v26 & 0xF8 | (32 * (v24 & 0xF8)))))
                           + *(_DWORD *)&byte_5D4594[810640]);
            v9 = a1;
            *v40[4] = v27;
          }
          v28 = (int *)v40;
          v29 = 9;
          do
          {
            v30 = *v28;
            ++v28;
            --v29;
            *(v28 - 1) = v30 + 1;
          }
          while ( v29 );
          if ( !--v32 )
            break;
          v16 = v40[7];
          v14 = v40[1];
          v15 = v40[4];
        }
      }
      result = (int4 *)(v33 - 1);
      v31 = v33 == 1;
      v41 = v13 + 4;
      --v33;
      if ( v31 )
        break;
      v13 += 4;
    }
  }
  return result;
}

//----- (0049E060) --------------------------------------------------------
int4 *__cdecl sub_49E060(__int16 a1, int a2, int a3, int a4, int a5)
{
  int4 *result; // eax
  int v6; // ebx
  int v7; // ebp
  int4 *v8; // edx
  __int16 v9; // di
  int v10; // edx
  int v11; // ebx
  int v12; // esi
  _WORD *v13; // eax
  _WORD *v14; // ecx
  _WORD *v15; // edx
  int v16; // esi
  int v17; // eax
  int v18; // ebx
  unsigned __int16 *v19; // edx
  int v20; // edi
  unsigned int v21; // edx
  int v22; // ecx
  int v23; // edi
  int v24; // eax
  __int16 v25; // ax
  int *v26; // eax
  int v27; // ecx
  int v28; // edx
  bool v29; // zf
  int v30; // [esp+10h] [ebp-68h]
  int v31; // [esp+14h] [ebp-64h]
  int v32; // [esp+18h] [ebp-60h]
  int v33; // [esp+1Ch] [ebp-5Ch]
  int v34; // [esp+20h] [ebp-58h]
  int4 a3a; // [esp+24h] [ebp-54h]
  int4 a2a; // [esp+34h] [ebp-44h]
  int4 a1a; // [esp+44h] [ebp-34h]
  _WORD *v38[9];
  int v47; // [esp+80h] [ebp+8h]
  int v48; // [esp+84h] [ebp+Ch]
  int v49; // [esp+8Ch] [ebp+14h]

  if ( **(_DWORD **)&byte_5D4594[3799572] )
  {
    a2a.field_0 = a2;
    a2a.field_8 = a4 + a2;
    a2a.field_4 = a3;
    a2a.field_C = a5 + a3;
    a3a.field_4 = 1;
    a3a.field_0 = 1;
    a3a.field_8 = *(_DWORD *)&byte_5D4594[3801784] - 1;
    a3a.field_C = *(_DWORD *)&byte_5D4594[3801788] - 1;
    result = sub_49F930(&a1a, &a2a, &a3a);
    if ( !result )
      return result;
    v6 = a1a.field_0;
    v7 = a1a.field_4;
    a4 = a1a.field_8 - a1a.field_0;
    v8 = (int4 *)(a1a.field_C - a1a.field_4);
  }
  else
  {
    v8 = (int4 *)a5;
    v7 = a3;
    v6 = a2;
  }
  v9 = a1;
  v31 = (unsigned __int16)(*(_WORD *)&byte_5D4594[3804364] & a1) >> byte_5D4594[3804376];
  v32 = (unsigned __int16)(*(_WORD *)&byte_5D4594[3804368] & a1) >> byte_5D4594[3804380];
  v33 = (unsigned __int16)(*(_WORD *)&byte_5D4594[3804372] & a1) << byte_5D4594[3804384];
  result = v8;
  v10 = (int)&v8[-1].field_C + 3;
  if ( result )
  {
    v11 = 2 * v6;
    v12 = 4 * v7;
    v34 = v11;
    v47 = 4 * v7;
    v30 = v10 + 1;
    do
    {
      v13 = (_WORD *)(v11 + *(_DWORD *)(v12 + *(_DWORD *)&byte_5D4594[3798784] - 4));
      v38[1] = v13;
      v38[0] = v13 - 1;
      v38[2] = v13 + 1;
      v14 = (_WORD *)(v11 + *(_DWORD *)(v12 + *(_DWORD *)&byte_5D4594[3798784]));
      v15 = (_WORD *)(v11 + *(_DWORD *)(v12 + *(_DWORD *)&byte_5D4594[3798784] + 4));
      v38[4] = v14;
      v38[7] = v15;
      v38[3] = v14 - 1;
      v38[5] = v14 + 1;
      v38[6] = v15 - 1;
      v38[8] = v15 + 1;
      if ( a4 > 0 )
      {
        v48 = a4;
        while ( 1 )
        {
          if ( *v38[0] == v9
            || *v13 == v9
            || *v38[2] == v9
            || *v38[3] == v9
            || *v14 == v9
            || *v38[5] == v9
            || *v38[6] == v9
            || *v15 == v9
            || *v38[8] == v9 )
          {
            v16 = 0;
            v17 = 0;
            v18 = 0;
            v49 = 0;
            do
            {
              v19 = v38[v16];
              v20 = *(_DWORD *)&byte_581450[v16 * 4 + 9680];
              ++v16;
              v21 = *v19;
              v17 += v20 * ((*(_DWORD *)&byte_5D4594[3804364] & v21) >> byte_5D4594[3804376]);
              v18 += v20 * ((*(_DWORD *)&byte_5D4594[3804368] & v21) >> byte_5D4594[3804380]);
              v49 += v20 * ((*(_DWORD *)&byte_5D4594[3804372] & v21) << byte_5D4594[3804384]);
            }
            while ( v16 < 9 );
            v22 = v17 / 12;
            v23 = v18 / 12;
            v24 = v49 / 12;
            if ( v22 > v31 )
              v22 = v31;
            if ( v23 > v32 )
              v23 = v32;
            if ( v24 > v33 )
              v24 = v33;
            v11 = v34;
            v12 = v47;
            v25 = *(_WORD *)(*(_DWORD *)&byte_5D4594[3804656] + 2 * v23) | *(_WORD *)(*(_DWORD *)&byte_5D4594[3804664]
                                                                                    + 2 * v24);
            v9 = a1;
            *v38[4] = *(_WORD *)(*(_DWORD *)&byte_5D4594[3804672] + 2 * v22) | v25;
          }
          v26 = (int *)v38;
          for (v27 = 0; v27 < 9; v27++)
          {
            v26[v27] += 2;
          }
          if ( !--v48 )
            break;
          v15 = v38[7];
          v14 = v38[4];
          v13 = v38[1];
        }
      }
      v12 += 4;
      result = (int4 *)(v30 - 1);
      v29 = v30 == 1;
      v47 = v12;
      --v30;
    }
    while ( !v29 );
  }
  return result;
}

//----- (0049E380) --------------------------------------------------------
void __cdecl sub_49E380(int a1, int a2, unsigned int a3)
{
  int v3; // edi
  signed int v4; // ecx

  if ( (int)a3 > 0 )
  {
    v3 = a1;
    v4 = a3 >> 2;
    if ( a3 >> 2 )
    {
      do
      {
        *(_DWORD *)v3 = a2;
        v3 += 4;
      }
      while ( v4-- > 1 );
    }
    if ( a3 & 3 )
    {
      *(_BYTE *)v3 = a2;
      if ( (a3 & 3) != 1 )
      {
        *(_BYTE *)(v3 + 1) = a2;
        if ( (a3 & 3) != 2 )
          *(_BYTE *)(v3 + 2) = a2;
      }
    }
  }
}

//----- (0049E3C0) --------------------------------------------------------
void __cdecl sub_49E3C0(_DWORD *a1, int a2, unsigned int a3)
{
  _DWORD *v3; // edi
  signed int v4; // ecx

  if ( (int)a3 > 0 )
  {
    v3 = a1;
    v4 = a3 >> 2;
    if ( a3 >> 2 )
    {
      do
      {
        *v3 = a2;
        ++v3;
      }
      while ( v4-- > 1 );
    }
    if ( (int)(a3 & 3) >= 2 )
      *(_WORD *)v3 = a2;
  }
}

//----- (0049E3F0) --------------------------------------------------------
int sub_49E3F0()
{
  if ( !*(_DWORD *)&byte_5D4594[3801780] )
  {
    *(_DWORD *)&byte_5D4594[3798716] = sub_49E540;
    *(_DWORD *)&byte_5D4594[3798700] = sub_49EFC0;
    *(_DWORD *)&byte_5D4594[3798704] = sub_49ED80;
    *(_DWORD *)&byte_5D4594[3798720] = sub_49F060;
    *(_DWORD *)&byte_5D4594[3798708] = sub_49F0F0;
    *(_DWORD *)&byte_5D4594[3798712] = sub_49F3A0;
    return 1;
  }
  if ( *(_DWORD *)&byte_5D4594[3801780] != 1 )
    return 1;
  *(_DWORD *)&byte_5D4594[3798720] = sub_49F180;
  *(_DWORD *)&byte_5D4594[3798708] = sub_49F210;
  if ( !*(_DWORD *)&byte_5D4594[3801804] )
    *(_DWORD *)&byte_5D4594[3798708] = sub_49F180;
  *(_DWORD *)&byte_5D4594[3798712] = sub_49F420;
  *(_DWORD *)&byte_5D4594[3798716] = sub_49E930;
  *(_DWORD *)&byte_5D4594[3798700] = sub_49F010;
  *(_DWORD *)&byte_5D4594[3798704] = sub_49ED80;
  return 1;
}

//----- (0049E4B0) --------------------------------------------------------
int sub_49E4B0()
{
  return (*(int (__cdecl **)(_DWORD))&byte_5D4594[3798716])(0);
}

//----- (0049E4C0) --------------------------------------------------------
int __cdecl sub_49E4C0(int a1, int a2, int a3, int a4)
{
  sub_49F500(a1, a2);
  sub_49F500(a3, a4);
  return (*(int (__cdecl **)(_DWORD))&byte_5D4594[3798716])(0);
}

//----- (0049E4F0) --------------------------------------------------------
int __cdecl sub_49E4F0(int a1)
{
  return (*(int (__cdecl **)(_DWORD, _DWORD))&byte_5D4594[3798704])(a1, 0);
}

//----- (0049E510) --------------------------------------------------------
int __cdecl sub_49E510(int a1)
{
  int i; // esi

  for ( i = a1 - 1; i > 0; --i )
  {
    if ( !(*(int (__cdecl **)(_DWORD))&byte_5D4594[3798716])(1) )
      break;
  }
  return (*(int (__cdecl **)(_DWORD))&byte_5D4594[3798716])(0);
}

//----- (0049E540) --------------------------------------------------------
int __cdecl sub_49E540(int a1)
{
  int result; // eax
  int v2; // esi
  int v3; // eax
  int v4; // ecx
  int v5; // ebx
  int v6; // edi
  int v7; // edx
  int v8; // edi
  int v9; // edi
  int v10; // edx
  unsigned __int8 v11; // bl
  unsigned __int8 *i; // edi
  bool v13; // cc
  int v14; // edi
  int v15; // ebx
  unsigned __int8 v16; // dl
  int v17; // [esp+Ch] [ebp-24h]
  int v18; // [esp+10h] [ebp-20h]
  int v19; // [esp+14h] [ebp-1Ch]
  int v20; // [esp+18h] [ebp-18h]
  int v21; // [esp+1Ch] [ebp-14h]
  int v22; // [esp+1Ch] [ebp-14h]
  int v23; // [esp+20h] [ebp-10h]
  int v24; // [esp+24h] [ebp-Ch]
  int v25; // [esp+28h] [ebp-8h]
  int v26; // [esp+2Ch] [ebp-4h]
  int v27; // [esp+38h] [ebp+8h]
  int v28; // [esp+38h] [ebp+8h]

  if ( *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 52) )
    return sub_49E6C0(a1);
  result = sub_49F5B0(&v25, &v23, 0);
  if ( result )
  {
    result = sub_49F5B0(&v26, &v24, a1);
    if ( result )
    {
      if ( !**(_DWORD **)&byte_5D4594[3799572] || sub_49F990(&v26, &v24, &v25, &v23) )
      {
        v2 = *(_DWORD *)&byte_5D4594[3798784];
        v3 = v26;
        v4 = v24;
        if ( v26 == v25 )
        {
          (*(void (__cdecl **)(_DWORD, _DWORD, _DWORD))&byte_5D4594[3798712])(v26, v24, v23);
        }
        else if ( v24 == v23 )
        {
          (*(void (__cdecl **)(_DWORD, _DWORD, _DWORD))&byte_5D4594[3798720])(v26, v24, v25);
        }
        else
        {
          v5 = v25 - v26;
          v6 = 1;
          if ( v25 < v26 )
          {
            v6 = -1;
            v5 = v26 - v25;
          }
          v17 = v6;
          v18 = v5;
          v7 = v23 - v24;
          v8 = 1;
          if ( v23 < v24 )
          {
            v8 = -1;
            v7 = v24 - v23;
          }
          v19 = v8;
          v20 = v7;
          if ( v5 < v7 )
          {
            v14 = v5;
            v22 = 2 * v5;
            v15 = 2 * v5 - v7;
            v28 = 2 * (v14 - v7);
            v16 = byte_5D4594[3800960];
            while ( 1 )
            {
              *(_BYTE *)(v3 + *(_DWORD *)(v2 + 4 * v4)) = v16;
              v13 = v20-- < 1;
              if ( v13 )
                break;
              v4 += v19;
              if ( v15 >= 0 )
              {
                v15 += v28;
                v3 += v17;
              }
              else
              {
                v15 += v22;
              }
            }
          }
          else
          {
            v9 = v7;
            v21 = 2 * v7;
            v10 = 2 * v7 - v5;
            v27 = 2 * (v9 - v5);
            v11 = byte_5D4594[3800960];
LABEL_18:
            for ( i = (unsigned __int8 *)(v3 + *(_DWORD *)(v2 + 4 * v4)); ; i += v17 )
            {
              *i = v11;
              v13 = v18-- < 1;
              if ( v13 )
                break;
              v3 += v17;
              if ( v10 >= 0 )
              {
                v10 += v27;
                v4 += v19;
                goto LABEL_18;
              }
              v10 += v21;
            }
          }
        }
      }
      result = 1;
    }
  }
  return result;
}

//----- (0049E6C0) --------------------------------------------------------
int __cdecl sub_49E6C0(int a1)
{
  int result; // eax
  unsigned __int8 *v2; // ecx
  int v3; // esi
  int v4; // ebx
  int v5; // edi
  int v6; // edx
  int v7; // edi
  int v8; // edi
  int v9; // edx
  _BYTE *i; // edi
  unsigned __int8 *v11; // ecx
  bool v12; // cc
  int v13; // edi
  int v14; // ebx
  _BYTE *v15; // edi
  unsigned __int8 *v16; // ecx
  __int16 v17; // [esp+0h] [ebp-38h]
  __int16 v18; // [esp+4h] [ebp-34h]
  int v19; // [esp+8h] [ebp-30h]
  int v20; // [esp+Ch] [ebp-2Ch]
  int v21; // [esp+10h] [ebp-28h]
  int v22; // [esp+14h] [ebp-24h]
  int v23; // [esp+18h] [ebp-20h]
  int v24; // [esp+1Ch] [ebp-1Ch]
  int v25; // [esp+1Ch] [ebp-1Ch]
  int v26; // [esp+20h] [ebp-18h]
  int v27; // [esp+20h] [ebp-18h]
  int v28; // [esp+28h] [ebp-10h]
  int v29; // [esp+2Ch] [ebp-Ch]
  int v30; // [esp+30h] [ebp-8h]
  int v31; // [esp+34h] [ebp-4h]

  result = sub_49F5B0(&v29, &v28, 0);
  if ( result )
  {
    result = sub_49F5B0(&v30, &v31, a1);
    if ( result )
    {
      if ( !**(_DWORD **)&byte_5D4594[3799572] || sub_49F990(&v30, &v31, &v29, &v28) )
      {
        v2 = &byte_5D4594[4 * byte_5D4594[3800960] + 3803308];
        v3 = *(_DWORD *)&byte_5D4594[3798784];
        v17 = *v2;
        v18 = v2[1];
        v19 = v2[2];
        v4 = v29 - v30;
        v5 = 1;
        if ( v29 < v30 )
        {
          v5 = -1;
          v4 = v30 - v29;
        }
        v20 = v5;
        v6 = v28 - v31;
        v21 = v4;
        v7 = 1;
        if ( v28 < v31 )
        {
          v7 = -1;
          v6 = v31 - v28;
        }
        v22 = v7;
        v23 = v6;
        if ( v4 < v6 )
        {
          v13 = v4;
          v25 = 2 * v4;
          v14 = 2 * v4 - v6;
          v27 = 2 * (v13 - v6);
          while ( 1 )
          {
            v15 = (_BYTE *)(v30 + *(_DWORD *)(v3 + 4 * v31));
            v16 = &byte_5D4594[4 * (unsigned __int8)*v15 + 3803308];
            *v15 = *(_BYTE *)(*(_DWORD *)&byte_5D4594[810640]
                            + (unsigned __int16)((4
                                                * ((((unsigned __int16)(*(_WORD *)&byte_5D4594[3801752] * (v18 - v16[1])) >> 8)
                                                  + v16[1]) & 0xF8)) | (((((unsigned __int16)(*(_WORD *)&byte_5D4594[3801752]
                                                                                            * (v17 - *v16)) >> 8)
                                                                        + *v16) & 0xF8) << 7) | ((((*(_DWORD *)&byte_5D4594[3801752]
                                                                                                  * (v19 - (unsigned int)v16[2])) >> 8)
                                                                                                + v16[2]) >> 3)));
            v12 = v23-- < 1;
            if ( v12 )
              break;
            v31 += v22;
            if ( v14 >= 0 )
            {
              v14 += v27;
              v30 += v20;
            }
            else
            {
              v14 += v25;
            }
          }
        }
        else
        {
          v8 = v6;
          v24 = 2 * v6;
          v9 = 2 * v6 - v4;
          v26 = 2 * (v8 - v4);
LABEL_15:
          for ( i = (_BYTE *)(v30 + *(_DWORD *)(v3 + 4 * v31)); ; i += v20 )
          {
            v11 = &byte_5D4594[4 * (unsigned __int8)*i + 3803308];
            *i = *(_BYTE *)(*(_DWORD *)&byte_5D4594[810640]
                          + (unsigned __int16)((4
                                              * ((((unsigned __int16)(*(_WORD *)&byte_5D4594[3801752] * (v18 - v11[1])) >> 8)
                                                + v11[1]) & 0xF8)) | (((((unsigned __int16)(*(_WORD *)&byte_5D4594[3801752]
                                                                                          * (v17 - *v11)) >> 8)
                                                                      + *v11) & 0xF8) << 7) | ((((*(_DWORD *)&byte_5D4594[3801752]
                                                                                                * (v19
                                                                                                 - (unsigned int)v11[2])) >> 8)
                                                                                              + v11[2]) >> 3)));
            v12 = v21-- < 1;
            if ( v12 )
              break;
            v30 += v20;
            if ( v9 >= 0 )
            {
              v9 += v26;
              v31 += v22;
              goto LABEL_15;
            }
            v9 += v24;
          }
        }
        result = 1;
      }
      else
      {
        result = 1;
      }
    }
  }
  return result;
}

//----- (0049E930) --------------------------------------------------------
int __cdecl sub_49E930(int a1)
{
  int result; // eax
  int v2; // esi
  int v3; // ecx
  int v4; // ebx
  int v5; // edi
  int v6; // edx
  int v7; // edi
  int v8; // eax
  int v9; // edi
  int v10; // edx
  __int16 v11; // bx
  _WORD *i; // edi
  bool v13; // cc
  int v14; // edi
  int v15; // ebx
  __int16 v16; // dx
  int v17; // [esp+Ch] [ebp-24h]
  int v18; // [esp+10h] [ebp-20h]
  int v19; // [esp+14h] [ebp-1Ch]
  int v20; // [esp+18h] [ebp-18h]
  int v21; // [esp+1Ch] [ebp-14h]
  int v22; // [esp+1Ch] [ebp-14h]
  int v23; // [esp+20h] [ebp-10h]
  int v24; // [esp+24h] [ebp-Ch]
  int v25; // [esp+28h] [ebp-8h]
  int v26; // [esp+2Ch] [ebp-4h]
  int v27; // [esp+38h] [ebp+8h]
  int v28; // [esp+38h] [ebp+8h]

  if ( *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 52) )
    return sub_49EAB0(a1);
  result = sub_49F5B0(&v25, &v23, 0);
  if ( result )
  {
    result = sub_49F5B0(&v26, &v24, a1);
    if ( result )
    {
      if ( !**(_DWORD **)&byte_5D4594[3799572] || sub_49F990(&v26, &v24, &v25, &v23) )
      {
        v2 = *(_DWORD *)&byte_5D4594[3798784];
        v3 = v24;
        if ( v26 == v25 )
        {
          (*(void (__cdecl **)(_DWORD, _DWORD, _DWORD))&byte_5D4594[3798712])(v26, v24, v23);
        }
        else if ( v24 == v23 )
        {
          (*(void (__cdecl **)(_DWORD, _DWORD, _DWORD))&byte_5D4594[3798720])(v26, v24, v25);
        }
        else
        {
          v4 = v25 - v26;
          v5 = 2;
          if ( v25 < v26 )
          {
            v5 = -2;
            v4 = v26 - v25;
          }
          v17 = v5;
          v18 = v4;
          v6 = v23 - v24;
          v7 = 1;
          if ( v23 < v24 )
          {
            v7 = -1;
            v6 = v24 - v23;
          }
          v19 = v7;
          v20 = v6;
          v8 = 2 * v26;
          if ( v4 < v6 )
          {
            v14 = v4;
            v22 = 2 * v4;
            v15 = 2 * v4 - v6;
            v28 = 2 * (v14 - v6);
            v16 = *(_WORD *)&byte_5D4594[3800960];
            while ( 1 )
            {
              *(_WORD *)(v8 + *(_DWORD *)(v2 + 4 * v3)) = v16;
              v13 = v20-- < 1;
              if ( v13 )
                break;
              v3 += v19;
              if ( v15 >= 0 )
              {
                v15 += v28;
                v8 += v17;
              }
              else
              {
                v15 += v22;
              }
            }
          }
          else
          {
            v9 = v6;
            v21 = 2 * v6;
            v10 = 2 * v6 - v4;
            v27 = 2 * (v9 - v4);
            v11 = *(_WORD *)&byte_5D4594[3800960];
LABEL_18:
            for ( i = (_WORD *)(v8 + *(_DWORD *)(v2 + 4 * v3)); ; i = (_WORD *)((char *)i + v17) )
            {
              *i = v11;
              v13 = v18-- < 1;
              if ( v13 )
                break;
              v8 += v17;
              if ( v10 >= 0 )
              {
                v10 += v27;
                v3 += v19;
                goto LABEL_18;
              }
              v10 += v21;
            }
          }
        }
      }
      result = 1;
    }
  }
  return result;
}

//----- (0049EAB0) --------------------------------------------------------
int __cdecl sub_49EAB0(int a1)
{
  int result; // eax
  int v2; // esi
  int v3; // ebx
  int v4; // edi
  int v5; // edx
  int v6; // edi
  int v7; // edi
  int v8; // edx
  __int16 *i; // edi
  __int16 v10; // ax
  bool v11; // cc
  int v12; // edi
  int v13; // ebx
  __int16 *v14; // edi
  __int16 v15; // ax
  int v16; // [esp+0h] [ebp-38h]
  int v17; // [esp+4h] [ebp-34h]
  int v18; // [esp+8h] [ebp-30h]
  int v19; // [esp+Ch] [ebp-2Ch]
  int v20; // [esp+10h] [ebp-28h]
  int v21; // [esp+14h] [ebp-24h]
  int v22; // [esp+18h] [ebp-20h]
  int v23; // [esp+1Ch] [ebp-1Ch]
  int v24; // [esp+1Ch] [ebp-1Ch]
  int v25; // [esp+20h] [ebp-18h]
  int v26; // [esp+20h] [ebp-18h]
  int v27; // [esp+28h] [ebp-10h]
  int v28; // [esp+2Ch] [ebp-Ch]
  int v29; // [esp+30h] [ebp-8h]
  int v30; // [esp+34h] [ebp-4h]

  result = sub_49F5B0(&v28, &v27, 0);
  if ( result )
  {
    result = sub_49F5B0(&v29, &v30, a1);
    if ( result )
    {
      if ( !**(_DWORD **)&byte_5D4594[3799572] || sub_49F990(&v29, &v30, &v28, &v27) )
      {
        v16 = (unsigned __int16)(*(_WORD *)&byte_5D4594[3804364] & *(_WORD *)&byte_5D4594[3800960]) >> byte_5D4594[3804376];
        v17 = (unsigned __int16)(*(_WORD *)&byte_5D4594[3804368] & *(_WORD *)&byte_5D4594[3800960]) >> byte_5D4594[3804380];
        v18 = (unsigned __int16)(*(_WORD *)&byte_5D4594[3804372] & *(_WORD *)&byte_5D4594[3800960]) << byte_5D4594[3804384];
        v2 = *(_DWORD *)&byte_5D4594[3798784];
        v3 = v28 - v29;
        v4 = 2;
        if ( v28 < v29 )
        {
          v4 = -2;
          v3 = v29 - v28;
        }
        v19 = v4;
        v5 = v27 - v30;
        v20 = v3;
        v6 = 1;
        if ( v27 < v30 )
        {
          v6 = -1;
          v5 = v30 - v27;
        }
        v21 = v6;
        v22 = v5;
        v29 *= 2;
        if ( v3 < v5 )
        {
          v12 = v3;
          v24 = 2 * v3;
          v13 = 2 * v3 - v5;
          v26 = 2 * (v12 - v5);
          while ( 1 )
          {
            v14 = (__int16 *)(v29 + *(_DWORD *)(v2 + 4 * v30));
            v15 = *v14;
            *v14 = *(_WORD *)(*(_DWORD *)&byte_5D4594[3804656]
                            + 2
                            * (unsigned __int8)(((unsigned __int16)(*(_WORD *)&byte_5D4594[3801752]
                                                                  * (v17
                                                                   - ((unsigned __int16)(*(_WORD *)&byte_5D4594[3804368] & v15) >> byte_5D4594[3804380]))) >> 8)
                                              + ((unsigned __int16)(*(_WORD *)&byte_5D4594[3804368] & v15) >> byte_5D4594[3804380]))) | *(_WORD *)(*(_DWORD *)&byte_5D4594[3804672] + 2 * (unsigned __int8)(((unsigned __int16)(*(_WORD *)&byte_5D4594[3801752] * (v16 - ((unsigned __int16)(*(_WORD *)&byte_5D4594[3804364] & v15) >> byte_5D4594[3804376]))) >> 8) + ((unsigned __int16)(*(_WORD *)&byte_5D4594[3804364] & v15) >> byte_5D4594[3804376]))) | *(_WORD *)(*(_DWORD *)&byte_5D4594[3804664] + 2 * (unsigned __int8)(((unsigned __int16)(*(_WORD *)&byte_5D4594[3801752] * (v18 - ((unsigned __int16)(*(_WORD *)&byte_5D4594[3804372] & v15) << byte_5D4594[3804384]))) >> 8) + ((unsigned __int16)(*(_WORD *)&byte_5D4594[3804372] & v15) << byte_5D4594[3804384])));
            v11 = v22-- < 1;
            if ( v11 )
              break;
            v30 += v21;
            if ( v13 >= 0 )
            {
              v13 += v26;
              v29 += v19;
            }
            else
            {
              v13 += v24;
            }
          }
        }
        else
        {
          v7 = v5;
          v23 = 2 * v5;
          v8 = 2 * v5 - v3;
          v25 = 2 * (v7 - v3);
LABEL_15:
          for ( i = (__int16 *)(v29 + *(_DWORD *)(v2 + 4 * v30)); ; i = (__int16 *)((char *)i + v19) )
          {
            v10 = *i;
            *i = *(_WORD *)(*(_DWORD *)&byte_5D4594[3804656]
                          + 2
                          * (unsigned __int8)(((unsigned __int16)(*(_WORD *)&byte_5D4594[3801752]
                                                                * (v17
                                                                 - ((unsigned __int16)(*(_WORD *)&byte_5D4594[3804368] & v10) >> byte_5D4594[3804380]))) >> 8)
                                            + ((unsigned __int16)(*(_WORD *)&byte_5D4594[3804368] & v10) >> byte_5D4594[3804380]))) | *(_WORD *)(*(_DWORD *)&byte_5D4594[3804672] + 2 * (unsigned __int8)(((unsigned __int16)(*(_WORD *)&byte_5D4594[3801752] * (v16 - ((unsigned __int16)(*(_WORD *)&byte_5D4594[3804364] & v10) >> byte_5D4594[3804376]))) >> 8) + ((unsigned __int16)(*(_WORD *)&byte_5D4594[3804364] & v10) >> byte_5D4594[3804376]))) | *(_WORD *)(*(_DWORD *)&byte_5D4594[3804664] + 2 * (unsigned __int8)(((unsigned __int16)(*(_WORD *)&byte_5D4594[3801752] * (v18 - ((unsigned __int16)(*(_WORD *)&byte_5D4594[3804372] & v10) << byte_5D4594[3804384]))) >> 8) + ((unsigned __int16)(*(_WORD *)&byte_5D4594[3804372] & v10) << byte_5D4594[3804384])));
            v11 = v20-- < 1;
            if ( v11 )
              break;
            v29 += v19;
            if ( v8 >= 0 )
            {
              v8 += v25;
              v30 += v21;
              goto LABEL_15;
            }
            v8 += v23;
          }
        }
        result = 1;
      }
      else
      {
        result = 1;
      }
    }
  }
  return result;
}

//----- (0049ED80) --------------------------------------------------------
int __cdecl sub_49ED80(unsigned __int8 a1, int a2)
{
  int result; // eax
  int v3; // edi
  int v4; // esi
  int *v5; // ebp
  int v6; // esi
  int v7; // ebx
  int v8; // ecx
  int v9; // edi
  int v10; // edi
  int v11; // ecx
  int v12; // edi
  int v13; // ebx
  int v14; // eax
  int v15; // esi
  int v16; // esi
  int v17; // ecx
  int v18; // [esp+0h] [ebp-1Ch]
  int v19; // [esp+4h] [ebp-18h]
  int v20; // [esp+8h] [ebp-14h]
  int v21; // [esp+Ch] [ebp-10h]
  int v22; // [esp+10h] [ebp-Ch]
  int v23; // [esp+14h] [ebp-8h]
  int v24; // [esp+18h] [ebp-4h]
  int v25; // [esp+20h] [ebp+4h]
  int v26; // [esp+20h] [ebp+4h]
  int v27; // [esp+24h] [ebp+8h]

  if ( *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 52) )
    return sub_49EAB0(a2);
  result = sub_49F5B0(&v22, &v23, 0);
  if ( result )
  {
    result = sub_49F5B0(&v19, &v18, a2);
    if ( result )
    {
      if ( **(_DWORD **)&byte_5D4594[3799572] && !sub_49F990(&v19, &v18, &v22, &v23) )
        return 1;
      v3 = v22 - v19;
      v4 = v23 - v18;
      if ( v19 <= v22 )
      {
        v21 = v19 != v22;
      }
      else
      {
        v21 = -1;
        v3 = v19 - v22;
      }
      if ( v18 <= v23 )
      {
        v20 = v18 != v23;
      }
      else
      {
        v20 = -1;
        v4 = v18 - v23;
      }
      v5 = sub_4B0680(0, a1);
      v27 = 0;
      v24 = *v5 >> 2;
      if ( v3 <= v4 )
      {
        v26 = 2 * v3;
        v12 = 2 * (v3 - v4);
        v13 = v26 - v4;
        sub_4B0820((int)v5, v19, v18);
        v14 = v4;
        v15 = v4 - 1;
        if ( v14 )
        {
          v16 = v15 + 1;
          do
          {
            v17 = v20 + v18;
            v18 += v20;
            if ( v13 >= 0 )
            {
              v13 += v12;
              v19 += v21;
            }
            else
            {
              v13 += v26;
            }
            if ( ++v27 >= v24 )
            {
              sub_4B0820((int)v5, v19, v17);
              v27 = 0;
            }
            --v16;
          }
          while ( v16 );
        }
      }
      else
      {
        v25 = 2 * v4;
        v6 = 2 * (v4 - v3);
        v7 = v25 - v3;
        sub_4B0820((int)v5, v19, v18);
        v8 = v3;
        v9 = v3 - 1;
        if ( v8 )
        {
          v10 = v9 + 1;
          do
          {
            v11 = v21 + v19;
            v19 += v21;
            if ( v7 >= 0 )
            {
              v7 += v6;
              v18 += v20;
            }
            else
            {
              v7 += v25;
            }
            if ( ++v27 >= v24 )
            {
              sub_4B0820((int)v5, v11, v18);
              v27 = 0;
            }
            --v10;
          }
          while ( v10 );
          return 1;
        }
      }
      return 1;
    }
  }
  return result;
}

//----- (0049EFA0) --------------------------------------------------------
int __cdecl sub_49EFA0(int a1, int a2)
{
  return (*(int (__cdecl **)(_DWORD, _DWORD))&byte_5D4594[3798700])(a1, a2);
}

//----- (0049EFC0) --------------------------------------------------------
int __cdecl sub_49EFC0(int a1, int a2)
{
  int result; // eax

  result = a1;
  if ( !**(_DWORD **)&byte_5D4594[3799572]
    || a1 <= *(int *)(*(_DWORD *)&byte_5D4594[3799572] + 28)
    && a1 >= *(int *)(*(_DWORD *)&byte_5D4594[3799572] + 20)
    && a2 >= *(int *)(*(_DWORD *)&byte_5D4594[3799572] + 24)
    && a2 <= *(int *)(*(_DWORD *)&byte_5D4594[3799572] + 32) )
  {
    *(_BYTE *)(a1 + *(_DWORD *)(*(_DWORD *)&byte_5D4594[3798784] + 4 * a2)) = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572]
                                                                                        + 244);
  }
  return result;
}

//----- (0049F010) --------------------------------------------------------
int __cdecl sub_49F010(int a1, int a2)
{
  int result; // eax

  result = a1;
  if ( !**(_DWORD **)&byte_5D4594[3799572]
    || a1 <= *(int *)(*(_DWORD *)&byte_5D4594[3799572] + 28)
    && a1 >= *(int *)(*(_DWORD *)&byte_5D4594[3799572] + 20)
    && a2 >= *(int *)(*(_DWORD *)&byte_5D4594[3799572] + 24)
    && a2 <= *(int *)(*(_DWORD *)&byte_5D4594[3799572] + 32) )
  {
    *(_WORD *)(a1 + a1 + *(_DWORD *)(*(_DWORD *)&byte_5D4594[3798784] + 4 * a2)) = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572]
                                                                                             + 244);
  }
  return result;
}

//----- (0049F060) --------------------------------------------------------
void __cdecl sub_49F060(int a1, int a2, int a3)
{
  int v3; // ecx
  int v4; // edx
  int v5; // edi
  int v6; // esi
  int v7; // ecx
  char v8; // cc
  unsigned int v9; // ecx
  int v10; // eax
  char *v11; // edi
  char v12; // bl
  unsigned int v13; // ecx
  char *v14; // edi
  int v15; // ebx
  int v16; // ebx

  v3 = a3;
  v4 = a1;
  if ( a1 > a3 )
  {
    v4 = a3;
    v3 = a1;
  }
  if ( **(_DWORD **)&byte_5D4594[3799572] )
  {
    v5 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 28);
    if ( v4 > v5 )
      return;
    v6 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 20);
    if ( v3 < v6
      || a2 < *(int *)(*(_DWORD *)&byte_5D4594[3799572] + 24)
      || a2 > *(int *)(*(_DWORD *)&byte_5D4594[3799572] + 32) )
    {
      return;
    }
    if ( v4 < v6 )
      v4 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 20);
    if ( v3 > v5 )
      v3 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 28);
  }
  v7 = v3 - v4;
  v9 = v7 + 1;
  if ( (int)v9 > 0 )
  {
    v10 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 244);
    v11 = (char *)(v4 + *(_DWORD *)(*(_DWORD *)&byte_5D4594[3798784] + 4 * a2));
    v12 = v9;
    v13 = v9 >> 2;
    memset32(v11, v10, v13);
    v14 = &v11[4 * v13];
    v15 = v12 & 3;
    if ( v15 )
    {
      *v14 = v10;
      v16 = v15 - 1;
      if ( v16 )
      {
        v14[1] = v10;
        if ( v16 != 1 )
          v14[2] = v10;
      }
    }
  }
}

//----- (0049F0F0) --------------------------------------------------------
unsigned __int8 *__cdecl sub_49F0F0(int a1, int a2, int a3)
{
  int v3; // ecx
  int v4; // esi
  int v5; // edx
  unsigned __int8 *result; // eax
  int v7; // edx
  int v8; // ecx
  int v9; // esi
  int v10; // ecx
  unsigned __int8 v11; // [esp+10h] [ebp+4h]

  v3 = a1;
  v4 = a3;
  if ( a1 > a3 )
  {
    v3 = a3;
    v4 = a1;
  }
  if ( **(_DWORD **)&byte_5D4594[3799572] )
  {
    v5 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 28);
    result = *(unsigned __int8 **)(*(_DWORD *)&byte_5D4594[3799572] + 20);
    if ( v3 > v5
      || v4 < (int)result
      || a2 < *(int *)(*(_DWORD *)&byte_5D4594[3799572] + 24)
      || a2 > *(int *)(*(_DWORD *)&byte_5D4594[3799572] + 32) )
    {
      return result;
    }
    if ( v3 < (int)result )
      v3 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 20);
    if ( v4 > v5 )
      v4 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 28);
  }
  v7 = v3;
  result = (unsigned __int8 *)(v3 + *(_DWORD *)(*(_DWORD *)&byte_5D4594[3798784] + 4 * a2));
  v8 = v3 + 1;
  if ( v7 <= v4 )
  {
    v11 = *(_BYTE *)(*(_DWORD *)&byte_5D4594[3799572] + 244);
    v9 = v4 - v8 + 2;
    do
    {
      v10 = *result++ << 8;
      --v9;
      *(result - 1) = *(_BYTE *)(v11 + v10 + *(_DWORD *)&byte_5D4594[810632]);
    }
    while ( v9 );
  }
  return result;
}

//----- (0049F180) --------------------------------------------------------
void __cdecl sub_49F180(int a1, int a2, int a3)
{
  int v3; // ecx
  int v4; // edx
  int v5; // edi
  int v6; // esi
  int v7; // ecx
  char v8; // cc
  unsigned int v9; // ecx
  int v10; // eax
  int v11; // edi
  char v12; // cf
  int v13; // ecx

  v3 = a3;
  v4 = a1;
  if ( a1 > a3 )
  {
    v4 = a3;
    v3 = a1;
  }
  if ( **(_DWORD **)&byte_5D4594[3799572] )
  {
    v5 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 28);
    if ( v4 > v5 )
      return;
    v6 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 20);
    if ( v3 < v6
      || a2 < *(int *)(*(_DWORD *)&byte_5D4594[3799572] + 24)
      || a2 > *(int *)(*(_DWORD *)&byte_5D4594[3799572] + 32) )
    {
      return;
    }
    if ( v4 < v6 )
      v4 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 20);
    if ( v3 > v5 )
      v3 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 28);
  }
  v7 = v3 - v4;
  v9 = v7 + 1;
  if ((int)v9 > 0)
  {
    v10 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 244);
    v11 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3798784] + 4 * a2) + 2 * v4;
    if ( !(v11 & 2) || (*(_WORD *)v11 = v10, v11 += 2, --v9, v9) )
    {
      v12 = v9 & 1;
      v13 = v9 >> 1;
      if ( v13 )
      {
        do
        {
          *(_DWORD *)v11 = v10;
          v11 += 4;
          v8 = v13-- <= 1;
        }
        while ( !v8 );
      }
      if ( v12 )
        *(_WORD *)v11 = v10;
    }
  }
}

__int16 __cdecl sub_49F210(int a1, int a2, int a3)
{
	DebugBreak();
	return 0;
}
#if 0
//----- (0049F210) --------------------------------------------------------
__int16 __cdecl sub_49F210(int a1, int a2, int a3)
{
  int v3; // ecx
  int v4; // edx
  int v5; // eax
  int v6; // edi
  int v7; // esi
  int v8; // ecx
  int v9; // ecx
  __m64 v10; // mm4
  __m64 v11; // mm4
  __m64 v12; // mm5
  __m64 v13; // mm6
  __m64 *v14; // edi
  __m64 v15; // mm4
  __m64 v16; // mm0
  __m64 v17; // mm1
  __m64 v18; // mm2
  __m64 v19; // mm0
  char v20; // cc
  _WORD *v21; // edi
  int v22; // ecx
  _WORD *v23; // edi
  __m64 v25; // [esp+Ch] [ebp-8h]

  v3 = a3;
  v4 = a1;
  if ( a1 > a3 )
  {
    LOWORD(v5) = a1;
    v4 = a3;
    v3 = a1;
  }
  if ( **(_DWORD **)&byte_5D4594[3799572] )
  {
    v6 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 28);
    if ( v4 > v6 )
      return v5;
    v7 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 20);
    if ( v3 < v7 )
      return v5;
    v5 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 24);
    if ( a2 < v5 )
      return v5;
    v5 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 32);
    if ( a2 > v5 )
      return v5;
    if ( v4 < v7 )
      v4 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 20);
    if ( v3 > v6 )
      v3 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 28);
  }
  v8 = v3 - v4;
  v20 = (v8 + 1 < 0) ^ __OFADD__(1, v8) | (v8 == -1);
  v9 = v8 + 1;
  if ( !v20 )
  {
    v10 = _mm_cvtsi32_si64(*(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 244));
    v11 = _m_por(_m_psllqi(v10, 0x20u), v10);
    v12 = _m_psrlw(_m_pand(v11, *(__m64 *)&byte_5D4594[3804404]), *(__m64 *)&byte_5D4594[3804452]);
    v13 = _m_psllw(_m_pand(v11, *(__m64 *)&byte_5D4594[3804412]), *(__m64 *)&byte_5D4594[3804460]);
    v14 = (__m64 *)(*(_DWORD *)(*(_DWORD *)&byte_5D4594[3798784] + 4 * a2) + 2 * v4);
    v15 = _m_psrlw(_m_pand(v11, *(__m64 *)&byte_5D4594[3804396]), *(__m64 *)&byte_5D4594[3804444]);
    while ( 1 )
    {
      v16 = _m_psrlw(_m_pand((__m64)v14->m64_u64, *(__m64 *)&byte_5D4594[3804396]), *(__m64 *)&byte_5D4594[3804444]);
      v17 = _m_psrlw(_m_pand((__m64)v14->m64_u64, *(__m64 *)&byte_5D4594[3804404]), *(__m64 *)&byte_5D4594[3804452]);
      v18 = _m_psllw(_m_pand((__m64)v14->m64_u64, *(__m64 *)&byte_5D4594[3804412]), *(__m64 *)&byte_5D4594[3804460]);
      v19 = _m_por(
              _m_por(
                _m_pand(
                  _m_psllw(_m_paddw(v16, _m_psrlwi(_m_psubw(v15, v16), 1u)), *(__m64 *)&byte_5D4594[3804444]),
                  *(__m64 *)&byte_5D4594[3804396]),
                _m_pand(
                  _m_psllw(_m_paddw(v17, _m_psrlwi(_m_psubw(v12, v17), 1u)), *(__m64 *)&byte_5D4594[3804452]),
                  *(__m64 *)&byte_5D4594[3804404])),
              _m_psrlw(_m_paddw(v18, _m_psrlwi(_m_psubw(v13, v18), 1u)), *(__m64 *)&byte_5D4594[3804460]));
      v20 = v9 < 4;
      v9 -= 4;
      if ( v20 )
        break;
      v14->m64_u64 = (unsigned __int64)v19;
      ++v14;
      if ( v20 )
        goto LABEL_20;
    }
    v25 = v19;
    LOWORD(v5) = v25.m64_i16[0];
    LOWORD(v14->m64_i32[0]) = v25.m64_i16[0];
    v21 = (_WORD *)((char *)v14->m64_i32 + 2);
    v22 = v9 + 3;
    if ( v22 )
    {
      LOWORD(v5) = v25.m64_i16[1];
      *v21 = v25.m64_i16[1];
      v23 = v21 + 1;
      if ( v22 != 1 )
      {
        LOWORD(v5) = v25.m64_i16[2];
        *v23 = v25.m64_i16[2];
      }
    }
  }
LABEL_20:
  _m_femms();
  return v5;
}
#endif
//----- (0049F3A0) --------------------------------------------------------
void __cdecl sub_49F3A0(int a1, int a2, int a3)
{
  int v3; // ecx
  int v4; // edx
  int v5; // edi
  int v6; // esi
  int v7; // ecx
  char v8; // cc
  int v9; // ecx
  char v10; // al
  _DWORD *v11; // esi
  _BYTE *v12; // edi

  v3 = a3;
  v4 = a2;
  if ( a2 > a3 )
  {
    v4 = a3;
    v3 = a2;
  }
  if ( **(_DWORD **)&byte_5D4594[3799572] )
  {
    v5 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 32);
    if ( v4 > v5 )
      return;
    v6 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 24);
    if ( v3 < v6
      || a1 < *(int *)(*(_DWORD *)&byte_5D4594[3799572] + 20)
      || a1 > *(int *)(*(_DWORD *)&byte_5D4594[3799572] + 28) )
    {
      return;
    }
    if ( v4 < v6 )
      v4 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 24);
    if ( v3 > v5 )
      v3 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 32);
  }
  v7 = v3 - v4;
  v9 = v7 + 1;
  if ( (int)v9 > 0 )
  {
    v10 = *(_BYTE *)(*(_DWORD *)&byte_5D4594[3799572] + 244);
    v11 = (_DWORD *)(*(_DWORD *)&byte_5D4594[3798784] + 4 * v4);
    do
    {
      v12 = (_BYTE *)(a1 + *v11);
      ++v11;
      *v12 = v10;
      v8 = v9-- <= 1;
    }
    while ( !v8 );
  }
}

//----- (0049F420) --------------------------------------------------------
void __cdecl sub_49F420(int a1, int a2, int a3)
{
  int v3; // ecx
  int v4; // edx
  int v5; // edi
  int v6; // esi
  int v7; // ecx
  char v8; // cc
  int v9; // ecx
  __int16 v10; // ax
  _DWORD *v11; // esi
  _WORD *v12; // edi

  v3 = a3;
  v4 = a2;
  if ( a2 > a3 )
  {
    v4 = a3;
    v3 = a2;
  }
  if ( **(_DWORD **)&byte_5D4594[3799572] )
  {
    v5 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 32);
    if ( v4 > v5 )
      return;
    v6 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 24);
    if ( v3 < v6
      || a1 < *(int *)(*(_DWORD *)&byte_5D4594[3799572] + 20)
      || a1 > *(int *)(*(_DWORD *)&byte_5D4594[3799572] + 28) )
    {
      return;
    }
    if ( v4 < v6 )
      v4 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 24);
    if ( v3 > v5 )
      v3 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 32);
  }
  v7 = v3 - v4;
  v9 = v7 + 1;
  if ( (int)v9 > 0 )
  {
    v10 = *(_WORD *)(*(_DWORD *)&byte_5D4594[3799572] + 244);
    v11 = (_DWORD *)(*(_DWORD *)&byte_5D4594[3798784] + 4 * v4);
    do
    {
      v12 = (_WORD *)(2 * a1 + *v11);
      ++v11;
      *v12 = v10;
      v8 = v9-- <= 1;
    }
    while ( !v8 );
  }
}

//----- (0049F4A0) --------------------------------------------------------
BOOL sub_49F4A0()
{
  *(_DWORD *)&byte_5D4594[1305724] = 32;
  *(_DWORD *)&byte_5D4594[3798692] = 0;
  *(_DWORD *)&byte_5D4594[3798696] = calloc(0x20u, 8u);
  return *(_DWORD *)&byte_5D4594[3798696] != 0;
}

//----- (0049F4D0) --------------------------------------------------------
LPVOID sub_49F4D0()
{
  LPVOID result; // eax

  result = *(LPVOID *)&byte_5D4594[3798696];
  if ( *(_DWORD *)&byte_5D4594[3798696] )
  {
    free(*(LPVOID *)&byte_5D4594[3798696]);
    *(_DWORD *)&byte_5D4594[3798696] = 0;
    *(_DWORD *)&byte_5D4594[3798692] = 0;
  }
  return result;
}

//----- (0049F500) --------------------------------------------------------
int __cdecl sub_49F500(int a1, int a2)
{
  if ( *(_DWORD *)&byte_5D4594[3798692] >= *(int *)&byte_5D4594[1305724] )
  {
    *(_DWORD *)&byte_5D4594[1305724] += 16;
    *(_DWORD *)&byte_5D4594[3798696] = realloc(*(LPVOID *)&byte_5D4594[3798696], 8 * *(_DWORD *)&byte_5D4594[1305724]);
  }
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[3798696] + 8 * *(_DWORD *)&byte_5D4594[3798692]) = a1;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[3798696] + 8 * *(_DWORD *)&byte_5D4594[3798692] + 4) = a2;
  return ++*(_DWORD *)&byte_5D4594[3798692];
}

//----- (0049F570) --------------------------------------------------------
int __cdecl sub_49F570(int a1, int a2)
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[3798692];
  if ( *(_DWORD *)&byte_5D4594[3798692] )
    result = sub_49F500(
               a1 + *(_DWORD *)(*(_DWORD *)&byte_5D4594[3798696] + 8 * *(_DWORD *)&byte_5D4594[3798692] - 8),
               a2 + *(_DWORD *)(*(_DWORD *)&byte_5D4594[3798696] + 8 * *(_DWORD *)&byte_5D4594[3798692] - 4));
  return result;
}

//----- (0049F5A0) --------------------------------------------------------
void sub_49F5A0()
{
  *(_DWORD *)&byte_5D4594[3798692] = 0;
}

//----- (0049F5B0) --------------------------------------------------------
int __cdecl sub_49F5B0(_DWORD *a1, _DWORD *a2, int a3)
{
  int v3; // ecx

  if ( *(int *)&byte_5D4594[3798692] <= 0 )
    return 0;
  v3 = --*(_DWORD *)&byte_5D4594[3798692];
  if ( a1 )
    *a1 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3798696] + 8 * v3);
  if ( a2 )
    *a2 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3798696] + 8 * *(_DWORD *)&byte_5D4594[3798692] + 4);
  if ( a3 )
    ++*(_DWORD *)&byte_5D4594[3798692];
  return 1;
}

//----- (0049F610) --------------------------------------------------------
int sub_49F610()
{
  **(_DWORD **)&byte_5D4594[3799572] = 0;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 36) = 0;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 4) = 0;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 40) = 0;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 8) = 0;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 44) = *(_DWORD *)&byte_5D4594[3801784];
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 12) = *(_DWORD *)&byte_5D4594[3801784];
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 48) = *(_DWORD *)&byte_5D4594[3801788];
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 16) = *(_DWORD *)&byte_5D4594[3801788];
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 20) = 0;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 24) = 0;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 28) = *(_DWORD *)&byte_5D4594[3801784] - 1;
  *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 32) = *(_DWORD *)&byte_5D4594[3801788] - 1;
  *(_DWORD *)&byte_5D4594[1305748] = 0;
  return 1;
}

//----- (0049F6D0) --------------------------------------------------------
int __cdecl sub_49F6D0(int a1)
{
  int result; // eax

  result = **(_DWORD **)&byte_5D4594[3799572];
  **(_DWORD **)&byte_5D4594[3799572] = a1;
  return result;
}

//----- (0049F6E0) --------------------------------------------------------
int sub_49F6E0()
{
  return **(_DWORD **)&byte_5D4594[3799572];
}

//----- (0049F6F0) --------------------------------------------------------
int4 *__cdecl sub_49F6F0(int xLeft, int yTop, int a3, int a4)
{
  int4 *result; // eax
  RECT rcSrc; // [esp+0h] [ebp-20h]
  RECT rc; // [esp+10h] [ebp-10h]

  SetRect(&rc, xLeft, yTop, xLeft + a3, yTop + a4);
  result = sub_49F930((int4 *)&rcSrc, (int4 *)&rc, (int4 *)(*(_DWORD *)&byte_5D4594[3799572] + 36));
  if ( result )
  {
    CopyRect((LPRECT)(*(_DWORD *)&byte_5D4594[3799572] + 4), &rcSrc);
    --rcSrc.right;
    --rcSrc.bottom;
    result = (int4 *)CopyRect((LPRECT)(*(_DWORD *)&byte_5D4594[3799572] + 20), &rcSrc);
  }
  return result;
}

//----- (0049F780) --------------------------------------------------------
int4 *__cdecl sub_49F780(int xLeft, int a2)
{
  int v2; // esi
  int v3; // eax

  v2 = xLeft;
  if ( xLeft < *(int *)(*(_DWORD *)&byte_5D4594[3799572] + 4) )
    v2 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 4);
  v3 = a2;
  if ( a2 > *(int *)(*(_DWORD *)&byte_5D4594[3799572] + 12) )
    v3 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 12);
  return sub_49F6F0(
           v2,
           *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 8),
           v3 - v2,
           *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 16) - *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 8));
}

//----- (0049F7C0) --------------------------------------------------------
int4 *__cdecl sub_49F7C0(int a1)
{
  int v1; // eax

  v1 = a1;
  if ( a1 > *(int *)(*(_DWORD *)&byte_5D4594[3799572] + 16) )
    v1 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 16);
  return sub_49F6F0(
           *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 4),
           *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 8),
           *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 12) - *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 4),
           v1 - *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 8));
}

//----- (0049F7F0) --------------------------------------------------------
int sub_49F7F0()
{
  int result; // eax
  int v1; // edx

  result = *(_DWORD *)&byte_5D4594[1305748];
  if ( !*(_DWORD *)&byte_5D4594[1305748] )
  {
    *(_DWORD *)&byte_5D4594[1305772] = **(_DWORD **)&byte_5D4594[3799572];
    result = *(_DWORD *)&byte_5D4594[3799572] + 20;
    *(_DWORD *)&byte_5D4594[1305756] = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 4);
    *(_DWORD *)&byte_5D4594[1305760] = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 8);
    *(_DWORD *)&byte_5D4594[1305764] = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 12);
    *(_DWORD *)&byte_5D4594[1305768] = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 16);
    *(_DWORD *)&byte_5D4594[1305732] = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 20);
    *(_DWORD *)&byte_5D4594[1305736] = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 24);
    *(_DWORD *)&byte_5D4594[1305740] = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 28);
    v1 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 32);
    *(_DWORD *)&byte_5D4594[1305748] = 1;
    *(_DWORD *)&byte_5D4594[1305744] = v1;
  }
  return result;
}

//----- (0049F860) --------------------------------------------------------
int sub_49F860()
{
  int result; // eax
  _DWORD *v1; // edx
  _DWORD *v2; // edx

  result = *(_DWORD *)&byte_5D4594[1305748];
  if ( *(_DWORD *)&byte_5D4594[1305748] )
  {
    **(_DWORD **)&byte_5D4594[3799572] = *(_DWORD *)&byte_5D4594[1305772];
    v1 = (_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 4);
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 4) = *(_DWORD *)&byte_5D4594[1305756];
    v1[1] = *(_DWORD *)&byte_5D4594[1305760];
    v1[2] = *(_DWORD *)&byte_5D4594[1305764];
    v1[3] = *(_DWORD *)&byte_5D4594[1305768];
    v2 = (_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 20);
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 20) = *(_DWORD *)&byte_5D4594[1305732];
    v2[1] = *(_DWORD *)&byte_5D4594[1305736];
    result = *(_DWORD *)&byte_5D4594[1305740];
    v2[2] = *(_DWORD *)&byte_5D4594[1305740];
    v2[3] = *(_DWORD *)&byte_5D4594[1305744];
    *(_DWORD *)&byte_5D4594[1305748] = 0;
  }
  return result;
}

//----- (0049F8E0) --------------------------------------------------------
BOOL __cdecl sub_49F8E0(int a1, int a2, int a3)
{
  return a1 - a3 < *(int *)(*(_DWORD *)&byte_5D4594[3799572] + 4)
      || a3 + a1 >= *(int *)(*(_DWORD *)&byte_5D4594[3799572] + 12)
      || a2 - a3 < *(int *)(*(_DWORD *)&byte_5D4594[3799572] + 8)
      || a3 + a2 >= *(int *)(*(_DWORD *)&byte_5D4594[3799572] + 16);
}

//----- (0049F930) --------------------------------------------------------
int4 *__cdecl sub_49F930(int4 *a1, int4 *a2, int4 *a3)
{
  int v3; // ecx
  int v4; // edx
  int v5; // ebx
  int v6; // edi
  int4 *result; // eax

  v3 = a3->field_0;
  if ( a2->field_0 >= a3->field_0 )
    v3 = a2->field_0;
  v4 = a3->field_8;
  if ( a2->field_8 <= v4 )
    v4 = a2->field_8;
  if ( v3 >= v4 )
    return 0;
  v5 = a3->field_4;
  if ( a2->field_4 >= v5 )
    v5 = a2->field_4;
  v6 = a3->field_C;
  if ( a2->field_C <= v6 )
    v6 = a2->field_C;
  if ( v5 >= v6 )
    return 0;
  result = a1;
  a1->field_0 = v3;
  a1->field_4 = v5;
  a1->field_8 = v4;
  a1->field_C = v6;
  return result;
}

//----- (0049F990) --------------------------------------------------------
int __cdecl sub_49F990(int *a1, int *a2, int *a3, int *a4)
{
  int v4; // ebx
  int v5; // edi
  int v6; // esi
  int v7; // ecx
  int v8; // ebp
  int v9; // eax
  int v10; // edx
  int v12; // eax
  int v13; // eax
  int v14; // edx
  int v15; // eax
  int v16; // eax
  int v17; // eax
  int v18; // edx
  int v19; // eax
  int v20; // [esp+10h] [ebp-14h]
  int v21; // [esp+10h] [ebp-14h]
  int v22; // [esp+14h] [ebp-10h]
  int v23; // [esp+18h] [ebp-Ch]
  int v24; // [esp+1Ch] [ebp-8h]
  int v25; // [esp+20h] [ebp-4h]

  v4 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 20);
  v24 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 32);
  v23 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 24);
  v5 = *a2;
  v25 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 28);
  v6 = *a3;
  v7 = *a1;
  v8 = *a4;
  v9 = 0;
  if ( *a1 >= v4 )
  {
    if ( v7 > *(int *)(*(_DWORD *)&byte_5D4594[3799572] + 28) )
      v9 = 2;
  }
  else
  {
    v9 = 1;
  }
  if ( v5 >= v23 )
  {
    if ( v5 > v24 )
      LOBYTE(v9) = v9 | 4;
  }
  else
  {
    LOBYTE(v9) = v9 | 8;
  }
  v22 = 0;
  if ( v6 >= v4 )
  {
    if ( v6 > v25 )
      v22 = 2;
  }
  else
  {
    v22 = 1;
  }
  if ( v8 >= v23 )
  {
    if ( v8 <= v24 )
      goto LABEL_18;
    v10 = v22 | 4;
  }
  else
  {
    v10 = v22 | 8;
  }
  v22 = v10;
LABEL_18:
  if ( !(v9 | v22) )
    return 1;
  if ( v9 & v22 )
    return 0;
  if ( v9 )
  {
    if ( v9 & 8 )
    {
      if ( v8 == v5 )
        return 0;
      v12 = (v23 - v5) * (v6 - v7) / (v8 - v5);
      v5 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 24);
      v7 += v12;
    }
    else if ( v9 & 4 )
    {
      if ( v8 == v5 )
        return 0;
      v13 = (v24 - v5) * (v6 - v7) / (v8 - v5);
      v5 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 32);
      v7 += v13;
    }
    if ( v7 <= v25 )
    {
      if ( v7 < v4 )
      {
        if ( v6 == v7 )
          return 0;
        v15 = (v4 - v7) * (v8 - v5) / (v6 - v7);
        v7 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 20);
        v5 += v15;
      }
    }
    else
    {
      v20 = v6 - v7;
      if ( v6 == v7 )
        return 0;
      v14 = v25 - v7;
      v7 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 28);
      v5 += v14 * (v8 - v5) / v20;
    }
  }
  if ( v22 )
  {
    if ( v22 & 8 )
    {
      if ( v8 == v5 )
        return 0;
      v16 = (v6 - v7) * (v23 - v8) / (v8 - v5);
      v8 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 24);
      v6 += v16;
    }
    else if ( v22 & 4 )
    {
      if ( v8 == v5 )
        return 0;
      v17 = (v6 - v7) * (v24 - v8) / (v8 - v5);
      v8 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 32);
      v6 += v17;
    }
    if ( v6 <= v25 )
    {
      if ( v6 < v4 )
      {
        if ( v6 == v7 )
          return 0;
        v19 = (v4 - v6) * (v8 - v5) / (v6 - v7);
        v6 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 20);
        v8 += v19;
      }
    }
    else
    {
      v21 = v6 - v7;
      if ( v6 == v7 )
        return 0;
      v18 = v25 - v6;
      v6 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 28);
      v8 += v18 * (v8 - v5) / v21;
    }
  }
  *a1 = v7;
  *a2 = v5;
  *a3 = v6;
  *a4 = v8;
  if ( v7 >= v4 && v7 <= v25 && v5 >= v23 && v5 <= v24 && v6 >= v4 && v6 <= v25 && v8 >= v23 && v8 <= v24 )
    return 1;
  return 0;
}

//----- (0049FC20) --------------------------------------------------------
int __cdecl sub_49FC20(int *a1, int *a2, int *a3, int *a4)
{
  int v4; // ebx
  int v5; // eax
  int v6; // ebp
  int v7; // edi
  int v8; // ecx
  int v9; // esi
  int v11; // eax
  int v12; // eax
  int v13; // eax
  int v14; // eax
  int v15; // [esp+10h] [ebp-Ch]
  int v16; // [esp+14h] [ebp-8h]
  int v17; // [esp+18h] [ebp-4h]

  if ( **(_DWORD **)&byte_5D4594[3799572] )
  {
    v4 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 24);
    v5 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 32);
    v15 = *(_DWORD *)(*(_DWORD *)&byte_5D4594[3799572] + 32);
  }
  else
  {
    v4 = 0;
    v5 = *(_DWORD *)&byte_5D4594[3801788] - 1;
    v15 = *(_DWORD *)&byte_5D4594[3801788] - 1;
  }
  v16 = 0;
  v6 = *a1;
  v7 = *a3;
  v8 = *a2;
  v9 = *a4;
  if ( *a2 >= v4 )
  {
    if ( v8 > v5 )
      v16 = 4;
  }
  else
  {
    v16 = 8;
  }
  v17 = 0;
  if ( v9 >= v4 )
  {
    if ( v9 > v5 )
      v17 = 4;
  }
  else
  {
    v17 = 8;
  }
  if ( v17 & v16 )
    return 0;
  if ( v16 )
  {
    if ( v16 & 8 )
    {
      if ( v9 == v8 )
        return 0;
      v11 = (v4 - v8) * (v7 - v6) / (v9 - v8);
      v8 = v4;
      v6 += v11;
    }
    else if ( v16 & 4 )
    {
      if ( v9 == v8 )
        return 0;
      v12 = (v15 - v8) * (v7 - v6) / (v9 - v8);
      v8 = v15;
      v6 += v12;
    }
  }
  if ( v17 )
  {
    if ( v17 & 8 )
    {
      if ( v9 == v8 )
        return 0;
      v13 = (v7 - v6) * (v4 - v9) / (v9 - v8);
      v9 = v4;
      v7 += v13;
    }
    else if ( v17 & 4 )
    {
      if ( v9 == v8 )
        return 0;
      v14 = (v7 - v6) * (v15 - v9) / (v9 - v8);
      v9 = v15;
      v7 += v14;
    }
  }
  *a1 = v6;
  *a2 = v8;
  *a3 = v7;
  *a4 = v9;
  return 1;
}

//----- (0049FDB0) --------------------------------------------------------
void __cdecl sub_49FDB0(int a1)
{
  unsigned __int8 *v1; // ebx
  int j; // esi
  int v3; // eax
  unsigned __int8 *v4; // ebx
  int i; // esi
  int v6; // eax
  int v7; // [esp+0h] [ebp-90h]
  char v8[140]; // [esp+4h] [ebp-8Ch]

  if ( !*(_DWORD *)&byte_5D4594[1305788] )
  {
    if ( sub_43AF70() )
    {
      v7 = 0;
      if ( *(_DWORD *)&byte_587000[4 * a1 + 166016] > 0 )
      {
        v4 = &byte_587000[80 * a1 + 166032];
        do
        {
          for ( i = 0; i < (char)*v4; ++i )
          {
            v6 = 8 * (12 * a1 + (char)v4[i + 1]);
            sub_420DA0(*(float *)&byte_587000[v6 + 165360], *(float *)&byte_587000[v6 + 165364]);
          }
          strcpy(&v8[4], *((const char **)v4 + 3));
          sub_4211D0((int)v8);
          sub_4214D0();
          v4 += 16;
          ++v7;
        }
        while ( v7 < *(int *)&byte_587000[4 * a1 + 166016] );
      }
    }
    else
    {
      v1 = &byte_587000[165744];
      do
      {
        for ( j = 0; j < (char)*v1; ++j )
        {
          v3 = 8 * (char)v1[j + 1];
          sub_420DA0(*(float *)&byte_587000[v3 + 165104], *(float *)&byte_587000[v3 + 165108]);
        }
        strcpy(&v8[4], *((const char **)v1 + 3));
        sub_4211D0((int)v8);
        sub_4214D0();
        v1 += 16;
      }
      while ( (int)v1 < (int)&byte_587000[166016] );
    }
    *(_DWORD *)&byte_5D4594[1305788] = 1;
  }
}

//----- (0049FF20) --------------------------------------------------------
_DWORD *sub_49FF20()
{
  _DWORD *result; // eax

  result = *(_DWORD **)&byte_5D4594[1305788];
  if ( *(_DWORD *)&byte_5D4594[1305788] )
  {
    result = sub_421B10();
    *(_DWORD *)&byte_5D4594[1305788] = 0;
  }
  return result;
}

//----- (0049FF40) --------------------------------------------------------
char *__cdecl sub_49FF40(__int16 *a1)
{
  int v1; // edx
  struc_19 *v2; // eax
  char *result; // eax
  int2 v4; // [esp+0h] [ebp-8h]

  v1 = a1[1] + 10;
  v4.field_0 = *a1 + 10;
  v4.field_4 = v1;
  v2 = sub_4217B0(&v4, 0);
  if ( v2 || (v2 = (struc_19 *)sub_421990(&v4, 100.0, 0)) != 0 )
    result = (char *)&v2->field_0[1];
  else
    result = *(char **)&byte_587000[165756];
  return result;
}

//----- (0049FFA0) --------------------------------------------------------
int *__cdecl sub_49FFA0(int a1)
{
  int *result; // eax
  int *v2; // esi
  int *v3; // edi

  if ( !*(_DWORD *)&byte_5D4594[1305808] )
    sub_425760(&byte_5D4594[1305796]);
  result = sub_425890((int *)&byte_5D4594[1305796]);
  v2 = result;
  if ( result )
  {
    do
    {
      v3 = sub_4258A0(v2);
      sub_425920((_DWORD **)v2);
      if ( a1 )
        sub_46C4E0((_DWORD *)v2[7]);
      free(v2);
      v2 = v3;
    }
    while ( v3 );
    *(_DWORD *)&byte_5D4594[1305808] = 1;
  }
  else
  {
    *(_DWORD *)&byte_5D4594[1305808] = 1;
  }
  return result;
}

//----- (004A0020) --------------------------------------------------------
char *sub_4A0020()
{
  return (char *)&byte_5D4594[1305796];
}

//----- (004A0030) --------------------------------------------------------
int __cdecl sub_4A0030(const void *a1)
{
  _DWORD *v1; // ebx
  int v2; // esi
  int *v3; // edi
  int v5; // ecx
  wchar_t *v6; // ebp
  wchar_t *v7; // eax
  wchar_t *v8; // ebp
  wchar_t *v9; // eax

  v1 = calloc(1u, 0xA9u);
  qmemcpy(v1, a1, 0xA9u);
  v2 = 0;
  switch ( *(_DWORD *)&byte_587000[166704] )
  {
    case 0:
      if ( *(unsigned __int8 **)&byte_5D4594[1305800] == &byte_5D4594[1305796] )
        return sub_425790((int *)&byte_5D4594[1305796], v1);
      v3 = sub_425890((int *)&byte_5D4594[1305796]);
      if ( !v3 )
        goto LABEL_6;
      do
      {
        if ( _strcmpi((const char *)v1 + 120, (const char *)v3 + 120) <= 0 )
          goto LABEL_24;
        ++v2;
        v3 = sub_4258A0(v3);
      }
      while ( v3 );
      goto LABEL_6;
    case 1:
      if ( *(unsigned __int8 **)&byte_5D4594[1305800] == &byte_5D4594[1305796] )
        return sub_425790((int *)&byte_5D4594[1305796], v1);
      v3 = sub_425890((int *)&byte_5D4594[1305796]);
      if ( !v3 )
        goto LABEL_6;
      while ( _strcmpi((const char *)v1 + 120, (const char *)v3 + 120) < 0 )
      {
        ++v2;
        v3 = sub_4258A0(v3);
        if ( !v3 )
          goto LABEL_6;
      }
      goto LABEL_24;
    case 2:
      v5 = *((unsigned __int8 *)v1 + 103);
      goto LABEL_29;
    case 3:
      v1[2] = 32 - *((unsigned __int8 *)v1 + 103);
      return sub_425790((int *)&byte_5D4594[1305796], v1);
    case 4:
      if ( *(unsigned __int8 **)&byte_5D4594[1305800] == &byte_5D4594[1305796] )
        return sub_425790((int *)&byte_5D4594[1305796], v1);
      v6 = sub_43BCB0(*(_WORD *)((char *)v1 + 163));
      v3 = sub_425890((int *)&byte_5D4594[1305796]);
      if ( !v3 )
        goto LABEL_6;
      while ( 1 )
      {
        v7 = sub_43BCB0(*(_WORD *)((char *)v3 + 163));
        if ( nox_wcscmp(v6, v7) <= 0 )
          goto LABEL_24;
        ++v2;
        v3 = sub_4258A0(v3);
        if ( !v3 )
          goto LABEL_6;
      }
    case 5:
      if ( *(unsigned __int8 **)&byte_5D4594[1305800] == &byte_5D4594[1305796] )
        return sub_425790((int *)&byte_5D4594[1305796], v1);
      v8 = sub_43BCB0(*(_WORD *)((char *)v1 + 163));
      v3 = sub_425890((int *)&byte_5D4594[1305796]);
      if ( !v3 )
        goto LABEL_6;
      break;
    case 6:
      v5 = v1[24];
      goto LABEL_29;
    case 7:
      v1[2] = 1000 - v1[24];
      return sub_425790((int *)&byte_5D4594[1305796], v1);
    case 8:
      v5 = v1[25] & 0x30;
LABEL_29:
      v1[2] = v5;
      return sub_425790((int *)&byte_5D4594[1305796], v1);
    case 9:
      v1[2] = 48 - (v1[25] & 0x30);
      return sub_425790((int *)&byte_5D4594[1305796], v1);
    default:
      return 0;
  }
  while ( 1 )
  {
    v9 = sub_43BCB0(*(_WORD *)((char *)v3 + 163));
    if ( nox_wcscmp(v8, v9) >= 0 )
      break;
    ++v2;
    v3 = sub_4258A0(v3);
    if ( !v3 )
    {
LABEL_6:
      sub_4258E0((int)&byte_5D4594[1305796], v1);
      return v2;
    }
  }
LABEL_24:
  sub_4258E0((int)v3, v1);
  return v2;
}

//----- (004A0290) --------------------------------------------------------
int __cdecl sub_4A0290(int a1)
{
  int result; // eax

  result = a1 - 10047;
  switch ( a1 )
  {
    case 10047:
      result = *(_DWORD *)&byte_587000[166704];
      *(_DWORD *)&byte_587000[166704] = *(_DWORD *)&byte_587000[166704] == 0;
      break;
    case 10048:
      *(_DWORD *)&byte_587000[166704] = (*(_DWORD *)&byte_587000[166704] == 2) + 2;
      break;
    case 10049:
      result = (*(_DWORD *)&byte_587000[166704] == 4) + 4;
      *(_DWORD *)&byte_587000[166704] = (*(_DWORD *)&byte_587000[166704] == 4) + 4;
      break;
    case 10050:
      *(_DWORD *)&byte_587000[166704] = (*(_DWORD *)&byte_587000[166704] == 6) + 6;
      break;
    case 10051:
      *(_DWORD *)&byte_587000[166704] = (*(_DWORD *)&byte_587000[166704] == 8) + 8;
      break;
    default:
      return result;
  }
  return result;
}

//----- (004A0330) --------------------------------------------------------
int __cdecl sub_4A0330(int *a1)
{
  int v1; // esi
  int *i; // eax

  v1 = 0;
  for ( i = sub_425890((int *)&byte_5D4594[1305796]); i; i = sub_4258A0(i) )
  {
    if ( i == a1 )
      break;
    ++v1;
  }
  return v1;
}

//----- (004A0360) --------------------------------------------------------
int *sub_4A0360()
{
  int *result; // eax
  int *i; // esi

  result = sub_425890((int *)&byte_5D4594[1305796]);
  for ( i = result; result; i = result )
  {
    sub_43B7C0((int)i);
    result = sub_4258A0(i);
  }
  return result;
}

//----- (004A0390) --------------------------------------------------------
int *sub_4A0390()
{
  _DWORD *v0; // ecx
  int *v1; // esi
  int *v2; // edi
  int v4; // [esp+0h] [ebp-Ch]
  _DWORD *v5; // [esp+4h] [ebp-8h]

  sub_425760(&v4);
  v0 = *(_DWORD **)&byte_5D4594[1305800];
  v4 = *(_DWORD *)&byte_5D4594[1305796];
  v5 = *(_DWORD **)&byte_5D4594[1305800];
  if ( *(_DWORD *)&byte_5D4594[1305796] )
  {
    *(_DWORD *)(*(_DWORD *)&byte_5D4594[1305796] + 4) = &v4;
    v0 = v5;
  }
  if ( v0 )
    *v0 = &v4;
  sub_425760(&byte_5D4594[1305796]);
  v1 = sub_425890(&v4);
  if ( v1 )
  {
    do
    {
      v2 = sub_4258A0(v1);
      sub_4A0030(v1);
      v1 = v2;
    }
    while ( v2 );
  }
  return sub_4A0360();
}

//----- (004A0410) --------------------------------------------------------
int __cdecl sub_4A0410(const char *a1, __int16 a2)
{
  int *v2; // edi

  v2 = sub_425890((int *)&byte_5D4594[1305796]);
  if ( !v2 )
    return 1;
  while ( strcmp(a1, (const char *)v2 + 12) || a2 != *(_WORD *)((char *)v2 + 109) )
  {
    v2 = sub_4258A0(v2);
    if ( !v2 )
      return 1;
  }
  return 0;
}

//----- (004A0490) --------------------------------------------------------
int *__cdecl sub_4A0490(int a1)
{
  int *result; // eax

  result = sub_425890((int *)&byte_5D4594[1305796]);
  if ( !result )
    return 0;
  while ( result[9] != a1 )
  {
    result = sub_4258A0(result);
    if ( !result )
      return 0;
  }
  return result;
}

//----- (004A04C0) --------------------------------------------------------
int *__cdecl sub_4A04C0(int a1)
{
  int v1; // esi
  int *result; // eax

  v1 = 0;
  result = sub_425890((int *)&byte_5D4594[1305796]);
  if ( !result )
    return 0;
  while ( a1 != v1 )
  {
    ++v1;
    result = sub_4258A0(result);
    if ( !result )
      return 0;
  }
  return result;
}

//----- (004A04F0) --------------------------------------------------------
int *__cdecl sub_4A04F0(char *a1)
{
  int *v1; // esi

  v1 = sub_425890((int *)&byte_5D4594[1305796]);
  if ( !v1 )
    return 0;
  while ( _strcmpi((const char *)(v1[8] + 52), a1) )
  {
    v1 = sub_4258A0(v1);
    if ( !v1 )
      return 0;
  }
  return v1;
}

//----- (004A0540) --------------------------------------------------------
void __cdecl sub_4A0540(LPVOID lpMem)
{
  sub_425920((_DWORD **)lpMem);
  sub_46C4E0(*((_DWORD **)lpMem + 7));
  free(lpMem);
}

//----- (004A0560) --------------------------------------------------------
int sub_4A0560()
{
  return *(_DWORD *)&byte_587000[166704];
}

//----- (004A0570) --------------------------------------------------------
int __cdecl sub_4A0570(int *a1, char *a2)
{
  char *v2; // eax
  char *v3; // eax
  char *v4; // eax
  int v6; // [esp+0h] [ebp-8h]
  int v7; // [esp+4h] [ebp-4h]

  v2 = strtok(a2, (const char *)&byte_587000[167520]);
  LOBYTE(v7) = atoi(v2);
  v3 = strtok(0, (const char *)&byte_587000[167528]);
  LOBYTE(v6) = atoi(v3);
  v4 = strtok(0, (const char *)&byte_587000[167536]);
  LOBYTE(a2) = atoi(v4);
  *a1 = sub_4344A0(v7, v6, (int)a2);
  return 1;
}
// 4A05C7: variable 'v7' is possibly undefined
// 4A05C7: variable 'v6' is possibly undefined

//----- (004A05E0) --------------------------------------------------------
int __cdecl sub_4A05E0(int *a1, FILE *a2, char *a3)
{
  int result; // eax

  fscanf(a2, (const char *)&byte_587000[167544]);
  sub_57BBC0(a2, (int)a3, 256);
  if ( !strcmp(a3, (const char *)&byte_587000[167548]) )
  {
    result = 1;
    *a1 = 2147483648;
  }
  else
  {
    sub_4A0570(a1, a3);
    result = 1;
  }
  return result;
}

//----- (004A0650) --------------------------------------------------------
int __cdecl sub_4A0650(int a1, char *a2)
{
  if ( strcmp(a2, (const char *)&byte_587000[167560]) )
    return sub_4A0570((int *)(a1 + 20), a2);
  *(_DWORD *)(a1 + 20) = 2147483648;
  return 1;
}

//----- (004A0690) --------------------------------------------------------
int __cdecl sub_4A0690(int a1, char *a2)
{
  if ( strcmp(a2, (const char *)&byte_587000[167572]) )
    return sub_4A0570((int *)(a1 + 28), a2);
  *(_DWORD *)(a1 + 28) = 2147483648;
  return 1;
}

//----- (004A06D0) --------------------------------------------------------
int __cdecl sub_4A06D0(int a1, char *a2)
{
  if ( strcmp(a2, (const char *)&byte_587000[167584]) )
    return sub_4A0570((int *)(a1 + 44), a2);
  *(_DWORD *)(a1 + 44) = 2147483648;
  return 1;
}

//----- (004A0710) --------------------------------------------------------
int __cdecl sub_4A0710(int a1, char *a2)
{
  if ( strcmp(a2, (const char *)&byte_587000[167596]) )
    return sub_4A0570((int *)(a1 + 36), a2);
  *(_DWORD *)(a1 + 36) = 2147483648;
  return 1;
}

//----- (004A0750) --------------------------------------------------------
int __cdecl sub_4A0750(int a1, char *a2)
{
  if ( strcmp(a2, (const char *)&byte_587000[167608]) )
    return sub_4A0570((int *)(a1 + 52), a2);
  *(_DWORD *)(a1 + 52) = 2147483648;
  return 1;
}

//----- (004A0790) --------------------------------------------------------
int __cdecl sub_4A0790(int a1, char *a2)
{
  if ( strcmp(a2, (const char *)&byte_587000[167620]) )
    return sub_4A0570((int *)(a1 + 68), a2);
  *(_DWORD *)(a1 + 68) = 2147483648;
  return 1;
}

//----- (004A07D0) --------------------------------------------------------
int __cdecl sub_4A07D0(int a1, char *a2)
{
  int v2; // eax

  v2 = sub_43F360(a2);
  if ( !v2 )
    return 0;
  *(_DWORD *)(a1 + 200) = v2;
  return 1;
}

//----- (004A0800) --------------------------------------------------------
int __cdecl sub_4A0800(wchar_t *a1, char *a2)
{
  wchar_t *v2; // eax

  v2 = sub_40F1D0(a2, 0, (const char *)&byte_587000[167632], 267);
  sub_46B000(a1, v2);
  return 1;
}

//----- (004A0830) --------------------------------------------------------
int __cdecl sub_4A0830(int a1, char *a2)
{
  char *v2; // eax
  char *v3; // eax

  v2 = strtok(a2, (const char *)&byte_587000[167680]);
  *(_DWORD *)(a1 + 60) = atoi(v2);
  v3 = strtok(0, (const char *)&byte_587000[167688]);
  *(_DWORD *)(a1 + 64) = atoi(v3);
  return 1;
}

//----- (004A0870) --------------------------------------------------------
int __cdecl sub_4A0870(int a1, char *a2)
{
  char *v2; // eax

  v2 = strtok(a2, (const char *)&byte_587000[167696]);
  if ( !strcmp(v2, (const char *)&byte_587000[167700]) )
    *(_DWORD *)(a1 + 24) = 0;
  else
    *(_DWORD *)(a1 + 24) = sub_42F970(v2);
  return 1;
}

//----- (004A08C0) --------------------------------------------------------
int __cdecl sub_4A08C0(int a1, char *a2)
{
  char *v2; // eax

  v2 = strtok(a2, (const char *)&byte_587000[167708]);
  if ( !strcmp(v2, (const char *)&byte_587000[167712]) )
    *(_DWORD *)(a1 + 32) = 0;
  else
    *(_DWORD *)(a1 + 32) = sub_42F970(v2);
  return 1;
}

//----- (004A0910) --------------------------------------------------------
int __cdecl sub_4A0910(int a1, char *a2)
{
  char *v2; // eax

  v2 = strtok(a2, (const char *)&byte_587000[167720]);
  if ( !strcmp(v2, (const char *)&byte_587000[167724]) )
    *(_DWORD *)(a1 + 48) = 0;
  else
    *(_DWORD *)(a1 + 48) = sub_42F970(v2);
  return 1;
}

//----- (004A0960) --------------------------------------------------------
int __cdecl sub_4A0960(int a1, char *a2)
{
  char *v2; // eax

  v2 = strtok(a2, (const char *)&byte_587000[167732]);
  if ( !strcmp(v2, (const char *)&byte_587000[167736]) )
    *(_DWORD *)(a1 + 56) = 0;
  else
    *(_DWORD *)(a1 + 56) = sub_42F970(v2);
  return 1;
}

//----- (004A09B0) --------------------------------------------------------
int __cdecl sub_4A09B0(int a1, char *a2)
{
  char *v2; // eax

  v2 = strtok(a2, (const char *)&byte_587000[167744]);
  if ( !strcmp(v2, (const char *)&byte_587000[167748]) )
    *(_DWORD *)(a1 + 40) = 0;
  else
    *(_DWORD *)(a1 + 40) = sub_42F970(v2);
  return 1;
}

//----- (004A0A00) --------------------------------------------------------
int __cdecl sub_4A0A00(int a1, const char *a2)
{
  *(_DWORD *)(a1 + 12) = 0;
  sub_423930(a2, (_DWORD *)(a1 + 12), (const char **)&byte_587000[166712]);
  return 1;
}

//----- (004A0A30) --------------------------------------------------------
int __cdecl sub_4A0A30(int a1, const char *a2)
{
  *(_DWORD *)(a1 + 8) = 0;
  sub_423930(a2, (_DWORD *)(a1 + 8), (const char **)&byte_587000[166780]);
  return 1;
}

//----- (004A0A60) --------------------------------------------------------
int __cdecl sub_4A0A60(int a1, char *a2)
{
  char *v2; // eax

  v2 = strtok(a2, (const char *)&byte_587000[167756]);
  *(_DWORD *)(a1 + 4) = atoi(v2);
  return 1;
}

//----- (004A0A90) --------------------------------------------------------
int __cdecl sub_4A0A90(int a1, char *a2)
{
  wchar_t *v2; // eax

  v2 = sub_40F1D0(a2, 0, (const char *)&byte_587000[167760], 424);
  nox_wcsncpy((wchar_t *)(a1 + 72), v2, 0x3Fu);
  *(_WORD *)(a1 + 196) = 0;
  return 1;
}

//----- (004A0AD0) --------------------------------------------------------
_DWORD *__cdecl sub_4A0AD0(const char *a1, int (*a2)(int,int,int,int))
{
  FILE *v2; // ebx
  int v3; // eax
  _DWORD *v4; // esi
  char v6[256]; // [esp+Ch] [ebp-100h]

  strcpy(v6, "window\\");
  memset(&v6[8], 0, 0xF8u);
  sub_4A0CF0();
  sub_4A0D10();
  strcat(v6, a1);
  v2 = fopen(v6, "r");
  if ( !v2 )
    return 0;
  while ( fscanf(v2, "%s", &byte_5D4594[1306948]) != -1
       && strcmp((const char *)&byte_5D4594[1306948], (const char *)&byte_587000[167824]) )
  {
    if ( !strcmp((const char *)&byte_5D4594[1306948], (const char *)&byte_587000[167828]) )
    {
      v3 = sub_4A05E0((int *)&byte_5D4594[1307264], v2, (char *)&byte_5D4594[1306948]);
LABEL_16:
      if ( !v3 )
        break;
    }
    else
    {
      if ( !strcmp((const char *)&byte_5D4594[1306948], (const char *)&byte_587000[167844]) )
      {
        v3 = sub_4A05E0((int *)&byte_5D4594[1307268], v2, (char *)&byte_5D4594[1306948]);
        goto LABEL_16;
      }
      if ( !strcmp((const char *)&byte_5D4594[1306948], (const char *)&byte_587000[167860]) )
      {
        v3 = sub_4A05E0((int *)&byte_5D4594[1307276], v2, (char *)&byte_5D4594[1306948]);
        goto LABEL_16;
      }
      if ( !strcmp((const char *)&byte_5D4594[1306948], (const char *)&byte_587000[167872]) )
      {
        v3 = sub_4A05E0((int *)&byte_5D4594[1307280], v2, (char *)&byte_5D4594[1306948]);
        goto LABEL_16;
      }
      if ( !strcmp((const char *)&byte_5D4594[1306948], (const char *)&byte_587000[167888]) )
      {
        v3 = sub_4A05E0((int *)&byte_5D4594[1307284], v2, (char *)&byte_5D4594[1306948]);
        goto LABEL_16;
      }
      if ( !strcmp((const char *)&byte_5D4594[1306948], (const char *)&byte_587000[167900]) )
      {
        v3 = sub_4A05E0((int *)&byte_5D4594[1307272], v2, (char *)&byte_5D4594[1306948]);
        goto LABEL_16;
      }
      if ( !strcmp((const char *)&byte_5D4594[1306948], (const char *)&byte_587000[167916]) )
      {
        if ( !sub_4A0D40((int *)&byte_5D4594[1307288], v2, (char *)&byte_5D4594[1306948]) )
          break;
      }
      else if ( !strcmp((const char *)&byte_5D4594[1306948], (const char *)&byte_587000[167924]) )
      {
        v4 = sub_4A0D80(v2, (char *)&byte_5D4594[1306948], a2);
        fclose(v2);
        return v4;
      }
    }
  }
  fclose(v2);
  return 0;
}

//----- (004A0CF0) --------------------------------------------------------
int sub_4A0CF0()
{
  int result; // eax

  result = 0;
  memset(&byte_5D4594[1307208], 0, 0x28u);
  *(_DWORD *)&byte_5D4594[1307204] = &byte_5D4594[1307208];
  return result;
}

//----- (004A0D10) --------------------------------------------------------
int sub_4A0D10()
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[2650656];
  *(_DWORD *)&byte_5D4594[1307288] = 0;
  *(_DWORD *)&byte_5D4594[1307264] = *(_DWORD *)&byte_5D4594[2650656];
  *(_DWORD *)&byte_5D4594[1307268] = *(_DWORD *)&byte_5D4594[2650656];
  *(_DWORD *)&byte_5D4594[1307272] = *(_DWORD *)&byte_5D4594[2650656];
  *(_DWORD *)&byte_5D4594[1307276] = *(_DWORD *)&byte_5D4594[2650656];
  *(_DWORD *)&byte_5D4594[1307280] = *(_DWORD *)&byte_5D4594[2650656];
  *(_DWORD *)&byte_5D4594[1307284] = *(_DWORD *)&byte_5D4594[2650656];
  return result;
}

//----- (004A0D40) --------------------------------------------------------
BOOL __cdecl sub_4A0D40(int *a1, FILE *a2, char *a3)
{
  int v3; // eax

  fscanf(a2, (const char *)&byte_587000[167932]);
  sub_57BBC0(a2, (int)a3, 256);
  v3 = sub_43F360(a3);
  *a1 = v3;
  return v3 != 0;
}

//----- (004A0D80) --------------------------------------------------------
_DWORD *__cdecl sub_4A0D80(FILE *a1, char *a2, int (*a3)(int,int,int,int))
{
  int v3; // eax
  char *v4; // eax
  char *v5; // eax
  char *v6; // eax
  char *v7; // eax
  char *v8; // eax
  char *v9; // eax
  unsigned __int8 *v10; // edi
  int v11; // eax
  _DWORD *v12; // eax
  _DWORD *v14; // [esp+10h] [ebp-1A8h]
  float *v15; // [esp+14h] [ebp-1A4h]
  int v16; // [esp+18h] [ebp-1A0h]
  wchar_t *v17; // [esp+1Ch] [ebp-19Ch]
  int v18; // [esp+20h] [ebp-198h]
  int v19; // [esp+24h] [ebp-194h]
  int v20; // [esp+28h] [ebp-190h]
  char v21[64]; // [esp+2Ch] [ebp-18Ch]
  char v22[332]; // [esp+6Ch] [ebp-14Ch]

  *(_DWORD *)v22 = 0;
  memset(&v22[4], 0, 0x148u);
  *(_DWORD *)&v22[28] = *(_DWORD *)&byte_5D4594[1307264];
  *(_DWORD *)&v22[36] = *(_DWORD *)&byte_5D4594[1307276];
  v3 = *(_DWORD *)&byte_5D4594[1307288];
  *(_DWORD *)&v22[44] = *(_DWORD *)&byte_5D4594[1307268];
  *(_DWORD *)&v22[20] = *(_DWORD *)&byte_5D4594[1307272];
  v14 = 0;
  v15 = 0;
  *(_DWORD *)&v22[52] = *(_DWORD *)&byte_5D4594[1307280];
  *(_DWORD *)&v22[68] = *(_DWORD *)&byte_5D4594[1307284];
  if ( !*(_DWORD *)&byte_5D4594[1307288] )
  {
    if ( *(_DWORD *)&byte_5D4594[815132] )
      v3 = sub_43F360((char *)&byte_587000[167936]);
    else
      v3 = sub_43F360((char *)&byte_587000[167944]);
  }
  *(_DWORD *)&v22[200] = v3;
  sub_57BBC0(a1, (int)a2, 256);
  //OutputDebugStringA(a2);
  //OutputDebugStringA("\n");
  v4 = strtok(a2, (const char *)&byte_587000[167952]);
  v18 = atoi(v4);
  v5 = strtok(0, (const char *)&byte_587000[167960]);
  v17 = (wchar_t *)atoi(v5);
  v6 = strtok(0, (const char *)&byte_587000[167968]);
  v16 = atoi(v6);
  v7 = strtok(0, (const char *)&byte_587000[167976]);
  v20 = atoi(v7);
  v8 = strtok(0, (const char *)&byte_587000[167984]);
  v19 = atoi(v8);
  v9 = strtok(0, (const char *)&byte_587000[167992]);
  strncpy(v21, v9, 0x3Fu);
  while ( 1 )
  {
    while ( 1 )
    {
      do
      {
        fscanf(a1, (const char *)&byte_587000[168000], a2);
		//OutputDebugStringA(a2);
		//OutputDebugStringA("\n");
        v10 = &byte_587000[166840];
        if ( *(_DWORD *)&byte_587000[166844] )
        {
          while ( strcmp(a2, *(const char **)v10) )
          {
            v11 = *((_DWORD *)v10 + 3);
            v10 += 8;
            if ( !v11 )
              goto LABEL_11;
          }
          fscanf(a1, (const char *)&byte_587000[168004]);
          sub_57BBC0(a1, (int)a2, 256);
		  //OutputDebugStringA(a2);
		  //OutputDebugStringA("\n");
          if ( !(*((int (__cdecl **)(char *, char *))v10 + 1))(v22, a2) )
            return 0;
        }
LABEL_11:
        ;
      }
      while ( *((_DWORD *)v10 + 1) );
      if ( strcmp(a2, (const char *)&byte_587000[168008]) )
        break;
      fscanf(a1, (const char *)&byte_587000[168016]);
      sub_57BBC0(a1, (int)a2, 256);
	  //OutputDebugStringA(a2);
	  //OutputDebugStringA("\n");
      if ( !sub_4A10A0(&v15, v21, a2) )
        return 0;
    }
    if ( !strcmp(a2, (const char *)&byte_587000[168020]) )
      break;
    if ( !strcmp(a2, (const char *)&byte_587000[168024]) )
    {
      v12 = sub_4A1440(v21, v18, *(int *)&v22[12], v17, v16, v20, v19, v22, v15, a3);
      v14 = v12;
      if ( !v12 || !sub_4A1780((int)v12, a1, a2) )
        return 0;
    }
    else
    {
      sub_57BBC0(a1, (int)a2, 256);
	  //OutputDebugStringA(a2);
	  //OutputDebugStringA("\n");
    }
  }
  if ( !v14 )
    v14 = sub_4A1440(v21, v18, *(int *)&v22[12], v17, v16, v20, v19, v22, v15, a3);
  return v14;
}

//----- (004A10A0) --------------------------------------------------------
int __cdecl sub_4A10A0(_DWORD *a1, const char *a2, char *a3)
{
  char *v3; // eax
  char *v4; // eax
  char *v5; // eax
  char *v6; // eax
  char *v7; // eax
  char *v8; // eax
  char *v9; // eax
  int result; // eax
  char *v11; // eax
  char *v12; // eax
  char *v13; // eax
  char *v14; // eax
  const char *v15; // esi
  char *v16; // eax
  char *v17; // eax
  char *v18; // eax
  char *v19; // eax
  char *v20; // eax
  char *v21; // eax

  if ( !strcmp(a2, (const char *)&byte_587000[168032]) || !strcmp(a2, (const char *)&byte_587000[168044]) )
  {
    *(_DWORD *)&byte_5D4594[1305820] = 0;
    *(_DWORD *)&byte_5D4594[1305824] = 0;
    *(_DWORD *)&byte_5D4594[1305828] = 0;
    *(_DWORD *)&byte_5D4594[1305832] = 0;
    v20 = strtok(a3, (const char *)&byte_587000[168056]);
    *(_DWORD *)&byte_5D4594[1305820] = atoi(v20);
    v21 = strtok(0, (const char *)&byte_587000[168064]);
    *(_DWORD *)&byte_5D4594[1305824] = atoi(v21);
    result = 1;
    *a1 = &byte_5D4594[1305820];
  }
  else if ( !strcmp(a2, (const char *)&byte_587000[168072]) )
  {
    memset(&byte_5D4594[1306892], 0, 0x38u);
    v3 = strtok(a3, (const char *)&byte_587000[168088]);
    *(_WORD *)&byte_5D4594[1306892] = atoi(v3);
    v4 = strtok(0, (const char *)&byte_587000[168096]);
    *(_WORD *)&byte_5D4594[1306894] = atoi(v4);
    v5 = strtok(0, (const char *)&byte_587000[168104]);
    *(_DWORD *)&byte_5D4594[1306896] = atoi(v5);
    v6 = strtok(0, (const char *)&byte_587000[168112]);
    *(_DWORD *)&byte_5D4594[1306900] = atoi(v6);
    v7 = strtok(0, (const char *)&byte_587000[168120]);
    *(_DWORD *)&byte_5D4594[1306904] = atoi(v7);
    v8 = strtok(0, (const char *)&byte_587000[168128]);
    *(_DWORD *)&byte_5D4594[1306908] = atoi(v8);
    v9 = strtok(0, (const char *)&byte_587000[168136]);
    *(_DWORD *)&byte_5D4594[1306912] = atoi(v9);
    result = 1;
    *a1 = &byte_5D4594[1306892];
  }
  else if ( !strcmp(a2, (const char *)&byte_587000[168144]) )
  {
    memset(&byte_5D4594[1305836], 0, 0x420u);
    v11 = strtok(a3, (const char *)&byte_587000[168156]);
    *(_WORD *)&byte_5D4594[1306876] = atoi(v11);
    v12 = strtok(0, (const char *)&byte_587000[168164]);
    if ( v12 )
      *(_WORD *)&byte_5D4594[1306878] = atoi(v12);
    else
      *(_WORD *)&byte_5D4594[1306878] = -1;
    v13 = strtok(0, (const char *)&byte_587000[168172]);
    if ( v13 )
    {
      *(_DWORD *)&byte_5D4594[1306860] = atoi(v13);
      *(_DWORD *)&byte_5D4594[1306860] = *(_DWORD *)&byte_5D4594[1306860] != 0;
    }
    else
    {
      *(_DWORD *)&byte_5D4594[1306860] = 0;
    }
    v14 = strtok(0, (const char *)&byte_587000[168180]);
    v15 = v14;
    if ( v14 )
    {
      *(_DWORD *)&byte_5D4594[1306864] = atoi(v14) == 1;
      *(_DWORD *)&byte_5D4594[1306868] = atoi(v15) == 2;
      *(_DWORD *)&byte_5D4594[1306872] = atoi(v15) == 3;
    }
    else
    {
      *(_DWORD *)&byte_5D4594[1306864] = 0;
      *(_DWORD *)&byte_5D4594[1306868] = 0;
      *(_DWORD *)&byte_5D4594[1306872] = 0;
    }
    *a1 = &byte_5D4594[1305836];
    result = 1;
  }
  else if ( !strcmp(a2, (const char *)&byte_587000[168188]) )
  {
    v16 = strtok(a3, (const char *)&byte_587000[168200]);
    *(_DWORD *)&byte_5D4594[1307256] = atoi(v16);
    *(_DWORD *)&byte_5D4594[1307256] = *(_DWORD *)&byte_5D4594[1307256] != 0;
    v17 = strtok(0, (const char *)&byte_587000[168208]);
    *(_DWORD *)&byte_5D4594[1307260] = atoi(v17);
    *(_DWORD *)&byte_5D4594[1307260] = *(_DWORD *)&byte_5D4594[1307260] != 0;
    v18 = strtok(0, (const char *)&byte_587000[168216]);
    *(_DWORD *)&byte_5D4594[1307252] = sub_40F1D0(v18, 0, (const char *)&byte_587000[168224], 542);
    result = 1;
    *a1 = &byte_5D4594[1307252];
  }
  else if ( !strcmp(a2, (const char *)&byte_587000[168272]) )
  {
    v19 = strtok(a3, (const char *)&byte_587000[168284]);
    *(_DWORD *)&byte_5D4594[1305812] = atoi(v19);
    *(_DWORD *)&byte_5D4594[1307256] = *(_DWORD *)&byte_5D4594[1307256] != 0;
    result = 1;
    *a1 = &byte_5D4594[1305812];
  }
  else
  {
    result = 1;
    *a1 = 0;
  }
  return result;
}

//----- (004A1440) --------------------------------------------------------
_DWORD *__cdecl sub_4A1440(const char *a1, int a2, int a3, wchar_t *a4, int a5, int a6, int a7, _DWORD *a8, float *a9, int (*a10)(int,int,int,int))
{
  int v10; // ebx
  _DWORD *v11; // esi
  int v12; // edx

  v10 = sub_4A14F0();
  if ( !strcmp(a1, (const char *)&byte_587000[168292]) )
  {
    v11 = sub_46C3E0(v10, a3, (int)a4, a5, a6, a7, a10);
    v12 = a8[2];
    BYTE1(v12) |= 0x20u;
    a8[2] = v12;
    sub_46AF80((int)v11, a8);
  }
  else
  {
    v11 = sub_4A1510(a1, v10, a3, a4, a5, a6, a7, a8, a9);
  }
  sub_46B080(v11, a2);
  if ( v10 )
    (*(int (__cdecl **)(int, int, int, _DWORD))(v10 + 376))(v10, 22, a2, 0);
  return v11;
}

//----- (004A14F0) --------------------------------------------------------
int sub_4A14F0()
{
  int result; // eax

  if ( *(unsigned __int8 **)&byte_5D4594[1307204] == &byte_5D4594[1307208] )
    result = 0;
  else
    result = *(_DWORD *)(*(_DWORD *)&byte_5D4594[1307204] - 4);
  return result;
}

//----- (004A1510) --------------------------------------------------------
_DWORD *__cdecl sub_4A1510(const char *a1, int a2, int a3, wchar_t *a4, int a5, int a6, int a7, _DWORD *a8, float *a9)
{
  _DWORD *result; // eax
  int v10; // ebx
  int v11; // ebx
  int v12; // ebx
  int v13; // ebx

  a8[4] = a2;
  if ( !strcmp(a1, (const char *)&byte_587000[168300]) )
  {
    a8[2] |= 1u;
    return (_DWORD *)sub_4A91A0(a2, a3, (int)a4, a5, a6, a7, a8);
  }
  if ( !strcmp(a1, (const char *)&byte_587000[168312]) )
  {
    a8[2] |= 2u;
    return (_DWORD *)sub_4A9330(a2, a3, (int)a4, a5, a6, a7, (int)a8, a9);
  }
  if ( !strcmp(a1, (const char *)&byte_587000[168324]) )
  {
    a8[2] |= 4u;
    return (_DWORD *)sub_4A91A0(a2, a3, (int)a4, a5, a6, a7, a8);
  }
  if ( !strcmp(a1, (const char *)&byte_587000[168336]) )
  {
    v10 = a8[2] | 8;
LABEL_9:
    a8[2] = v10;
    return sub_4B4EE0(a2, a3, (int)a4, a5, a6, a7, a8, a9);
  }
  if ( !strcmp(a1, (const char *)&byte_587000[168348]) )
  {
    v10 = a8[2] | 0x10;
    goto LABEL_9;
  }
  if ( !strcmp(a1, (const char *)&byte_587000[168360]) )
  {
    a8[2] |= 0x20u;
    result = sub_4A4310(a2, a3, (int)a4, a5, a6, a7, (int)a8, (__int16 *)a9);
  }
  else if ( !strcmp(a1, (const char *)&byte_587000[168376]) )
  {
    v11 = a8[2];
    LOBYTE(v11) = v11 | 0x80;
    a8[2] = v11;
    result = sub_488500(a2, a3, (int)a4, a5, a6, a7, (int)a8, (wchar_t *)a9);
  }
  else if ( !strcmp(a1, (const char *)&byte_587000[168388]) )
  {
    v12 = a8[2];
    BYTE1(v12) |= 8u;
    a8[2] = v12;
    result = sub_489300(a2, a3, (int)a4, a5, a6, a7, a8, a9);
  }
  else if ( !strcmp(a1, (const char *)&byte_587000[168400]) )
  {
    v13 = a8[2];
    BYTE1(v13) |= 0x10u;
    a8[2] = v13;
    result = sub_4CAF10(a2, a3, (int)a4, a5, a6, a7, a8);
  }
  else
  {
    result = (_DWORD *)a7;
  }
  return result;
}

//----- (004A1780) --------------------------------------------------------
BOOL __cdecl sub_4A1780(int a1, FILE *a2, char *a3)
{
  _DWORD *v3; // eax

  sub_4A18C0(a1);
  while ( fscanf(a2, (const char *)&byte_587000[168412], a3) != -1 && strcmp(a3, (const char *)&byte_587000[168416]) )
  {
    if ( !strcmp(a3, (const char *)&byte_587000[168420]) )
    {
      v3 = (_DWORD *)sub_4A05E0((int *)&byte_5D4594[1307264], a2, a3);
LABEL_14:
      if ( !v3 )
        return 0;
    }
    else
    {
      if ( !strcmp(a3, (const char *)&byte_587000[168436]) )
      {
        v3 = (_DWORD *)sub_4A05E0((int *)&byte_5D4594[1307268], a2, a3);
        goto LABEL_14;
      }
      if ( !strcmp(a3, (const char *)&byte_587000[168452]) )
      {
        v3 = (_DWORD *)sub_4A05E0((int *)&byte_5D4594[1307276], a2, a3);
        goto LABEL_14;
      }
      if ( !strcmp(a3, (const char *)&byte_587000[168464]) )
      {
        v3 = (_DWORD *)sub_4A05E0((int *)&byte_5D4594[1307280], a2, a3);
        goto LABEL_14;
      }
      if ( !strcmp(a3, (const char *)&byte_587000[168480]) )
      {
        v3 = (_DWORD *)sub_4A05E0((int *)&byte_5D4594[1307284], a2, a3);
        goto LABEL_14;
      }
      if ( !strcmp(a3, (const char *)&byte_587000[168492]) )
      {
        v3 = sub_4A0D80(a2, a3, 0);
        goto LABEL_14;
      }
    }
  }
  return sub_4A18A0() == a1;
}

//----- (004A18A0) --------------------------------------------------------
int sub_4A18A0()
{
  if ( *(unsigned __int8 **)&byte_5D4594[1307204] == &byte_5D4594[1307208] )
    return 0;
  *(_DWORD *)&byte_5D4594[1307204] -= 4;
  return **(_DWORD **)&byte_5D4594[1307204];
}

//----- (004A18C0) --------------------------------------------------------
int __cdecl sub_4A18C0(int a1)
{
  int result; // eax

  result = *(_DWORD *)&byte_5D4594[1307204];
  if ( *(unsigned __int8 **)&byte_5D4594[1307204] != &byte_5D4594[1307244] )
  {
    **(_DWORD **)&byte_5D4594[1307204] = a1;
    result = *(_DWORD *)&byte_5D4594[1307204] + 4;
    *(_DWORD *)&byte_5D4594[1307204] += 4;
  }
  return result;
}

//----- (004A18E0) --------------------------------------------------------
int __cdecl sub_4A18E0(int a1, int a2, int a3, int a4)
{
  wchar_t *v5; // eax
  wchar_t *v6; // [esp-10h] [ebp-10h]

  if ( sub_450560() )
    return 1;
  if ( a2 == 21 && a3 == 1 )
  {
    if ( a4 != 2 )
      return 1;
    if ( sub_43BE30() )
    {
LABEL_15:
      if ( sub_4D6F30() )
        sub_4D6F90(2);
      return 1;
    }
    if ( !sub_44A4A0() )
    {
      if ( sub_43BE10() == 10000 )
      {
        sub_4373A0();
      }
      else if ( sub_43BE10() == 100 )
      {
        v6 = sub_40F1D0((char *)&byte_587000[168540], 0, (const char *)&byte_587000[168500], 65);
        v5 = sub_40F1D0((char *)&byte_587000[168608], 0, (const char *)&byte_587000[168568], 64);
        sub_449A10(*(int *)&byte_5D4594[1307292], (int)v5, (int)v6, 56, sub_4A19D0, 0);
      }
      else
      {
        if ( sub_43BE10() == 700 )
          sub_4A7A60(1);
        sub_43C1E0();
      }
      goto LABEL_15;
    }
  }
  return 0;
}
// 4A18E0: using guessed type int __cdecl sub_4A18E0(int, int, int, int);
